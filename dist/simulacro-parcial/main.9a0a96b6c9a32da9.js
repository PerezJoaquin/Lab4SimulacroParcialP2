(self.webpackChunksimulacroParcial=self.webpackChunksimulacroParcial||[]).push([[179],{2313:(en,ke,j)=>{"use strict";j.d(ke,{nm:()=>rr});var D=j(4976),ye=(j(4650),j(3692),j(259),j(5861)),Ne=j(6881),Fe=j(4859),be=j(2090),Ye=j(1877);const he=new Map,ve={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Qe($e){return he.get($e)||Object.assign({},ve)}function mt(){return Me}const Dt="https://content-firebaseappcheck.googleapis.com/v1",De="exchangeDebugToken",kt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ge{constructor(Oe,Le,bt,xt,Tn){if(this.operation=Oe,this.retryPolicy=Le,this.getWaitDuration=bt,this.lowerBound=xt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=xt,xt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Oe){var Le=this;return(0,ye.Z)(function*(){Le.stop();try{Le.pending=new be.BH,yield function pt($e){return new Promise(Oe=>{setTimeout(Oe,$e)})}(Le.getNextRun(Oe)),Le.pending.resolve(),yield Le.pending.promise,Le.pending=new be.BH,yield Le.operation(),Le.pending.resolve(),yield Le.pending.promise,Le.process(!0).catch(()=>{})}catch(bt){Le.retryPolicy(bt)?Le.process(!1).catch(()=>{}):Le.stop()}})()}getNextRun(Oe){if(Oe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Le=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Le}}}const St=new be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n($e,Oe){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,ye.Z)(function*({url:$e,body:Oe},Le){const bt={"Content-Type":"application/json"},xt=Le.getImmediate({optional:!0});if(xt){const Ti=yield xt.getHeartbeatsHeader();Ti&&(bt["X-Firebase-Client"]=Ti)}const Tn={method:"POST",body:JSON.stringify(Oe),headers:bt};let fr,$n;try{fr=yield fetch($e,Tn)}catch(Ti){throw St.create("fetch-network-error",{originalErrorMessage:Ti?.message})}if(200!==fr.status)throw St.create("fetch-status-error",{httpStatus:fr.status});try{$n=yield fr.json()}catch(Ti){throw St.create("fetch-parse-error",{originalErrorMessage:Ti?.message})}const ur=$n.ttl.match(/^([\d.]+)(s)$/);if(!ur||!ur[2]||isNaN(Number(ur[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$n.ttl}`});const Ki=1e3*Number(ur[1]),Oi=Date.now();return{token:$n.token,expireTimeMillis:Oi+Ki,issuedAtTimeMillis:Oi}})).apply(this,arguments)}const It="firebase-app-check-database",jt=1,Tt="firebase-app-check-store";let $t=null;function ir($e,Oe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ye.Z)(function*($e,Oe){const bt=(yield function An(){return $t||($t=new Promise(($e,Oe)=>{try{const Le=indexedDB.open(It,jt);Le.onsuccess=bt=>{$e(bt.target.result)},Le.onerror=bt=>{var xt;Oe(St.create("storage-open",{originalErrorMessage:null===(xt=bt.target.error)||void 0===xt?void 0:xt.message}))},Le.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(Tt,{keyPath:"compositeKey"})}}catch(Le){Oe(St.create("storage-open",{originalErrorMessage:Le?.message}))}}),$t)}()).transaction(Tt,"readwrite"),Tn=bt.objectStore(Tt).put({compositeKey:$e,value:Oe});return new Promise((fr,$n)=>{Tn.onsuccess=ur=>{fr()},bt.onerror=ur=>{var Ki;$n(St.create("storage-set",{originalErrorMessage:null===(Ki=ur.target.error)||void 0===Ki?void 0:Ki.message}))}})})).apply(this,arguments)}const br=new Ye.Yd("@firebase/app-check");function xe($e,Oe){return(0,be.hl)()?function yn($e,Oe){return ir(function cn($e){return`${$e.options.appId}-${$e.name}`}($e),Oe)}($e,Oe).catch(Le=>{br.warn(`Failed to write token to IndexedDB. Error: ${Le}`)}):Promise.resolve()}function Lt(){return xn.apply(this,arguments)}function xn(){return(xn=(0,ye.Z)(function*(){const $e=mt();if($e.enabled&&$e.token)return $e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zn={error:"UNKNOWN_ERROR"};function Mn($e){return be.US.encodeString(JSON.stringify($e),!1)}function Cn($e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,ye.Z)(function*($e,Oe=!1){const Le=$e.app;!function Et($e){if(!Qe($e).activated)throw St.create("use-before-activation",{appName:$e.name})}(Le);const bt=Qe(Le);let Tn,xt=bt.token;if(xt&&!Ln(xt)&&(bt.token=void 0,xt=void 0),!xt){const ur=yield bt.cachedTokenPromise;ur&&(Ln(ur)?xt=ur:yield xe(Le,void 0))}if(!Oe&&xt&&Ln(xt))return{token:xt.token};let $n,fr=!1;if(function Mt(){return mt().enabled}()){bt.exchangeTokenPromise||(bt.exchangeTokenPromise=_n(function ft($e,Oe){const{projectId:Le,appId:bt,apiKey:xt}=$e.options;return{url:`${Dt}/projects/${Le}/apps/${bt}:${De}?key=${xt}`,body:{debug_token:Oe}}}(Le,yield Lt()),$e.heartbeatServiceProvider).finally(()=>{bt.exchangeTokenPromise=void 0}),fr=!0);const ur=yield bt.exchangeTokenPromise;return yield xe(Le,ur),bt.token=ur,{token:ur.token}}try{bt.exchangeTokenPromise||(bt.exchangeTokenPromise=bt.provider.getToken().finally(()=>{bt.exchangeTokenPromise=void 0}),fr=!0),xt=yield Qe(Le).exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?br.warn(ur.message):br.error(ur),Tn=ur}return xt?Tn?$n=Ln(xt)?{token:xt.token,internalError:Tn}:ti(Tn):($n={token:xt.token},bt.token=xt,yield xe(Le,xt)):$n=ti(Tn),fr&&function _r($e,Oe){const Le=Qe($e).tokenObservers;for(const bt of Le)try{"EXTERNAL"===bt.type&&null!=Oe.error?bt.error(Oe.error):bt.next(Oe)}catch{}}(Le,$n),$n})).apply(this,arguments)}function rn($e,Oe){const Le=Qe($e),bt=Le.tokenObservers.filter(xt=>xt.next!==Oe);0===bt.length&&Le.tokenRefresher&&Le.tokenRefresher.isRunning()&&Le.tokenRefresher.stop(),Le.tokenObservers=bt}function Xn($e){const{app:Oe}=$e,Le=Qe(Oe);let bt=Le.tokenRefresher;bt||(bt=function Pr($e){const{app:Oe}=$e;return new Ge((0,ye.Z)(function*(){let bt;if(bt=Qe(Oe).token?yield Cn($e,!0):yield Cn($e),bt.error)throw bt.error;if(bt.internalError)throw bt.internalError}),()=>!0,()=>{const Le=Qe(Oe);if(Le.token){let bt=Le.token.issuedAtTimeMillis+.5*(Le.token.expireTimeMillis-Le.token.issuedAtTimeMillis)+3e5;return bt=Math.min(bt,Le.token.expireTimeMillis-3e5),Math.max(0,bt-Date.now())}return 0},kt.RETRIAL_MIN_WAIT,kt.RETRIAL_MAX_WAIT)}($e),Le.tokenRefresher=bt),!bt.isRunning()&&Le.isTokenAutoRefreshEnabled&&bt.start()}function Ln($e){return $e.expireTimeMillis-Date.now()>0}function ti($e){return{token:Mn(Zn),error:$e}}class er{constructor(Oe,Le){this.app=Oe,this.heartbeatServiceProvider=Le}_delete(){const{tokenObservers:Oe}=Qe(this.app);for(const Le of Oe)rn(this.app,Le.next);return Promise.resolve()}}const At="app-check-internal";!function Wt(){(0,Ne._registerComponent)(new Fe.wA("app-check",$e=>function Ai($e,Oe){return new er($e,Oe)}($e.getProvider("app").getImmediate(),$e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,Oe,Le)=>{$e.getProvider(At).initialize()})),(0,Ne._registerComponent)(new Fe.wA(At,$e=>function Bn($e){return{getToken:Oe=>Cn($e,Oe),addTokenListener:Oe=>function or($e,Oe,Le,bt){const{app:xt}=$e,Tn=Qe(xt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Le,error:bt,type:Oe}],Tn.token&&Ln(Tn.token)){const $n=Tn.token;Promise.resolve().then(()=>{Le({token:$n.token}),Xn($e)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>Xn($e))}($e,"INTERNAL",Oe),removeTokenListener:Oe=>rn($e.app,Oe)}}($e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)("@firebase/app-check","0.7.0")}();class rr{constructor(){return(0,D.vb)("app-check")}}typeof window<"u"&&window},3692:(en,ke,j)=>{"use strict";j.d(ke,{Ot:()=>Ce,ZF:()=>Je,hX:()=>Qe,z6:()=>ye});var D=j(259),a=j(4650),$=j(4976);class Ce{constructor(Ge){return Ge}}class ye{constructor(){return(0,D.C6)()}}const be=new a.OlP("angularfire2._apps"),Ye={provide:Ce,useFactory:function Fe(rt){return rt&&1===rt.length?rt[0]:new Ce((0,D.Mq)())},deps:[[new a.FiY,be]]},he={provide:ye,deps:[[new a.FiY,be]]};function ve(rt){return(Ge,pt)=>{const Rt=Ge.runOutsideAngular(()=>rt(pt));return new Ce(Rt)}}let Me=(()=>{class rt{constructor(pt){(0,D.KN)("angularfire",$.q4.full,"core"),(0,D.KN)("angularfire",$.q4.full,"app"),(0,D.KN)("angular",a.q4F.full,pt.toString())}}return rt.\u0275fac=function(pt){return new(pt||rt)(a.LFG(a.Lbi))},rt.\u0275mod=a.oAB({type:rt}),rt.\u0275inj=a.cJS({providers:[Ye,he]}),rt})();function Qe(rt,...Ge){return{ngModule:Me,providers:[{provide:be,useFactory:ve(rt),multi:!0,deps:[a.R0b,a.zs3,$.HU,...Ge]}]}}const Je=(0,$.u3)(D.ZF,!0)},8314:(en,ke,j)=>{"use strict";j.d(ke,{ST:()=>vn});var D=j(4650),a=j(4986),$=j(9751),Ce=j(8996),ye=j(9646),Ne=j(4976),Fe=j(8675),be=j(4482),Ye=j(5403);function he(){return(0,be.e)((nt,Q)=>{let Y,ae=!1;nt.subscribe((0,Ye.x)(Q,Ue=>{const At=Y;Y=Ue,ae&&Q.next([At,Ue]),ae=!0}))})}var ve=j(4004),Me=j(5026),Qe=j(1884),lt=j(9300),mt=j(2011),Dt=j(6895),_t=(j(9568),j(3942)),De=j(2810),kt=j(2090),rt=j(4859);function Rt(nt,Q){if(void 0===Q)return{merge:!1};if(void 0!==Q.mergeFields&&void 0!==Q.merge)throw new De.WA("invalid-argument",`Invalid options passed to function ${nt}(): You cannot specify both "merge" and "mergeFields".`);return Q}function St(){if(typeof Uint8Array>"u")throw new De.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Be(){if(!(0,De.Me)())throw new De.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Et{constructor(Q){this._delegate=Q}static fromBase64String(Q){return Be(),new Et(De.Jj.fromBase64String(Q))}static fromUint8Array(Q){return St(),new Et(De.Jj.fromUint8Array(Q))}toBase64(){return Be(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(Q){return this._delegate.isEqual(Q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ln(nt){return function Ct(nt,Q){if("object"!=typeof nt||null===nt)return!1;const Y=nt;for(const ae of Q)if(ae in Y&&"function"==typeof Y[ae])return!0;return!1}(nt,["next","error","complete"])}class _n{enableIndexedDbPersistence(Q,Y){return(0,De.ST)(Q._delegate,{forceOwnership:Y})}enableMultiTabIndexedDbPersistence(Q){return(0,De.fH)(Q._delegate)}clearIndexedDbPersistence(Q){return(0,De.Fc)(Q._delegate)}}class Yt{constructor(Q,Y,ae){this._delegate=Y,this._persistenceProvider=ae,this.INTERNAL={delete:()=>this.terminate()},Q instanceof De.l7||(this._appCompat=Q)}get _databaseId(){return this._delegate._databaseId}settings(Q){const Y=this._delegate._getSettings();!Q.merge&&Y.host!==Q.host&&(0,De.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Q.merge&&delete(Q=Object.assign(Object.assign({},Y),Q)).merge,this._delegate._setSettings(Q)}useEmulator(Q,Y,ae={}){(0,De.at)(this._delegate,Q,Y,ae)}enableNetwork(){return(0,De.Ix)(this._delegate)}disableNetwork(){return(0,De.TF)(this._delegate)}enablePersistence(Q){let Y=!1,ae=!1;return Q&&(Y=!!Q.synchronizeTabs,ae=!!Q.experimentalForceOwningTab,(0,De.Wi)("synchronizeTabs",Y,"experimentalForceOwningTab",ae)),Y?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ae)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,De.Mx)(this._delegate)}onSnapshotsInSync(Q){return(0,De.sc)(this._delegate,Q)}get app(){if(!this._appCompat)throw new De.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Q){try{return new Jn(this,(0,De.hJ)(this._delegate,Q))}catch(Y){throw qt(Y,"collection()","Firestore.collection()")}}doc(Q){try{return new Tt(this,(0,De.JU)(this._delegate,Q))}catch(Y){throw qt(Y,"doc()","Firestore.doc()")}}collectionGroup(Q){try{return new yt(this,(0,De.B$)(this._delegate,Q))}catch(Y){throw qt(Y,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Q){return(0,De.i3)(this._delegate,Y=>Q(new ft(this,Y)))}batch(){return(0,De.qY)(this._delegate),new It(new De.PU(this._delegate,Q=>(0,De.GL)(this._delegate,Q)))}loadBundle(Q){return(0,De.Pb)(this._delegate,Q)}namedQuery(Q){return(0,De.L$)(this._delegate,Q).then(Y=>Y?new yt(this,Y):null)}}class st extends De.u7{constructor(Q){super(),this.firestore=Q}convertBytes(Q){return new Et(new De.Jj(Q))}convertReference(Q){const Y=this.convertDocumentKey(Q,this.firestore._databaseId);return Tt.forKey(Y,this.firestore,null)}}class ft{constructor(Q,Y){this._firestore=Q,this._delegate=Y,this._userDataWriter=new st(Q)}get(Q){const Y=Sr(Q);return this._delegate.get(Y).then(ae=>new un(this._firestore,new De.xU(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,Y.converter)))}set(Q,Y,ae){const Ue=Sr(Q);return ae?(Rt("Transaction.set",ae),this._delegate.set(Ue,Y,ae)):this._delegate.set(Ue,Y),this}update(Q,Y,ae,...Ue){const At=Sr(Q);return 2===arguments.length?this._delegate.update(At,Y):this._delegate.update(At,Y,ae,...Ue),this}delete(Q){const Y=Sr(Q);return this._delegate.delete(Y),this}}class It{constructor(Q){this._delegate=Q}set(Q,Y,ae){const Ue=Sr(Q);return ae?(Rt("WriteBatch.set",ae),this._delegate.set(Ue,Y,ae)):this._delegate.set(Ue,Y),this}update(Q,Y,ae,...Ue){const At=Sr(Q);return 2===arguments.length?this._delegate.update(At,Y):this._delegate.update(At,Y,ae,...Ue),this}delete(Q){const Y=Sr(Q);return this._delegate.delete(Y),this}commit(){return this._delegate.commit()}}class jt{constructor(Q,Y,ae){this._firestore=Q,this._userDataWriter=Y,this._delegate=ae}fromFirestore(Q,Y){const ae=new De.$q(this._firestore._delegate,this._userDataWriter,Q._key,Q._document,Q.metadata,null);return this._delegate.fromFirestore(new yn(this._firestore,ae),Y??{})}toFirestore(Q,Y){return Y?this._delegate.toFirestore(Q,Y):this._delegate.toFirestore(Q)}static getInstance(Q,Y){const ae=jt.INSTANCES;let Ue=ae.get(Q);Ue||(Ue=new WeakMap,ae.set(Q,Ue));let At=Ue.get(Y);return At||(At=new jt(Q,new st(Q),Y),Ue.set(Y,At)),At}}jt.INSTANCES=new WeakMap;class Tt{constructor(Q,Y){this.firestore=Q,this._delegate=Y,this._userDataWriter=new st(Q)}static forPath(Q,Y,ae){if(Q.length%2!=0)throw new De.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Q.canonicalString()} has ${Q.length}`);return new Tt(Y,new De.my(Y._delegate,ae,new De.Ky(Q)))}static forKey(Q,Y,ae){return new Tt(Y,new De.my(Y._delegate,ae,Q))}get id(){return this._delegate.id}get parent(){return new Jn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Q){try{return new Jn(this.firestore,(0,De.hJ)(this._delegate,Q))}catch(Y){throw qt(Y,"collection()","DocumentReference.collection()")}}isEqual(Q){return(Q=(0,kt.m9)(Q))instanceof De.my&&(0,De.Eo)(this._delegate,Q)}set(Q,Y){Y=Rt("DocumentReference.set",Y);try{return Y?(0,De.pl)(this._delegate,Q,Y):(0,De.pl)(this._delegate,Q)}catch(ae){throw qt(ae,"setDoc()","DocumentReference.set()")}}update(Q,Y,...ae){try{return 1===arguments.length?(0,De.r7)(this._delegate,Q):(0,De.r7)(this._delegate,Q,Y,...ae)}catch(Ue){throw qt(Ue,"updateDoc()","DocumentReference.update()")}}delete(){return(0,De.oe)(this._delegate)}onSnapshot(...Q){const Y=$t(Q),ae=An(Q,Ue=>new un(this.firestore,new De.xU(this.firestore._delegate,this._userDataWriter,Ue._key,Ue._document,Ue.metadata,this._delegate.converter)));return(0,De.cf)(this._delegate,Y,ae)}get(Q){let Y;return Y="cache"===Q?.source?(0,De.kl)(this._delegate):"server"===Q?.source?(0,De.Xk)(this._delegate):(0,De.QT)(this._delegate),Y.then(ae=>new un(this.firestore,new De.xU(this.firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,this._delegate.converter)))}withConverter(Q){return new Tt(this.firestore,this._delegate.withConverter(Q?jt.getInstance(this.firestore,Q):null))}}function qt(nt,Q,Y){return nt.message=nt.message.replace(Q,Y),nt}function $t(nt){for(const Q of nt)if("object"==typeof Q&&!ln(Q))return Q;return{}}function An(nt,Q){var Y,ae;let Ue;return Ue=ln(nt[0])?nt[0]:ln(nt[1])?nt[1]:"function"==typeof nt[0]?{next:nt[0],error:nt[1],complete:nt[2]}:{next:nt[1],error:nt[2],complete:nt[3]},{next:At=>{Ue.next&&Ue.next(Q(At))},error:null===(Y=Ue.error)||void 0===Y?void 0:Y.bind(Ue),complete:null===(ae=Ue.complete)||void 0===ae?void 0:ae.bind(Ue)}}class un{constructor(Q,Y){this._firestore=Q,this._delegate=Y}get ref(){return new Tt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Q){return this._delegate.data(Q)}get(Q,Y){return this._delegate.get(Q,Y)}isEqual(Q){return(0,De.qK)(this._delegate,Q._delegate)}}class yn extends un{data(Q){const Y=this._delegate.data(Q);return(0,De.K9)(void 0!==Y,"Document in a QueryDocumentSnapshot should exist"),Y}}class yt{constructor(Q,Y){this.firestore=Q,this._delegate=Y,this._userDataWriter=new st(Q)}where(Q,Y,ae){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.ar)(Q,Y,ae)))}catch(Ue){throw qt(Ue,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Q,Y){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.Xo)(Q,Y)))}catch(ae){throw qt(ae,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.b9)(Q)))}catch(Y){throw qt(Y,"limit()","Query.limit()")}}limitToLast(Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.vh)(Q)))}catch(Y){throw qt(Y,"limitToLast()","Query.limitToLast()")}}startAt(...Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.e0)(...Q)))}catch(Y){throw qt(Y,"startAt()","Query.startAt()")}}startAfter(...Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.TQ)(...Q)))}catch(Y){throw qt(Y,"startAfter()","Query.startAfter()")}}endBefore(...Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.Lx)(...Q)))}catch(Y){throw qt(Y,"endBefore()","Query.endBefore()")}}endAt(...Q){try{return new yt(this.firestore,(0,De.IO)(this._delegate,(0,De.Wu)(...Q)))}catch(Y){throw qt(Y,"endAt()","Query.endAt()")}}isEqual(Q){return(0,De.iE)(this._delegate,Q._delegate)}get(Q){let Y;return Y="cache"===Q?.source?(0,De.UQ)(this._delegate):"server"===Q?.source?(0,De.zN)(this._delegate):(0,De.PL)(this._delegate),Y.then(ae=>new ir(this.firestore,new De.W(this.firestore._delegate,this._userDataWriter,this._delegate,ae._snapshot)))}onSnapshot(...Q){const Y=$t(Q),ae=An(Q,Ue=>new ir(this.firestore,new De.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ue._snapshot)));return(0,De.cf)(this._delegate,Y,ae)}withConverter(Q){return new yt(this.firestore,this._delegate.withConverter(Q?jt.getInstance(this.firestore,Q):null))}}class Nn{constructor(Q,Y){this._firestore=Q,this._delegate=Y}get type(){return this._delegate.type}get doc(){return new yn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ir{constructor(Q,Y){this._firestore=Q,this._delegate=Y}get query(){return new yt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Q=>new yn(this._firestore,Q))}docChanges(Q){return this._delegate.docChanges(Q).map(Y=>new Nn(this._firestore,Y))}forEach(Q,Y){this._delegate.forEach(ae=>{Q.call(Y,new yn(this._firestore,ae))})}isEqual(Q){return(0,De.qK)(this._delegate,Q._delegate)}}class Jn extends yt{constructor(Q,Y){super(Q,Y),this.firestore=Q,this._delegate=Y}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Q=this._delegate.parent;return Q?new Tt(this.firestore,Q):null}doc(Q){try{return new Tt(this.firestore,void 0===Q?(0,De.JU)(this._delegate):(0,De.JU)(this._delegate,Q))}catch(Y){throw qt(Y,"doc()","CollectionReference.doc()")}}add(Q){return(0,De.ET)(this._delegate,Q).then(Y=>new Tt(this.firestore,Y))}isEqual(Q){return(0,De.Eo)(this._delegate,Q._delegate)}withConverter(Q){return new Jn(this.firestore,this._delegate.withConverter(Q?jt.getInstance(this.firestore,Q):null))}}function Sr(nt){return(0,De.Cf)(nt,De.my)}class Mr{constructor(...Q){this._delegate=new De.Lz(...Q)}static documentId(){return new Mr(De.Xb.keyField().canonicalString())}isEqual(Q){return(Q=(0,kt.m9)(Q))instanceof De.Lz&&this._delegate._internalPath.isEqual(Q._internalPath)}}class cn{constructor(Q){this._delegate=Q}static serverTimestamp(){const Q=(0,De.Bt)();return Q._methodName="FieldValue.serverTimestamp",new cn(Q)}static delete(){const Q=(0,De.AK)();return Q._methodName="FieldValue.delete",new cn(Q)}static arrayUnion(...Q){const Y=(0,De.vr)(...Q);return Y._methodName="FieldValue.arrayUnion",new cn(Y)}static arrayRemove(...Q){const Y=(0,De.Ab)(...Q);return Y._methodName="FieldValue.arrayRemove",new cn(Y)}static increment(Q){const Y=(0,De.nP)(Q);return Y._methodName="FieldValue.increment",new cn(Y)}isEqual(Q){return this._delegate.isEqual(Q._delegate)}}const br={Firestore:Yt,GeoPoint:De.F8,Timestamp:De.EK,Blob:Et,Transaction:ft,WriteBatch:It,DocumentReference:Tt,DocumentSnapshot:un,Query:yt,QueryDocumentSnapshot:yn,QuerySnapshot:ir,CollectionReference:Jn,FieldPath:Mr,FieldValue:cn,setLogLevel:function ot(nt){(0,De.Ub)(nt)},CACHE_SIZE_UNLIMITED:De.IX};!function qe(nt){(function Lr(nt,Q){nt.INTERNAL.registerComponent(new rt.wA("firestore-compat",Y=>{const ae=Y.getProvider("app-compat").getImmediate(),Ue=Y.getProvider("firestore").getImmediate();return Q(ae,Ue)},"PUBLIC").setServiceProps(Object.assign({},br)))})(nt,(Q,Y)=>new Yt(Q,Y,new _n)),nt.registerVersion("@firebase/firestore-compat","0.3.8")}(_t.Z);var xe=j(7579),Ve=j(6451),ze=j(5363),Mt=j(3900),Lt=j(6063);class xn extends xe.x{constructor(Q=1/0,Y=1/0,ae=Lt.l){super(),this._bufferSize=Q,this._windowTime=Y,this._timestampProvider=ae,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Y===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,Y)}next(Q){const{isStopped:Y,_buffer:ae,_infiniteTimeWindow:Ue,_timestampProvider:At,_windowTime:Wt}=this;Y||(ae.push(Q),!Ue&&ae.push(At.now()+Wt)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const Y=this._innerSubscribe(Q),{_infiniteTimeWindow:ae,_buffer:Ue}=this,At=Ue.slice();for(let Wt=0;Wt<At.length&&!Q.closed;Wt+=ae?1:2)Q.next(At[Wt]);return this._checkFinalizedStatuses(Q),Y}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:Y,_buffer:ae,_infiniteTimeWindow:Ue}=this,At=(Ue?1:2)*Q;if(Q<1/0&&At<ae.length&&ae.splice(0,ae.length-At),!Ue){const Wt=Y.now();let gn=0;for(let Kt=1;Kt<ae.length&&ae[Kt]<=Wt;Kt+=2)gn=Kt;gn&&ae.splice(0,gn+1)}}}var Fn=j(3099);function Zn(nt,Q,Y){let ae,Ue=!1;return nt&&"object"==typeof nt?({bufferSize:ae=1/0,windowTime:Q=1/0,refCount:Ue=!1,scheduler:Y}=nt):ae=nt??1/0,(0,Fn.B)({connector:()=>new xn(ae,Q,Y),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var Mn=j(590),Cn=j(576);function Jt(nt,Q){return(0,Cn.m)(Q)?(0,Mt.w)(()=>nt,Q):(0,Mt.w)(()=>nt)}var Ut=j(9468),dr=j(2313);j(9260);const Xn=new D.OlP("angularfire2.auth.use-emulator"),Pr=new D.OlP("angularfire2.auth.settings"),_r=new D.OlP("angularfire2.auth.tenant-id"),Ln=new D.OlP("angularfire2.auth.langugage-code"),ti=new D.OlP("angularfire2.auth.use-device-language"),er=new D.OlP("angularfire.auth.persistence"),Ai=(nt,Q,Y,ae,Ue,At,Wt,gn)=>(0,mt.cc)(`${nt.name}.auth`,"AngularFireAuth",nt.name,()=>{const Kt=Q.runOutsideAngular(()=>nt.auth());if(Y&&Kt.useEmulator(...Y),ae&&(Kt.tenantId=ae),Kt.languageCode=Ue,At&&Kt.useDeviceLanguage(),Wt)for(const[rr,Gn]of Object.entries(Wt))Kt.settings[rr]=Gn;return gn&&Kt.setPersistence(gn),Kt},[Y,ae,Ue,At,Wt,gn]);let Bn=(()=>{class nt{constructor(Y,ae,Ue,At,Wt,gn,Kt,rr,Gn,Dr,di,io){const gs=new xe.x,yi=(0,ye.of)(void 0).pipe((0,ze.Q)(Wt.outsideAngular),(0,Mt.w)(()=>At.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,ve.U)(()=>(0,mt.on)(Y,At,ae)),(0,ve.U)($r=>Ai($r,At,gn,rr,Gn,Dr,Kt,di)),Zn({bufferSize:1,refCount:!1}));if((0,Dt.PM)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ye.of)(null);else{yi.pipe((0,Mn.P)()).subscribe();const Ht=yi.pipe((0,Mt.w)(On=>On.getRedirectResult().then(ri=>ri,()=>null)),Ne.iC,Zn({bufferSize:1,refCount:!1})),Qn=yi.pipe((0,Mt.w)(On=>new $.y(ri=>({unsubscribe:At.runOutsideAngular(()=>On.onAuthStateChanged(Tr=>ri.next(Tr),Tr=>ri.error(Tr),()=>ri.complete()))})))),hr=yi.pipe((0,Mt.w)(On=>new $.y(ri=>({unsubscribe:At.runOutsideAngular(()=>On.onIdTokenChanged(Tr=>ri.next(Tr),Tr=>ri.error(Tr),()=>ri.complete()))}))));this.authState=Ht.pipe(Jt(Qn),(0,Ut.R)(Wt.outsideAngular),(0,ze.Q)(Wt.insideAngular)),this.user=Ht.pipe(Jt(hr),(0,Ut.R)(Wt.outsideAngular),(0,ze.Q)(Wt.insideAngular)),this.idToken=this.user.pipe((0,Mt.w)(On=>On?(0,Ce.D)(On.getIdToken()):(0,ye.of)(null))),this.idTokenResult=this.user.pipe((0,Mt.w)(On=>On?(0,Ce.D)(On.getIdTokenResult()):(0,ye.of)(null))),this.credential=(0,Ve.T)(Ht,gs,this.authState.pipe((0,lt.h)(On=>!On))).pipe((0,ve.U)(On=>On?.user?On:null),(0,Ut.R)(Wt.outsideAngular),(0,ze.Q)(Wt.insideAngular))}return(0,mt.pX)(this,yi,At,{spy:{apply:($r,Ht,Qn)=>{($r.startsWith("signIn")||$r.startsWith("createUser"))&&Qn.then(hr=>gs.next(hr))}}})}}return nt.\u0275fac=function(Y){return new(Y||nt)(D.LFG(mt.Dh),D.LFG(mt.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Ne.HU),D.LFG(Xn,8),D.LFG(Pr,8),D.LFG(_r,8),D.LFG(Ln,8),D.LFG(ti,8),D.LFG(er,8),D.LFG(dr.nm,8))},nt.\u0275prov=D.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})();function lr(nt,Q){return function Br(nt,Q=a.z){return new $.y(Y=>{let ae;return null!=Q?Q.schedule(()=>{ae=nt.onSnapshot({includeMetadataChanges:!0},Y)}):ae=nt.onSnapshot({includeMetadataChanges:!0},Y),()=>{ae?.()}})}(nt,Q)}function ni(nt,Q){return lr(nt,Q).pipe((0,ve.U)(Y=>({payload:Y,type:"query"})))}function Vr(nt,Q){return ni(nt,Q).pipe((0,Fe.O)(void 0),he(),(0,ve.U)(([Y,ae])=>{const Ue=ae.payload.docChanges(),At=Ue.map(Wt=>({type:Wt.type,payload:Wt}));return Y&&JSON.stringify(Y.payload.metadata)!==JSON.stringify(ae.payload.metadata)&&ae.payload.docs.forEach((Wt,gn)=>{const Kt=Ue.find(Gn=>Gn.doc.ref.isEqual(Wt.ref)),rr=Y?.payload.docs.find(Gn=>Gn.ref.isEqual(Wt.ref));Kt&&JSON.stringify(Kt.doc.metadata)===JSON.stringify(Wt.metadata)||!Kt&&rr&&JSON.stringify(rr.metadata)===JSON.stringify(Wt.metadata)||At.push({type:"modified",payload:{oldIndex:gn,newIndex:gn,type:"modified",doc:Wt}})}),At}))}function Kr(nt,Q,Y){return Vr(nt,Y).pipe((0,Me.R)((ae,Ue)=>function Ee(nt,Q,Y){return Q.forEach(ae=>{Y.indexOf(ae.type)>-1&&(nt=function ie(nt,Q){switch(Q.type){case"added":if(!nt[Q.newIndex]||!nt[Q.newIndex].doc.ref.isEqual(Q.doc.ref))return me(nt,Q.newIndex,0,Q);break;case"modified":if(null==nt[Q.oldIndex]||nt[Q.oldIndex].doc.ref.isEqual(Q.doc.ref)){if(Q.oldIndex!==Q.newIndex){const Y=nt.slice();return Y.splice(Q.oldIndex,1),Y.splice(Q.newIndex,0,Q),Y}return me(nt,Q.newIndex,1,Q)}break;case"removed":if(nt[Q.oldIndex]&&nt[Q.oldIndex].doc.ref.isEqual(Q.doc.ref))return me(nt,Q.oldIndex,1)}return nt}(nt,ae))}),nt}(ae,Ue.map(At=>At.payload),Q),[]),(0,Qe.x)(),(0,ve.U)(ae=>ae.map(Ue=>({type:Ue.type,payload:Ue}))))}function me(nt,Q,Y,...ae){const Ue=nt.slice();return Ue.splice(Q,Y,...ae),Ue}function se(nt){return(!nt||0===nt.length)&&(nt=["added","removed","modified"]),nt}class X{constructor(Q,Y,ae){this.ref=Q,this.query=Y,this.afs=ae}stateChanges(Q){let Y=Vr(this.query,this.afs.schedulers.outsideAngular);return Q&&Q.length>0&&(Y=Y.pipe((0,ve.U)(ae=>ae.filter(Ue=>Q.indexOf(Ue.type)>-1)))),Y.pipe((0,Fe.O)(void 0),he(),(0,lt.h)(([ae,Ue])=>Ue.length>0||!ae),(0,ve.U)(([ae,Ue])=>Ue),Ne.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Me.R)((Y,ae)=>[...Y,...ae],[]))}snapshotChanges(Q){const Y=se(Q);return Kr(this.query,Y,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Q={}){return ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(Y=>Y.payload.docs.map(ae=>Q.idField?Object.assign(Object.assign({},ae.data()),{[Q.idField]:ae.id}):ae.data())),Ne.iC)}get(Q){return(0,Ce.D)(this.query.get(Q)).pipe(Ne.iC)}add(Q){return this.ref.add(Q)}doc(Q){return new Se(this.ref.doc(Q),this.afs)}}class Se{constructor(Q,Y){this.ref=Q,this.afs=Y}set(Q,Y){return this.ref.set(Q,Y)}update(Q){return this.ref.update(Q)}delete(){return this.ref.delete()}collection(Q,Y){const ae=this.ref.collection(Q),{ref:Ue,query:At}=vt(ae,Y);return new X(Ue,At,this.afs)}snapshotChanges(){return function nr(nt,Q){return lr(nt,Q).pipe((0,Fe.O)(void 0),he(),(0,ve.U)(([Y,ae])=>ae.exists?Y?.exists?{payload:ae,type:"modified"}:{payload:ae,type:"added"}:{payload:ae,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Q={}){return this.snapshotChanges().pipe((0,ve.U)(({payload:Y})=>Q.idField?Object.assign(Object.assign({},Y.data()),{[Q.idField]:Y.id}):Y.data()))}get(Q){return(0,Ce.D)(this.ref.get(Q)).pipe(Ne.iC)}}class pe{constructor(Q,Y){this.query=Q,this.afs=Y}stateChanges(Q){return Q&&0!==Q.length?Vr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(Y=>Y.filter(ae=>Q.indexOf(ae.type)>-1)),(0,lt.h)(Y=>Y.length>0),Ne.iC):Vr(this.query,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Me.R)((Y,ae)=>[...Y,...ae],[]))}snapshotChanges(Q){const Y=se(Q);return Kr(this.query,Y,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Q={}){return ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(ae=>ae.payload.docs.map(Ue=>Q.idField?Object.assign({[Q.idField]:Ue.id},Ue.data()):Ue.data())),Ne.iC)}get(Q){return(0,Ce.D)(this.query.get(Q)).pipe(Ne.iC)}}const ge=new D.OlP("angularfire2.enableFirestorePersistence"),ce=new D.OlP("angularfire2.firestore.persistenceSettings"),Pe=new D.OlP("angularfire2.firestore.settings"),it=new D.OlP("angularfire2.firestore.use-emulator");function vt(nt,Q=(Y=>Y)){return{query:Q(nt),ref:nt}}let vn=(()=>{class nt{constructor(Y,ae,Ue,At,Wt,gn,Kt,rr,Gn,Dr,di,io,gs,yi,$r,Ht,Qn){this.schedulers=Kt;const hr=(0,mt.on)(Y,gn,ae),On=Gn;Dr&&Ai(hr,gn,di,gs,yi,$r,io,Ht),[this.firestore,this.persistenceEnabled$]=(0,mt.cc)(`${hr.name}.firestore`,"AngularFirestore",hr.name,()=>{const ri=gn.runOutsideAngular(()=>hr.firestore());if(At&&ri.settings(At),On&&ri.useEmulator(...On),Ue&&!(0,Dt.PM)(Wt)){const Tr=()=>{try{return(0,Ce.D)(ri.enablePersistence(rr||void 0).then(()=>!0,()=>!1))}catch(Zi){return typeof console<"u"&&console.warn(Zi),(0,ye.of)(!1)}};return[ri,gn.runOutsideAngular(Tr)]}return[ri,(0,ye.of)(!1)]},[At,On,Ue])}collection(Y,ae){let Ue;Ue="string"==typeof Y?this.firestore.collection(Y):Y;const{ref:At,query:Wt}=vt(Ue,ae),gn=this.schedulers.ngZone.run(()=>At);return new X(gn,Wt,this)}collectionGroup(Y,ae){const Ue=ae||(Wt=>Wt),At=this.firestore.collectionGroup(Y);return new pe(Ue(At),this)}doc(Y){let ae;ae="string"==typeof Y?this.firestore.doc(Y):Y;const Ue=this.schedulers.ngZone.run(()=>ae);return new Se(Ue,this)}createId(){return this.firestore.collection("_").doc().id}}return nt.\u0275fac=function(Y){return new(Y||nt)(D.LFG(mt.Dh),D.LFG(mt.xv,8),D.LFG(ge,8),D.LFG(Pe,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Ne.HU),D.LFG(ce,8),D.LFG(it,8),D.LFG(Bn,8),D.LFG(Xn,8),D.LFG(Pr,8),D.LFG(_r,8),D.LFG(Ln,8),D.LFG(ti,8),D.LFG(er,8),D.LFG(dr.nm,8))},nt.\u0275prov=D.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})()},2011:(en,ke,j)=>{"use strict";j.d(ke,{Dh:()=>Fe,GT:()=>ye,cc:()=>Qe,on:()=>Ye,pX:()=>Ce,xv:()=>be});var D=j(4650),a=j(9260);en=j.hmd(en);const $=["ngOnDestroy"],Ce=(Je,_t,De,kt={})=>new Proxy(Je,{get:(rt,Ge)=>De.runOutsideAngular(()=>{var pt;if(Je[Ge])return!(null===(pt=kt?.spy)||void 0===pt)&&pt.get&&kt.spy.get(Ge,Je[Ge]),Je[Ge];if($.indexOf(Ge)>-1)return()=>{};const Rt=_t.toPromise().then(St=>{const Be=St&&St[Ge];return"function"==typeof Be?Be.bind(St):Be&&Be.then?Be.then(Et=>De.run(()=>Et)):De.run(()=>Be)});return new Proxy(()=>{},{get:(St,Be)=>Rt[Be],apply:(St,Be,Et)=>Rt.then(ln=>{var Ct;const _n=ln&&ln(...Et);return!(null===(Ct=kt?.spy)||void 0===Ct)&&Ct.apply&&kt.spy.apply(Ge,Et,_n),_n})})})}),ye=(Je,_t)=>{_t.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(kt=>{Object.defineProperty(Je.prototype,kt,Object.getOwnPropertyDescriptor(De.prototype||De,kt))})})};class Ne{constructor(_t){return _t}}const Fe=new D.OlP("angularfire2.app.options"),be=new D.OlP("angularfire2.app.name");function Ye(Je,_t,De){const rt="object"==typeof De&&De||{};rt.name=rt.name||"string"==typeof De&&De||"[DEFAULT]";const pt=a.Z.apps.filter(Rt=>Rt&&Rt.name===rt.name)[0]||_t.runOutsideAngular(()=>a.Z.initializeApp(Je,rt));try{JSON.stringify(Je)!==JSON.stringify(pt.options)&&he("error",`${pt.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(pt)}const he=(Je,..._t)=>{(0,D.X6Q)()&&typeof console<"u"&&console[Je](..._t)};function Qe(Je,_t,De,kt,rt){const[,Ge,pt]=globalThis.\u0275AngularfireInstanceCache.find(Rt=>Rt[0]===Je)||[];if(Ge)return function lt(Je,_t){try{return Je.toString()===_t.toString()}catch{return Je===_t}}(rt,pt)||(Dt("error",`${_t} was already initialized on the ${De} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),Dt("warn",{is:rt,was:pt})),Ge;{const Rt=kt();return globalThis.\u0275AngularfireInstanceCache.push([Je,Rt,rt]),Rt}}const mt=!!en.hot,Dt=(Je,..._t)=>{(0,D.X6Q)()&&typeof console<"u"&&console[Je](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(en,ke,j)=>{"use strict";j.d(ke,{q4:()=>cs,iC:()=>Fo,fc:()=>Il,HU:()=>jl,vb:()=>Ru,JM:()=>El,u3:()=>rl});var D=j(4650),a=j(259),$=j(5861),Ce=j(6881),ye=j(2090),Ne=j(4859),Fe=j(1877);const be=(M,F)=>F.some(W=>M instanceof W);let Ye,he;const Qe=new WeakMap,lt=new WeakMap,mt=new WeakMap,Dt=new WeakMap,Je=new WeakMap;let kt={get(M,F,W){if(M instanceof IDBTransaction){if("done"===F)return lt.get(M);if("objectStoreNames"===F)return M.objectStoreNames||mt.get(M);if("store"===F)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Rt(M[F])},set:(M,F,W)=>(M[F]=W,!0),has:(M,F)=>M instanceof IDBTransaction&&("done"===F||"store"===F)||F in M};function pt(M){return"function"==typeof M?function Ge(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...F){return M.apply(St(this),F),Rt(Qe.get(this))}:function(...F){return Rt(M.apply(St(this),F))}:function(F,...W){const fe=M.call(St(this),F,...W);return mt.set(fe,F.sort?F.sort():[F]),Rt(fe)}}(M):(M instanceof IDBTransaction&&function De(M){if(lt.has(M))return;const F=new Promise((W,fe)=>{const Re=()=>{M.removeEventListener("complete",Ae),M.removeEventListener("error",et),M.removeEventListener("abort",et)},Ae=()=>{W(),Re()},et=()=>{fe(M.error||new DOMException("AbortError","AbortError")),Re()};M.addEventListener("complete",Ae),M.addEventListener("error",et),M.addEventListener("abort",et)});lt.set(M,F)}(M),be(M,function ve(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,kt):M)}function Rt(M){if(M instanceof IDBRequest)return function _t(M){const F=new Promise((W,fe)=>{const Re=()=>{M.removeEventListener("success",Ae),M.removeEventListener("error",et)},Ae=()=>{W(Rt(M.result)),Re()},et=()=>{fe(M.error),Re()};M.addEventListener("success",Ae),M.addEventListener("error",et)});return F.then(W=>{W instanceof IDBCursor&&Qe.set(W,M)}).catch(()=>{}),Je.set(F,M),F}(M);if(Dt.has(M))return Dt.get(M);const F=pt(M);return F!==M&&(Dt.set(M,F),Je.set(F,M)),F}const St=M=>Je.get(M),ln=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],_n=new Map;function Yt(M,F){if(!(M instanceof IDBDatabase)||F in M||"string"!=typeof F)return;if(_n.get(F))return _n.get(F);const W=F.replace(/FromIndex$/,""),fe=F!==W,Re=Ct.includes(W);if(!(W in(fe?IDBIndex:IDBObjectStore).prototype)||!Re&&!ln.includes(W))return;const Ae=function(){var et=(0,$.Z)(function*(sn,...nn){const Rn=this.transaction(sn,Re?"readwrite":"readonly");let pr=Rn.store;return fe&&(pr=pr.index(nn.shift())),(yield Promise.all([pr[W](...nn),Re&&Rn.done]))[0]});return function(nn){return et.apply(this,arguments)}}();return _n.set(F,Ae),Ae}!function rt(M){kt=M(kt)}(M=>({...M,get:(F,W,fe)=>Yt(F,W)||M.get(F,W,fe),has:(F,W)=>!!Yt(F,W)||M.has(F,W)}));const st="@firebase/installations",ot="0.6.4",ft=1e4,It=`w:${ot}`,jt="FIS_v2",Tt="https://firebaseinstallations.googleapis.com/v1",qt=36e5,yn=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(M){return M instanceof ye.ZR&&M.code.includes("request-failed")}function Nn({projectId:M}){return`${Tt}/projects/${M}/installations`}function ir(M){return{token:M.token,requestStatus:2,expiresIn:qe(M.expiresIn),creationTime:Date.now()}}function Jn(M,F){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,$.Z)(function*(M,F){const fe=(yield F.json()).error;return yn.create("request-failed",{requestName:M,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function Mr({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function br(M){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,$.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function qe(M){return Number(M.replace("s","000"))}function ze(){return(ze=(0,$.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:W}){const fe=Nn(M),Re=Mr(M),Ae=F.getImmediate({optional:!0});if(Ae){const Rn=yield Ae.getHeartbeatsHeader();Rn&&Re.append("x-firebase-client",Rn)}const sn={method:"POST",headers:Re,body:JSON.stringify({fid:W,authVersion:jt,appId:M.appId,sdkVersion:It})},nn=yield br(()=>fetch(fe,sn));if(nn.ok){const Rn=yield nn.json();return{fid:Rn.fid||W,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:ir(Rn.authToken)}}throw yield Jn("Create Installation",nn)})).apply(this,arguments)}function Mt(M){return new Promise(F=>{setTimeout(F,M)})}const xn=/^[cdef][\w-]{21}$/,Fn="";function Zn(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const W=function Mn(M){return function Lt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return xn.test(W)?W:Fn}catch{return Fn}}function Cn(M){return`${M.appName}!${M.appId}`}const Jt=new Map;function Ut(M,F){const W=Cn(M);rn(W,F),function Xn(M,F){const W=function _r(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=M=>{rn(M.data.key,M.data.fid)}),Pr}();W&&W.postMessage({key:M,fid:F}),function Ln(){0===Jt.size&&Pr&&(Pr.close(),Pr=null)}()}(W,F)}function rn(M,F){const W=Jt.get(M);if(W)for(const fe of W)fe(F)}let Pr=null;const ti="firebase-installations-database",er=1,Ai="firebase-installations-store";let Bn=null;function kr(){return Bn||(Bn=function Be(M,F,{blocked:W,upgrade:fe,blocking:Re,terminated:Ae}={}){const et=indexedDB.open(M,F),sn=Rt(et);return fe&&et.addEventListener("upgradeneeded",nn=>{fe(Rt(et.result),nn.oldVersion,nn.newVersion,Rt(et.transaction))}),W&&et.addEventListener("blocked",()=>W()),sn.then(nn=>{Ae&&nn.addEventListener("close",()=>Ae()),Re&&nn.addEventListener("versionchange",()=>Re())}).catch(()=>{}),sn}(ti,er,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Ai)}})),Bn}function Br(M,F){return lr.apply(this,arguments)}function lr(){return(lr=(0,$.Z)(function*(M,F){const W=Cn(M),Re=(yield kr()).transaction(Ai,"readwrite"),Ae=Re.objectStore(Ai),et=yield Ae.get(W);return yield Ae.put(F,W),yield Re.done,(!et||et.fid!==F.fid)&&Ut(M,F.fid),F})).apply(this,arguments)}function nr(M){return ni.apply(this,arguments)}function ni(){return(ni=(0,$.Z)(function*(M){const F=Cn(M),fe=(yield kr()).transaction(Ai,"readwrite");yield fe.objectStore(Ai).delete(F),yield fe.done})).apply(this,arguments)}function Vr(M,F){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,$.Z)(function*(M,F){const W=Cn(M),Re=(yield kr()).transaction(Ai,"readwrite"),Ae=Re.objectStore(Ai),et=yield Ae.get(W),sn=F(et);return void 0===sn?yield Ae.delete(W):yield Ae.put(sn,W),yield Re.done,sn&&(!et||et.fid!==sn.fid)&&Ut(M,sn.fid),sn})).apply(this,arguments)}function Ee(M){return me.apply(this,arguments)}function me(){return me=(0,$.Z)(function*(M){let F;const W=yield Vr(M.appConfig,fe=>{const Re=function ie(M){return Pe(M||{fid:Zn(),registrationStatus:0})}(fe),Ae=function se(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(yn.create("app-offline"))};const W={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},fe=function X(M,F){return Se.apply(this,arguments)}(M,W);return{installationEntry:W,registrationPromise:fe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:pe(M)}:{installationEntry:F}}(M,Re);return F=Ae.registrationPromise,Ae.installationEntry});return W.fid===Fn?{installationEntry:yield F}:{installationEntry:W,registrationPromise:F}}),me.apply(this,arguments)}function Se(){return Se=(0,$.Z)(function*(M,F){try{const W=yield function Ve(M,F){return ze.apply(this,arguments)}(M,F);return Br(M.appConfig,W)}catch(W){throw yt(W)&&409===W.customData.serverCode?yield nr(M.appConfig):yield Br(M.appConfig,{fid:F.fid,registrationStatus:0}),W}}),Se.apply(this,arguments)}function pe(M){return ge.apply(this,arguments)}function ge(){return(ge=(0,$.Z)(function*(M){let F=yield ce(M.appConfig);for(;1===F.registrationStatus;)yield Mt(100),F=yield ce(M.appConfig);if(0===F.registrationStatus){const{installationEntry:W,registrationPromise:fe}=yield Ee(M);return fe||W}return F})).apply(this,arguments)}function ce(M){return Vr(M,F=>{if(!F)throw yn.create("installation-not-found");return Pe(F)})}function Pe(M){return function it(M){return 1===M.registrationStatus&&M.registrationTime+ft<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function vn(){return(vn=(0,$.Z)(function*({appConfig:M,heartbeatServiceProvider:F},W){const fe=function pn(M,{fid:F}){return`${Nn(M)}/${F}/authTokens:generate`}(M,W),Re=function cn(M,{refreshToken:F}){const W=Mr(M);return W.append("Authorization",function xe(M){return`${jt} ${M}`}(F)),W}(M,W),Ae=F.getImmediate({optional:!0});if(Ae){const Rn=yield Ae.getHeartbeatsHeader();Rn&&Re.append("x-firebase-client",Rn)}const sn={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:It,appId:M.appId}})},nn=yield br(()=>fetch(fe,sn));if(nn.ok)return ir(yield nn.json());throw yield Jn("Generate Auth Token",nn)})).apply(this,arguments)}function nt(M){return Q.apply(this,arguments)}function Q(){return Q=(0,$.Z)(function*(M,F=!1){let W;const fe=yield Vr(M.appConfig,Ae=>{if(!gn(Ae))throw yn.create("not-registered");const et=Ae.authToken;if(!F&&function Kt(M){return 2===M.requestStatus&&!function rr(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+qt}(M)}(et))return Ae;if(1===et.requestStatus)return W=function Y(M,F){return ae.apply(this,arguments)}(M,F),Ae;{if(!navigator.onLine)throw yn.create("app-offline");const sn=function Gn(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}(Ae);return W=function At(M,F){return Wt.apply(this,arguments)}(M,sn),sn}});return W?yield W:fe.authToken}),Q.apply(this,arguments)}function ae(){return(ae=(0,$.Z)(function*(M,F){let W=yield Ue(M.appConfig);for(;1===W.authToken.requestStatus;)yield Mt(100),W=yield Ue(M.appConfig);const fe=W.authToken;return 0===fe.requestStatus?nt(M,F):fe})).apply(this,arguments)}function Ue(M){return Vr(M,F=>{if(!gn(F))throw yn.create("not-registered");return function Dr(M){return 1===M.requestStatus&&M.requestTime+ft<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Wt(){return Wt=(0,$.Z)(function*(M,F){try{const W=yield function vt(M,F){return vn.apply(this,arguments)}(M,F),fe=Object.assign(Object.assign({},F),{authToken:W});return yield Br(M.appConfig,fe),W}catch(W){if(!yt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const fe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Br(M.appConfig,fe)}else yield nr(M.appConfig);throw W}}),Wt.apply(this,arguments)}function gn(M){return void 0!==M&&2===M.registrationStatus}function io(){return(io=(0,$.Z)(function*(M){const F=M,{installationEntry:W,registrationPromise:fe}=yield Ee(F);return fe?fe.catch(console.error):nt(F).catch(console.error),W.fid})).apply(this,arguments)}function yi(){return yi=(0,$.Z)(function*(M,F=!1){const W=M;return yield function $r(M){return Ht.apply(this,arguments)}(W),(yield nt(W,F)).token}),yi.apply(this,arguments)}function Ht(){return(Ht=(0,$.Z)(function*(M){const{registrationPromise:F}=yield Ee(M);F&&(yield F)})).apply(this,arguments)}function Oe(M){return yn.create("missing-app-config-values",{valueName:M})}const Le="installations",xt=M=>{const F=M.getProvider("app").getImmediate(),W=function $e(M){if(!M||!M.options)throw Oe("App Configuration");if(!M.name)throw Oe("App Name");const F=["projectId","apiKey","appId"];for(const W of F)if(!M.options[W])throw Oe(W);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F);return{app:F,appConfig:W,heartbeatServiceProvider:(0,Ce._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Tn=M=>{const F=M.getProvider("app").getImmediate(),W=(0,Ce._getProvider)(F,Le).getImmediate();return{getId:()=>function di(M){return io.apply(this,arguments)}(W),getToken:Re=>function gs(M){return yi.apply(this,arguments)}(W,Re)}};(function fr(){(0,Ce._registerComponent)(new Ne.wA(Le,xt,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("installations-internal",Tn,"PRIVATE"))})(),(0,Ce.registerVersion)(st,ot),(0,Ce.registerVersion)(st,ot,"esm2017");const $n="@firebase/remote-config",xi=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class al{constructor(F,W,fe,Re){this.client=F,this.storage=W,this.storageCache=fe,this.logger=Re}isCachedDataFresh(F,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-W,Re=fe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Re}.`),Re}fetch(F){var W=this;return(0,$.Z)(function*(){const[fe,Re]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Re&&W.isCachedDataFresh(F.cacheMaxAgeMillis,fe))return Re;F.eTag=Re&&Re.eTag;const Ae=yield W.client.fetch(F),et=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ae.status&&et.push(W.storage.setLastSuccessfulFetchResponse(Ae)),yield Promise.all(et),Ae})()}}function so(M=navigator){return M.languages&&M.languages[0]||M.language}class ua{constructor(F,W,fe,Re,Ae,et){this.firebaseInstallations=F,this.sdkVersion=W,this.namespace=fe,this.projectId=Re,this.apiKey=Ae,this.appId=et}fetch(F){var W=this;return(0,$.Z)(function*(){const[fe,Re]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},nn={sdk_version:W.sdkVersion,app_instance_id:fe,app_instance_id_token:Re,app_id:W.appId,language_code:so()},Rn={method:"POST",headers:sn,body:JSON.stringify(nn)},pr=fetch(et,Rn),cr=new Promise((ra,$s)=>{F.signal.addEventListener(()=>{const eh=new Error("The operation was aborted.");eh.name="AbortError",$s(eh)})});let Lo;try{yield Promise.race([pr,cr]),Lo=yield pr}catch(ra){let $s="fetch-client-network";throw"AbortError"===ra?.name&&($s="fetch-timeout"),xi.create($s,{originalErrorMessage:ra?.message})}let No=Lo.status;const Gl=Lo.headers.get("ETag")||void 0;let pd,xu;if(200===Lo.status){let ra;try{ra=yield Lo.json()}catch($s){throw xi.create("fetch-client-parse",{originalErrorMessage:$s?.message})}pd=ra.entries,xu=ra.state}if("INSTANCE_STATE_UNSPECIFIED"===xu?No=500:"NO_CHANGE"===xu?No=304:("NO_TEMPLATE"===xu||"EMPTY_CONFIG"===xu)&&(pd={}),304!==No&&200!==No)throw xi.create("fetch-status",{httpStatus:No});return{status:No,eTag:Gl,config:pd}})()}}class Ys{constructor(F,W){this.client=F,this.storage=W}fetch(F){var W=this;return(0,$.Z)(function*(){const fe=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(F,fe)})()}attemptFetch(F,{throttleEndTimeMillis:W,backoffCount:fe}){var Re=this;return(0,$.Z)(function*(){yield function ms(M,F){return new Promise((W,fe)=>{const Re=Math.max(F-Date.now(),0),Ae=setTimeout(W,Re);M.addEventListener(()=>{clearTimeout(Ae),fe(xi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,W);try{const Ae=yield Re.client.fetch(F);return yield Re.storage.deleteThrottleMetadata(),Ae}catch(Ae){if(!function ll(M){if(!(M instanceof ye.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ae))throw Ae;const et={throttleEndTimeMillis:Date.now()+(0,ye.$s)(fe),backoffCount:fe+1};return yield Re.storage.setThrottleMetadata(et),Re.attemptFetch(F,et)}})()}}class ca{constructor(F,W,fe,Re,Ae){this.app=F,this._client=W,this._storageCache=fe,this._storage=Re,this._logger=Ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Po(M,F){const W=M.target.error||void 0;return xi.create(F,{originalErrorMessage:W&&W?.message})}const Bi="app_namespace_store";class $i{constructor(F,W,fe,Re=function ul(){return new Promise((M,F)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=fe=>{F(Po(fe,"storage-open"))},W.onsuccess=fe=>{M(fe.target.result)},W.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(Bi,{keyPath:"compositeKey"})}}catch(W){F(xi.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=F,this.appName=W,this.namespace=fe,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var W=this;return(0,$.Z)(function*(){const fe=yield W.openDbPromise;return new Promise((Re,Ae)=>{const sn=fe.transaction([Bi],"readonly").objectStore(Bi),nn=W.createCompositeKey(F);try{const Rn=sn.get(nn);Rn.onerror=pr=>{Ae(Po(pr,"storage-get"))},Rn.onsuccess=pr=>{const cr=pr.target.result;Re(cr?cr.value:void 0)}}catch(Rn){Ae(xi.create("storage-get",{originalErrorMessage:Rn?.message}))}})})()}set(F,W){var fe=this;return(0,$.Z)(function*(){const Re=yield fe.openDbPromise;return new Promise((Ae,et)=>{const nn=Re.transaction([Bi],"readwrite").objectStore(Bi),Rn=fe.createCompositeKey(F);try{const pr=nn.put({compositeKey:Rn,value:W});pr.onerror=cr=>{et(Po(cr,"storage-set"))},pr.onsuccess=()=>{Ae()}}catch(pr){et(xi.create("storage-set",{originalErrorMessage:pr?.message}))}})})()}delete(F){var W=this;return(0,$.Z)(function*(){const fe=yield W.openDbPromise;return new Promise((Re,Ae)=>{const sn=fe.transaction([Bi],"readwrite").objectStore(Bi),nn=W.createCompositeKey(F);try{const Rn=sn.delete(nn);Rn.onerror=pr=>{Ae(Po(pr,"storage-delete"))},Rn.onsuccess=()=>{Re()}}catch(Rn){Ae(xi.create("storage-delete",{originalErrorMessage:Rn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class ts{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,$.Z)(function*(){const W=F.storage.getLastFetchStatus(),fe=F.storage.getLastSuccessfulFetchTimestampMillis(),Re=F.storage.getActiveConfig(),Ae=yield W;Ae&&(F.lastFetchStatus=Ae);const et=yield fe;et&&(F.lastSuccessfulFetchTimestampMillis=et);const sn=yield Re;sn&&(F.activeConfig=sn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Aa(){return ys.apply(this,arguments)}function ys(){return(ys=(0,$.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function Ta(){(0,Ce._registerComponent)(new Ne.wA("remote-config",function M(F,{instanceIdentifier:W}){const fe=F.getProvider("app").getImmediate(),Re=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xi.create("registration-window");if(!(0,ye.hl)())throw xi.create("indexed-db-unavailable");const{projectId:Ae,apiKey:et,appId:sn}=fe.options;if(!Ae)throw xi.create("registration-project-id");if(!et)throw xi.create("registration-api-key");if(!sn)throw xi.create("registration-app-id");const nn=new $i(sn,fe.name,W=W||"firebase"),Rn=new ts(nn),pr=new Fe.Yd($n);pr.logLevel=Fe.in.ERROR;const cr=new ua(Re,Ce.SDK_VERSION,W,Ae,et,sn),Lo=new Ys(cr,nn),No=new al(Lo,nn,Rn,pr),Gl=new ca(fe,No,Rn,nn,pr);return function Vi(M){const F=(0,ye.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Gl),Gl},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)($n,"0.4.4"),(0,Ce.registerVersion)($n,"0.4.4","esm2017")}();const Ga=(M,F)=>F.some(W=>M instanceof W);let bo,ha;const fa=new WeakMap,pa=new WeakMap,oi=new WeakMap,vs=new WeakMap,rs=new WeakMap;let Si={get(M,F,W){if(M instanceof IDBTransaction){if("done"===F)return pa.get(M);if("objectStoreNames"===F)return M.objectStoreNames||oi.get(M);if("store"===F)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Er(M[F])},set:(M,F,W)=>(M[F]=W,!0),has:(M,F)=>M instanceof IDBTransaction&&("done"===F||"store"===F)||F in M};function Sa(M){return"function"==typeof M?function bs(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kl(){return ha||(ha=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...F){return M.apply(Di(this),F),Er(fa.get(this))}:function(...F){return Er(M.apply(Di(this),F))}:function(F,...W){const fe=M.call(Di(this),F,...W);return oi.set(fe,F.sort?F.sort():[F]),Er(fe)}}(M):(M instanceof IDBTransaction&&function Ui(M){if(pa.has(M))return;const F=new Promise((W,fe)=>{const Re=()=>{M.removeEventListener("complete",Ae),M.removeEventListener("error",et),M.removeEventListener("abort",et)},Ae=()=>{W(),Re()},et=()=>{fe(M.error||new DOMException("AbortError","AbortError")),Re()};M.addEventListener("complete",Ae),M.addEventListener("error",et),M.addEventListener("abort",et)});pa.set(M,F)}(M),Ga(M,function ns(){return bo||(bo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Si):M)}function Er(M){if(M instanceof IDBRequest)return function li(M){const F=new Promise((W,fe)=>{const Re=()=>{M.removeEventListener("success",Ae),M.removeEventListener("error",et)},Ae=()=>{W(Er(M.result)),Re()},et=()=>{fe(M.error),Re()};M.addEventListener("success",Ae),M.addEventListener("error",et)});return F.then(W=>{W instanceof IDBCursor&&fa.set(W,M)}).catch(()=>{}),rs.set(F,M),F}(M);if(vs.has(M))return vs.get(M);const F=Sa(M);return F!==M&&(vs.set(M,F),rs.set(F,M)),F}const Di=M=>rs.get(M);function Ns(M,F,{blocked:W,upgrade:fe,blocking:Re,terminated:Ae}={}){const et=indexedDB.open(M,F),sn=Er(et);return fe&&et.addEventListener("upgradeneeded",nn=>{fe(Er(et.result),nn.oldVersion,nn.newVersion,Er(et.transaction))}),W&&et.addEventListener("blocked",()=>W()),sn.then(nn=>{Ae&&nn.addEventListener("close",()=>Ae()),Re&&nn.addEventListener("versionchange",()=>Re())}).catch(()=>{}),sn}function ws(M,{blocked:F}={}){const W=indexedDB.deleteDatabase(M);return F&&W.addEventListener("blocked",()=>F()),Er(W).then(()=>{})}const ou=["get","getKey","getAll","getAllKeys","count"],ji=["put","add","delete","clear"],is=new Map;function Rs(M,F){if(!(M instanceof IDBDatabase)||F in M||"string"!=typeof F)return;if(is.get(F))return is.get(F);const W=F.replace(/FromIndex$/,""),fe=F!==W,Re=ji.includes(W);if(!(W in(fe?IDBIndex:IDBObjectStore).prototype)||!Re&&!ou.includes(W))return;const Ae=function(){var et=(0,$.Z)(function*(sn,...nn){const Rn=this.transaction(sn,Re?"readwrite":"readonly");let pr=Rn.store;return fe&&(pr=pr.index(nn.shift())),(yield Promise.all([pr[W](...nn),Re&&Rn.done]))[0]});return function(nn){return et.apply(this,arguments)}}();return is.set(F,Ae),Ae}!function pi(M){Si=M(Si)}(M=>({...M,get:(F,W,fe)=>Rs(F,W)||M.get(F,W,fe),has:(F,W)=>!!Rs(F,W)||M.has(F,W)}));const zn="/firebase-messaging-sw.js",Os="/firebase-cloud-messaging-push-scope",wo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ma="https://fcmregistrations.googleapis.com/v1",xs="google.c.a.c_id",Na="google.c.a.c_l",ga="google.c.a.ts",za="google.c.a.e";var ht=(()=>{return(M=ht||(ht={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ht;var M})();function Wn(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zo(M){const W=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(W),Re=new Uint8Array(fe.length);for(let Ae=0;Ae<fe.length;++Ae)Re[Ae]=fe.charCodeAt(Ae);return Re}const ki="fcm_token_details_db",zr=5,Ps="fcm_token_object_Store";function Do(){return Do=(0,$.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ae=>Ae.name).includes(ki))return null;let F=null;return(yield Ns(ki,zr,{upgrade:(fe=(0,$.Z)(function*(Re,Ae,et,sn){var nn;if(Ae<2||!Re.objectStoreNames.contains(Ps))return;const Rn=sn.objectStore(Ps),pr=yield Rn.index("fcmSenderId").get(M);if(yield Rn.clear(),pr)if(2===Ae){const cr=pr;if(!cr.auth||!cr.p256dh||!cr.endpoint)return;F={token:cr.fcmToken,createTime:null!==(nn=cr.createTime)&&void 0!==nn?nn:Date.now(),subscriptionOptions:{auth:cr.auth,p256dh:cr.p256dh,endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:"string"==typeof cr.vapidKey?cr.vapidKey:Wn(cr.vapidKey)}}}else if(3===Ae){const cr=pr;F={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:Wn(cr.auth),p256dh:Wn(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:Wn(cr.vapidKey)}}}else if(4===Ae){const cr=pr;F={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:Wn(cr.auth),p256dh:Wn(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:Wn(cr.vapidKey)}}}}),function(Ae,et,sn,nn){return fe.apply(this,arguments)})})).close(),yield ws(ki),yield ws("fcm_vapid_details_db"),yield ws("undefined"),function ma(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var fe}),Do.apply(this,arguments)}const Wa="firebase-messaging-database",cl=1,Wo="firebase-messaging-store";let Ds=null;function vi(){return Ds||(Ds=Ns(Wa,cl,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Wo)}})),Ds}function Xr(M){return ks.apply(this,arguments)}function ks(){return ks=(0,$.Z)(function*(M){const F=Qi(M),fe=yield(yield vi()).transaction(Wo).objectStore(Wo).get(F);if(fe)return fe;{const Re=yield function Ji(M){return Do.apply(this,arguments)}(M.appConfig.senderId);if(Re)return yield ko(M,Re),Re}}),ks.apply(this,arguments)}function ko(M,F){return Co.apply(this,arguments)}function Co(){return(Co=(0,$.Z)(function*(M,F){const W=Qi(M),Re=(yield vi()).transaction(Wo,"readwrite");return yield Re.objectStore(Wo).put(F,W),yield Re.done,F})).apply(this,arguments)}function ao(){return(ao=(0,$.Z)(function*(M){const F=Qi(M),fe=(yield vi()).transaction(Wo,"readwrite");yield fe.objectStore(Wo).delete(F),yield fe.done})).apply(this,arguments)}function Qi({appConfig:M}){return M.appId}const si=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yr(M,F){return os.apply(this,arguments)}function os(){return(os=(0,$.Z)(function*(M,F){const W=yield Mi(M),fe=_a(F),Re={method:"POST",headers:W,body:JSON.stringify(fe)};let Ae;try{Ae=yield(yield fetch(Cs(M.appConfig),Re)).json()}catch(et){throw si.create("token-subscribe-failed",{errorInfo:et?.toString()})}if(Ae.error)throw si.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw si.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function ss(){return(ss=(0,$.Z)(function*(M,F){const W=yield Mi(M),fe=_a(F.subscriptionOptions),Re={method:"PATCH",headers:W,body:JSON.stringify(fe)};let Ae;try{Ae=yield(yield fetch(`${Cs(M.appConfig)}/${F.token}`,Re)).json()}catch(et){throw si.create("token-update-failed",{errorInfo:et?.toString()})}if(Ae.error)throw si.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw si.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Rr(M,F){return qo.apply(this,arguments)}function qo(){return(qo=(0,$.Z)(function*(M,F){const fe={method:"DELETE",headers:yield Mi(M)};try{const Ae=yield(yield fetch(`${Cs(M.appConfig)}/${F}`,fe)).json();if(Ae.error)throw si.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(Re){throw si.create("token-unsubscribe-failed",{errorInfo:Re?.toString()})}})).apply(this,arguments)}function Cs({projectId:M}){return`${Ma}/projects/${M}/registrations`}function Mi(M){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,$.Z)(function*({appConfig:M,installations:F}){const W=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function _a({p256dh:M,auth:F,endpoint:W,vapidKey:fe}){const Re={web:{endpoint:W,auth:F,p256dh:M}};return fe!==wo&&(Re.web.applicationPubKey=fe),Re}const Eo=6048e5;function dl(){return dl=(0,$.Z)(function*(M){const F=yield function Ll(M,F){return hl.apply(this,arguments)}(M.swRegistration,M.vapidKey),W={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:Wn(F.getKey("auth")),p256dh:Wn(F.getKey("p256dh"))},fe=yield Xr(M.firebaseDependencies);if(fe){if(function lo(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}(fe.subscriptionOptions,W))return Date.now()>=fe.createTime+Eo?function yr(M,F){return Oa.apply(this,arguments)}(M,{token:fe.token,createTime:Date.now(),subscriptionOptions:W}):fe.token;try{yield Rr(M.firebaseDependencies,fe.token)}catch(Re){console.warn(Re)}return Es(M.firebaseDependencies,W)}return Es(M.firebaseDependencies,W)}),dl.apply(this,arguments)}function Ci(){return Ci=(0,$.Z)(function*(M){const F=yield Xr(M.firebaseDependencies);F&&(yield Rr(M.firebaseDependencies,F.token),yield function Fs(M){return ao.apply(this,arguments)}(M.firebaseDependencies));const W=yield M.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()}),Ci.apply(this,arguments)}function Oa(){return Oa=(0,$.Z)(function*(M,F){try{const W=yield function Xi(M,F){return ss.apply(this,arguments)}(M.firebaseDependencies,F),fe=Object.assign(Object.assign({},F),{token:W,createTime:Date.now()});return yield ko(M.firebaseDependencies,fe),W}catch(W){throw yield function ai(M){return Ci.apply(this,arguments)}(M),W}}),Oa.apply(this,arguments)}function Es(M,F){return Js.apply(this,arguments)}function Js(){return(Js=(0,$.Z)(function*(M,F){const fe={token:yield Yr(M,F),createTime:Date.now(),subscriptionOptions:F};return yield ko(M,fe),fe.token})).apply(this,arguments)}function hl(){return(hl=(0,$.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zo(F)})})).apply(this,arguments)}function Zo(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function fl(M,F){if(!F.notification)return;M.notification={};const W=F.notification.title;W&&(M.notification.title=W);const fe=F.notification.body;fe&&(M.notification.body=fe);const Re=F.notification.image;Re&&(M.notification.image=Re);const Ae=F.notification.icon;Ae&&(M.notification.icon=Ae)}(F,M),function qa(M,F){F.data&&(M.data=F.data)}(F,M),function k(M,F){var W,fe,Re,Ae,et;if(!(F.fcmOptions||null!==(W=F.notification)&&void 0!==W&&W.click_action))return;M.fcmOptions={};const sn=null!==(Re=null===(fe=F.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Re?Re:null===(Ae=F.notification)||void 0===Ae?void 0:Ae.click_action;sn&&(M.fcmOptions.link=sn);const nn=null===(et=F.fcmOptions)||void 0===et?void 0:et.analytics_label;nn&&(M.fcmOptions.analyticsLabel=nn)}(F,M),F}function B(M,F){const W=[];for(let fe=0;fe<M.length;fe++)W.push(M.charAt(fe)),fe<F.length&&W.push(F.charAt(fe));return W.join("")}function we(M){return si.create("missing-app-config-values",{valueName:M})}B("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),B("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ut{constructor(F,W,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function ee(M){if(!M||!M.options)throw we("App Configuration Object");if(!M.name)throw we("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:W}=M;for(const fe of F)if(!W[fe])throw we(fe);return{appName:M.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Re,installations:W,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function A(M){return O.apply(this,arguments)}function O(){return(O=(0,$.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(zn,{scope:Os}),M.swRegistration.update().catch(()=>{})}catch(F){throw si.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function de(){return(de=(0,$.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield A(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function zt(){return(zt=(0,$.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=wo)})).apply(this,arguments)}function jn(){return jn=(0,$.Z)(function*(M,F){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield function Xe(M,F){return zt.apply(this,arguments)}(M,F?.vapidKey),yield function q(M,F){return de.apply(this,arguments)}(M,F?.serviceWorkerRegistration),function as(M){return dl.apply(this,arguments)}(M)}),jn.apply(this,arguments)}function Or(){return(Or=(0,$.Z)(function*(M,F,W){const fe=function Jr(M){switch(M){case ht.NOTIFICATION_CLICKED:return"notification_open";case ht.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:W[xs],message_name:W[Na],message_time:W[ga],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tn(){return tn=(0,$.Z)(function*(M,F){const W=F.data;if(!W.isFirebaseMessaging)return;M.onMessageHandler&&W.messageType===ht.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Zo(W)):M.onMessageHandler.next(Zo(W)));const fe=W.data;(function G(M){return"object"==typeof M&&!!M&&xs in M})(fe)&&"1"===fe[za]&&(yield function gt(M,F,W){return Or.apply(this,arguments)}(M,W.messageType,fe))}),tn.apply(this,arguments)}const En="@firebase/messaging",on=M=>{const F=new ut(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function Io(M,F){return tn.apply(this,arguments)}(F,W)),F},ct=M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:fe=>function Dn(M,F){return jn.apply(this,arguments)}(F,fe)}};function uo(){return qu.apply(this,arguments)}function qu(){return(qu=(0,$.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vt(){(0,Ce._registerComponent)(new Ne.wA("messaging",on,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("messaging-internal",ct,"PRIVATE")),(0,Ce.registerVersion)(En,"0.12.4"),(0,Ce.registerVersion)(En,"0.12.4","esm2017")}();const Ni="analytics",Tu="firebase_id",Yn="origin",eo=6e4,Au="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ui="https://www.googletagmanager.com/gtag/js",hn=new Fe.Yd("@firebase/analytics"),Un=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Su(M){if(!M.startsWith(ui)){const F=Un.create("invalid-gtag-resource",{gtagURL:M});return hn.warn(F.message),""}return M}function tr(M){return Promise.all(M.map(F=>F.catch(W=>W)))}function Ka(){return(Ka=(0,$.Z)(function*(M,F,W,fe,Re,Ae){const et=fe[Re];try{if(et)yield F[et];else{const nn=(yield tr(W)).find(Rn=>Rn.measurementId===Re);nn&&(yield F[nn.appId])}}catch(sn){hn.error(sn)}M("config",Re,Ae)})).apply(this,arguments)}function Ya(){return(Ya=(0,$.Z)(function*(M,F,W,fe,Re){try{let Ae=[];if(Re&&Re.send_to){let et=Re.send_to;Array.isArray(et)||(et=[et]);const sn=yield tr(W);for(const nn of et){const Rn=sn.find(cr=>cr.measurementId===nn),pr=Rn&&F[Rn.appId];if(!pr){Ae=[];break}Ae.push(pr)}}0===Ae.length&&(Ae=Object.values(F)),yield Promise.all(Ae),M("event",fe,Re||{})}catch(Ae){hn.error(Ae)}})).apply(this,arguments)}const co=30,Pa=new class Vl{constructor(F={},W=1e3){this.throttleMetadata=F,this.intervalMillis=W}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,W){this.throttleMetadata[F]=W}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function _l(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Ke(){return(Ke=(0,$.Z)(function*(M){var F;const{appId:W,apiKey:fe}=M,Re={method:"GET",headers:_l(fe)},Ae=Au.replace("{app-id}",W),et=yield fetch(Ae,Re);if(200!==et.status&&304!==et.status){let sn="";try{const nn=yield et.json();null!==(F=nn.error)&&void 0!==F&&F.message&&(sn=nn.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:et.status,responseMessage:sn})}return et.json()})).apply(this,arguments)}function Bs(){return(Bs=(0,$.Z)(function*(M,F=Pa,W){const{appId:fe,apiKey:Re,measurementId:Ae}=M.options;if(!fe)throw Un.create("no-app-id");if(!Re){if(Ae)return{measurementId:Ae,appId:fe};throw Un.create("no-api-key")}const et=F.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new yl;return setTimeout((0,$.Z)(function*(){sn.abort()}),void 0!==W?W:eo),ud({appId:fe,apiKey:Re,measurementId:Ae},et,sn,F)})).apply(this,arguments)}function ud(M,F,W){return ka.apply(this,arguments)}function ka(){return ka=(0,$.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:W},fe,Re=Pa){var Ae;const{appId:et,measurementId:sn}=M;try{yield function Ao(M,F){return new Promise((W,fe)=>{const Re=Math.max(F-Date.now(),0),Ae=setTimeout(W,Re);M.addEventListener(()=>{clearTimeout(Ae),fe(Un.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(fe,F)}catch(nn){if(sn)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${nn?.message}]`),{appId:et,measurementId:sn};throw nn}try{const nn=yield function Zu(M){return Ke.apply(this,arguments)}(M);return Re.deleteThrottleMetadata(et),nn}catch(nn){const Rn=nn;if(!function us(M){if(!(M instanceof ye.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Rn)){if(Re.deleteThrottleMetadata(et),sn)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:et,measurementId:sn};throw nn}const pr=503===Number(null===(Ae=Rn?.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,ye.$s)(W,Re.intervalMillis,co):(0,ye.$s)(W,Re.intervalMillis),cr={throttleEndTimeMillis:Date.now()+pr,backoffCount:W+1};return Re.setThrottleMetadata(et,cr),hn.debug(`Calling attemptFetch again in ${pr} millis`),ud(M,cr,fe,Re)}}),ka.apply(this,arguments)}class yl{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let Qa,w;function Tc(){return(Tc=(0,$.Z)(function*(M,F,W,fe,Re){if(Re&&Re.global)M("event",W,fe);else{const Ae=yield F;M("event",W,Object.assign(Object.assign({},fe),{send_to:Ae}))}})).apply(this,arguments)}function oe(){return(oe=(0,$.Z)(function*(){if(!(0,ye.hl)())return hn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(M){return hn.warn(Un.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Nt(){return Nt=(0,$.Z)(function*(M,F,W,fe,Re,Ae,et){var sn;const nn=function ea(M){return Bs.apply(this,arguments)}(M);nn.then(No=>{W[No.measurementId]=No.appId,M.options.measurementId&&No.measurementId!==M.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${No.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(No=>hn.error(No)),F.push(nn);const Rn=function J(){return oe.apply(this,arguments)}().then(No=>{if(No)return fe.getId()}),[pr,cr]=yield Promise.all([nn,Rn]);(function ml(M){const F=window.document.getElementsByTagName("script");for(const W of Object.values(F))if(W.src&&W.src.includes(ui)&&W.src.includes(M))return W;return null})(Ae)||function Qs(M,F){const W=function Pt(M,F){let W;return window.trustedTypes&&(W=window.trustedTypes.createPolicy(M,F)),W}("firebase-js-sdk-policy",{createScriptURL:Su}),fe=document.createElement("script"),Re=`${ui}?l=${M}&id=${F}`;fe.src=W?W?.createScriptURL(Re):Re,fe.async=!0,document.head.appendChild(fe)}(Ae,pr.measurementId),w&&(Re("consent","default",w),function P(M){w=M}(void 0)),Re("js",new Date);const Lo=null!==(sn=et?.config)&&void 0!==sn?sn:{};return Lo[Yn]="firebase",Lo.update=!0,null!=cr&&(Lo[Tu]=cr),Re("config",pr.measurementId,Lo),Qa&&(Re("set",Qa),function V(M){Qa=M}(void 0)),pr.measurementId}),Nt.apply(this,arguments)}class mn{constructor(F){this.app=F}_delete(){return delete dn[this.app.options.appId],Promise.resolve()}}let dn={},Qr=[];const to={};let va,Ri,Ei="dataLayer",Is="gtag",bl=!1;function Kd(M,F,W){!function Fa(){const M=[];if((0,ye.ru)()&&M.push("This is a browser extension environment."),(0,ye.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((fe,Re)=>`(${Re+1}) ${fe}`).join(" "),W=Un.create("invalid-analytics-context",{errorInfo:F});hn.warn(W.message)}}();const fe=M.options.appId;if(!fe)throw Un.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Un.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dn[fe])throw Un.create("already-exists",{id:fe});if(!bl){!function Ls(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(Ei);const{wrappedGtag:Ae,gtagCore:et}=function gl(M,F,W,fe,Re){let Ae=function(...et){window[fe].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Ae=window[Re]),window[Re]=function Ja(M,F,W,fe){function Ae(){return Ae=(0,$.Z)(function*(et,...sn){try{if("event"===et){const[nn,Rn]=sn;yield function Xs(M,F,W,fe,Re){return Ya.apply(this,arguments)}(M,F,W,nn,Rn)}else if("config"===et){const[nn,Rn]=sn;yield function Za(M,F,W,fe,Re,Ae){return Ka.apply(this,arguments)}(M,F,W,fe,nn,Rn)}else if("consent"===et){const[nn]=sn;M("consent","update",nn)}else if("get"===et){const[nn,Rn,pr]=sn;M("get",nn,Rn,pr)}else if("set"===et){const[nn]=sn;M("set",nn)}else M(et,...sn)}catch(nn){hn.error(nn)}}),Ae.apply(this,arguments)}return function Re(et){return Ae.apply(this,arguments)}}(Ae,M,F,W),{gtagCore:Ae,wrappedGtag:window[Re]}}(dn,Qr,to,Ei,Is);Ri=Ae,va=et,bl=!0}return dn[fe]=function Ze(M,F,W,fe,Re,Ae,et){return Nt.apply(this,arguments)}(M,Qr,to,F,va,Ei,W),new mn(M)}function La(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,$.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const uu="@firebase/analytics";!function Sc(){(0,Ce._registerComponent)(new Ne.wA(Ni,(F,{options:W})=>Kd(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("analytics-internal",function M(F){try{const W=F.getProvider(Ni).getImmediate();return{logEvent:(fe,Re,Ae)=>function mi(M,F,W,fe){M=(0,ye.m9)(M),function Ic(M,F,W,fe,Re){return Tc.apply(this,arguments)}(Ri,dn[M.app.options.appId],F,W,fe).catch(Re=>hn.error(Re))}(W,fe,Re,Ae)}}catch(W){throw Un.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,Ce.registerVersion)(uu,"0.10.0"),(0,Ce.registerVersion)(uu,"0.10.0","esm2017")}();var hd=j(4408),cu=j(7565);const Gi=new class wl extends cu.v{}(class fo extends hd.o{constructor(F,W){super(F,W),this.scheduler=F,this.work=W}schedule(F,W=0){return W>0?super.schedule(F,W):(this.delay=W,this.state=F,this.scheduler.flush(this),this)}execute(F,W){return W>0||this.closed?super.execute(F,W):this._execute(F,W)}requestAsyncId(F,W,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(F,W,fe):(F.flush(this),0)}});var ba=j(4986),Ba=j(9751),Mu=j(8505),Ku=j(5363),Ss=j(9468);const cs=new D.GfV("7.5.0"),Nu="__angularfire_symbol__analyticsIsSupportedValue",tl="__angularfire_symbol__analyticsIsSupported",ds="__angularfire_symbol__remoteConfigIsSupportedValue",du="__angularfire_symbol__remoteConfigIsSupported",Dl="__angularfire_symbol__messagingIsSupportedValue",Mc="__angularfire_symbol__messagingIsSupported";function El(M,F,W){if(F){if(1===F.length)return F[0];const Ae=F.filter(et=>et.app===W);if(1===Ae.length)return Ae[0]}return W.container.getProvider(M).getImmediate({optional:!0})}globalThis[tl]||(globalThis[tl]=La().then(M=>globalThis[Nu]=M).catch(()=>globalThis[Nu]=!1)),globalThis[Mc]||(globalThis[Mc]=uo().then(M=>globalThis[Dl]=M).catch(()=>globalThis[Dl]=!1)),globalThis[du]||(globalThis[du]=Aa().then(M=>globalThis[ds]=M).catch(()=>globalThis[ds]=!1));const Ru=(M,F)=>{const W=F?[F]:(0,a.C6)(),fe=[];return W.forEach(Re=>{Re.container.getProvider(M).instances.forEach(et=>{fe.includes(et)||fe.push(et)})}),fe};function $l(){}class Ou{constructor(F,W=Gi){this.zone=F,this.delegate=W}now(){return this.delegate.now()}schedule(F,W,fe){const Re=this.zone;return this.delegate.schedule(function(et){Re.runGuarded(()=>{F.apply(this,[et])})},W,fe)}}class na{constructor(F){this.zone=F,this.task=null}call(F,W){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)),W.pipe((0,Mu.b)({next:fe,complete:fe,error:fe})).subscribe(F).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jl=(()=>{class M{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=W.run(()=>new Ou(Zone.current,ba.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(W){return new(W||M)(D.LFG(D.R0b))},M.\u0275prov=D.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function zi(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Hl(M){return zi().ngZone.run(()=>M())}function Il(M){return M.pipe((0,Ku.Q)(zi().outsideAngular))}function Fo(M){return zi(),function Xd(M){return function(W){return(W=W.lift(new na(M.ngZone))).pipe((0,Ss.R)(M.outsideAngular),(0,Ku.Q)(M.insideAngular))}}(zi())(M)}const Wr=(M,F)=>function(){const fe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Hl(()=>M.apply(void 0,fe))},rl=(M,F)=>function(){let W;const fe=arguments;for(let Ae=0;Ae<arguments.length;Ae++)"function"==typeof fe[Ae]&&(F&&(W||(W=Hl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)))),fe[Ae]=Wr(fe[Ae],W));const Re=function fd(M){return zi().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,fe));if(!F){if(Re instanceof Ba.y){const Ae=zi();return Re.pipe((0,Ss.R)(Ae.outsideAngular),(0,Ku.Q)(Ae.insideAngular))}return Hl(()=>Re)}return Re instanceof Ba.y?Re.pipe(Fo):Re instanceof Promise?Hl(()=>new Promise((Ae,et)=>Re.then(sn=>Hl(()=>Ae(sn)),sn=>Hl(()=>et(sn))))):"function"==typeof Re&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Re.apply(this,arguments)}:Hl(()=>Re)}},8502:(en,ke,j)=>{"use strict";j.d(ke,{$:()=>zn,A:()=>ve,D:()=>lt,I:()=>Nr,J:()=>xt,L:()=>Cr,N:()=>Vr,P:()=>Ze,Q:()=>$i,R:()=>Us,U:()=>da,V:()=>Aa,W:()=>ys,X:()=>Yi,Y:()=>ns,Z:()=>kl,_:()=>rs,a:()=>ls,a0:()=>wo,a1:()=>xs,a2:()=>Fl,a3:()=>Ps,a4:()=>Do,a5:()=>Wa,a6:()=>Wo,a7:()=>vi,a8:()=>ks,a9:()=>Co,aA:()=>Be,aB:()=>tl,aC:()=>nr,aD:()=>Kr,aE:()=>Mu,aF:()=>Ko,aG:()=>el,aH:()=>On,aL:()=>ya,aO:()=>bo,aa:()=>Fs,ab:()=>Qi,ac:()=>su,ad:()=>Xi,ae:()=>Rr,af:()=>Cs,ai:()=>Eo,aj:()=>dl,ak:()=>ai,an:()=>bs,ao:()=>fl,aq:()=>zt,ar:()=>En,as:()=>ln,at:()=>Pe,au:()=>pe,av:()=>rt,aw:()=>cr,ax:()=>Mc,ay:()=>it,az:()=>Ge,b:()=>To,c:()=>Ri,d:()=>Kd,e:()=>au,f:()=>uu,g:()=>wl,h:()=>hd,i:()=>Ul,j:()=>ba,k:()=>xu,l:()=>vl,m:()=>eh,o:()=>xc,p:()=>be,r:()=>S,s:()=>gi,u:()=>J});var D=j(5861),a=j(2090),$=j(6881),Ce=j(655),ye=j(1877),Ne=j(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const lt=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},mt=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new a.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new ye.Yd("@firebase/auth");function kt(T,..._){_t.logLevel<=ye.in.ERROR&&_t.error(`Auth (${$.SDK_VERSION}): ${T}`,..._)}function rt(T,..._){throw St(T,..._)}function Ge(T,..._){return St(T,..._)}function pt(T,_,b){const N=Object.assign(Object.assign({},mt()),{[_]:b});return new a.LL("auth","Firebase",N).create(_,{appName:T.name})}function Rt(T,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&rt(T,"argument-error"),pt(T,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(T,..._){if("string"!=typeof T){const b=_[0],N=[..._.slice(1)];return N[0]&&(N[0].appName=T.name),T._errorFactory.create(b,...N)}return Dt.create(T,..._)}function Be(T,_,...b){if(!T)throw St(_,...b)}function Et(T){const _="INTERNAL ASSERTION FAILED: "+T;throw kt(_),new Error(_)}function ln(T,_){T||Et(_)}function Ct(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function _n(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class ft{constructor(_,b){this.shortDelay=_,this.longDelay=b,ln(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,a.uI)()||(0,a.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,a.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(T,_){ln(T.emulator,"Emulator should always be set here");const{url:b}=T.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class jt{static initialize(_,b,N){this.fetchImpl=_,b&&(this.headersImpl=b),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qt=new ft(3e4,6e4);function $t(T,_){return T.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:T.tenantId}):_}function An(T,_,b,N){return un.apply(this,arguments)}function un(){return(un=(0,D.Z)(function*(T,_,b,N,K={}){return yn(T,K,(0,D.Z)(function*(){let re={},je={};N&&("GET"===_?je=N:re={body:JSON.stringify(N)});const dt=(0,a.xO)(Object.assign({key:T.config.apiKey},je)).slice(1),Qt=yield T._getAdditionalHeaders();return Qt["Content-Type"]="application/json",T.languageCode&&(Qt["X-Firebase-Locale"]=T.languageCode),jt.fetch()(Jn(T,T.config.apiHost,b,dt),Object.assign({method:_,headers:Qt,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function yn(T,_,b){return yt.apply(this,arguments)}function yt(){return(yt=(0,D.Z)(function*(T,_,b){T._canInitEmulator=!1;const N=Object.assign(Object.assign({},Tt),_);try{const K=new Sr(T),re=yield Promise.race([b(),K.promise]);K.clearNetworkTimeout();const je=yield re.json();if("needConfirmation"in je)throw Mr(T,"account-exists-with-different-credential",je);if(re.ok&&!("errorMessage"in je))return je;{const dt=re.ok?je.errorMessage:je.error.message,[Qt,wn]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw Mr(T,"credential-already-in-use",je);if("EMAIL_EXISTS"===Qt)throw Mr(T,"email-already-in-use",je);if("USER_DISABLED"===Qt)throw Mr(T,"user-disabled",je);const Vn=N[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw pt(T,Vn,wn);rt(T,Vn)}}catch(K){if(K instanceof a.ZR)throw K;rt(T,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Nn(T,_,b,N){return ir.apply(this,arguments)}function ir(){return(ir=(0,D.Z)(function*(T,_,b,N,K={}){const re=yield An(T,_,b,N,K);return"mfaPendingCredential"in re&&rt(T,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function Jn(T,_,b,N){const K=`${_}${b}?${N}`;return T.config.emulator?It(T.config,K):`${T.config.apiScheme}://${K}`}class Sr{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,N)=>{this.timer=setTimeout(()=>N(Ge(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(T,_,b){const N={appName:T.name};b.email&&(N.email=b.email),b.phoneNumber&&(N.phoneNumber=b.phoneNumber);const K=Ge(T,_,N);return K.customData._tokenResponse=b,K}function br(){return(br=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function qe(){return(qe=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ve(){return(Ve=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ze(T){if(T)try{const _=new Date(Number(T));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function xn(){return(xn=(0,D.Z)(function*(T,_=!1){const b=(0,a.m9)(T),N=yield b.getIdToken(_),K=Zn(N);Be(K&&K.exp&&K.auth_time&&K.iat,b.auth,"internal-error");const re="object"==typeof K.firebase?K.firebase:void 0,je=re?.sign_in_provider;return{claims:K,token:N,authTime:ze(Fn(K.auth_time)),issuedAtTime:ze(Fn(K.iat)),expirationTime:ze(Fn(K.exp)),signInProvider:je||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function Fn(T){return 1e3*Number(T)}function Zn(T){const[_,b,N]=T.split(".");if(void 0===_||void 0===b||void 0===N)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,a.tV)(b);return K?JSON.parse(K):(kt("Failed to decode base64 JWT payload"),null)}catch(K){return kt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Cn(T,_){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,D.Z)(function*(T,_,b=!1){if(b)return _;try{return yield _}catch(N){throw N instanceof a.ZR&&function Ut({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(N)&&T.auth.currentUser===T&&(yield T.auth.signOut()),N}})).apply(this,arguments)}class dr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const K=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const N=this.getInterval(_);this.timerId=setTimeout((0,D.Z)(function*(){yield b.iteration()}),N)}iteration(){var _=this;return(0,D.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class or{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=ze(this.lastLoginAt),this.creationTime=ze(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(T){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,D.Z)(function*(T){var _;const b=T.auth,N=yield T.getIdToken(),K=yield Cn(T,function xe(T,_){return Ve.apply(this,arguments)}(b,{idToken:N}));Be(K?.users.length,b,"internal-error");const re=K.users[0];T._notifyReloadListener(re);const je=null!==(_=re.providerUserInfo)&&void 0!==_&&_.length?function ti(T){return T.map(_=>{var{providerId:b}=_,N=(0,Ce._T)(_,["providerId"]);return{providerId:b,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(re.providerUserInfo):[],dt=function Ln(T,_){return[...T.filter(N=>!_.some(K=>K.providerId===N.providerId)),..._]}(T.providerData,je),Vn=!!T.isAnonymous&&!(T.email&&re.passwordHash||dt?.length),vr={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:dt,metadata:new or(re.createdAt,re.lastLoginAt),isAnonymous:Vn};Object.assign(T,vr)}),Xn.apply(this,arguments)}function _r(){return(_r=(0,D.Z)(function*(T){const _=(0,a.m9)(T);yield rn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Ai(){return(Ai=(0,D.Z)(function*(T,_){const b=yield yn(T,{},(0,D.Z)(function*(){const N=(0,a.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:K,apiKey:re}=T.config,je=Jn(T,K,"/v1/token",`key=${re}`),dt=yield T._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(je,{method:"POST",headers:dt,body:N})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Be(_.idToken,"internal-error"),Be(typeof _.idToken<"u","internal-error"),Be(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Mn(T){const _=Zn(T);return Be(_,"internal-error"),Be(typeof _.exp<"u","internal-error"),Be(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var N=this;return(0,D.Z)(function*(){return Be(!N.accessToken||N.refreshToken,_,"user-token-expired"),b||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(_,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var N=this;return(0,D.Z)(function*(){const{accessToken:K,refreshToken:re,expiresIn:je}=yield function er(T,_){return Ai.apply(this,arguments)}(_,b);N.updateTokensAndExpiration(K,re,Number(je))})()}updateTokensAndExpiration(_,b,N){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(_,b){const{refreshToken:N,accessToken:K,expirationTime:re}=b,je=new Bn;return N&&(Be("string"==typeof N,"internal-error",{appName:_}),je.refreshToken=N),K&&(Be("string"==typeof K,"internal-error",{appName:_}),je.accessToken=K),re&&(Be("number"==typeof re,"internal-error",{appName:_}),je.expirationTime=re),je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return Et("not implemented")}}function kr(T,_){Be("string"==typeof T||typeof T>"u","internal-error",{appName:_})}class Br{constructor(_){var{uid:b,auth:N,stsTokenManager:K}=_,re=(0,Ce._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=N,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new or(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,D.Z)(function*(){const N=yield Cn(b,b.stsTokenManager.getToken(b.auth,_));return Be(N,b.auth,"internal-error"),b.accessToken!==N&&(b.accessToken=N,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),N})()}getIdTokenResult(_){return function Lt(T){return xn.apply(this,arguments)}(this,_)}reload(){return function Pr(T){return _r.apply(this,arguments)}(this)}_assign(_){this!==_&&(Be(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new Br(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var N=this;return(0,D.Z)(function*(){let K=!1;_.idToken&&_.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(_),K=!0),b&&(yield rn(N)),yield N.auth._persistUserIfCurrent(N),K&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var _=this;return(0,D.Z)(function*(){const b=yield _.getIdToken();return yield Cn(_,function cn(T,_){return br.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var N,K,re,je,dt,Qt,wn,Vn;const vr=null!==(N=b.displayName)&&void 0!==N?N:void 0,js=null!==(K=b.email)&&void 0!==K?K:void 0,Ua=null!==(re=b.phoneNumber)&&void 0!==re?re:void 0,md=null!==(je=b.photoURL)&&void 0!==je?je:void 0,zl=null!==(dt=b.tenantId)&&void 0!==dt?dt:void 0,wa=null!==(Qt=b._redirectEventId)&&void 0!==Qt?Qt:void 0,Hs=null!==(wn=b.createdAt)&&void 0!==wn?wn:void 0,_d=null!==(Vn=b.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Pu,emailVerified:nh,isAnonymous:Va,providerData:yd,stsTokenManager:fu}=b;Be(Pu&&fu,_,"internal-error");const Pc=Bn.fromJSON(this.name,fu);Be("string"==typeof Pu,_,"internal-error"),kr(vr,_.name),kr(js,_.name),Be("boolean"==typeof nh,_,"internal-error"),Be("boolean"==typeof Va,_,"internal-error"),kr(Ua,_.name),kr(md,_.name),kr(zl,_.name),kr(wa,_.name),kr(Hs,_.name),kr(_d,_.name);const rh=new Br({uid:Pu,auth:_,email:js,emailVerified:nh,displayName:vr,isAnonymous:Va,photoURL:md,phoneNumber:Ua,tenantId:zl,stsTokenManager:Pc,createdAt:Hs,lastLoginAt:_d});return yd&&Array.isArray(yd)&&(rh.providerData=yd.map(Ir=>Object.assign({},Ir))),wa&&(rh._redirectEventId=wa),rh}static _fromIdTokenResponse(_,b,N=!1){return(0,D.Z)(function*(){const K=new Bn;K.updateFromServerResponse(b);const re=new Br({uid:b.localId,auth:_,stsTokenManager:K,isAnonymous:N});return yield rn(re),re})()}}const lr=new Map;function nr(T){ln(T instanceof Function,"Expected a class definition");let _=lr.get(T);return _?(ln(_ instanceof T,"Instance stored in cache mismatched with class"),_):(_=new T,lr.set(T,_),_)}const Vr=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(b,N){var K=this;return(0,D.Z)(function*(){K.storage[b]=N})()}_get(b){var N=this;return(0,D.Z)(function*(){const K=N.storage[b];return void 0===K?null:K})()}_remove(b){var N=this;return(0,D.Z)(function*(){delete N.storage[b]})()}_addListener(b,N){}_removeListener(b,N){}}return T.type="NONE",T})();function Kr(T,_,b){return`firebase:${T}:${_}:${b}`}class Ee{constructor(_,b,N){this.persistence=_,this.auth=b,this.userKey=N;const{config:K,name:re}=this.auth;this.fullUserKey=Kr(this.userKey,K.apiKey,re),this.fullPersistenceKey=Kr("persistence",K.apiKey,re),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,D.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Br._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,D.Z)(function*(){if(b.persistence===_)return;const N=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,N?b.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,N="authUser"){return(0,D.Z)(function*(){if(!b.length)return new Ee(nr(Vr),_,N);const K=(yield Promise.all(b.map(function(){var wn=(0,D.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let re=K[0]||nr(Vr);const je=Kr(N,_.config.apiKey,_.name);let dt=null;for(const wn of b)try{const Vn=yield wn._get(je);if(Vn){const vr=Br._fromJSON(_,Vn);wn!==re&&(dt=vr),re=wn;break}}catch{}const Qt=K.filter(wn=>wn._shouldAllowMigration);return re._shouldAllowMigration&&Qt.length?(re=Qt[0],dt&&(yield re._set(je,dt.toJSON())),yield Promise.all(b.map(function(){var wn=(0,D.Z)(function*(Vn){if(Vn!==re)try{yield Vn._remove(je)}catch{}});return function(Vn){return wn.apply(this,arguments)}}())),new Ee(re,_,N)):new Ee(re,_,N)})()}}function me(T){const _=T.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Se(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ie(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(ge(_))return"Blackberry";if(ce(_))return"Webos";if(se(_))return"Safari";if((_.includes("chrome/")||X(_))&&!_.includes("edge/"))return"Chrome";if(pe(_))return"Android";{const N=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function ie(T=(0,a.z$)()){return/firefox\//i.test(T)}function se(T=(0,a.z$)()){const _=T.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function X(T=(0,a.z$)()){return/crios\//i.test(T)}function Se(T=(0,a.z$)()){return/iemobile/i.test(T)}function pe(T=(0,a.z$)()){return/android/i.test(T)}function ge(T=(0,a.z$)()){return/blackberry/i.test(T)}function ce(T=(0,a.z$)()){return/webos/i.test(T)}function Pe(T=(0,a.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function it(T=(0,a.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function pn(T=(0,a.z$)()){return Pe(T)||pe(T)||ce(T)||ge(T)||/windows phone/i.test(T)||Se(T)}function Q(T,_=[]){let b;switch(T){case"Browser":b=me((0,a.z$)());break;case"Worker":b=`${me((0,a.z$)())}-${T}`;break;default:b=T}const N=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${$.SDK_VERSION}/${N}`}function ae(){return(ae=(0,D.Z)(function*(T){return(yield An(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(T,_){return At.apply(this,arguments)}function At(){return(At=(0,D.Z)(function*(T,_){return An(T,"GET","/v2/recaptchaConfig",$t(T,_))})).apply(this,arguments)}function Wt(T){return void 0!==T&&void 0!==T.getResponse}function gn(T){return void 0!==T&&void 0!==T.enterprise}class Kt{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Gn(T){return new Promise((_,b)=>{const N=document.createElement("script");N.setAttribute("src",T),N.onload=_,N.onerror=K=>{const re=Ge("internal-error");re.customData=K,b(re)},N.type="text/javascript",N.charset="UTF-8",function rr(){var T,_;return null!==(_=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==_?_:document}().appendChild(N)})}function Dr(T){return`__${T}${Math.floor(1e6*Math.random())}`}const gs="NO_RECAPTCHA";class yi{constructor(_){this.type="recaptcha-enterprise",this.auth=On(_)}verify(_="verify",b=!1){var N=this;return(0,D.Z)(function*(){function re(){return re=(0,D.Z)(function*(dt){if(!b){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var Qt=(0,D.Z)(function*(wn,Vn){Ue(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vr=>{if(void 0!==vr.recaptchaKey){const js=new Kt(vr);return null==dt.tenantId?dt._agentRecaptchaConfig=js:dt._tenantRecaptchaConfigs[dt.tenantId]=js,wn(js.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(vr=>{Vn(vr)})});return function(wn,Vn){return Qt.apply(this,arguments)}}())}),re.apply(this,arguments)}function je(dt,Qt,wn){const Vn=window.grecaptcha;gn(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(dt,{action:_}).then(vr=>{Qt(vr)}).catch(()=>{Qt(gs)})}):wn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,Qt)=>{(function K(dt){return re.apply(this,arguments)})(N.auth).then(wn=>{if(!b&&gn(window.grecaptcha))je(wn,dt,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));Gn("https://www.google.com/recaptcha/enterprise.js?render="+wn).then(()=>{je(wn,dt,Qt)}).catch(Vn=>{Qt(Vn)})}}).catch(wn=>{Qt(wn)})})})()}}function $r(T,_,b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,D.Z)(function*(T,_,b,N=!1){const K=new yi(T);let re;try{re=yield K.verify(b)}catch{re=yield K.verify(b,!0)}const je=Object.assign({},_);return Object.assign(je,N?{captchaResp:re}:{captchaResponse:re}),Object.assign(je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),je})).apply(this,arguments)}class Qn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const N=re=>new Promise((je,dt)=>{try{je(_(re))}catch(Qt){dt(Qt)}});N.onAbort=b,this.queue.push(N);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,D.Z)(function*(){if(b.auth.currentUser===_)return;const N=[];try{for(const K of b.queue)yield K(_),K.onAbort&&N.push(K.onAbort)}catch(K){N.reverse();for(const re of N)try{re()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class hr{constructor(_,b,N,K){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=N,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ri(this),this.idTokenSubscription=new ri(this),this.beforeStateQueue=new Qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(_,b){var N=this;return b&&(this._popupRedirectResolver=nr(b)),this._initializationPromise=this.queue((0,D.Z)(function*(){var K,re;if(!N._deleted&&(N.persistenceManager=yield Ee.create(N,_),!N._deleted)){if(null!==(K=N._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(b),N.lastNotifiedUid=(null===(re=N.currentUser)||void 0===re?void 0:re.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,D.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,D.Z)(function*(){var N;const K=yield b.assertedPersistence.getCurrentUser();let re=K,je=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const dt=null===(N=b.redirectUser)||void 0===N?void 0:N._redirectEventId,Qt=re?._redirectEventId,wn=yield b.tryRedirectSignIn(_);(!dt||dt===Qt)&&wn?.user&&(re=wn.user,je=!0)}if(!re)return b.directlySetCurrentUser(null);if(!re._redirectEventId){if(je)try{yield b.beforeStateQueue.runMiddleware(re)}catch(dt){re=K,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(dt))}return re?b.reloadAndSetCurrentUserOrClear(re):b.directlySetCurrentUser(null)}return Be(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===re._redirectEventId?b.directlySetCurrentUser(re):b.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(_){var b=this;return(0,D.Z)(function*(){let N=null;try{N=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,D.Z)(function*(){try{yield rn(_)}catch(N){if("auth/network-request-failed"!==N?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var _=this;return(0,D.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,D.Z)(function*(){const N=_?(0,a.m9)(_):null;return N&&Be(N.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(N&&N._clone(b))})()}_updateCurrentUser(_,b=!1){var N=this;return(0,D.Z)(function*(){if(!N._deleted)return _&&Be(N.tenantId===_.tenantId,N,"tenant-id-mismatch"),b||(yield N.beforeStateQueue.runMiddleware(_)),N.queue((0,D.Z)(function*(){yield N.directlySetCurrentUser(_),N.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,D.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,D.Z)(function*(){yield b.assertedPersistence.setPersistence(nr(_))}))}initializeRecaptchaConfig(){var _=this;return(0,D.Z)(function*(){const b=yield Ue(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),N=new Kt(b);null==_.tenantId?_._agentRecaptchaConfig=N:_._tenantRecaptchaConfigs[_.tenantId]=N,N.emailPasswordEnabled&&new yi(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new a.LL("auth","Firebase",_())}onAuthStateChanged(_,b,N){return this.registerStateListener(this.authStateSubscription,_,b,N)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,N){return this.registerStateListener(this.idTokenSubscription,_,b,N)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var N=this;return(0,D.Z)(function*(){const K=yield N.getOrInitRedirectPersistenceManager(b);return null===_?K.removeCurrentUser():K.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,D.Z)(function*(){if(!b.redirectPersistenceManager){const N=_&&nr(_)||b._popupRedirectResolver;Be(N,b,"argument-error"),b.redirectPersistenceManager=yield Ee.create(b,[nr(N._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,D.Z)(function*(){var N,K;return b._isInitialized&&(yield b.queue((0,D.Z)(function*(){}))),(null===(N=b._currentUser)||void 0===N?void 0:N._redirectEventId)===_?b._currentUser:(null===(K=b.redirectUser)||void 0===K?void 0:K._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,D.Z)(function*(){if(_===b.currentUser)return b.queue((0,D.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,N,K){if(this._deleted)return()=>{};const re="function"==typeof b?b:b.next.bind(b),je=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(je,this,"internal-error"),je.then(()=>re(this.currentUser)),"function"==typeof b?_.addObserver(b,N,K):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,D.Z)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Q(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,D.Z)(function*(){var b;const N={"X-Client-Version":_.clientVersion};_.app.options.appId&&(N["X-Firebase-gmpid"]=_.app.options.appId);const K=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();K&&(N["X-Firebase-Client"]=K);const re=yield _._getAppCheckToken();return re&&(N["X-Firebase-AppCheck"]=re),N})()}_getAppCheckToken(){var _=this;return(0,D.Z)(function*(){var b;const N=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return N?.error&&function De(T,..._){_t.logLevel<=ye.in.WARN&&_t.warn(`Auth (${$.SDK_VERSION}): ${T}`,..._)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function On(T){return(0,a.m9)(T)}class ri{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,a.ne)(b=>this.observer=b)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nr(T,_,b){const N=On(T);Be(N._canInitEmulator,N,"emulator-config-failed"),Be(/^https?:\/\//.test(_),N,"invalid-emulator-scheme");const K=!!b?.disableWarnings,re=$e(_),{host:je,port:dt}=function Oe(T){const _=$e(T),b=/(\/\/)?([^?#/]+)/.exec(T.substr(_.length));if(!b)return{host:"",port:null};const N=b[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(N);if(K){const re=K[1];return{host:re,port:Le(N.substr(re.length+1))}}{const[re,je]=N.split(":");return{host:re,port:Le(je)}}}(_);N.config.emulator={url:`${re}//${je}${null===dt?"":`:${dt}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:je,port:dt,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function bt(){function T(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function $e(T){const _=T.indexOf(":");return _<0?"":T.substr(0,_+1)}function Le(T){if(!T)return null;const _=Number(T);return isNaN(_)?null:_}class xt{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Et("not implemented")}_getIdTokenResponse(_){return Et("not implemented")}_linkToIdToken(_,b){return Et("not implemented")}_getReauthenticationResolver(_){return Et("not implemented")}}function Tn(T,_){return fr.apply(this,arguments)}function fr(){return(fr=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:resetPassword",$t(T,_))})).apply(this,arguments)}function $n(T,_){return ur.apply(this,arguments)}function ur(){return(ur=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Oi(){return(Oi=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:update",$t(T,_))})).apply(this,arguments)}function Ti(T,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithPassword",$t(T,_))})).apply(this,arguments)}function ii(T,_){return $o.apply(this,arguments)}function $o(){return($o=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:sendOobCode",$t(T,_))})).apply(this,arguments)}function Zs(){return(Zs=(0,D.Z)(function*(T,_){return ii(T,_)})).apply(this,arguments)}function jo(T,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,D.Z)(function*(T,_){return ii(T,_)})).apply(this,arguments)}function oo(T,_){return wi.apply(this,arguments)}function wi(){return(wi=(0,D.Z)(function*(T,_){return ii(T,_)})).apply(this,arguments)}function Vi(){return(Vi=(0,D.Z)(function*(T,_){return ii(T,_)})).apply(this,arguments)}function es(){return(es=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithEmailLink",$t(T,_))})).apply(this,arguments)}function Li(){return(Li=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithEmailLink",$t(T,_))})).apply(this,arguments)}class hi extends xt{constructor(_,b,N,K=null){super("password",N),this._email=_,this._password=b,this._tenantId=K}static _fromEmailAndPassword(_,b){return new hi(_,b,"password")}static _fromEmailAndCode(_,b,N=null){return new hi(_,b,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,D.Z)(function*(){var N;switch(b.signInMethod){case"password":const K={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(N=_._getRecaptchaConfig())&&void 0!==N&&N.emailPasswordEnabled){const re=yield $r(_,K,"signInWithPassword");return Ti(_,re)}return Ti(_,K).catch(function(){var re=(0,D.Z)(function*(je){if("auth/missing-recaptcha-token"===je.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dt=yield $r(_,K,"signInWithPassword");return Ti(_,dt)}return Promise.reject(je)});return function(je){return re.apply(this,arguments)}}());case"emailLink":return function Pi(T,_){return es.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:rt(_,"internal-error")}})()}_linkToIdToken(_,b){var N=this;return(0,D.Z)(function*(){switch(N.signInMethod){case"password":return $n(_,{idToken:b,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function Ho(T,_){return Li.apply(this,arguments)}(_,{idToken:b,email:N._email,oobCode:N._password});default:rt(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function vo(T,_){return Go.apply(this,arguments)}function Go(){return(Go=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithIdp",$t(T,_))})).apply(this,arguments)}class Cr extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Cr(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):rt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:N,signInMethod:K}=b,re=(0,Ce._T)(b,["providerId","signInMethod"]);if(!N||!K)return null;const je=new Cr(N,K);return je.idToken=re.idToken||void 0,je.accessToken=re.accessToken||void 0,je.secret=re.secret,je.nonce=re.nonce,je.pendingToken=re.pendingToken||null,je}_getIdTokenResponse(_){return vo(_,this.buildRequest())}_linkToIdToken(_,b){const N=this.buildRequest();return N.idToken=b,vo(_,N)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,vo(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,a.xO)(b)}return _}}function so(){return(so=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:sendVerificationCode",$t(T,_))})).apply(this,arguments)}function ms(){return(ms=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithPhoneNumber",$t(T,_))})).apply(this,arguments)}function Ys(){return(Ys=(0,D.Z)(function*(T,_){const b=yield Nn(T,"POST","/v1/accounts:signInWithPhoneNumber",$t(T,_));if(b.temporaryProof)throw Mr(T,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Ea={USER_NOT_FOUND:"user-not-found"};function ca(){return(ca=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithPhoneNumber",$t(T,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ea)})).apply(this,arguments)}class Po extends xt{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new Po({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new Po({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function ua(T,_){return ms.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function ll(T,_){return Ys.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Ia(T,_){return ca.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:N,verificationCode:K}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:N,code:K}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:N,phoneNumber:K,temporaryProof:re}=_;return N||b||K||re?new Po({verificationId:b,verificationCode:N,phoneNumber:K,temporaryProof:re}):null}}class _s{constructor(_){var b,N,K,re,je,dt;const Qt=(0,a.zd)((0,a.pd)(_)),wn=null!==(b=Qt.apiKey)&&void 0!==b?b:null,Vn=null!==(N=Qt.oobCode)&&void 0!==N?N:null,vr=function Bi(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Qt.mode)&&void 0!==K?K:null);Be(wn&&Vn&&vr,"argument-error"),this.apiKey=wn,this.operation=vr,this.code=Vn,this.continueUrl=null!==(re=Qt.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(je=Qt.languageCode)&&void 0!==je?je:null,this.tenantId=null!==(dt=Qt.tenantId)&&void 0!==dt?dt:null}static parseLink(_){const b=function Ha(T){const _=(0,a.zd)((0,a.pd)(T)).link,b=_?(0,a.zd)((0,a.pd)(_)).deep_link_id:null,N=(0,a.zd)((0,a.pd)(T)).deep_link_id;return(N?(0,a.zd)((0,a.pd)(N)).link:null)||N||b||_||T}(_);try{return new _s(b)}catch{return null}}}let $i=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(b,N){return hi._fromEmailAndPassword(b,N)}static credentialWithLink(b,N){const K=_s.parseLink(N);return Be(K,"argument-error"),hi._fromEmailAndCode(b,K.code,K.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class ts{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ta extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Yi extends Ta{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Be("providerId"in b&&"signInMethod"in b,"argument-error"),Cr._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Be(_.idToken||_.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Yi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Yi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:N,oauthTokenSecret:K,pendingToken:re,nonce:je,providerId:dt}=_;if(!N&&!K&&!b&&!re||!dt)return null;try{return new Yi(dt)._credential({idToken:b,accessToken:N,nonce:je,pendingToken:re})}catch{return null}}}let da=(()=>{class T extends Ta{constructor(){super("facebook.com")}static credential(b){return Cr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return T.credentialFromTaggedObject(b)}static credentialFromError(b){return T.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return T.credential(b.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Aa=(()=>{class T extends Ta{constructor(){super("google.com"),this.addScope("profile")}static credential(b,N){return Cr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:N})}static credentialFromResult(b){return T.credentialFromTaggedObject(b)}static credentialFromError(b){return T.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:N,oauthAccessToken:K}=b;if(!N&&!K)return null;try{return T.credential(N,K)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),ys=(()=>{class T extends Ta{constructor(){super("github.com")}static credential(b){return Cr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return T.credentialFromTaggedObject(b)}static credentialFromError(b){return T.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return T.credential(b.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class bo extends xt{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return vo(_,this.buildRequest())}_linkToIdToken(_,b){const N=this.buildRequest();return N.idToken=b,vo(_,N)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,vo(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:N,signInMethod:K,pendingToken:re}=b;return N&&K&&re&&N===K?new bo(N,re):null}static _create(_,b){return new bo(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ns extends ts{constructor(_){Be(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ns.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ns.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=bo.fromJSON(_);return Be(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:N}=_;if(!b||!N)return null;try{return bo._create(N,b)}catch{return null}}}let kl=(()=>{class T extends Ta{constructor(){super("twitter.com")}static credential(b,N){return Cr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:N})}static credentialFromResult(b){return T.credentialFromTaggedObject(b)}static credentialFromError(b){return T.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:N,oauthTokenSecret:K}=b;if(!N||!K)return null;try{return T.credential(N,K)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function fa(T,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signUp",$t(T,_))})).apply(this,arguments)}class oi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,N,K=!1){return(0,D.Z)(function*(){const re=yield Br._fromIdTokenResponse(_,N,K),je=vs(N);return new oi({user:re,providerId:je,_tokenResponse:N,operationType:b})})()}static _forOperation(_,b,N){return(0,D.Z)(function*(){yield _._updateTokensIfNecessary(N,!0);const K=vs(N);return new oi({user:_,providerId:K,_tokenResponse:N,operationType:b})})()}}function vs(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function rs(T){return li.apply(this,arguments)}function li(){return(li=(0,D.Z)(function*(T){var _;const b=On(T);if(yield b._initializationPromise,null!==(_=b.currentUser)&&void 0!==_&&_.isAnonymous)return new oi({user:b.currentUser,providerId:null,operationType:"signIn"});const N=yield fa(b,{returnSecureToken:!0}),K=yield oi._fromIdTokenResponse(b,"signIn",N,!0);return yield b._updateCurrentUser(K.user),K})).apply(this,arguments)}class Ui extends a.ZR{constructor(_,b,N,K){var re;super(b.code,b.message),this.operationType=N,this.user=K,Object.setPrototypeOf(this,Ui.prototype),this.customData={appName:_.name,tenantId:null!==(re=_.tenantId)&&void 0!==re?re:void 0,_serverResponse:b.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(_,b,N,K){return new Ui(_,b,N,K)}}function Si(T,_,b,N){return("reauthenticate"===_?b._getReauthenticationResolver(T):b._getIdTokenResponse(T)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ui._fromErrorAndOperation(T,re,_,N):re})}function pi(T){return new Set(T.map(({providerId:_})=>_).filter(_=>!!_))}function bs(T,_){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,D.Z)(function*(T,_){const b=(0,a.m9)(T);yield Ns(!0,b,_);const{providerUserInfo:N}=yield function Lr(T,_){return qe.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),K=pi(N||[]);return b.providerData=b.providerData.filter(re=>K.has(re.providerId)),K.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Sa.apply(this,arguments)}function Er(T,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,D.Z)(function*(T,_,b=!1){const N=yield Cn(T,_._linkToIdToken(T.auth,yield T.getIdToken()),b);return oi._forOperation(T,"link",N)})).apply(this,arguments)}function Ns(T,_,b){return ws.apply(this,arguments)}function ws(){return(ws=(0,D.Z)(function*(T,_,b){yield rn(_);const K=!1===T?"provider-already-linked":"no-such-provider";Be(pi(_.providerData).has(b)===T,_.auth,K)})).apply(this,arguments)}function ou(T,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,D.Z)(function*(T,_,b=!1){const{auth:N}=T,K="reauthenticate";try{const re=yield Cn(T,Si(N,K,_,T),b);Be(re.idToken,N,"internal-error");const je=Zn(re.idToken);Be(je,N,"internal-error");const{sub:dt}=je;return Be(T.uid===dt,N,"user-mismatch"),oi._forOperation(T,K,re)}catch(re){throw"auth/user-not-found"===re?.code&&rt(N,"user-mismatch"),re}})).apply(this,arguments)}function is(T,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,D.Z)(function*(T,_,b=!1){const N="signIn",K=yield Si(T,N,_),re=yield oi._fromIdTokenResponse(T,N,K);return b||(yield T._updateCurrentUser(re.user)),re})).apply(this,arguments)}function zn(T,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,D.Z)(function*(T,_){return is(On(T),_)})).apply(this,arguments)}function wo(T,_){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,D.Z)(function*(T,_){const b=(0,a.m9)(T);return yield Ns(!1,b,_.providerId),Er(b,_)})).apply(this,arguments)}function xs(T,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,D.Z)(function*(T,_){return ou((0,a.m9)(T),_)})).apply(this,arguments)}function za(){return(za=(0,D.Z)(function*(T,_){return Nn(T,"POST","/v1/accounts:signInWithCustomToken",$t(T,_))})).apply(this,arguments)}function Fl(T,_){return ht.apply(this,arguments)}function ht(){return ht=(0,D.Z)(function*(T,_){const b=On(T),N=yield function ga(T,_){return za.apply(this,arguments)}(b,{token:_,returnSecureToken:!0}),K=yield oi._fromIdTokenResponse(b,"signIn",N);return yield b._updateCurrentUser(K.user),K}),ht.apply(this,arguments)}class Wn{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?zo._fromServerResponse(_,b):"totpInfo"in b?ki._fromServerResponse(_,b):rt(_,"internal-error")}}class zo extends Wn{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new zo(b)}}class ki extends Wn{constructor(_){super("totp",_)}static _fromServerResponse(_,b){return new ki(b)}}function zr(T,_,b){var N;Be((null===(N=b.url)||void 0===N?void 0:N.length)>0,T,"invalid-continue-uri"),Be(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Be(b.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Be(b.android.packageName.length>0,T,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function Ps(T,_,b){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,D.Z)(function*(T,_,b){var N;const K=On(T),re={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(N=K._getRecaptchaConfig())&&void 0!==N&&N.emailPasswordEnabled){const je=yield $r(K,re,"getOobCode",!0);b&&zr(K,je,b),yield jo(K,je)}else b&&zr(K,re,b),yield jo(K,re).catch(function(){var je=(0,D.Z)(function*(dt){if("auth/missing-recaptcha-token"!==dt.code)return Promise.reject(dt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Qt=yield $r(K,re,"getOobCode",!0);b&&zr(K,Qt,b),yield jo(K,Qt)}});return function(dt){return je.apply(this,arguments)}}())}),Ji.apply(this,arguments)}function Do(T,_,b){return ma.apply(this,arguments)}function ma(){return(ma=(0,D.Z)(function*(T,_,b){yield Tn((0,a.m9)(T),{oobCode:_,newPassword:b})})).apply(this,arguments)}function Wa(T,_){return cl.apply(this,arguments)}function cl(){return cl=(0,D.Z)(function*(T,_){yield function Ki(T,_){return Oi.apply(this,arguments)}((0,a.m9)(T),{oobCode:_})}),cl.apply(this,arguments)}function Wo(T,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,D.Z)(function*(T,_){const b=(0,a.m9)(T),N=yield Tn(b,{oobCode:_}),K=N.requestType;switch(Be(K,b,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(N.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(N.mfaInfo,b,"internal-error");default:Be(N.email,b,"internal-error")}let re=null;return N.mfaInfo&&(re=Wn._fromServerResponse(On(b),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:re},operation:K}})).apply(this,arguments)}function vi(T,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,D.Z)(function*(T,_){const{data:b}=yield Wo((0,a.m9)(T),_);return b.email})).apply(this,arguments)}function ks(T,_,b){return ko.apply(this,arguments)}function ko(){return ko=(0,D.Z)(function*(T,_,b){var N;const K=On(T),re={returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"};let je;if(null!==(N=K._getRecaptchaConfig())&&void 0!==N&&N.emailPasswordEnabled){const wn=yield $r(K,re,"signUpPassword");je=fa(K,wn)}else je=fa(K,re).catch(function(){var wn=(0,D.Z)(function*(Vn){if("auth/missing-recaptcha-token"===Vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const vr=yield $r(K,re,"signUpPassword");return fa(K,vr)}return Promise.reject(Vn)});return function(Vn){return wn.apply(this,arguments)}}());const dt=yield je.catch(wn=>Promise.reject(wn)),Qt=yield oi._fromIdTokenResponse(K,"signIn",dt);return yield K._updateCurrentUser(Qt.user),Qt}),ko.apply(this,arguments)}function Co(T,_,b){return zn((0,a.m9)(T),$i.credential(_,b))}function Fs(T,_,b){return ao.apply(this,arguments)}function ao(){return ao=(0,D.Z)(function*(T,_,b){var N;const K=On(T),re={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function je(dt,Qt){Be(Qt.handleCodeInApp,K,"argument-error"),Qt&&zr(K,dt,Qt)}if(null!==(N=K._getRecaptchaConfig())&&void 0!==N&&N.emailPasswordEnabled){const dt=yield $r(K,re,"getOobCode",!0);je(dt,b),yield oo(K,dt)}else je(re,b),yield oo(K,re).catch(function(){var dt=(0,D.Z)(function*(Qt){if("auth/missing-recaptcha-token"!==Qt.code)return Promise.reject(Qt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const wn=yield $r(K,re,"getOobCode",!0);je(wn,b),yield oo(K,wn)}});return function(Qt){return dt.apply(this,arguments)}}())}),ao.apply(this,arguments)}function Qi(T,_){return"EMAIL_SIGNIN"===_s.parseLink(_)?.operation}function su(T,_,b){return si.apply(this,arguments)}function si(){return(si=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T),K=$i.credentialWithLink(_,b||Ct());return Be(K._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),zn(N,K)})).apply(this,arguments)}function os(){return(os=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:createAuthUri",$t(T,_))})).apply(this,arguments)}function Xi(T,_){return ss.apply(this,arguments)}function ss(){return ss=(0,D.Z)(function*(T,_){const N={identifier:_,continueUri:_n()?Ct():"http://localhost"},{signinMethods:K}=yield function Yr(T,_){return os.apply(this,arguments)}((0,a.m9)(T),N);return K||[]}),ss.apply(this,arguments)}function Rr(T,_){return qo.apply(this,arguments)}function qo(){return qo=(0,D.Z)(function*(T,_){const b=(0,a.m9)(T),K={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};_&&zr(b.auth,K,_);const{email:re}=yield function Xo(T,_){return Zs.apply(this,arguments)}(b.auth,K);re!==T.email&&(yield T.reload())}),qo.apply(this,arguments)}function Cs(T,_,b){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:_};b&&zr(N.auth,re,b);const{email:je}=yield function la(T,_){return Vi.apply(this,arguments)}(N.auth,re);je!==T.email&&(yield T.reload())}),Mi.apply(this,arguments)}function _a(){return(_a=(0,D.Z)(function*(T,_){return An(T,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Eo(T,_){return as.apply(this,arguments)}function as(){return as=(0,D.Z)(function*(T,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const N=(0,a.m9)(T),re={idToken:yield N.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},je=yield Cn(N,function Ra(T,_){return _a.apply(this,arguments)}(N.auth,re));N.displayName=je.displayName||null,N.photoURL=je.photoUrl||null;const dt=N.providerData.find(({providerId:Qt})=>"password"===Qt);dt&&(dt.displayName=N.displayName,dt.photoURL=N.photoURL),yield N._updateTokensIfNecessary(je)}),as.apply(this,arguments)}function dl(T,_){return Ci((0,a.m9)(T),_,null)}function ai(T,_){return Ci((0,a.m9)(T),null,_)}function Ci(T,_,b){return yr.apply(this,arguments)}function yr(){return(yr=(0,D.Z)(function*(T,_,b){const{auth:N}=T,re={idToken:yield T.getIdToken(),returnSecureToken:!0};_&&(re.email=_),b&&(re.password=b);const je=yield Cn(T,$n(N,re));yield T._updateTokensIfNecessary(je,!0)})).apply(this,arguments)}class Es{constructor(_,b,N={}){this.isNewUser=_,this.providerId=b,this.profile=N}}class Js extends Es{constructor(_,b,N,K){super(_,b,N),this.username=K}}class Ll extends Es{constructor(_,b){super(_,"facebook.com",b)}}class hl extends Js{constructor(_,b){super(_,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class lo extends Es{constructor(_,b){super(_,"google.com",b)}}class Zo extends Js{constructor(_,b,N){super(_,"twitter.com",b,N)}}function fl(T){const{user:_,_tokenResponse:b}=T;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Oa(T){var _,b;if(!T)return null;const{providerId:N}=T,K=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},re=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!N&&T?.idToken){const je=null===(b=null===(_=Zn(T.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(je)return new Es(re,"anonymous"!==je&&"custom"!==je?je:null)}if(!N)return null;switch(N){case"facebook.com":return new Ll(re,K);case"github.com":return new hl(re,K);case"google.com":return new lo(re,K);case"twitter.com":return new Zo(re,K,T.screenName||null);case"custom":case"anonymous":return new Es(re,null);default:return new Es(re,N,K)}}(b)}class de{constructor(_,b,N){this.type=_,this.credential=b,this.auth=N}static _fromIdtoken(_,b){return new de("enroll",_,b)}static _fromMfaPendingCredential(_){return new de("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,N;if(_?.multiFactorSession){if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.pendingCredential)return de._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(N=_.multiFactorSession)&&void 0!==N&&N.idToken)return de._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Xe{constructor(_,b,N){this.session=_,this.hints=b,this.signInResolver=N}static _fromError(_,b){const N=On(_),K=b.customData._serverResponse,re=(K.mfaInfo||[]).map(dt=>Wn._fromServerResponse(N,dt));Be(K.mfaPendingCredential,N,"internal-error");const je=de._fromMfaPendingCredential(K.mfaPendingCredential);return new Xe(je,re,function(){var dt=(0,D.Z)(function*(Qt){const wn=yield Qt._process(N,je);delete K.mfaInfo,delete K.mfaPendingCredential;const Vn=Object.assign(Object.assign({},K),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(b.operationType){case"signIn":const vr=yield oi._fromIdTokenResponse(N,b.operationType,Vn);return yield N._updateCurrentUser(vr.user),vr;case"reauthenticate":return Be(b.user,N,"internal-error"),oi._forOperation(b.user,b.operationType,Vn);default:rt(N,"internal-error")}});return function(Qt){return dt.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,D.Z)(function*(){return b.signInResolver(_)})()}}function zt(T,_){var b;const N=(0,a.m9)(T),K=_;return Be(_.customData.operationType,N,"argument-error"),Be(null===(b=K.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,N,"argument-error"),Xe._fromError(N,K)}class Io{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(N=>Wn._fromServerResponse(_.auth,N)))})}static _fromUser(_){return new Io(_)}getSession(){var _=this;return(0,D.Z)(function*(){return de._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,b){var N=this;return(0,D.Z)(function*(){const K=_,re=yield N.getSession(),je=yield Cn(N.user,K._process(N.user.auth,re,b));return yield N.user._updateTokensIfNecessary(je),N.user.reload()})()}unenroll(_){var b=this;return(0,D.Z)(function*(){const N="string"==typeof _?_:_.uid,K=yield b.user.getIdToken();try{const re=yield Cn(b.user,function Jr(T,_){return An(T,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(T,_))}(b.user.auth,{idToken:K,mfaEnrollmentId:N}));b.enrolledFactors=b.enrolledFactors.filter(({uid:je})=>je!==N),yield b.user._updateTokensIfNecessary(re),yield b.user.reload()}catch(re){throw re}})()}}const tn=new WeakMap;function En(T){const _=(0,a.m9)(T);return tn.has(_)||tn.set(_,Io._fromUser(_)),tn.get(_)}const xa="__sak";class on{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const To=(()=>{class T extends on{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,N)=>this.onStorageEvent(b,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ct(){const T=(0,a.z$)();return se(T)||Pe(T)}()&&function nt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const N of Object.keys(this.listeners)){const K=this.storage.getItem(N),re=this.localCache[N];K!==re&&b(N,re,K)}}onStorageEvent(b,N=!1){if(!b.key)return void this.forAllChangedKeys((dt,Qt,wn)=>{this.notifyListeners(dt,wn)});const K=b.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(K);if(b.newValue!==dt)null!==b.newValue?this.storage.setItem(K,b.newValue):this.storage.removeItem(K);else if(this.localCache[K]===b.newValue&&!N)return}const re=()=>{const dt=this.storage.getItem(K);!N&&this.localCache[K]===dt||this.notifyListeners(K,dt)},je=this.storage.getItem(K);!function vn(){return(0,a.w1)()&&10===document.documentMode}()||je===b.newValue||b.newValue===b.oldValue?re():setTimeout(re,10)}notifyListeners(b,N){this.localCache[b]=N;const K=this.listeners[b];if(K)for(const re of Array.from(K))re(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,N,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:N,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,N){var K=()=>super._set,re=this;return(0,D.Z)(function*(){yield K().call(re,b,N),re.localCache[b]=JSON.stringify(N)})()}_get(b){var N=()=>super._get,K=this;return(0,D.Z)(function*(){const re=yield N().call(K,b);return K.localCache[b]=JSON.stringify(re),re})()}_remove(b){var N=()=>super._remove,K=this;return(0,D.Z)(function*(){yield N().call(K,b),delete K.localCache[b]})()}}return T.type="LOCAL",T})(),ls=(()=>{class T extends on{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,N){}_removeListener(b,N){}}return T.type="SESSION",T})();let Bl=(()=>{class T{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const N=this.receivers.find(re=>re.isListeningto(b));if(N)return N;const K=new T(b);return this.receivers.push(K),K}isListeningto(b){return this.eventTarget===b}handleEvent(b){var N=this;return(0,D.Z)(function*(){const K=b,{eventId:re,eventType:je,data:dt}=K.data,Qt=N.handlersMap[je];if(!Qt?.size)return;K.ports[0].postMessage({status:"ack",eventId:re,eventType:je});const wn=Array.from(Qt).map(function(){var vr=(0,D.Z)(function*(js){return js(K.origin,dt)});return function(js){return vr.apply(this,arguments)}}()),Vn=yield function Eu(T){return Promise.all(T.map(function(){var _=(0,D.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(N){return{fulfilled:!1,reason:N}}});return function(b){return _.apply(this,arguments)}}()))}(wn);K.ports[0].postMessage({status:"done",eventId:re,eventType:je,response:Vn})})()}_subscribe(b,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(N)}_unsubscribe(b,N){this.handlersMap[b]&&N&&this.handlersMap[b].delete(N),(!N||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function ya(T="",_=10){let b="";for(let N=0;N<_;N++)b+=Math.floor(10*Math.random());return T+b}class Iu{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,N=50){var K=this;return(0,D.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let je,dt;return new Promise((Qt,wn)=>{const Vn=ya("",20);re.port1.start();const vr=setTimeout(()=>{wn(new Error("unsupported_event"))},N);dt={messageChannel:re,onMessage(js){const Ua=js;if(Ua.data.eventId===Vn)switch(Ua.data.status){case"ack":clearTimeout(vr),je=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(je),Qt(Ua.data.response);break;default:clearTimeout(vr),clearTimeout(je),wn(new Error("invalid_response"))}}},K.handlers.add(dt),re.port1.addEventListener("message",dt.onMessage),K.target.postMessage({eventType:_,eventId:Vn,data:b},[re.port2])}).finally(()=>{dt&&K.removeMessageHandler(dt)})})()}}function jr(){return window}function Tu(){return typeof jr().WorkerGlobalScope<"u"&&"function"==typeof jr().importScripts}function eo(){return(eo=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hn="firebaseLocalStorageDb",pl=1,Un="firebaseLocalStorage",Su="fbase_key";class tr{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Pt(T,_){return T.transaction([Un],_?"readwrite":"readonly").objectStore(Un)}function Ls(){const T=indexedDB.open(hn,pl);return new Promise((_,b)=>{T.addEventListener("error",()=>{b(T.error)}),T.addEventListener("upgradeneeded",()=>{const N=T.result;try{N.createObjectStore(Un,{keyPath:Su})}catch(K){b(K)}}),T.addEventListener("success",(0,D.Z)(function*(){const N=T.result;N.objectStoreNames.contains(Un)?_(N):(N.close(),yield function Qs(){const T=indexedDB.deleteDatabase(hn);return new tr(T).toPromise()}(),_(yield Ls()))}))})}function Za(T,_,b){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,D.Z)(function*(T,_,b){const N=Pt(T,!0).put({[Su]:_,value:b});return new tr(N).toPromise()})).apply(this,arguments)}function Ya(){return(Ya=(0,D.Z)(function*(T,_){const b=Pt(T,!1).get(_),N=yield new tr(b).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Ja(T,_){const b=Pt(T,!0).delete(_);return new tr(b).toPromise()}const Ul=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,D.Z)(function*(){return b.db||(b.db=yield Ls()),b.db})()}_withRetries(b){var N=this;return(0,D.Z)(function*(){let K=0;for(;;)try{const re=yield N._openDb();return yield b(re)}catch(re){if(K++>3)throw re;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,D.Z)(function*(){return Tu()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,D.Z)(function*(){b.receiver=Bl._getInstance(function ui(){return Tu()?self:null}()),b.receiver._subscribe("keyChanged",function(){var N=(0,D.Z)(function*(K,re){return{keyProcessed:(yield b._poll()).includes(re.key)}});return function(K,re){return N.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var N=(0,D.Z)(function*(K,re){return["keyChanged"]});return function(K,re){return N.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,D.Z)(function*(){var N,K;if(b.activeServiceWorker=yield function Yn(){return eo.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Iu(b.activeServiceWorker);const re=yield b.sender._send("ping",{},800);re&&null!==(N=re[0])&&void 0!==N&&N.fulfilled&&null!==(K=re[0])&&void 0!==K&&K.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var N=this;return(0,D.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Au(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:b},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Ls();return yield Za(b,xa,"1"),yield Ja(b,xa),!0}catch{}return!1})()}_withPendingWrite(b){var N=this;return(0,D.Z)(function*(){N.pendingWrites++;try{yield b()}finally{N.pendingWrites--}})()}_set(b,N){var K=this;return(0,D.Z)(function*(){return K._withPendingWrite((0,D.Z)(function*(){return yield K._withRetries(re=>Za(re,b,N)),K.localCache[b]=N,K.notifyServiceWorker(b)}))})()}_get(b){var N=this;return(0,D.Z)(function*(){const K=yield N._withRetries(re=>function Xs(T,_){return Ya.apply(this,arguments)}(re,b));return N.localCache[b]=K,K})()}_remove(b){var N=this;return(0,D.Z)(function*(){return N._withPendingWrite((0,D.Z)(function*(){return yield N._withRetries(K=>Ja(K,b)),delete N.localCache[b],N.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,D.Z)(function*(){const N=yield b._withRetries(je=>{const dt=Pt(je,!1).getAll();return new tr(dt).toPromise()});if(!N)return[];if(0!==b.pendingWrites)return[];const K=[],re=new Set;for(const{fbase_key:je,value:dt}of N)re.add(je),JSON.stringify(b.localCache[je])!==JSON.stringify(dt)&&(b.notifyListeners(je,dt),K.push(je));for(const je of Object.keys(b.localCache))b.localCache[je]&&!re.has(je)&&(b.notifyListeners(je,null),K.push(je));return K})()}notifyListeners(b,N){this.localCache[b]=N;const K=this.listeners[b];if(K)for(const re of Array.from(K))re(N)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),ea=1e12;class Bs{constructor(_){this.auth=_,this.counter=ea,this._widgets=new Map}render(_,b){const N=this.counter;return this._widgets.set(N,new ud(_,this.auth.name,b||{})),this.counter++,N}reset(_){var b;const N=_||ea;null===(b=this._widgets.get(N))||void 0===b||b.delete(),this._widgets.delete(N)}getResponse(_){var b;return(null===(b=this._widgets.get(_||ea))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,D.Z)(function*(){var N;return null===(N=b._widgets.get(_||ea))||void 0===N||N.execute(),""})()}}class ud{constructor(_,b,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof _?document.getElementById(_):_;Be(K,"argument-error",{appName:b}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(T){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<T;N++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ao=Dr("rcb"),us=new ft(3e4,6e4);class Qa{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=jr().grecaptcha)||void 0===_||!_.render)}load(_,b=""){return Be(function Ic(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(b),_,"argument-error"),this.shouldResolveImmediately(b)&&Wt(jr().grecaptcha)?Promise.resolve(jr().grecaptcha):new Promise((N,K)=>{const re=jr().setTimeout(()=>{K(Ge(_,"network-request-failed"))},us.get());jr()[Ao]=()=>{jr().clearTimeout(re),delete jr()[Ao];const dt=jr().grecaptcha;if(!dt||!Wt(dt))return void K(Ge(_,"internal-error"));const Qt=dt.render;dt.render=(wn,Vn)=>{const vr=Qt(wn,Vn);return this.counter++,vr},this.hostLanguage=b,N(dt)},Gn(`https://www.google.com/recaptcha/api.js??${(0,a.xO)({onload:Ao,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(re),K(Ge(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!(null===(b=jr().grecaptcha)||void 0===b||!b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tc{load(_){return(0,D.Z)(function*(){return new Bs(_)})()}clearedOneInstance(){}}const Hi="recaptcha",So={theme:"light",type:"image"};class Us{constructor(_,b=Object.assign({},So),N){this.parameters=b,this.type=Hi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(N),this.isInvisible="invisible"===this.parameters.size,Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;Be(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tc:new Qa,this.validateStartingState()}verify(){var _=this;return(0,D.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),N=_.getAssertedRecaptcha();return N.getResponse(b)||new Promise(re=>{const je=dt=>{dt&&(_.tokenChangeListeners.delete(je),re(dt))};_.tokenChangeListeners.add(je),_.isInvisible&&N.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(N=>N(b)),"function"==typeof _)_(b);else if("string"==typeof _){const N=jr()[_];"function"==typeof N&&N(b)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,D.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const N=document.createElement("div");b.appendChild(N),b=N}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,D.Z)(function*(){Be(_n()&&!Tu(),_.auth,"internal-error"),yield function Xa(){let T=null;return new Promise(_=>{"complete"!==document.readyState?(T=()=>_(),window.addEventListener("load",T)):_()}).catch(_=>{throw T&&window.removeEventListener("load",T),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Y(T){return ae.apply(this,arguments)}(_.auth);Be(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mo{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=Po._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function gi(T,_,b){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,D.Z)(function*(T,_,b){const N=On(T),K=yield P(N,_,(0,a.m9)(b));return new Mo(K,re=>zn(N,re))})).apply(this,arguments)}function vl(T,_,b){return I.apply(this,arguments)}function I(){return(I=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T);yield Ns(!1,N,"phone");const K=yield P(N.auth,_,(0,a.m9)(b));return new Mo(K,re=>wo(N,re))})).apply(this,arguments)}function S(T,_,b){return w.apply(this,arguments)}function w(){return(w=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T),K=yield P(N.auth,_,(0,a.m9)(b));return new Mo(K,re=>xs(N,re))})).apply(this,arguments)}function P(T,_,b){return V.apply(this,arguments)}function V(){return V=(0,D.Z)(function*(T,_,b){var N;const K=yield b.verify();try{let re;if(Be("string"==typeof K,T,"argument-error"),Be(b.type===Hi,T,"argument-error"),re="string"==typeof _?{phoneNumber:_}:_,"session"in re){const je=re.session;if("phoneNumber"in re)return Be("enroll"===je.type,T,"internal-error"),(yield function Dn(T,_){return An(T,"POST","/v2/accounts/mfaEnrollment:start",$t(T,_))}(T,{idToken:je.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Be("signin"===je.type,T,"internal-error");const dt=(null===(N=re.multiFactorHint)||void 0===N?void 0:N.uid)||re.multiFactorUid;return Be(dt,T,"missing-multi-factor-info"),(yield function Vl(T,_){return An(T,"POST","/v2/accounts/mfaSignIn:start",$t(T,_))}(T,{mfaPendingCredential:je.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:je}=yield function al(T,_){return so.apply(this,arguments)}(T,{phoneNumber:re.phoneNumber,recaptchaToken:K});return je}}finally{b._reset()}}),V.apply(this,arguments)}function J(T,_){return oe.apply(this,arguments)}function oe(){return(oe=(0,D.Z)(function*(T,_){yield Er((0,a.m9)(T),_)})).apply(this,arguments)}let Ze=(()=>{class T{constructor(b){this.providerId=T.PROVIDER_ID,this.auth=On(b)}verifyPhoneNumber(b,N){return P(this.auth,b,(0,a.m9)(N))}static credential(b,N){return Po._fromVerification(b,N)}static credentialFromResult(b){return T.credentialFromTaggedObject(b)}static credentialFromError(b){return T.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:N,temporaryProof:K}=b;return N&&K?Po._fromTokenResponse(N,K):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Nt(T,_){return _?nr(_):(Be(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class mn extends xt{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return vo(_,this._buildIdpRequest())}_linkToIdToken(_,b){return vo(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return vo(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function dn(T){return is(T.auth,new mn(T),T.bypassAuthState)}function Qr(T){const{auth:_,user:b}=T;return Be(b,_,"internal-error"),ou(b,new mn(T),T.bypassAuthState)}function to(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,D.Z)(function*(T){const{auth:_,user:b}=T;return Be(b,_,"internal-error"),Er(b,new mn(T),T.bypassAuthState)})).apply(this,arguments)}class Is{constructor(_,b,N,K,re=!1){this.auth=_,this.resolver=N,this.user=K,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,D.Z)(function*(N,K){_.pendingPromise={resolve:N,reject:K};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(re){_.reject(re)}});return function(N,K){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,D.Z)(function*(){const{urlResponse:N,sessionId:K,postBody:re,tenantId:je,error:dt,type:Qt}=_;if(dt)return void b.reject(dt);const wn={auth:b.auth,requestUri:N,sessionId:K,tenantId:je||void 0,postBody:re||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Qt)(wn))}catch(Vn){b.reject(Vn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return dn;case"linkViaPopup":case"linkViaRedirect":return to;case"reauthViaPopup":case"reauthViaRedirect":return Qr;default:rt(this.auth,"internal-error")}}resolve(_){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const va=new ft(2e3,1e4);function Ri(T,_,b){return bl.apply(this,arguments)}function bl(){return(bl=(0,D.Z)(function*(T,_,b){const N=On(T);Rt(T,_,ts);const K=Nt(N,b);return new Ac(N,"signInViaPopup",_,K).executeNotNull()})).apply(this,arguments)}function au(T,_,b){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T);Rt(N.auth,_,ts);const K=Nt(N.auth,b);return new Ac(N.auth,"reauthViaPopup",_,K,N).executeNotNull()})).apply(this,arguments)}function Kd(T,_,b){return lu.apply(this,arguments)}function lu(){return(lu=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T);Rt(N.auth,_,ts);const K=Nt(N.auth,b);return new Ac(N.auth,"linkViaPopup",_,K,N).executeNotNull()})).apply(this,arguments)}let Ac=(()=>{class T extends Is{constructor(b,N,K,re,je){super(b,N,re,je),this.provider=K,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var b=this;return(0,D.Z)(function*(){const N=yield b.execute();return Be(N,b.auth,"internal-error"),N})()}onExecution(){var b=this;return(0,D.Z)(function*(){ln(1===b.filter.length,"Popup operations only handle one event");const N=ya();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],N),b.authWindow.associatedEvent=N,b.resolver._originValidation(b.auth).catch(K=>{b.reject(K)}),b.resolver._isIframeWebStorageSupported(b.auth,K=>{K||b.reject(Ge(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const b=()=>{var N,K;this.pollId=null!==(K=null===(N=this.authWindow)||void 0===N?void 0:N.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,va.get())};b()}}return T.currentPopupAction=null,T})();const La="pendingRedirect",Ts=new Map;class ho extends Is{constructor(_,b,N=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,N),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,D.Z)(function*(){let N=Ts.get(b.auth._key());if(!N){try{const re=(yield function Yd(T,_){return ta.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;N=()=>Promise.resolve(re)}catch(K){N=()=>Promise.reject(K)}Ts.set(b.auth._key(),N)}return b.bypassAuthState||Ts.set(b.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,N=this;return(0,D.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(N,_);if("unknown"!==_.type){if(_.eventId){const K=yield N.auth._redirectUserForId(_.eventId);if(K)return N.user=K,b().call(N,_);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function ta(){return(ta=(0,D.Z)(function*(T,_){const b=dd(_),N=mi(T);if(!(yield N._isAvailable()))return!1;const K="true"===(yield N._get(b));return yield N._remove(b),K})).apply(this,arguments)}function cd(T,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,D.Z)(function*(T,_){return mi(T)._set(dd(_),"true")})).apply(this,arguments)}function el(){Ts.clear()}function Ko(T,_){Ts.set(T._key(),_)}function mi(T){return nr(T._redirectPersistence)}function dd(T){return Kr(La,T.config.apiKey,T.name)}function uu(T,_,b){return function As(T,_,b){return Sc.apply(this,arguments)}(T,_,b)}function Sc(){return(Sc=(0,D.Z)(function*(T,_,b){const N=On(T);Rt(T,_,ts),yield N._initializationPromise;const K=Nt(N,b);return yield cd(K,N),K._openRedirect(N,_,"signInViaRedirect")})).apply(this,arguments)}function hd(T,_,b){return function fo(T,_,b){return cu.apply(this,arguments)}(T,_,b)}function cu(){return(cu=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T);Rt(N.auth,_,ts),yield N.auth._initializationPromise;const K=Nt(N.auth,b);yield cd(K,N.auth);const re=yield Ss(N);return K._openRedirect(N.auth,_,"reauthViaRedirect",re)})).apply(this,arguments)}function wl(T,_,b){return function Gi(T,_,b){return po.apply(this,arguments)}(T,_,b)}function po(){return(po=(0,D.Z)(function*(T,_,b){const N=(0,a.m9)(T);Rt(N.auth,_,ts),yield N.auth._initializationPromise;const K=Nt(N.auth,b);yield Ns(!1,N,_.providerId),yield cd(K,N.auth);const re=yield Ss(N);return K._openRedirect(N.auth,_,"linkViaRedirect",re)})).apply(this,arguments)}function ba(T,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,D.Z)(function*(T,_){return yield On(T)._initializationPromise,Mu(T,_,!1)})).apply(this,arguments)}function Mu(T,_){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,D.Z)(function*(T,_,b=!1){const N=On(T),K=Nt(N,_),je=yield new ho(N,K,b).execute();return je&&!b&&(delete je.user._redirectEventId,yield N._persistUserIfCurrent(je.user),yield N._setRedirectUser(null,_)),je})).apply(this,arguments)}function Ss(T){return cs.apply(this,arguments)}function cs(){return(cs=(0,D.Z)(function*(T){const _=ya(`${T.uid}:::`);return T._redirectEventId=_,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),_})).apply(this,arguments)}class tl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(_,N)&&(b=!0,this.sendToConsumer(_,N),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Dl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(T);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var N;if(_.error&&!du(_)){const K=(null===(N=_.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";b.onError(Ge(this.auth,K))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const N=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&N}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ds(_))}saveEventToCache(_){this.cachedEventUids.add(ds(_)),this.lastProcessedEventTime=Date.now()}}function ds(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(_=>_).join("-")}function du({type:T,error:_}){return"unknown"===T&&"auth/no-auth-event"===_?.code}function Mc(T){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,D.Z)(function*(T,_={}){return An(T,"GET","/v1/projects",_)})).apply(this,arguments)}const Jd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nc=/^https?/;function El(){return(El=(0,D.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:_}=yield Mc(T);for(const b of _)try{if(Ru(b))return}catch{}rt(T,"unauthorized-domain")})).apply(this,arguments)}function Ru(T){const _=Ct(),{protocol:b,hostname:N}=new URL(_);if(T.startsWith("chrome-extension://")){const je=new URL(T);return""===je.hostname&&""===N?"chrome-extension:"===b&&T.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&je.hostname===N}if(!Nc.test(b))return!1;if(Jd.test(T))return N===T;const K=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(N)}const $l=new ft(3e4,6e4);function Ou(){const T=jr().___jsl;if(T?.H)for(const _ of Object.keys(T.H))if(T.H[_].r=T.H[_].r||[],T.H[_].L=T.H[_].L||[],T.H[_].r=[...T.H[_].L],T.CP)for(let b=0;b<T.CP.length;b++)T.CP[b]=null}let jl=null;const fd=new ft(5e3,15e3),Hl="__/auth/iframe",Il="emulator/auth/iframe",Qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xd(T){const _=T.config;Be(_.authDomain,T,"auth-domain-config-required");const b=_.emulator?It(_,Il):`https://${T.config.authDomain}/${Hl}`,N={apiKey:_.apiKey,appName:T.name,v:$.SDK_VERSION},K=Fo.get(T.config.apiHost);K&&(N.eid=K);const re=T._getFrameworks();return re.length&&(N.fw=re.join(",")),`${b}?${(0,a.xO)(N).slice(1)}`}function rl(){return rl=(0,D.Z)(function*(T){const _=yield function zi(T){return jl=jl||function na(T){return new Promise((_,b)=>{var N,K,re;function je(){Ou(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ou(),b(Ge(T,"network-request-failed"))},timeout:$l.get()})}if(null!==(K=null===(N=jr().gapi)||void 0===N?void 0:N.iframes)&&void 0!==K&&K.Iframe)_(gapi.iframes.getContext());else{if(null===(re=jr().gapi)||void 0===re||!re.load){const dt=Dr("iframefcb");return jr()[dt]=()=>{gapi.load?je():b(Ge(T,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${dt}`).catch(Qt=>b(Qt))}je()}}).catch(_=>{throw jl=null,_})}(T),jl}(T),b=jr().gapi;return Be(b,T,"internal-error"),_.open({where:document.body,url:Xd(T),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qd,dontclear:!0},N=>new Promise(function(){var K=(0,D.Z)(function*(re,je){yield N.restyle({setHideOnLeave:!1});const dt=Ge(T,"network-request-failed"),Qt=jr().setTimeout(()=>{je(dt)},fd.get());function wn(){jr().clearTimeout(Qt),re(N)}N.ping(wn).then(wn,()=>{je(dt)})});return function(re,je){return K.apply(this,arguments)}}()))}),rl.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F=500,W=600,fe="_blank",Re="http://localhost";class Ae{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nn="__/auth/handler",Rn="emulator/auth/handler",pr=encodeURIComponent("fac");function cr(T,_,b,N,K,re){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,D.Z)(function*(T,_,b,N,K,re){Be(T.config.authDomain,T,"auth-domain-config-required"),Be(T.config.apiKey,T,"invalid-api-key");const je={apiKey:T.config.apiKey,appName:T.name,authType:b,redirectUrl:N,v:$.SDK_VERSION,eventId:K};if(_ instanceof ts){_.setDefaultLanguage(T.languageCode),je.providerId=_.providerId||"",(0,a.xb)(_.getCustomParameters())||(je.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Vn,vr]of Object.entries(re||{}))je[Vn]=vr}if(_ instanceof Ta){const Vn=_.getScopes().filter(vr=>""!==vr);Vn.length>0&&(je.scopes=Vn.join(","))}T.tenantId&&(je.tid=T.tenantId);const dt=je;for(const Vn of Object.keys(dt))void 0===dt[Vn]&&delete dt[Vn];const Qt=yield T._getAppCheckToken(),wn=Qt?`#${pr}=${encodeURIComponent(Qt)}`:"";return`${function No({config:T}){return T.emulator?It(T,Rn):`https://${T.authDomain}/${nn}`}(T)}?${(0,a.xO)(dt).slice(1)}${wn}`})).apply(this,arguments)}const Gl="webStorageSupport",xu=class pd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=Mu,this._overrideRedirectResult=Ko}_openPopup(_,b,N,K){var re=this;return(0,D.Z)(function*(){var je;ln(null===(je=re.eventManagers[_._key()])||void 0===je?void 0:je.manager,"_initialize() not called before _openPopup()");const dt=yield cr(_,b,N,Ct(),K);return function et(T,_,b,N=F,K=W){const re=Math.max((window.screen.availHeight-K)/2,0).toString(),je=Math.max((window.screen.availWidth-N)/2,0).toString();let dt="";const Qt=Object.assign(Object.assign({},M),{width:N.toString(),height:K.toString(),top:re,left:je}),wn=(0,a.z$)().toLowerCase();b&&(dt=X(wn)?fe:b),ie(wn)&&(_=_||Re,Qt.scrollbars="yes");const Vn=Object.entries(Qt).reduce((js,[Ua,md])=>`${js}${Ua}=${md},`,"");if(function vt(T=(0,a.z$)()){var _;return Pe(T)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(wn)&&"_self"!==dt)return function sn(T,_){const b=document.createElement("a");b.href=T,b.target=_;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(N)}(_||"",dt),new Ae(null);const vr=window.open(_||"",dt,Vn);Be(vr,T,"popup-blocked");try{vr.focus()}catch{}return new Ae(vr)}(_,dt,ya())})()}_openRedirect(_,b,N,K){var re=this;return(0,D.Z)(function*(){return yield re._originValidation(_),function Ni(T){jr().location.href=T}(yield cr(_,b,N,Ct(),K)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:K,promise:re}=this.eventManagers[b];return K?Promise.resolve(K):(ln(re,"If manager is not set, promise should be"),re)}const N=this.initAndGetManager(_);return this.eventManagers[b]={promise:N},N.catch(()=>{delete this.eventManagers[b]}),N}initAndGetManager(_){var b=this;return(0,D.Z)(function*(){const N=yield function Wr(T){return rl.apply(this,arguments)}(_),K=new tl(_);return N.register("authEvent",re=>(Be(re?.authEvent,_,"invalid-auth-event"),{status:K.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:K},b.iframes[_._key()]=N,K})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(Gl,{type:Gl},K=>{var re;const je=null===(re=K?.[0])||void 0===re?void 0:re[Gl];void 0!==je&&b(!!je),rt(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function nl(T){return El.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return pn()||se()||Pe()}};class ra{constructor(_){this.factorId=_}_process(_,b,N){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,N);case"signin":return this._finalizeSignIn(_,b.credential);default:return Et("unexpected MultiFactorSessionType")}}}class $s extends ra{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new $s(_)}_finalizeEnroll(_,b,N){return function jn(T,_){return An(T,"POST","/v2/accounts/mfaEnrollment:finalize",$t(T,_))}(_,{idToken:b,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Pa(T,_){return An(T,"POST","/v2/accounts/mfaSignIn:finalize",$t(T,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let eh=(()=>{class T{constructor(){}static assertion(b){return $s._fromCredential(b)}}return T.FACTOR_ID="phone",T})();var Rc="@firebase/auth";class Al{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,D.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(N=>{_(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);b&&(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ef=(0,a.Pz)("authIdTokenMaxAge")||300;let hu=null;const np=T=>function(){var _=(0,D.Z)(function*(b){const N=b&&(yield b.getIdTokenResult()),K=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(K&&K>ef)return;const re=N?.token;hu!==re&&(hu=re,yield fetch(T,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))});return function(b){return _.apply(this,arguments)}}();function xc(T=(0,$.getApp)()){const _=(0,$._getProvider)(T,"auth");if(_.isInitialized())return _.getImmediate();const b=function Tr(T,_){const b=(0,$._getProvider)(T,"auth");if(b.isInitialized()){const K=b.getImmediate(),re=b.getOptions();if((0,a.vZ)(re,_??{}))return K;rt(K,"already-initialized")}return b.initialize({options:_})}(T,{popupRedirectResolver:xu,persistence:[Ul,To,ls]}),N=(0,a.Pz)("authTokenSyncURL");if(N){const re=np(N);(function B(T,_,b){(0,a.m9)(T).beforeAuthStateChanged(_,b)})(b,re,()=>re(b.currentUser)),function G(T,_,b,N){(0,a.m9)(T).onIdTokenChanged(_,b,N)}(b,je=>re(je))}const K=(0,a.q4)("auth");return K&&Nr(b,`http://${K}`),b}!function Oc(T){(0,$._registerComponent)(new Ne.wA("auth",(_,{options:b})=>{const N=_.getProvider("app").getImmediate(),K=_.getProvider("heartbeat"),re=_.getProvider("app-check-internal"),{apiKey:je,authDomain:dt}=N.options;Be(je&&!je.includes(":"),"invalid-api-key",{appName:N.name}),Be(!dt?.includes(":"),"argument-error",{appName:N.name});const Qt={apiKey:je,authDomain:dt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q(T)},wn=new hr(N,K,re,Qt);return function Zi(T,_){const b=_?.persistence||[],N=(Array.isArray(b)?b:[b]).map(nr);_?.errorMap&&T._updateErrorMap(_.errorMap),T._initializeWithPersistence(N,_?.popupRedirectResolver)}(wn,b),wn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,N)=>{_.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ne.wA("auth-internal",_=>{const b=On(_.getProvider("auth").getImmediate());return new Al(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Rc,"0.23.1",function Ju(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,$.registerVersion)(Rc,"0.23.1","esm2017")}("Browser")},2810:(en,ke,j)=>{"use strict";j.d(ke,{u7:()=>Xf,Jj:()=>Gu,IX:()=>Fm,my:()=>fs,xU:()=>Wd,Lz:()=>od,WA:()=>Vt,F8:()=>ig,$q:()=>bc,W:()=>ld,EK:()=>ui,PU:()=>Pv,l7:()=>Ss,Ky:()=>Pt,Xb:()=>tr,Cf:()=>ci,K9:()=>xa,Me:()=>hd,yq:()=>Jr,Wi:()=>cv,ET:()=>qm,Ab:()=>O0,vr:()=>by,Fc:()=>hv,hJ:()=>_c,B$:()=>b0,at:()=>ny,oe:()=>gy,AK:()=>kv,TF:()=>vc,JU:()=>ng,ST:()=>rg,fH:()=>Bm,Ix:()=>oy,Wu:()=>Hm,Lx:()=>Qf,qY:()=>Uo,GL:()=>Yh,QT:()=>A0,kl:()=>_g,Xk:()=>hy,PL:()=>Iv,UQ:()=>Tv,zN:()=>Wm,ad:()=>Lm,nP:()=>Fv,b9:()=>ar,vh:()=>vv,Pb:()=>Uh,L$:()=>Wf,cf:()=>Av,sc:()=>Sv,Xo:()=>Wh,IO:()=>yv,iE:()=>Oo,Eo:()=>yc,i3:()=>N0,Bt:()=>R0,pl:()=>fy,Ub:()=>jn,qK:()=>Ev,TQ:()=>qh,e0:()=>bv,r7:()=>py,Mx:()=>iy,ar:()=>Gh});var be,D=j(5861),a=j(6881),$=j(4859),Ce=j(1877),ye=j(2090),Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe={},Ye=Ye||{},he=Ne||self;function ve(){}function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var mt="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function Je(i,e,t){return i.call.apply(i.bind,arguments)}function _t(i,e,t){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function De(i,e,t){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:_t).apply(null,arguments)}function kt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function rt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(l,h,g){for(var v=Array(arguments.length-2),R=2;R<arguments.length;R++)v[R-2]=arguments[R];return e.prototype[h].apply(l,v)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(i){Object.prototype.hasOwnProperty.call(i,mt)&&i[mt]||(i[mt]=++Dt)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function St(i){const e=i.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=i[l];return t}return[]}function Be(i,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Me(l)){const h=i.length||0,g=l.length||0;i.length=h+g;for(let v=0;v<g;v++)i[h+v]=l[v]}else i.push(l)}}function Et(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var ln=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",ve,e),he.removeEventListener("test",ve,e)}catch{}return i}();function Ct(i){return/^[\s\xa0]*$/.test(i)}var _n=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Yt(i,e){return i<e?-1:i>e?1:0}function st(){var i=he.navigator;return i&&(i=i.userAgent)?i:""}function ot(i){return-1!=st().indexOf(i)}function ft(i){return ft[" "](i),i}function It(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}ft[" "]=ve;var yt,i,jt=ot("Opera"),Tt=ot("Trident")||ot("MSIE"),qt=ot("Edge"),$t=qt||Tt,An=ot("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),un=-1!=st().toLowerCase().indexOf("webkit")&&!ot("Edge");function yn(){var i=he.document;return i?i.documentMode:void 0}e:{var Nn="",ir=(i=st(),An?/rv:([^\);]+)(\)|;)/.exec(i):qt?/Edge\/([\d\.]+)/.exec(i):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):un?/WebKit\/(\S+)/.exec(i):jt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ir&&(Nn=ir?ir[1]:""),Tt){var Jn=yn();if(null!=Jn&&Jn>parseFloat(Nn)){yt=String(Jn);break e}}yt=Nn}var Sr={},Lr=he.document&&Tt&&(yn()||parseInt(yt,10))||void 0;function qe(i,e){if(Et.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(An){e:{try{ft(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:xe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qe.$.h.call(this)}}rt(qe,Et);var xe={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Mt(i,e,t,l,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=h,this.key=++ze,this.fa=this.ia=!1}function Lt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function xn(i,e,t){for(const l in i)e.call(t,i[l],l,i)}function Fn(i){const e={};for(const t in i)e[t]=i[t];return e}const Zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(i,e){let t,l;for(let h=1;h<arguments.length;h++){for(t in l=arguments[h],l)i[t]=l[t];for(let g=0;g<Zn.length;g++)t=Zn[g],Object.prototype.hasOwnProperty.call(l,t)&&(i[t]=l[t])}}function Cn(i){this.src=i,this.g={},this.h=0}function Jt(i,e){var t=e.type;if(t in i.g){var g,l=i.g[t],h=Rt(l,e);(g=0<=h)&&Array.prototype.splice.call(l,h,1),g&&(Lt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ut(i,e,t,l){for(var h=0;h<i.length;++h){var g=i[h];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==l)return h}return-1}Cn.prototype.add=function(i,e,t,l,h){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var v=Ut(i,e,l,h);return-1<v?(e=i[v],t||(e.ia=!1)):((e=new Mt(e,this.src,g,!!l,h)).ia=t,i.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),or={};function rn(i,e,t,l,h){if(l&&l.once)return _r(i,e,t,l,h);if(Array.isArray(e)){for(var g=0;g<e.length;g++)rn(i,e[g],t,l,h);return null}return t=Br(t),i&&i[Ve]?i.O(e,t,Qe(l)?!!l.capture:!!l,h):Xn(i,e,t,!1,l,h)}function Xn(i,e,t,l,h,g){if(!e)throw Error("Invalid event type");var v=Qe(h)?!!h.capture:!!h,R=Bn(i);if(R||(i[dr]=R=new Cn(i)),(t=R.add(e,t,l,v,g)).proxy)return t;if(l=function Pr(){const e=Ai;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=l,l.src=i,l.listener=t,i.addEventListener)ln||(h=v),void 0===h&&(h=!1),i.addEventListener(e.toString(),l,h);else if(i.attachEvent)i.attachEvent(er(e.toString()),l);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(l)}return t}function _r(i,e,t,l,h){if(Array.isArray(e)){for(var g=0;g<e.length;g++)_r(i,e[g],t,l,h);return null}return t=Br(t),i&&i[Ve]?i.P(e,t,Qe(l)?!!l.capture:!!l,h):Xn(i,e,t,!0,l,h)}function Ln(i,e,t,l,h){if(Array.isArray(e))for(var g=0;g<e.length;g++)Ln(i,e[g],t,l,h);else l=Qe(l)?!!l.capture:!!l,t=Br(t),i&&i[Ve]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ut(g=i.g[e],t,l,h))&&(Lt(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=Bn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ut(e,t,l,h)),(t=-1<i?e[i]:null)&&ti(t))}function ti(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ve])Jt(e.i,i);else{var t=i.type,l=i.proxy;e.removeEventListener?e.removeEventListener(t,l,i.capture):e.detachEvent?e.detachEvent(er(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=Bn(e))?(Jt(t,i),0==t.h&&(t.src=null,e[dr]=null)):Lt(i)}}}function er(i){return i in or?or[i]:or[i]="on"+i}function Ai(i,e){if(i.fa)i=!0;else{e=new qe(e,this);var t=i.listener,l=i.la||i.src;i.ia&&ti(i),i=t.call(l,e)}return i}function Bn(i){return(i=i[dr])instanceof Cn?i:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Br(i){return"function"==typeof i?i:(i[kr]||(i[kr]=function(e){return i.handleEvent(e)}),i[kr])}function lr(){Ge.call(this),this.i=new Cn(this),this.S=this,this.J=null}function nr(i,e){var t,l=i.J;if(l)for(t=[];l;l=l.J)t.push(l);if(i=i.S,l=e.type||e,"string"==typeof e)e=new Et(e,i);else if(e instanceof Et)e.target=e.target||i;else{var h=e;Mn(e=new Et(l,i),h)}if(h=!0,t)for(var g=t.length-1;0<=g;g--){var v=e.g=t[g];h=ni(v,l,!0,e)&&h}if(h=ni(v=e.g=i,l,!0,e)&&h,h=ni(v,l,!1,e)&&h,t)for(g=0;g<t.length;g++)h=ni(v=e.g=t[g],l,!1,e)&&h}function ni(i,e,t,l){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,g=0;g<e.length;++g){var v=e[g];if(v&&!v.fa&&v.capture==t){var R=v.listener,U=v.la||v.src;v.ia&&Jt(i.i,v),h=!1!==R.call(U,l)&&h}}return h&&!l.defaultPrevented}rt(lr,Ge),lr.prototype[Ve]=!0,lr.prototype.removeEventListener=function(i,e,t,l){Ln(this,i,e,t,l)},lr.prototype.N=function(){if(lr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],l=0;l<t.length;l++)Lt(t[l]);delete i.g[e],i.h--}}this.J=null},lr.prototype.O=function(i,e,t,l){return this.i.add(String(i),e,!1,t,l)},lr.prototype.P=function(i,e,t,l){return this.i.add(String(i),e,!0,t,l)};var Vr=he.JSON.stringify;function Kr(){var i=ce;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Se,me=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function se(i){he.setTimeout(()=>{throw i},0)}function X(i,e){Se||function pe(){var i=he.Promise.resolve(void 0);Se=function(){i.then(Pe)}}(),ge||(Se(),ge=!0),ce.add(i,e)}var ge=!1,ce=new class Ee{constructor(){this.h=this.g=null}add(e,t){const l=me.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}};function Pe(){for(var i;i=Kr();){try{i.h.call(i.g)}catch(t){se(t)}var e=me;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ge=!1}function it(i,e){lr.call(this),this.h=i||1,this.g=e||he,this.j=De(this.qb,this),this.l=Date.now()}function vt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function vn(i,e,t){if("function"==typeof i)t&&(i=De(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=De(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function pn(i){i.g=vn(()=>{i.g=null,i.i&&(i.i=!1,pn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}rt(it,lr),(be=it.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(vt(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){it.$.N.call(this),vt(this),delete this.g};class nt extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q(i){Ge.call(this),this.h=i,this.g={}}rt(Q,Ge);var Y=[];function ae(i,e,t,l){Array.isArray(t)||(t&&(Y[0]=t.toString()),t=Y);for(var h=0;h<t.length;h++){var g=rn(e,t[h],l||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Ue(i){xn(i.g,function(e,t){this.g.hasOwnProperty(t)&&ti(e)},i),i.g={}}function At(){this.g=!0}function Kt(i,e,t,l){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var l=t[i];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var v=1;v<h.length;v++)h[v]=""}}}return Vr(t)}catch{return e}}(i,t)+(l?" "+l:"")})}Q.prototype.N=function(){Q.$.N.call(this),Ue(this)},Q.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},At.prototype.Ea=function(){this.g=!1},At.prototype.info=function(){};var Dr={},di=null;function io(){return di=di||new lr}function gs(i){Et.call(this,Dr.Ta,i)}function yi(i){const e=io();nr(e,new gs(e))}function $r(i,e){Et.call(this,Dr.STAT_EVENT,i),this.stat=e}function Ht(i){const e=io();nr(e,new $r(e,i))}function Qn(i,e){Et.call(this,Dr.Ua,i),this.size=e}function hr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}Dr.Ta="serverreachability",rt(gs,Et),Dr.STAT_EVENT="statevent",rt($r,Et),Dr.Ua="timingevent",rt(Qn,Et);var On={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ri={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tr(){}function Nr(){}Tr.prototype.h=null;var bt,$e={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Oe(){Et.call(this,"d")}function Le(){Et.call(this,"c")}function xt(){}function Tn(i,e,t,l){this.l=i,this.j=e,this.m=t,this.W=l||1,this.U=new Q(this),this.P=$n,this.V=new it(i=$t?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}rt(Oe,Et),rt(Le,Et),rt(xt,Tr),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},bt=new xt;var $n=45e3,ur={},Ki={};function Oi(i,e,t){i.L=1,i.v=al(hi(e)),i.s=t,i.S=!0,Ti(i,null)}function Ti(i,e){i.G=Date.now(),Xo(i),i.A=hi(i.v);var t=i.A,l=i.W;Array.isArray(l)||(l=[String(l)]),ul(t.i,"t",l),i.C=0,t=i.l.I,i.h=new fr,i.g=Co(i.l,t?e:null,!i.s),0<i.O&&(i.M=new nt(De(i.Pa,i,i.g),i.O)),ae(i.U,i.g,"readystatechange",i.nb),e=i.I?Fn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),yi(),function Wt(i,e,t,l,h,g){i.info(function(){if(i.g)if(g)for(var v="",R=g.split("&"),U=0;U<R.length;U++){var Z=R[U].split("=");if(1<Z.length){var ne=Z[0];Z=Z[1];var Ie=ne.split("_");v=2<=Ie.length&&"type"==Ie[1]?v+(ne+"=")+Z+"&":v+(ne+"=redacted&")}}else v=null;else v=g;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function xi(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ii(i,e,t){let h,l=!0;for(;!i.J&&i.C<t.length;){if(h=$o(i,t),h==Ki){4==e&&(i.o=4,Ht(14),l=!1),Kt(i.j,i.m,null,"[Incomplete Response]");break}if(h==ur){i.o=4,Ht(15),Kt(i.j,i.m,t,"[Invalid Chunk]"),l=!1;break}Kt(i.j,i.m,h,null),wi(i,h)}xi(i)&&h!=Ki&&h!=ur&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ht(16),l=!1),i.i=i.i&&l,l?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wa(e),e.L=!0,Ht(11))):(Kt(i.j,i.m,t,"[Invalid Chunked Response]"),oo(i),xo(i))}function $o(i,e){var t=i.C,l=e.indexOf("\n",t);return-1==l?Ki:(t=Number(e.substring(t,l)),isNaN(t)?ur:(l+=1)+t>e.length?Ki:(e=e.substr(l,t),i.C=l+t,e))}function Xo(i){i.Y=Date.now()+i.P,Zs(i,i.P)}function Zs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=hr(De(i.lb,i),e)}function jo(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function xo(i){0==i.l.H||i.J||Ds(i.l,i)}function oo(i){jo(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,vt(i.V),Ue(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function wi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Ga(t.h,i)))if(!i.K&&Ga(t.h,i)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Wo(t),ht(t)}ma(t),Ht(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.M&&0==t.A&&!t.v&&(t.v=hr(De(t.ib,t),6e3));if(1>=ys(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Xr(t,11)}else if((i.K||t.g==i)&&Wo(t),!Ct(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let Z=h[e];if(t.V=Z[0],Z=Z[1],2==t.H)if("c"==Z[0]){t.J=Z[1],t.oa=Z[2];const ne=Z[3];null!=ne&&(t.qa=ne,t.j.info("VER="+t.qa));const Ie=Z[4];null!=Ie&&(t.Ga=Ie,t.j.info("SVER="+t.Ga));const tt=Z[5];null!=tt&&"number"==typeof tt&&0<tt&&(t.K=l=1.5*tt,t.j.info("backChannelRequestTimeoutMs_="+l)),l=t;const wt=i.g;if(wt){const Xt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xt){var g=l.h;g.g||-1==Xt.indexOf("spdy")&&-1==Xt.indexOf("quic")&&-1==Xt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(bo(g,g.h),g.h=null))}if(l.F){const fn=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(l.Da=fn,Cr(l.G,l.F,fn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var v=i;if((l=t).wa=ko(l,l.I?l.oa:null,l.Y),v.K){ha(l.h,v);var R=v,U=l.K;U&&R.setTimeout(U),R.B&&(jo(R),Xo(R)),l.g=v}else Do(l);0<t.i.length&&zo(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Xr(t,7);else 3==t.H&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Xr(t,7):Fl(t):"noop"!=Z[0]&&t.l&&t.l.Aa(Z),t.A=0)}yi()}catch{}}function Pi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Vi(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Me(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const l in i)e[t++]=l;return e}}}(i),l=function la(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],t=i.length,l=0;l<t;l++)e.push(i[l]);return e}for(l in e=[],t=0,i)e[t++]=i[l];return e}(i),h=l.length,g=0;g<h;g++)e.call(void 0,l[g],t&&t[g],i)}(be=Tn.prototype).setTimeout=function(i){this.P=i},be.nb=function(i){i=i.target;const e=this.M;e&&3==wo(i)?e.l():this.Pa(i)},be.Pa=function(i){try{if(i==this.g)e:{const ne=wo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||$t||this.g&&(this.h.h||this.g.ja()||Ma(this.g)))){this.J||4!=ne||7==e||yi(),jo(this);var t=this.g.da();this.aa=t;t:if(xi(this)){var l=Ma(this.g);i="";var h=l.length,g=4==wo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),xo(this);var v="";break t}this.h.i=new he.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(l[e],{stream:g&&e==h-1});l.splice(0,h),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==t,function gn(i,e,t,l,h,g,v){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+g+" "+v})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var R,U=this.g;if((R=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(R)){var Z=R;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Ht(12),oo(this),xo(this);break e}Kt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,t)}this.S?(ii(this,ne,v),$t&&this.i&&3==ne&&(ae(this.U,this.V,"tick",this.mb),this.V.start())):(Kt(this.j,this.m,v,null),wi(this,v)),4==ne&&oo(this),this.i&&!this.J&&(4==ne?Ds(this.l,this):(this.i=!1,Xo(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),oo(this),xo(this)}}}catch{}},be.mb=function(){if(this.g){var i=wo(this.g),e=this.g.ja();this.C<e.length&&(jo(this),ii(this,i,e),this.i&&4!=i&&Xo(this))}},be.cancel=function(){this.J=!0,oo(this)},be.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function rr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yi(),Ht(17)),oo(this),this.o=2,xo(this)):Zs(this,this.Y-i)};var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Li){this.h=void 0!==e?e:i.h,vo(this,i.j),this.s=i.s,this.g=i.g,Go(this,i.m),this.l=i.l,e=i.i;var t=new Po;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ks(this,t),this.o=i.o}else i&&(t=String(i).match(es))?(this.h=!!e,vo(this,t[1]||"",!0),this.s=so(t[2]||""),this.g=so(t[3]||"",!0),Go(this,t[4]),this.l=so(t[5]||"",!0),Ks(this,t[6]||"",!0),this.o=so(t[7]||"")):(this.h=!!e,this.i=new Po(null,this.h))}function hi(i){return new Li(i)}function vo(i,e,t){i.j=t?so(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Go(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ks(i,e,t){e instanceof Po?(i.i=e,function ts(i,e){e&&!i.j&&(Bi(i),i.i=null,i.g.forEach(function(t,l){var h=l.toLowerCase();l!=h&&(Ha(this,l),ul(this,h,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ua(e,Ia)),i.i=new Po(e,i.h))}function Cr(i,e,t){i.i.set(e,t)}function al(i){return Cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function so(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ua(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ms),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ms(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Li.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ua(e,ll,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ua(e,ll,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ua(t,"/"==t.charAt(0)?Ea:Ys,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ua(t,ca)),i.join("")};var ll=/[#\/\?@]/g,Ys=/[#\?:]/g,Ea=/[#\?]/g,Ia=/[#\?@]/g,ca=/#/g;function Po(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Bi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ho(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var l=i[t].indexOf("="),h=null;if(0<=l){var g=i[t].substring(0,l);h=i[t].substring(l+1)}else g=i[t];e(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ha(i,e){Bi(i),e=$i(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function _s(i,e){return Bi(i),e=$i(i,e),i.g.has(e)}function ul(i,e,t){Ha(i,e),0<t.length&&(i.i=null,i.g.set($i(i,e),St(t)),i.h+=t.length)}function $i(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Yi(i){this.l=i||da,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=Po.prototype).add=function(i,e){Bi(this),this.i=null,i=$i(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},be.forEach=function(i,e){Bi(this),this.g.forEach(function(t,l){t.forEach(function(h){i.call(e,h,l,this)},this)},this)},be.sa=function(){Bi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const h=i[l];for(let g=0;g<h.length;g++)t.push(e[l])}return t},be.Z=function(i){Bi(this);let e=[];if("string"==typeof i)_s(this,i)&&(e=e.concat(this.g.get($i(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},be.set=function(i,e){return Bi(this),this.i=null,_s(this,i=$i(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},be.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const g=encodeURIComponent(String(l)),v=this.Z(l);for(l=0;l<v.length;l++){var h=g;""!==v[l]&&(h+="="+encodeURIComponent(String(v[l]))),i.push(h)}}return this.i=i.join("&")};var da=10;function Aa(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ys(i){return i.h?1:i.g?i.g.size:0}function Ga(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function bo(i,e){i.g?i.g.add(e):i.h=e}function ha(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ns(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return St(i.i)}function kl(){}function fa(){this.g=new kl}function pa(i,e,t){const l=t||"";try{Pi(i,function(h,g){let v=h;Qe(h)&&(v=Vr(h)),e.push(l+g+"="+encodeURIComponent(v))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function vs(i,e,t,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function rs(i){this.l=i.fc||null,this.j=i.ob||!1}function li(i,e){lr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ui,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yi.prototype.cancel=function(){if(this.i=ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},kl.prototype.stringify=function(i){return he.JSON.stringify(i,void 0)},kl.prototype.parse=function(i){return he.JSON.parse(i,void 0)},rt(rs,Tr),rs.prototype.g=function(){return new li(this.l,this.j)},rs.prototype.i=function(i){return function(){return i}}({}),rt(li,lr);var Ui=0;function Si(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function pi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,bs(i)}function bs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(be=li.prototype).open=function(i,e){if(this.readyState!=Ui)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,bs(this)},be.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pi(this)),this.readyState=Ui},be.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Si(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?pi(this):bs(this),3==this.readyState&&Si(this)}},be.Za=function(i){this.g&&(this.response=this.responseText=i,pi(this))},be.Ya=function(i){this.g&&(this.response=i,pi(this))},be.ka=function(){this.g&&pi(this)},be.setRequestHeader=function(i,e){this.v.append(i,e)},be.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(li.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Sa=he.JSON.parse;function Er(i){lr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Di,this.L=this.M=!1}rt(Er,lr);var Di="",Ns=/^https?$/i,ws=["POST","PUT"];function ji(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,is(i),zn(i)}function is(i){i.F||(i.F=!0,nr(i,"complete"),nr(i,"error"))}function Rs(i){if(i.h&&typeof Ye<"u"&&(!i.C[1]||4!=wo(i)||2!=i.da()))if(i.v&&4==wo(i))vn(i.La,0,i);else if(nr(i,"readystatechange"),4==wo(i)){i.h=!1;try{const R=i.da();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===R){var h=String(i.I).match(es)[1]||null;if(!h&&he.self&&he.self.location){var g=he.self.location.protocol;h=g.substr(0,g.length-1)}l=!Ns.test(h?h.toLowerCase():"")}t=l}if(t)nr(i,"complete"),nr(i,"success");else{i.m=6;try{var v=2<wo(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.da()+"]",is(i)}}finally{zn(i)}}}function zn(i,e){if(i.g){Os(i);const t=i.g,l=i.C[0]?ve:null;i.g=null,i.C=null,e||nr(i,"ready");try{t.onreadystatechange=l}catch{}}}function Os(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function wo(i){return i.g?i.g.readyState:0}function Ma(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Di:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(i){let e="";return xn(i,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function Na(i,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=xs(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Cr(i,e,t))}function ga(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function za(i){this.Ga=0,this.i=[],this.j=new At,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ga("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ga("baseRetryDelayMs",5e3,i),this.hb=ga("retryDelaySeedMs",1e4,i),this.eb=ga("forwardChannelMaxRetries",2,i),this.xa=ga("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Yi(i&&i.concurrentRequestLimit),this.Ja=new fa,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Fl(i){if(Wn(i),3==i.H){var e=i.W++,t=hi(i.G);Cr(t,"SID",i.J),Cr(t,"RID",e),Cr(t,"TYPE","terminate"),Ps(i,t),(e=new Tn(i,i.j,e,void 0)).L=2,e.v=al(hi(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=Co(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xo(e)}ks(i)}function ht(i){i.g&&(Wa(i),i.g.cancel(),i.g=null)}function Wn(i){ht(i),i.u&&(he.clearTimeout(i.u),i.u=null),Wo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function zo(i){Aa(i.h)||i.m||(i.m=!0,X(i.Na,i),i.C=0)}function zr(i,e){var t;t=e?e.m:i.W++;const l=hi(i.G);Cr(l,"SID",i.J),Cr(l,"RID",t),Cr(l,"AID",i.V),Ps(i,l),i.o&&i.s&&Na(l,i.o,i.s),t=new Tn(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Ji(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),bo(i.h,t),Oi(t,l,e)}function Ps(i,e){i.ma&&xn(i.ma,function(t,l){Cr(e,l,t)}),i.l&&Pi({},function(t,l){Cr(e,l,t)})}function Ji(i,e,t){t=Math.min(i.i.length,t);var l=i.l?De(i.l.Va,i.l,i):null;e:{var h=i.i;let g=-1;for(;;){const v=["count="+t];-1==g?0<t?(g=h[0].h,v.push("ofs="+g)):g=0:v.push("ofs="+g);let R=!0;for(let U=0;U<t;U++){let Z=h[U].h;const ne=h[U].g;if(Z-=g,0>Z)g=Math.max(0,h[U].h-100),R=!1;else try{pa(ne,v,"req"+Z+"_")}catch{l&&l(ne)}}if(R){l=v.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,l}function Do(i){i.g||i.u||(i.ba=1,X(i.Ma,i),i.A=0)}function ma(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=hr(De(i.Ma,i),vi(i,i.A)),i.A++,0))}function Wa(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function cl(i){i.g=new Tn(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=hi(i.wa);Cr(e,"RID","rpc"),Cr(e,"SID",i.J),Cr(e,"CI",i.M?"0":"1"),Cr(e,"AID",i.V),Cr(e,"TYPE","xmlhttp"),Ps(i,e),i.o&&i.s&&Na(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=al(hi(e)),t.s=null,t.S=!0,Ti(t,i)}function Wo(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function Ds(i,e){var t=null;if(i.g==e){Wo(i),Wa(i),i.g=null;var l=2}else{if(!Ga(i.h,e))return;t=e.F,ha(i.h,e),l=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=i.C;nr(l=io(),new Qn(l,t)),zo(i)}else Do(i);else if(3==(h=e.o)||0==h&&0<i.ta||!(1==l&&function ki(i,e){return!(ys(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=hr(De(i.Na,i,e),vi(i,i.C)),i.C++,0)))}(i,e)||2==l&&ma(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),h){case 1:Xr(i,5);break;case 4:Xr(i,10);break;case 3:Xr(i,6);break;default:Xr(i,2)}}function vi(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function Xr(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var l=De(i.pb,i);t||(t=new Li("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||vo(t,"https"),al(t)),function oi(i,e){const t=new At;if(he.Image){const l=new Image;l.onload=kt(vs,t,l,"TestLoadImage: loaded",!0,e),l.onerror=kt(vs,t,l,"TestLoadImage: error",!1,e),l.onabort=kt(vs,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=kt(vs,t,l,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else e(!1)}(t.toString(),l)}else Ht(2);i.H=0,i.l&&i.l.za(e),ks(i),Wn(i)}function ks(i){if(i.H=0,i.pa=[],i.l){const e=ns(i.h);(0!=e.length||0!=i.i.length)&&(Be(i.pa,e),Be(i.pa,i.i),i.h.i.length=0,St(i.i),i.i.length=0),i.l.ya()}}function ko(i,e,t){var l=t instanceof Li?hi(t):new Li(t,void 0);if(""!=l.g)e&&(l.g=e+"."+l.g),Go(l,l.m);else{var h=he.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var g=new Li(null,void 0);l&&vo(g,l),e&&(g.g=e),h&&Go(g,h),t&&(g.l=t),l=g}return e=i.Da,(t=i.F)&&e&&Cr(l,t,e),Cr(l,"VER",i.qa),Ps(i,l),l}function Co(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&i.Ha&&!i.va?new rs({ob:!0}):i.va)).Oa(i.I),e}function Fs(){}function ao(){if(Tt&&!(10<=Number(Lr)))throw Error("Environmental error: no available transport.")}function Qi(i,e){lr.call(this),this.g=new za(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ct(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ct(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Yr(this)}function su(i){Oe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function si(){Le.call(this),this.status=1}function Yr(i){this.g=i}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ss(i,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)l[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=i.g[3],v=(e=i.g[0])+(g^(t=i.g[1])&((h=i.g[2])^g))+l[0]+3614090360&4294967295;v=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=(t=(h=(g=(e=t+(v<<7&4294967295|v>>>25))+((v=g+(h^e&(t^h))+l[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=h+(t^g&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^h&(g^e))+l[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(h^g))+l[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(t^h))+l[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=h+(t^g&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^h&(g^e))+l[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(h^g))+l[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(t^h))+l[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=h+(t^g&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^h&(g^e))+l[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(h^g))+l[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=g+(h^e&(t^h))+l[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=h+(t^g&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^h&(g^e))+l[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(h^g&(t^h))+l[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^h&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^t&(g^e))+l[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(h^g))+l[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(t^h))+l[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^h&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^t&(g^e))+l[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(h^g))+l[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(t^h))+l[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^h&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^t&(g^e))+l[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(h^g))+l[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(h^g&(t^h))+l[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^h&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=h+(e^t&(g^e))+l[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(h^g))+l[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(t^h^g)+l[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^h)+l[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=t+(h^g^e)+l[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^h^g)+l[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^h)+l[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=t+(h^g^e)+l[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^h^g)+l[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^h)+l[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=t+(h^g^e)+l[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^h^g)+l[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^h)+l[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=h+(g^e^t)+l[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=t+(h^g^e)+l[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(h^(t|~g))+l[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~t))+l[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(h^(t|~g))+l[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~t))+l[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(h^(t|~g))+l[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=h+(e^(g|~t))+l[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((g=(e=t+((v=e+(h^(t|~g))+l[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((h=g+((v=h+(e^(g|~t))+l[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+l[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+g&4294967295}function Rr(i,e){this.h=e;for(var t=[],l=!0,h=i.length-1;0<=h;h--){var g=0|i[h];l&&g==e||(t[h]=g,l=!1)}this.g=t}(be=Er.prototype).Oa=function(i){this.M=i},be.ha=function(i,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bt.g(),this.C=function Zi(i){return i.h||(i.h=i.i())}(this.u?this.u:bt),this.g.onreadystatechange=De(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(g){return void ji(this,g)}if(i=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)t.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const g of l.keys())t.set(g,l.get(g))}l=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),h=he.FormData&&i instanceof he.FormData,!(0<=Rt(ws,e))||l||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,v]of t)this.g.setRequestHeader(g,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Os(this),0<this.B&&((this.L=function ou(i){return Tt&&function Mr(){return It(Sr,9,function(){let i=0;const e=_n(String(yt)).split("."),t=_n("9").split("."),l=Math.max(e.length,t.length);for(let v=0;0==i&&v<l;v++){var h=e[v]||"",g=t[v]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==h[0].length&&0==g[0].length)break;i=Yt(0==h[1].length?0:parseInt(h[1],10),0==g[1].length?0:parseInt(g[1],10))||Yt(0==h[2].length,0==g[2].length)||Yt(h[2],g[2]),h=h[3],g=g[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.ua,this)):this.A=vn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){ji(this,g)}},be.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},be.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,nr(this,"complete"),nr(this,"abort"),zn(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zn(this,!0)),Er.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?Rs(this):this.kb())},be.kb=function(){Rs(this)},be.da=function(){try{return 2<wo(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Sa(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=za.prototype).qa=8,be.H=1,be.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new Tn(this,this.j,i,void 0);let g=this.s;if(this.U&&(g?(g=Fn(g),Mn(g,this.U)):g=this.U),null!==this.o||this.O||(h.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var l=this.i[t];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ji(this,h,e),Cr(t=hi(this.G),"RID",i),Cr(t,"CVER",22),this.F&&Cr(t,"X-HTTP-Session-Id",this.F),Ps(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(xs(g)))+"&"+e:this.o&&Na(t,this.o,g)),bo(this.h,h),this.bb&&Cr(t,"TYPE","init"),this.P?(Cr(t,"$req",e),Cr(t,"SID","null"),h.ba=!0,Oi(h,t,null)):Oi(h,t,e),this.H=2}}else 3==this.H&&(i?zr(this,i):0==this.i.length||Aa(this.h)||zr(this))},be.Ma=function(){if(this.u=null,cl(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=hr(De(this.jb,this),i)}},be.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ht(10),ht(this),cl(this))},be.ib=function(){null!=this.v&&(this.v=null,ht(this),ma(this),Ht(19))},be.pb=function(i){i?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))},(be=Fs.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.Va=function(){},ao.prototype.g=function(i,e){return new Qi(i,e)},rt(Qi,lr),Qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;Ht(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=ko(i,null,i.Y),zo(i)},Qi.prototype.close=function(){Fl(this.g)},Qi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Vr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&zo(e)},Qi.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,Qi.$.N.call(this)},rt(su,Oe),rt(si,Le),rt(Yr,Fs),Yr.prototype.Ba=function(){nr(this.g,"a")},Yr.prototype.Aa=function(i){nr(this.g,new su(i))},Yr.prototype.za=function(i){nr(this.g,new si)},Yr.prototype.ya=function(){nr(this.g,"b")},rt(Xi,function os(){this.blockSize=-1}),Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,l=this.m,h=this.h,g=0;g<e;){if(0==h)for(;g<=t;)ss(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<e;)if(l[h++]=i.charCodeAt(g++),h==this.blockSize){ss(this,l),h=0;break}}else for(;g<e;)if(l[h++]=i[g++],h==this.blockSize){ss(this,l),h=0;break}}this.h=h,this.i+=e},Xi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)i[t++]=this.g[e]>>>l&255;return i};var qo={};function Cs(i){return-128<=i&&128>i?It(qo,i,function(e){return new Rr([0|e],0>e?-1:0)}):new Rr([0|i],0>i?-1:0)}function Mi(i){if(isNaN(i)||!isFinite(i))return Eo;if(0>i)return yr(Mi(-i));for(var e=[],t=1,l=0;i>=t;l++)e[l]=i/t|0,t*=_a;return new Rr(e,0)}var _a=4294967296,Eo=Cs(0),as=Cs(1),dl=Cs(16777216);function ai(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Ci(i){return-1==i.h}function yr(i){for(var e=i.g.length,t=[],l=0;l<e;l++)t[l]=~i.g[l];return new Rr(t,~i.h).add(as)}function Oa(i,e){return i.add(yr(e))}function Es(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Js(i,e){this.g=i,this.h=e}function Ll(i,e){if(ai(e))throw Error("division by zero");if(ai(i))return new Js(Eo,Eo);if(Ci(i))return e=Ll(yr(i),e),new Js(yr(e.g),yr(e.h));if(Ci(e))return e=Ll(i,yr(e)),new Js(yr(e.g),e.h);if(30<i.g.length){if(Ci(i)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var t=as,l=e;0>=l.X(i);)t=hl(t),l=hl(l);var h=lo(t,1),g=lo(l,1);for(l=lo(l,2),t=lo(t,2);!ai(l);){var v=g.add(l);0>=v.X(i)&&(h=h.add(t),g=v),l=lo(l,1),t=lo(t,1)}return e=Oa(i,h.R(e)),new Js(h,e)}for(h=Eo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),v=(g=Mi(t)).R(e);Ci(v)||0<v.X(i);)v=(g=Mi(t-=l)).R(e);ai(g)&&(g=as),h=h.add(g),i=Oa(i,v)}return new Js(h,i)}function hl(i){for(var e=i.g.length+1,t=[],l=0;l<e;l++)t[l]=i.D(l)<<1|i.D(l-1)>>>31;return new Rr(t,i.h)}function lo(i,e){var t=e>>5;e%=32;for(var l=i.g.length-t,h=[],g=0;g<l;g++)h[g]=0<e?i.D(g+t)>>>e|i.D(g+t+1)<<32-e:i.D(g+t);return new Rr(h,i.h)}(be=Rr.prototype).ea=function(){if(Ci(this))return-yr(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);i+=(0<=l?l:_a+l)*e,e*=_a}return i},be.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ai(this))return"0";if(Ci(this))return"-"+yr(this).toString(i);for(var e=Mi(Math.pow(i,6)),t=this,l="";;){var h=Ll(t,e).g,g=((0<(t=Oa(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(ai(t=h))return g+l;for(;6>g.length;)g="0"+g;l=g+l}},be.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},be.X=function(i){return Ci(i=Oa(this,i))?-1:ai(i)?0:1},be.abs=function(){return Ci(this)?yr(this):this},be.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0,h=0;h<=e;h++){var g=l+(65535&this.D(h))+(65535&i.D(h)),v=(g>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);l=v>>>16,t[h]=(v&=65535)<<16|(g&=65535)}return new Rr(t,-2147483648&t[t.length-1]?-1:0)},be.R=function(i){if(ai(this)||ai(i))return Eo;if(Ci(this))return Ci(i)?yr(this).R(yr(i)):yr(yr(this).R(i));if(Ci(i))return yr(this.R(yr(i)));if(0>this.X(dl)&&0>i.X(dl))return Mi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<i.g.length;h++){var g=this.D(l)>>>16,v=65535&this.D(l),R=i.D(h)>>>16,U=65535&i.D(h);t[2*l+2*h]+=v*U,Es(t,2*l+2*h),t[2*l+2*h+1]+=g*U,Es(t,2*l+2*h+1),t[2*l+2*h+1]+=v*R,Es(t,2*l+2*h+1),t[2*l+2*h+2]+=g*R,Es(t,2*l+2*h+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new Rr(t,0)},be.gb=function(i){return Ll(this,i).h},be.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&i.D(l);return new Rr(t,this.h&i.h)},be.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|i.D(l);return new Rr(t,this.h|i.h)},be.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^i.D(l);return new Rr(t,this.h^i.h)},ao.prototype.createWebChannel=ao.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,ri.COMPLETE="complete",Nr.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",lr.prototype.listen=lr.prototype.O,Er.prototype.listenOnce=Er.prototype.P,Er.prototype.getLastError=Er.prototype.Sa,Er.prototype.getLastErrorCode=Er.prototype.Ia,Er.prototype.getStatus=Er.prototype.da,Er.prototype.getResponseJson=Er.prototype.Wa,Er.prototype.getResponseText=Er.prototype.ja,Er.prototype.send=Er.prototype.ha,Er.prototype.setWithCredentials=Er.prototype.Oa,Xi.prototype.digest=Xi.prototype.l,Xi.prototype.reset=Xi.prototype.reset,Xi.prototype.update=Xi.prototype.j,Rr.prototype.add=Rr.prototype.add,Rr.prototype.multiply=Rr.prototype.R,Rr.prototype.modulo=Rr.prototype.gb,Rr.prototype.compare=Rr.prototype.X,Rr.prototype.toNumber=Rr.prototype.ea,Rr.prototype.toString=Rr.prototype.toString,Rr.prototype.getBits=Rr.prototype.D,Rr.fromNumber=Mi,Rr.fromString=function Ra(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return yr(Ra(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Mi(Math.pow(e,8)),l=Eo,h=0;h<i.length;h+=8){var g=Math.min(8,i.length-h),v=parseInt(i.substring(h,h+g),e);8>g?(g=Mi(Math.pow(e,g)),l=l.R(g).add(Mi(v))):l=(l=l.R(t)).add(Mi(v))}return l};var Zo=Fe.createWebChannelTransport=function(){return new ao},fl=Fe.getStatEventTarget=function(){return io()},qa=Fe.ErrorCode=On,k=Fe.EventType=ri,G=Fe.Event=Dr,B=Fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ee=Fe.FetchXmlHttpFactory=rs,we=Fe.WebChannel=Nr,ut=Fe.XhrIo=Er,A=Fe.Md5=Xi,O=Fe.Integer=Rr;const q="@firebase/firestore";class de{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");let Xe="9.21.0";const zt=new Ce.Yd("@firebase/firestore");function Dn(){return zt.logLevel}function jn(i){zt.setLogLevel(i)}function gt(i,...e){if(zt.logLevel<=Ce.in.DEBUG){const t=e.map(Io);zt.debug(`Firestore (${Xe}): ${i}`,...t)}}function Or(i,...e){if(zt.logLevel<=Ce.in.ERROR){const t=e.map(Io);zt.error(`Firestore (${Xe}): ${i}`,...t)}}function Jr(i,...e){if(zt.logLevel<=Ce.in.WARN){const t=e.map(Io);zt.warn(`Firestore (${Xe}): ${i}`,...t)}}function Io(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function tn(i="Unexpected state"){const e=`FIRESTORE (${Xe}) INTERNAL ASSERTION FAILED: `+i;throw Or(e),new Error(e)}function En(i,e){i||tn()}function xa(i,e){i||tn()}function on(i,e){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends ye.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(de.UNAUTHENTICATED))}shutdown(){}}class Ec{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ls{constructor(e){this.t=e,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let h=this.i;const g=Z=>this.i!==h?(h=this.i,t(Z)):Promise.resolve();let v=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new uo,e.enqueueRetryable(()=>g(this.currentUser))};const R=()=>{const Z=v;e.enqueueRetryable((0,D.Z)(function*(){yield Z.promise,yield g(l.currentUser)}))},U=Z=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Z=>U(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?U(Z):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new uo)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(En("string"==typeof l.accessToken),new qu(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return En(null===e||"string"==typeof e),new de(e)}}class Eu{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=de.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bl{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Eu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=g=>{null!=g.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const v=g.token!==this.T;return this.T=g.token,gt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>l(g))};const h=g=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.I.onInit(g=>h(g)),setTimeout(()=>{if(!this.appCheck){const g=this.I.getImmediate({optional:!0});g?h(g):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(En("string"==typeof t.token),this.T=t.token,new ya(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ni(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<i;l++)t[l]=Math.floor(256*Math.random());return t}class Tu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const h=Ni(40);for(let g=0;g<h.length;++g)l.length<20&&h[g]<t&&(l+=e.charAt(h[g]%e.length))}return l}}function Yn(i,e){return i<e?-1:i>e?1:0}function eo(i,e,t){return i.length===e.length&&i.every((l,h)=>t(l,e[h]))}function Au(i){return i+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new ui(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new ui(0,0))}static max(){return new hn(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pl{constructor(e,t,l){void 0===t?t=0:t>e.length&&tn(),void 0===l?l=e.length-t:l>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===pl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let h=0;h<l;h++){const g=e.get(h),v=t.get(h);if(g<v)return-1;if(g>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends pl{construct(e,t,l){return new Un(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new Vt(ct.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(h=>h.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const Su=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends pl{construct(e,t,l){return new tr(e,t,l)}static isValidIdentifier(e){return Su.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let l="",h=0;const g=()=>{if(0===l.length)throw new Vt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let v=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new Vt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Vt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=U,h+=2}else"`"===R?(v=!v,h++):"."!==R||v?(l+=R,h++):(g(),h++)}if(g(),v)throw new Vt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(Un.fromString(e))}static fromName(e){return new Pt(Un.fromString(e).popFirst(5))}static empty(){return new Pt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new Un(e.slice()))}}class Qs{constructor(e,t,l,h){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=h}}function Ls(i){return i.fields.find(e=>2===e.kind)}function Za(i){return i.fields.filter(e=>2!==e.kind)}Qs.UNKNOWN_ID=-1;class Xs{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ja(0,co.min())}}function gl(i,e){const t=i.toTimestamp().seconds,l=i.toTimestamp().nanoseconds+1,h=hn.fromTimestamp(1e9===l?new ui(t+1,0):new ui(t,l));return new co(h,Pt.empty(),e)}function ml(i){return new co(i.readTime,i.key,-1)}class co{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new co(hn.min(),Pt.empty(),-1)}static max(){return new co(hn.max(),Pt.empty(),-1)}}function Ul(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pt.comparator(i.documentKey,e.documentKey),0!==t?t:Yn(i.largestBatchId,e.largestBatchId))}const Vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _l(i){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,D.Z)(function*(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==Vl)throw i;gt("LocalStore","Unexpectedly lost primary lease")}),Zu.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((l,h)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(l,h)},this.catchCallback=g=>{this.wrapFailure(t,g).next(l,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,l)=>{t(e)})}static reject(e){return new Ke((t,l)=>{l(e)})}static waitFor(e){return new Ke((t,l)=>{let h=0,g=0,v=!1;e.forEach(R=>{++h,R.next(()=>{++g,v&&g===h&&t()},U=>l(U))}),v=!0,g===h&&t()})}static or(e){let t=Ke.resolve(!1);for(const l of e)t=t.next(h=>h?Ke.resolve(h):l());return t}static forEach(e,t){const l=[];return e.forEach((h,g)=>{l.push(t.call(this,h,g))}),this.waitFor(l)}static mapArray(e,t){return new Ke((l,h)=>{const g=e.length,v=new Array(g);let R=0;for(let U=0;U<g;U++){const Z=U;t(e[Z]).next(ne=>{v[Z]=ne,++R,R===g&&l(v)},ne=>h(ne))}})}static doWhile(e,t){return new Ke((l,h)=>{const g=()=>{!0===e()?t().next(()=>{g()},h):l()};g()})}}class ea{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new uo,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new ka(e,t.error)):this.R.resolve()},this.transaction.onerror=l=>{const h=Ic(l.target.error);this.R.reject(new ka(e,h))}}static open(e,t,l,h){try{return new ea(t,e.transaction(h,l))}catch(g){throw new ka(t,g)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new us(t)}}class Bs{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===Bs.S((0,ye.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),yl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.hl)())return!1;if(Bs.C())return!0;const e=(0,ye.z$)(),t=Bs.S(e),l=0<t&&t<10,h=Bs.N(e),g=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||g)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}O(e){var t=this;return(0,D.Z)(function*(){return t.db||(gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,h)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=v=>{l(v.target.result)},g.onblocked=()=>{h(new ka(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=v=>{const R=v.target.error;h("VersionError"===R.name?new Vt(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Vt(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new ka(e,R))},g.onupgradeneeded=v=>{gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.V.$(v.target.result,g.transaction,v.oldVersion,t.version).next(()=>{gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,h){var g=this;return(0,D.Z)(function*(){const v="readonly"===t;let R=0;for(;;){++R;try{g.db=yield g.O(e);const U=ea.open(g.db,e,v?"readonly":"readwrite",l),Z=h(U).next(ne=>(U.P(),ne)).catch(ne=>(U.abort(ne),Ke.reject(ne))).toPromise();return Z.catch(()=>{}),yield U.v,Z}catch(U){const Z=U,ne="FirebaseError"!==Z.name&&R<3;if(gt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ne),g.close(),!ne)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ud{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return yl(this.L.delete())}}class ka extends Vt{constructor(e,t){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ao(i){return"IndexedDbTransactionError"===i.name}class us{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(gt("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),yl(l)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),yl(this.store.add(e))}get(e){return yl(this.store.get(e)).next(t=>(void 0===t&&(t=null),gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),yl(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),yl(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),g=[];return this.W(h,(v,R)=>{g.push(R)}).next(()=>g)}{const h=this.store.getAll(l.range);return new Ke((g,v)=>{h.onerror=R=>{v(R.target.error)},h.onsuccess=R=>{g(R.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Ke((h,g)=>{l.onerror=v=>{g(v.target.error)},l.onsuccess=v=>{h(v.target.result)}})}J(e,t){gt("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const h=this.cursor(l);return this.W(h,(g,v,R)=>R.delete())}X(e,t){let l;t?l=e:(l={},t=e);const h=this.cursor(l);return this.W(h,t)}Z(e){const t=this.cursor({});return new Ke((l,h)=>{t.onerror=g=>{const v=Ic(g.target.error);h(v)},t.onsuccess=g=>{const v=g.target.result;v?e(v.primaryKey,v.value).next(R=>{R?v.continue():l()}):l()}})}W(e,t){const l=[];return new Ke((h,g)=>{e.onerror=v=>{g(v.target.error)},e.onsuccess=v=>{const R=v.target.result;if(!R)return void h();const U=new ud(R),Z=t(R.primaryKey,R.value,U);if(Z instanceof Ke){const ne=Z.catch(Ie=>(U.done(),Ke.reject(Ie)));l.push(ne)}U.isDone?h():null===U.K?R.continue():R.continue(U.K)}}).next(()=>Ke.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yl(i){return new Ke((e,t)=>{i.onsuccess=l=>{e(l.target.result)},i.onerror=l=>{const h=Ic(l.target.error);t(h)}})}let Qa=!1;function Ic(i){const e=Bs.S((0,ye.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const l=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qa||(Qa=!0,setTimeout(()=>{throw l},0)),l}}return i}class Tc{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,D.Z)(function*(){t.task=null;try{gt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){Ao(l)?gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield _l(l)}yield t.et(6e4)}))}}class Hi{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,D.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let h=t,g=!0;return Ke.doWhile(()=>!0===g&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!l.has(v))return gt("IndexBackiller",`Processing collection: ${v}`),this.it(e,v,h).next(R=>{h-=R,l.add(v)});g=!1})).next(()=>t-h)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,l).next(g=>{const v=g.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.rt(h,g)).next(R=>(gt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>v.size)}))}rt(e,t){let l=e;return t.changes.forEach((h,g)=>{const v=ml(g);Ul(v,l)>0&&(l=v)}),new co(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let So=(()=>{class i{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Us(i){return null==i}function Xa(i){return 0===i&&1/i==-1/0}function Mo(i){return"number"==typeof i&&Number.isInteger(i)&&!Xa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function gi(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=vl(e)),e=Vs(i.get(t),e);return vl(e)}function Vs(i,e){let t=e;const l=i.length;for(let h=0;h<l;h++){const g=i.charAt(h);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function vl(i){return i+"\x01\x01"}function I(i){const e=i.length;if(En(e>=2),2===e)return En("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Un.emptyPath();const t=e-2,l=[];let h="";for(let g=0;g<e;){const v=i.indexOf("\x01",g);switch((v<0||v>t)&&tn(),i.charAt(v+1)){case"\x01":const R=i.substring(g,v);let U;0===h.length?U=R:(h+=R,U=h,h=""),l.push(U);break;case"\x10":h+=i.substring(g,v),h+="\0";break;case"\x11":h+=i.substring(g,v+1);break;default:tn()}g=v+2}return new Un(l)}const S=["userId","batchId"];function w(i,e){return[i,gi(e)]}function P(i,e,t){return[i,gi(e),t]}const V={},J=["prefixPath","collectionGroup","readTime","documentId"],oe=["prefixPath","collectionGroup","documentId"],Ze=["collectionGroup","readTime","prefixPath","documentId"],Nt=["canonicalId","targetId"],mn=["targetId","path"],dn=["path","targetId"],Qr=["collectionId","parent"],to=["indexId","uid"],Ei=["uid","sequenceNumber"],Is=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],va=["indexId","uid","orderedDocumentKey"],Ri=["userId","collectionPath","documentId"],bl=["userId","collectionPath","largestBatchId"],au=["userId","collectionGroup","largestBatchId"],Fa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kd=[...Fa,"documentOverlays"],lu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ac=lu,La=[...Ac,"indexConfiguration","indexState","indexEntries"];class Ts extends Pa{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ho(i,e){const t=on(i);return Bs.M(t.at,e)}function Yd(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function cd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class gr{constructor(e,t){this.comparator=e,this.root=t||Ko.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ko.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return t+l.left.size;h<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,t,l,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?l(e.key,t):1,t&&h&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ko{constructor(e,t,l,h,g){this.key=e,this.value=t,this.color=l??Ko.RED,this.left=h??Ko.EMPTY,this.right=g??Ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,h,g){return new Ko(e??this.key,t??this.value,l??this.color,h??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let h=this;const g=l(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,t,l),null):0===g?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Ko.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(i,e,t,l,h){return this}insert(i,e,t){return new Ko(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dd(this.data.getIterator())}getIteratorFrom(e){return new dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,g=l.getNext().key;if(0!==this.comparator(h,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uu(i){return i.hasNext()?i.getNext():void 0}class As{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new As([])}unionWith(e){let t=new mi(tr.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new As(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Sc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function hd(){return typeof atob<"u"}class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Sc("Invalid base64 string: "+h):h}}(e);return new fo(t)}static fromUint8Array(e){const t=function(l){let h="";for(let g=0;g<l.length;++g)h+=String.fromCharCode(l[g]);return h}(e);return new fo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const cu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(i){if(En(!!i),"string"==typeof i){let e=0;const t=cu.exec(i);if(En(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(i);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Gi(i.seconds),nanos:Gi(i.nanos)}}function Gi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function po(i){return"string"==typeof i?fo.fromBase64String(i):fo.fromUint8Array(i)}function ba(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ba(i){const e=i.mapValue.fields.__previous_value__;return ba(e)?Ba(e):e}function Mu(i){const e=wl(i.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class Ku{constructor(e,t,l,h,g,v,R,U){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=R,this.useFetchStreams=U}}class Ss{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const cs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nu={nullValue:"NULL_VALUE"};function tl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ba(i)?4:zi(i)?9007199254740991:10:tn()}function ds(i,e){if(i===e)return!0;const t=tl(i);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Mu(i).isEqual(Mu(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const g=wl(l.timestampValue),v=wl(h.timestampValue);return g.seconds===v.seconds&&g.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,po(i.bytesValue).isEqual(po(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,h){return Gi(l.geoPointValue.latitude)===Gi(h.geoPointValue.latitude)&&Gi(l.geoPointValue.longitude)===Gi(h.geoPointValue.longitude)}(i,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Gi(l.integerValue)===Gi(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const g=Gi(l.doubleValue),v=Gi(h.doubleValue);return g===v?Xa(g)===Xa(v):isNaN(g)&&isNaN(v)}return!1}(i,e);case 9:return eo(i.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:return function(l,h){const g=l.mapValue.fields||{},v=h.mapValue.fields||{};if(Yd(g)!==Yd(v))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===v[R]||!ds(g[R],v[R])))return!1;return!0}(i,e);default:return tn()}var h}function du(i,e){return void 0!==(i.values||[]).find(t=>ds(t,e))}function Dl(i,e){if(i===e)return 0;const t=tl(i),l=tl(e);if(t!==l)return Yn(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yn(i.booleanValue,e.booleanValue);case 2:return function(h,g){const v=Gi(h.integerValue||h.doubleValue),R=Gi(g.integerValue||g.doubleValue);return v<R?-1:v>R?1:v===R?0:isNaN(v)?isNaN(R)?0:-1:1}(i,e);case 3:return Mc(i.timestampValue,e.timestampValue);case 4:return Mc(Mu(i),Mu(e));case 5:return Yn(i.stringValue,e.stringValue);case 6:return function(h,g){const v=po(h),R=po(g);return v.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(h,g){const v=h.split("/"),R=g.split("/");for(let U=0;U<v.length&&U<R.length;U++){const Z=Yn(v[U],R[U]);if(0!==Z)return Z}return Yn(v.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,g){const v=Yn(Gi(h.latitude),Gi(g.latitude));return 0!==v?v:Yn(Gi(h.longitude),Gi(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,g){const v=h.values||[],R=g.values||[];for(let U=0;U<v.length&&U<R.length;++U){const Z=Dl(v[U],R[U]);if(Z)return Z}return Yn(v.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===cs.mapValue&&g===cs.mapValue)return 0;if(h===cs.mapValue)return 1;if(g===cs.mapValue)return-1;const v=h.fields||{},R=Object.keys(v),U=g.fields||{},Z=Object.keys(U);R.sort(),Z.sort();for(let ne=0;ne<R.length&&ne<Z.length;++ne){const Ie=Yn(R[ne],Z[ne]);if(0!==Ie)return Ie;const tt=Dl(v[R[ne]],U[Z[ne]]);if(0!==tt)return tt}return Yn(R.length,Z.length)}(i.mapValue,e.mapValue);default:throw tn()}}function Mc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Yn(i,e);const t=wl(i),l=wl(e),h=Yn(t.seconds,l.seconds);return 0!==h?h:Yn(t.nanos,l.nanos)}function Cl(i){return Jd(i)}function Jd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(l){const h=wl(l);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?po(i.bytesValue).toBase64():"referenceValue"in i?Pt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(l){let h="[",g=!0;for(const v of l.values||[])g?g=!1:h+=",",h+=Jd(v);return h+"]"}(i.arrayValue):"mapValue"in i?function(l){const h=Object.keys(l.fields||{}).sort();let g="{",v=!0;for(const R of h)v?v=!1:g+=",",g+=`${R}:${Jd(l.fields[R])}`;return g+"}"}(i.mapValue):tn();var e}function nl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function El(i){return!!i&&"integerValue"in i}function Ru(i){return!!i&&"arrayValue"in i}function $l(i){return!!i&&"nullValue"in i}function Ou(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function na(i){return!!i&&"mapValue"in i}function jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,(t,l)=>e.mapValue.fields[t]=jl(l)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function zi(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function fd(i){return"nullValue"in i?Nu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?nl(Ss.empty(),Pt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:tn()}function Hl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?nl(Ss.empty(),Pt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?cs:tn()}function Il(i,e){const t=Dl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Qd(i,e){const t=Dl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!na(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(t)}setAll(e){let t=tr.emptyPath(),l={},h=[];e.forEach((v,R)=>{if(!t.isImmediateParentOf(R)){const U=this.getFieldsMap(t);this.applyChanges(U,l,h),l={},h=[],t=R.popLast()}v?l[R.lastSegment()]=jl(v):h.push(R.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,l,h)}delete(e){const t=this.field(e.popLast());na(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=t.mapValue.fields[e.get(l)];na(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,l){ta(t,(h,g)=>e[h]=g);for(const h of l)delete e[h]}clone(){return new Fo(jl(this.value))}}function Xd(i){const e=[];return ta(i.fields,(t,l)=>{const h=new tr([t]);if(na(l)){const g=Xd(l.mapValue).fields;if(0===g.length)e.push(h);else for(const v of g)e.push(h.child(v))}else e.push(h)}),new As(e)}class Wr{constructor(e,t,l,h,g,v,R){this.key=e,this.documentType=t,this.version=l,this.readTime=h,this.createTime=g,this.data=v,this.documentState=R}static newInvalidDocument(e){return new Wr(e,0,hn.min(),hn.min(),hn.min(),Fo.empty(),0)}static newFoundDocument(e,t,l,h){return new Wr(e,1,t,hn.min(),l,h,0)}static newNoDocument(e,t){return new Wr(e,2,t,hn.min(),hn.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new Wr(e,3,t,hn.min(),hn.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rl{constructor(e,t){this.position=e,this.inclusive=t}}function M(i,e,t){let l=0;for(let h=0;h<i.position.length;h++){const g=e[h],v=i.position[h];if(l=g.field.isKeyField()?Pt.comparator(Pt.fromName(v.referenceValue),t.key):Dl(v,t.data.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return l}function F(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ds(i.position[t],e.position[t]))return!1;return!0}class W{constructor(e,t="asc"){this.field=e,this.dir=t}}function fe(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Re{}class Ae extends Re{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new pd(e,t,l):"array-contains"===t?new eh(e,l):"in"===t?new gd(e,l):"not-in"===t?new th(e,l):"array-contains-any"===t?new tp(e,l):new Ae(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new xu(e,l):new ra(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dl(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.matchesComparison(Dl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class et extends Re{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new et(e,t)}matches(e){return sn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sn(i){return"and"===i.op}function nn(i){return"or"===i.op}function Rn(i){return pr(i)&&sn(i)}function pr(i){for(const e of i.filters)if(e instanceof et)return!1;return!0}function cr(i){if(i instanceof Ae)return i.field.canonicalString()+i.op.toString()+Cl(i.value);if(Rn(i))return i.filters.map(e=>cr(e)).join(",");{const e=i.filters.map(t=>cr(t)).join(",");return`${i.op}(${e})`}}function Lo(i,e){return i instanceof Ae?(t=i,(l=e)instanceof Ae&&t.op===l.op&&t.field.isEqual(l.field)&&ds(t.value,l.value)):i instanceof et?function(t,l){return l instanceof et&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((h,g,v)=>h&&Lo(g,l.filters[v]),!0)}(i,e):void tn();var t,l}function No(i,e){const t=i.filters.concat(e);return et.create(t,i.op)}function Gl(i){return i instanceof Ae?`${(e=i).field.canonicalString()} ${e.op} ${Cl(e.value)}`:i instanceof et?function(e){return e.op.toString()+" {"+e.getFilters().map(Gl).join(" ,")+"}"}(i):"Filter";var e}class pd extends Ae{constructor(e,t,l){super(e,t,l),this.key=Pt.fromName(l.referenceValue)}matches(e){const t=Pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class xu extends Ae{constructor(e,t){super(e,"in",t),this.keys=$s(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ra extends Ae{constructor(e,t){super(e,"not-in",t),this.keys=$s(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $s(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>Pt.fromName(l.referenceValue))}class eh extends Ae{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ru(t)&&du(t.arrayValue,this.value)}}class gd extends Ae{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&du(this.value.arrayValue,t)}}class th extends Ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!du(this.value.arrayValue,t)}}class tp extends Ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ru(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>du(this.value.arrayValue,l))}}class Yu{constructor(e,t=null,l=[],h=[],g=null,v=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=h,this.limit=g,this.startAt=v,this.endAt=R,this.ft=null}}function Rc(i,e=null,t=[],l=[],h=null,g=null,v=null){return new Yu(i,e,t,l,h,g,v)}function Tl(i){const e=on(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>cr(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),Us(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Cl(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Cl(l)).join(",")),e.ft=t}return e.ft}function Al(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!fe(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Lo(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!F(i.startAt,e.startAt)&&F(i.endAt,e.endAt)}function Ju(i){return Pt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Oc(i,e){return i.filters.filter(t=>t instanceof Ae&&t.field.isEqual(e))}function Ag(i,e,t){let l=Nu,h=!0;for(const g of Oc(i,e)){let v=Nu,R=!0;switch(g.op){case"<":case"<=":v=fd(g.value);break;case"==":case"in":case">=":v=g.value;break;case">":v=g.value,R=!1;break;case"!=":case"not-in":v=Nu}Il({value:l,inclusive:h},{value:v,inclusive:R})<0&&(l=v,h=R)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const v=t.position[g];Il({value:l,inclusive:h},{value:v,inclusive:t.inclusive})<0&&(l=v,h=t.inclusive);break}return{value:l,inclusive:h}}function ef(i,e,t){let l=cs,h=!0;for(const g of Oc(i,e)){let v=cs,R=!0;switch(g.op){case">=":case">":v=Hl(g.value),R=!1;break;case"==":case"in":case"<=":v=g.value;break;case"<":v=g.value,R=!1;break;case"!=":case"not-in":v=cs}Qd({value:l,inclusive:h},{value:v,inclusive:R})>0&&(l=v,h=R)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const v=t.position[g];Qd({value:l,inclusive:h},{value:v,inclusive:t.inclusive})>0&&(l=v,h=t.inclusive);break}return{value:l,inclusive:h}}class hu{constructor(e,t=null,l=[],h=[],g=null,v="F",R=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=h,this.limit=g,this.limitType=v,this.startAt=R,this.endAt=U,this.dt=null,this._t=null}}function np(i,e,t,l,h,g,v,R){return new hu(i,e,t,l,h,g,v,R)}function xc(i){return new hu(i)}function T(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function _(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function b(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function N(i){return null!==i.collectionGroup}function K(i){const e=on(i);if(null===e.dt){e.dt=[];const t=b(e),l=_(e);if(null!==t&&null===l)t.isKeyField()||e.dt.push(new W(t)),e.dt.push(new W(tr.keyField(),"asc"));else{let h=!1;for(const g of e.explicitOrderBy)e.dt.push(g),g.field.isKeyField()&&(h=!0);if(!h){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new W(tr.keyField(),g))}}}return e.dt}function re(i){const e=on(i);if(!e._t)if("F"===e.limitType)e._t=Rc(e.path,e.collectionGroup,K(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of K(e))t.push(new W(g.field,"desc"===g.dir?"asc":"desc"));const l=e.endAt?new rl(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new rl(e.startAt.position,e.startAt.inclusive):null;e._t=Rc(e.path,e.collectionGroup,t,e.filters,e.limit,l,h)}return e._t}function je(i,e){e.getFirstInequalityField(),b(i);const t=i.filters.concat([e]);return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function dt(i,e,t){return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Qt(i,e){return Al(re(i),re(e))&&i.limitType===e.limitType}function wn(i){return`${Tl(re(i))}|lt:${i.limitType}`}function Vn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>Gl(l)).join(", ")}]`),Us(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Cl(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Cl(l)).join(",")),`Target(${t})`}(re(i))}; limitType=${i.limitType})`}function vr(i,e){return e.isFoundDocument()&&function(t,l){const h=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):Pt.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,l){for(const h of K(t))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(i,e)&&function(t,l){for(const h of t.filters)if(!h.matches(l))return!1;return!0}(i,e)&&(l=e,!((t=i).startAt&&!function(h,g,v){const R=M(h,g,v);return h.inclusive?R<=0:R<0}(t.startAt,K(t),l)||t.endAt&&!function(h,g,v){const R=M(h,g,v);return h.inclusive?R>=0:R>0}(t.endAt,K(t),l)));var t,l}function js(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ua(i){return(e,t)=>{let l=!1;for(const h of K(i)){const g=md(h,e,t);if(0!==g)return g;l=l||h.field.isKeyField()}return 0}}function md(i,e,t){const l=i.field.isKeyField()?Pt.comparator(e.key,t.key):function(h,g,v){const R=g.data.field(h),U=v.data.field(h);return null!==R&&null!==U?Dl(R,U):tn()}(i.field,e,t);switch(i.dir){case"asc":return l;case"desc":return-1*l;default:return tn()}}class zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[h,g]of l)if(this.equalsFn(h,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,t]],void this.innerSize++;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return void(h[g]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[t]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,l)=>{for(const[h,g]of l)e(h,g)})}isEmpty(){return cd(this.inner)}size(){return this.innerSize}}const wa=new gr(Pt.comparator);function Hs(){return wa}const _d=new gr(Pt.comparator);function Pu(...i){let e=_d;for(const t of i)e=e.insert(t.key,t);return e}function nh(i){let e=_d;return i.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function Va(){return fu()}function yd(){return fu()}function fu(){return new zl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Pc=new gr(Pt.comparator),rh=new mi(Pt.comparator);function Ir(...i){let e=rh;for(const t of i)e=e.add(t);return e}const rp=new mi(Yn);function kc(){return rp}function ih(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function r_(i){return{integerValue:""+i}}function Sg(i,e){return Mo(e)?r_(e):ih(i,e)}class ip{constructor(){this._=void 0}}function Mg(i,e,t){return i instanceof vd?function(l,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&ba(h)&&(h=Ba(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(t,e):i instanceof $a?bd(i,e):i instanceof Sl?Gs(i,e):function(l,h){const g=Ng(l,h),v=Sy(g)+Sy(l.wt);return El(g)&&El(l.wt)?r_(v):ih(l.serializer,v)}(i,e)}function c0(i,e,t){return i instanceof $a?bd(i,e):i instanceof Sl?Gs(i,e):t}function Ng(i,e){return i instanceof wd?El(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class vd extends ip{}class $a extends ip{constructor(e){super(),this.elements=e}}function bd(i,e){const t=Fc(e);for(const l of i.elements)t.some(h=>ds(h,l))||t.push(l);return{arrayValue:{values:t}}}class Sl extends ip{constructor(e){super(),this.elements=e}}function Gs(i,e){let t=Fc(e);for(const l of i.elements)t=t.filter(h=>!ds(h,l));return{arrayValue:{values:t}}}class wd extends ip{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Sy(i){return Gi(i.integerValue||i.doubleValue)}function Fc(i){return Ru(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Dd{constructor(e,t){this.field=e,this.transform=t}}class i_{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class tf{}function Rg(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ed(i.key,Fr.none()):new sh(i.key,i.data,Fr.none());{const t=i.data,l=Fo.empty();let h=new mi(tr.comparator);for(let g of e.fields)if(!h.has(g)){let v=t.field(g);null===v&&g.length>1&&(g=g.popLast(),v=t.field(g)),null===v?l.delete(g):l.set(g,v),h=h.add(g)}return new ku(i.key,l,new As(h.toArray()),Fr.none())}}function o_(i,e,t){i instanceof sh?function(l,h,g){const v=l.value.clone(),R=Qu(l.fieldTransforms,h,g.transformResults);v.setAll(R),h.convertToFoundDocument(g.version,v).setHasCommittedMutations()}(i,e,t):i instanceof ku?function(l,h,g){if(!Cd(l.precondition,h))return void h.convertToUnknownDocument(g.version);const v=Qu(l.fieldTransforms,h,g.transformResults),R=h.data;R.setAll(Og(l)),R.setAll(v),h.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oh(i,e,t,l){return i instanceof sh?function(h,g,v,R){if(!Cd(h.precondition,g))return v;const U=h.value.clone(),Z=Wl(h.fieldTransforms,R,g);return U.setAll(Z),g.convertToFoundDocument(g.version,U).setHasLocalMutations(),null}(i,e,t,l):i instanceof ku?function(h,g,v,R){if(!Cd(h.precondition,g))return v;const U=Wl(h.fieldTransforms,R,g),Z=g.data;return Z.setAll(Og(h)),Z.setAll(U),g.convertToFoundDocument(g.version,Z).setHasLocalMutations(),null===v?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ne=>ne.field))}(i,e,t,l):(v=t,Cd(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):v);var g,v}function Ny(i,e){let t=null;for(const l of i.fieldTransforms){const h=e.data.field(l.field),g=Ng(l.transform,h||null);null!=g&&(null===t&&(t=Fo.empty()),t.set(l.field,g))}return t||null}function op(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===l||t&&l&&eo(t,l,(h,g)=>function My(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(t=i.transform)instanceof $a&&l instanceof $a||t instanceof Sl&&l instanceof Sl?eo(t.elements,l.elements,ds):t instanceof wd&&l instanceof wd?ds(t.wt,l.wt):t instanceof vd&&l instanceof vd);var t,l}(h,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,l}class sh extends tf{constructor(e,t,l,h=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ku extends tf{constructor(e,t,l,h,g=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=h,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Og(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=i.data.field(t);e.set(t,l)}}),e}function Qu(i,e,t){const l=new Map;En(i.length===t.length);for(let h=0;h<t.length;h++){const g=i[h],v=g.transform,R=e.data.field(g.field);l.set(g.field,c0(v,R,t[h]))}return l}function Wl(i,e,t){const l=new Map;for(const h of i){const g=h.transform,v=t.data.field(h.field);l.set(h.field,Mg(g,v,e))}return l}class Ed extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nf extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xg{constructor(e,t,l,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(e.key)&&o_(g,e,l[h])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=oh(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=oh(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=yd();return this.mutations.forEach(h=>{const g=e.get(h.key),v=g.overlayedDocument;let R=this.applyToLocalView(v,g.mutatedFields);R=t.has(h.key)?null:R;const U=Rg(v,R);null!==U&&l.set(h.key,U),v.isValidDocument()||v.convertToNoDocument(hn.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ir())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(t,l)=>op(t,l))&&eo(this.baseMutations,e.baseMutations,(t,l)=>op(t,l))}}class Ry{constructor(e,t,l,h){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=h}static from(e,t,l){En(e.mutations.length===l.length);let h=Pc;const g=e.mutations;for(let v=0;v<g.length;v++)h=h.insert(g[v].key,l[v].version);return new Ry(e,t,l,h)}}class rf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pg{constructor(e,t){this.count=e,this.unchangedNames=t}}var hs,sr;function ja(i){switch(i){default:return tn();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function sp(i){if(void 0===i)return Or("GRPC error has no .code"),ct.UNKNOWN;switch(i){case hs.OK:return ct.OK;case hs.CANCELLED:return ct.CANCELLED;case hs.UNKNOWN:return ct.UNKNOWN;case hs.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case hs.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case hs.INTERNAL:return ct.INTERNAL;case hs.UNAVAILABLE:return ct.UNAVAILABLE;case hs.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case hs.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case hs.NOT_FOUND:return ct.NOT_FOUND;case hs.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case hs.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case hs.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case hs.ABORTED:return ct.ABORTED;case hs.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case hs.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case hs.DATA_LOSS:return ct.DATA_LOSS;default:return tn()}}(sr=hs||(hs={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";class Id{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ml}static getOrCreateInstance(){return null===Ml&&(Ml=new Id),Ml}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ml=null;function ah(){return new TextEncoder}const ap=new O([4294967295,4294967295],0);function kg(i){const e=ah().encode(i),t=new A;return t.update(e),new Uint8Array(t.digest())}function Fg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new O([t,l],0),new O([h,g],0)]}class Lg{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new lp(`Invalid padding: ${t}`);if(l<0)throw new lp(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new lp(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new lp(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=O.fromNumber(this.yt)}Tt(e,t,l){let h=e.add(t.multiply(O.fromNumber(l)));return 1===h.compare(ap)&&(h=new O([h.getBits(0),h.getBits(1)],0)),h.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=kg(e),[l,h]=Fg(t);for(let g=0;g<this.hashCount;g++){const v=this.Tt(l,h,g);if(!this.Et(v))return!1}return!0}static create(e,t,l){const h=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),v=new Lg(g,h,t);return l.forEach(R=>v.insert(R)),v}insert(e){if(0===this.yt)return;const t=kg(e),[l,h]=Fg(t);for(let g=0;g<this.hashCount;g++){const v=this.Tt(l,h,g);this.Rt(v)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class lp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class up{constructor(e,t,l,h,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const h=new Map;return h.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new up(hn.min(),h,new gr(Yn),Hs(),Ir())}}class Td{constructor(e,t,l,h,g){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Td(l,t,Ir(),Ir(),Ir())}}class Xu{constructor(e,t,l,h){this.vt=e,this.removedTargetIds=t,this.key=l,this.Pt=h}}class Fu{constructor(e,t){this.targetId=e,this.bt=t}}class Oy{constructor(e,t,l=fo.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=h}}class cp{constructor(){this.Vt=0,this.St=Zl(),this.Dt=fo.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Ir(),t=Ir(),l=Ir();return this.St.forEach((h,g)=>{switch(g){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:l=l.add(h);break;default:tn()}}),new Td(this.Dt,this.Ct,e,t,l)}$t(){this.xt=!1,this.St=Zl()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Nl{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Hs(),this.jt=ql(),this.zt=new gr(Yn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const l=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&l.Mt(e.resumeToken);break;case 1:l.qt(),l.Nt||l.$t(),l.Mt(e.resumeToken);break;case 2:l.qt(),l.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(l.Ut(),l.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),l.Mt(e.resumeToken));break;default:tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((l,h)=>{this.Zt(h)&&t(h)})}ee(e){var t;const l=e.targetId,h=e.bt.count,g=this.ne(l);if(g){const v=g.target;if(Ju(v))if(0===h){const R=new Pt(v.path);this.Jt(l,R,Wr.newNoDocument(R,hn.min()))}else En(1===h);else{const R=this.se(l);if(R!==h){const U=this.ie(e,R);0!==U&&(this.te(l),this.zt=this.zt.insert(l,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Id.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Z,ne,Ie){var tt,wt,Xt,fn,Pn,xr;const _i={localCacheCount:ne,existenceFilterCount:Ie.count},Ur=Ie.unchangedNames;return Ur&&(_i.bloomFilter={applied:0===Z,hashCount:null!==(tt=Ur?.hashCount)&&void 0!==tt?tt:0,bitmapLength:null!==(fn=null===(Xt=null===(wt=Ur?.bits)||void 0===wt?void 0:wt.bitmap)||void 0===Xt?void 0:Xt.length)&&void 0!==fn?fn:0,padding:null!==(xr=null===(Pn=Ur?.bits)||void 0===Pn?void 0:Pn.padding)&&void 0!==xr?xr:0}),_i}(U,R,e.bt))}}}}ie(e,t){const{unchangedNames:l,count:h}=e.bt;if(!l||!l.bits)return 1;const{bits:{bitmap:g="",padding:v=0},hashCount:R=0}=l;let U,Z;try{U=po(g).toUint8Array()}catch(ne){if(ne instanceof Sc)return Jr("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{Z=new Lg(U,v,R)}catch(ne){return Jr(ne instanceof lp?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===Z.yt?1:h!==t-this.re(e.targetId,Z)?2:0}re(e,t){const l=this.Kt.getRemoteKeysForTarget(e);let h=0;return l.forEach(g=>{const v=this.Kt.oe(),R=`projects/${v.projectId}/databases/${v.database}/documents/${g.path.canonicalString()}`;t.At(R)||(this.Jt(e,g,null),h++)}),h}ue(e){const t=new Map;this.Gt.forEach((g,v)=>{const R=this.ne(v);if(R){if(g.current&&Ju(R.target)){const U=new Pt(R.target.path);null!==this.Qt.get(U)||this.ce(v,U)||this.Jt(v,U,Wr.newNoDocument(U,e))}g.kt&&(t.set(v,g.Ot()),g.$t())}});let l=Ir();this.jt.forEach((g,v)=>{let R=!0;v.forEachWhile(U=>{const Z=this.ne(U);return!Z||"TargetPurposeLimboResolution"===Z.purpose||(R=!1,!1)}),R&&(l=l.add(g))}),this.Qt.forEach((g,v)=>v.setReadTime(e));const h=new up(e,t,this.zt,this.Qt,l);return this.Qt=Hs(),this.jt=ql(),this.zt=new gr(Yn),h}Ht(e,t){if(!this.Zt(e))return;const l=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,l),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,l){if(!this.Zt(e))return;const h=this.Xt(e);this.ce(e,t)?h.Ft(t,1):h.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),l&&(this.Qt=this.Qt.insert(t,l))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new cp,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new mi(Yn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new cp),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function ql(){return new gr(Pt.comparator)}function Zl(){return new gr(Pt.comparator)}const Rl={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lc={and:"AND",or:"OR"};class lh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ec(i,e){return i.useProto3Json||Us(e)?e:{value:e}}function uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bo(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function sf(i,e){return uh(i,e.toTimestamp())}function Yo(i){return En(!!i),hn.fromTimestamp(function(e){const t=wl(e);return new ui(t.seconds,t.nanos)}(i))}function ch(i,e){return(t=i,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hp(i){const e=Un.fromString(i);return En(pp(e)),e}function af(i,e){return ch(i.databaseId,e.path)}function Lu(i,e){const t=hp(e);if(t.get(1)!==i.databaseId.projectId)throw new Vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Pt(xy(t))}function Bg(i,e){return ch(i.databaseId,e)}function s_(i){const e=hp(i);return 4===e.length?Un.emptyPath():xy(e)}function dh(i){return new Un(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xy(i){return En(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Py(i,e,t){return{name:af(i,e),fields:t.value.mapValue.fields}}function hh(i,e,t){const l=Lu(i,e.name),h=Yo(e.updateTime),g=e.createTime?Yo(e.createTime):hn.min(),v=new Fo({mapValue:{fields:e.fields}}),R=Wr.newFoundDocument(l,h,g,v);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function zs(i,e){let t;if(e instanceof sh)t={update:Py(i,e.key,e.value)};else if(e instanceof Ed)t={delete:af(i,e.key)};else if(e instanceof ku)t={update:Py(i,e.key,e.data),updateMask:rc(e.fieldMask)};else{if(!(e instanceof nf))return tn();t={verify:af(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(h,g){const v=g.transform;if(v instanceof vd)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof $a)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Sl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof wd)return{fieldPath:g.field.canonicalString(),increment:v.wt};throw tn()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:sf(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:tn()),t;var h}function Bu(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Fr.updateTime(Yo(h.updateTime)):void 0!==h.exists?Fr.exists(h.exists):Fr.none():Fr.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(g,v){let R=null;"setToServerValue"in v?(En("REQUEST_TIME"===v.setToServerValue),R=new vd):"appendMissingElements"in v?R=new $a(v.appendMissingElements.values||[]):"removeAllFromArray"in v?R=new Sl(v.removeAllFromArray.values||[]):"increment"in v?R=new wd(g,v.increment):tn();const U=tr.fromServerFormat(v.fieldPath);return new Dd(U,R)}(i,h)):[];var h;if(e.update){const h=Lu(i,e.update.name),g=new Fo({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new As((e.updateMask.fieldPaths||[]).map(Z=>tr.fromServerFormat(Z)));return new ku(h,g,v,t,l)}return new sh(h,g,t,l)}if(e.delete){const h=Lu(i,e.delete);return new Ed(h,t)}if(e.verify){const h=Lu(i,e.verify);return new nf(h,t)}return tn()}function fp(i,e){return{documents:[Bg(i,e.path)]}}function pu(i,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=Bg(i,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bg(i,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(U){if(0!==U.length)return Uc(et.create(U,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const g=function(U){if(0!==U.length)return U.map(Z=>{return{field:gu((ne=Z).field),direction:lf(ne.dir)};var ne})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const v=ec(i,e.limit);var R,U;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function tc(i){let e=s_(i.parent);const t=i.structuredQuery,l=t.from?t.from.length:0;let h=null;if(l>0){En(1===l);const ne=t.from[0];ne.allDescendants?h=ne.collectionId:e=e.child(ne.collectionId)}let g=[];t.where&&(g=function(ne){const Ie=ph(ne);return Ie instanceof et&&Rn(Ie)?Ie.getFilters():[Ie]}(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(ne=>{return new W(nc((Ie=ne).field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let R=null;t.limit&&(R=function(ne){let Ie;return Ie="object"==typeof ne?ne.value:ne,Us(Ie)?null:Ie}(t.limit));let U=null;var ne;t.startAt&&(U=new rl((ne=t.startAt).values||[],!!ne.before));let Z=null;return t.endAt&&(Z=function(ne){return new rl(ne.values||[],!ne.before)}(t.endAt)),np(e,h,v,g,R,"F",U,Z)}function ph(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nc(e.unaryFilter.field);return Ae.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=nc(e.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=nc(e.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=nc(e.unaryFilter.field);return Ae.create(g,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(i):void 0!==i.fieldFilter?Ae.create(nc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return et.create(e.compositeFilter.filters.map(t=>ph(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(i):tn();var e}function lf(i){return Rl[i]}function l_(i){return dp[i]}function Bc(i){return Lc[i]}function gu(i){return{fieldPath:i.canonicalString()}}function nc(i){return tr.fromServerFormat(i.fieldPath)}function Uc(i){return i instanceof Ae?function(e){if("=="===e.op){if(Ou(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NAN"}};if($l(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ou(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NOT_NAN"}};if($l(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(e.field),op:l_(e.op),value:e.value}}}(i):i instanceof et?function(e){const t=e.getFilters().map(l=>Uc(l));return 1===t.length?t[0]:{compositeFilter:{op:Bc(e.op),filters:t}}}(i):tn()}function rc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Jo{constructor(e,t,l,h,g=hn.min(),v=hn.min(),R=fo.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=R,this.expectedCount=U}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uf{constructor(e){this.le=e}}function gh(i,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:il(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:af(h=i.le,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:uh(h,g.version.toTimestamp()),createTime:uh(h,g.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:Vc(e.version)};else{if(!e.isUnknownDocument())return tn();l.unknownDocument={path:t.path.toArray(),version:Vc(e.version)}}var h,g;return l}function il(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Vc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uu(i){const e=new ui(i.seconds,i.nanoseconds);return hn.fromTimestamp(e)}function Ad(i,e){const t=(e.baseMutations||[]).map(g=>Bu(i.le,g));for(let g=0;g<e.mutations.length-1;++g)g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(e.mutations[g].updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g);const l=e.mutations.map(g=>Bu(i.le,g)),h=ui.fromMillis(e.localWriteTimeMs);return new xg(e.batchId,h,t,l)}function ic(i){const e=Uu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Uu(i.lastLimboFreeSnapshotVersion):hn.min();let l;var h;return void 0!==i.query.documents?(En(1===(h=i.query).documents.length),l=re(xc(s_(h.documents[0])))):l=re(tc(i.query)),new Jo(l,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,fo.fromBase64String(i.resumeToken))}function gp(i,e){const t=Vc(e.snapshotVersion),l=Vc(e.lastLimboFreeSnapshotVersion);let h;h=Ju(e.target)?fp(i.le,e.target):pu(i.le,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tl(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function Vu(i){const e=tc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?dt(e,e.limit,"L"):e}function Vg(i,e){return new rf(e.largestBatchId,Bu(i.le,e.overlayMutation))}function $g(i,e){const t=e.path.lastSegment();return[i,gi(e.path.popLast()),t]}function u_(i,e,t,l){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Vc(l.readTime),documentKey:gi(l.documentKey.path),largestBatchId:l.largestBatchId}}class jg{getBundleMetadata(e,t){return Sd(e).get(t).next(l=>{if(l)return{id:(h=l).bundleId,createTime:Uu(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Sd(e).put({bundleId:(l=t).id,createTime:Vc(Yo(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return df(e).get(t).next(l=>{if(l)return{name:(h=l).name,query:Vu(h.bundledQuery),readTime:Uu(h.readTime)};var h})}saveNamedQuery(e,t){return df(e).put({name:(l=t).name,readTime:Vc(Yo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Sd(i){return ho(i,"bundles")}function df(i){return ho(i,"namedQueries")}class hf{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new hf(e,t.uid||"")}getOverlay(e,t){return Md(e).get($g(this.userId,t)).next(l=>l?Vg(this.serializer,l):null)}getOverlays(e,t){const l=Va();return Ke.forEach(t,h=>this.getOverlay(e,h).next(g=>{null!==g&&l.set(h,g)})).next(()=>l)}saveOverlays(e,t,l){const h=[];return l.forEach((g,v)=>{const R=new rf(t,v);h.push(this.de(e,R))}),Ke.waitFor(h)}removeOverlaysForBatchId(e,t,l){const h=new Set;t.forEach(v=>h.add(gi(v.getCollectionPath())));const g=[];return h.forEach(v=>{const R=IDBKeyRange.bound([this.userId,v,l],[this.userId,v,l+1],!1,!0);g.push(Md(e).J("collectionPathOverlayIndex",R))}),Ke.waitFor(g)}getOverlaysForCollection(e,t,l){const h=Va(),g=gi(t),v=IDBKeyRange.bound([this.userId,g,l],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Md(e).j("collectionPathOverlayIndex",v).next(R=>{for(const U of R){const Z=Vg(this.serializer,U);h.set(Z.getKey(),Z)}return h})}getOverlaysForCollectionGroup(e,t,l,h){const g=Va();let v;const R=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Md(e).X({index:"collectionGroupOverlayIndex",range:R},(U,Z,ne)=>{const Ie=Vg(this.serializer,Z);g.size()<h||Ie.largestBatchId===v?(g.set(Ie.getKey(),Ie),v=Ie.largestBatchId):ne.done()}).next(()=>g)}de(e,t){return Md(e).put(function(l,h,g){const[v,R,U]=$g(h,g.mutation.key);return{userId:h,collectionPath:R,documentId:U,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:zs(l.le,g.mutation)}}(this.serializer,this.userId,t))}}function Md(i){return ho(i,"documentOverlays")}class Nd{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Gi(e.integerValue));else if("doubleValue"in e){const l=Gi(e.doubleValue);isNaN(l)?this.ge(t,13):(this.ge(t,15),Xa(l)?t.ye(0):t.ye(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ge(t,20),"string"==typeof l?t.pe(l):(t.pe(`${l.seconds||""}`),t.ye(l.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(po(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ge(t,45),t.ye(l.latitude||0),t.ye(l.longitude||0)}else"mapValue"in e?zi(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):tn()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const l=e.fields||{};this.ge(t,55);for(const h of Object.keys(l))this.Ie(h,t),this.we(l[h],t)}ve(e,t){const l=e.values||[];this.ge(t,50);for(const h of l)this.we(h,t)}Ae(e,t){this.ge(t,37),Pt.fromName(e).path.forEach(l=>{this.ge(t,60),this.Pe(l,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function c_(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function $c(i){const e=64-function(t){let l=0;for(let h=0;h<8;++h){const g=c_(255&t[h]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(e/8)}Nd.be=new Nd;class ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Se(l.value),l=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.xe(l.value),l=t.next();this.Ne()}ke(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Se(l);else if(l<2048)this.Se(960|l>>>6),this.Se(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Se(480|l>>>12),this.Se(128|63&l>>>6),this.Se(128|63&l);else{const h=t.codePointAt(0);this.Se(240|h>>>18),this.Se(128|63&h>>>12),this.Se(128|63&h>>>6),this.Se(128|63&h)}}this.De()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.xe(l);else if(l<2048)this.xe(960|l>>>6),this.xe(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.xe(480|l>>>12),this.xe(128|63&l>>>6),this.xe(128|63&l);else{const h=t.codePointAt(0);this.xe(240|h>>>18),this.xe(128|63&h>>>12),this.xe(128|63&h>>>6),this.xe(128|63&h)}}this.Ne()}Oe(e){const t=this.$e(e),l=$c(t);this.Fe(1+l),this.buffer[this.position++]=255&l;for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Be(e){const t=this.$e(e),l=$c(t);this.Fe(1+l),this.buffer[this.position++]=~(255&l);for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(h){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,h,!1),new Uint8Array(g.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let h=1;h<t.length;++h)t[h]^=l?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class mh{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class ff{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class pf{constructor(){this.Qe=new ky,this.je=new mh(this.Qe),this.ze=new ff(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class jc{constructor(e,t,l,h){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=h}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new jc(this.indexId,this.documentKey,this.arrayValue,l)}}function Yl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=d_(i.arrayValue,e.arrayValue),0!==t?t:(t=d_(i.directionalValue,e.directionalValue),0!==t?t:Pt.comparator(i.documentKey,e.documentKey)))}function d_(i,e){for(let t=0;t<i.length&&t<e.length;++t){const l=i[t]-e[t];if(0!==l)return l}return i.length-e.length}class Hg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const l=t;l.isInequality()?this.Xe=l:this.Ye.push(l)}}Ze(e){En(e.collectionGroup===this.collectionId);const t=Ls(e);if(void 0!==t&&!this.tn(t))return!1;const l=Za(e);let h=0,g=0;for(;h<l.length&&this.tn(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Xe){const v=l[h];if(!this.en(this.Xe,v)||!this.nn(this.Je[g++],v))return!1;++h}for(;h<l.length;++h)if(g>=this.Je.length||!this.nn(this.Je[g++],l[h]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Gg(i){var e,t;if(En(i instanceof Ae||i instanceof et),i instanceof Ae){if(i instanceof gd){const h=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>Ae.create(i.field,"==",g)))||[];return et.create(h,"or")}return i}const l=i.filters.map(h=>Gg(h));return et.create(l,i.op)}function h_(i){if(0===i.getFilters().length)return[];const e=_f(Gg(i));return En(f_(e)),gf(e)||mf(e)?[e]:e.getFilters()}function gf(i){return i instanceof Ae}function mf(i){return i instanceof et&&Rn(i)}function f_(i){return gf(i)||mf(i)||function(e){if(e instanceof et&&nn(e)){for(const t of e.getFilters())if(!gf(t)&&!mf(t))return!1;return!0}return!1}(i)}function _f(i){if(En(i instanceof Ae||i instanceof et),i instanceof Ae)return i;if(1===i.filters.length)return _f(i.filters[0]);const e=i.filters.map(l=>_f(l));let t=et.create(e,i.op);return t=mp(t),f_(t)?t:(En(t instanceof et),En(sn(t)),En(t.filters.length>1),t.filters.reduce((l,h)=>Rd(l,h)))}function Rd(i,e){let t;return En(i instanceof Ae||i instanceof et),En(e instanceof Ae||e instanceof et),t=i instanceof Ae?e instanceof Ae?et.create([i,e],"and"):p_(i,e):e instanceof Ae?p_(e,i):function(l,h){if(En(l.filters.length>0&&h.filters.length>0),sn(l)&&sn(h))return No(l,h.getFilters());const g=nn(l)?l:h,v=nn(l)?h:l,R=g.filters.map(U=>Rd(U,v));return et.create(R,"or")}(i,e),mp(t)}function p_(i,e){if(sn(e))return No(e,i.getFilters());{const t=e.filters.map(l=>Rd(i,l));return et.create(t,"or")}}function mp(i){if(En(i instanceof Ae||i instanceof et),i instanceof Ae)return i;const e=i.getFilters();if(1===e.length)return mp(e[0]);if(pr(i))return i;const t=e.map(h=>mp(h)),l=[];return t.forEach(h=>{h instanceof Ae?l.push(h):h instanceof et&&(h.op===i.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:et.create(l,i.op)}class Fy{constructor(){this.sn=new zg}addToCollectionParentIndex(e,t){return this.sn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(co.min())}updateCollectionGroup(e,t,l){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class zg{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t]||new mi(Un.comparator),g=!h.has(l);return this.index[t]=h.add(l),g}has(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t];return h&&h.has(l)}getEntries(e){return(this.index[e]||new mi(Un.comparator)).toArray()}}const _p=new Uint8Array(0);class Ly{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new zg,this.on=new zl(l=>Tl(l),(l,h)=>Al(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const l=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const g={collectionId:l,parent:gi(h)};return g_(e).put(g)}return Ke.resolve()}getCollectionParents(e,t){const l=[],h=IDBKeyRange.bound([t,""],[Au(t),""],!1,!0);return g_(e).j(h).next(g=>{for(const v of g){if(v.collectionId!==t)break;l.push(I(v.parent))}return l})}addFieldIndex(e,t){const l=mu(e),h={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var v;delete h.indexId;const g=l.add(h);if(t.indexState){const v=_h(e);return g.next(R=>{v.put(u_(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const l=mu(e),h=_h(e),g=oc(e);return l.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=oc(e);let h=!0;const g=new Map;return Ke.forEach(this.un(t),v=>this.cn(e,v).next(R=>{h&&(h=!!R),g.set(v,R)})).next(()=>{if(h){let v=Ir();const R=[];return Ke.forEach(g,(U,Z)=>{var ne;gt("IndexedDbIndexManager",`Using index ${ne=U,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(Ur=>`${Ur.fieldPath}:${Ur.kind}`).join(",")}`} to execute ${Tl(t)}`);const Ie=function(Ur,Ca){const Vo=Ls(Ca);if(void 0===Vo)return null;for(const yo of Oc(Ur,Vo.fieldPath))switch(yo.op){case"array-contains-any":return yo.value.arrayValue.values||[];case"array-contains":return[yo.value]}return null}(Z,U),tt=function(Ur,Ca){const Vo=new Map;for(const yo of Za(Ca))for(const sl of Oc(Ur,yo.fieldPath))switch(sl.op){case"==":case"in":Vo.set(yo.fieldPath.canonicalString(),sl.value);break;case"not-in":case"!=":return Vo.set(yo.fieldPath.canonicalString(),sl.value),Array.from(Vo.values())}return null}(Z,U),wt=function(Ur,Ca){const Vo=[];let yo=!0;for(const sl of Za(Ca)){const Wu=0===sl.kind?Ag(Ur,sl.fieldPath,Ur.startAt):ef(Ur,sl.fieldPath,Ur.startAt);Vo.push(Wu.value),yo&&(yo=Wu.inclusive)}return new rl(Vo,yo)}(Z,U),Xt=function(Ur,Ca){const Vo=[];let yo=!0;for(const sl of Za(Ca)){const Wu=0===sl.kind?ef(Ur,sl.fieldPath,Ur.endAt):Ag(Ur,sl.fieldPath,Ur.endAt);Vo.push(Wu.value),yo&&(yo=Wu.inclusive)}return new rl(Vo,yo)}(Z,U),fn=this.an(U,Z,wt),Pn=this.an(U,Z,Xt),xr=this.hn(U,Z,tt),_i=this.ln(U.indexId,Ie,fn,wt.inclusive,Pn,Xt.inclusive,xr);return Ke.forEach(_i,Ur=>l.H(Ur,t.limit).next(Ca=>{Ca.forEach(Vo=>{const yo=Pt.fromSegments(Vo.documentKey);v.has(yo)||(v=v.add(yo),R.push(yo))})}))}).next(()=>R)}return Ke.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:h_(et.create(e.filters,"and")).map(l=>Rc(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,l,h,g,v,R){const U=(null!=t?t.length:1)*Math.max(l.length,g.length),Z=U/(null!=t?t.length:1),ne=[];for(let Ie=0;Ie<U;++Ie){const tt=t?this.fn(t[Ie/Z]):_p,wt=this.dn(e,tt,l[Ie%Z],h),Xt=this._n(e,tt,g[Ie%Z],v),fn=R.map(Pn=>this.dn(e,tt,Pn,!0));ne.push(...this.createRange(wt,Xt,fn))}return ne}dn(e,t,l,h){const g=new jc(e,Pt.empty(),t,l);return h?g:g.He()}_n(e,t,l,h){const g=new jc(e,Pt.empty(),t,l);return h?g.He():g}cn(e,t){const l=new Hg(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(g=>{let v=null;for(const R of g)l.Ze(R)&&(!v||R.fields.length>v.fields.length)&&(v=R);return v})}getIndexType(e,t){let l=2;const h=this.un(t);return Ke.forEach(h,g=>this.cn(e,g).next(v=>{v?0!==l&&v.fields.length<function(R){let U=new mi(tr.comparator),Z=!1;for(const ne of R.filters)for(const Ie of ne.getFlattenedFilters())Ie.field.isKeyField()||("array-contains"===Ie.op||"array-contains-any"===Ie.op?Z=!0:U=U.add(Ie.field));for(const ne of R.orderBy)ne.field.isKeyField()||(U=U.add(ne.field));return U.size+(Z?1:0)}(g)&&(l=1):l=0})).next(()=>null!==t.limit&&h.length>1&&2===l?1:l)}wn(e,t){const l=new pf;for(const h of Za(e)){const g=t.data.field(h.fieldPath);if(null==g)return null;const v=l.We(h.kind);Nd.be._e(g,v)}return l.Ge()}fn(e){const t=new pf;return Nd.be._e(e,t.We(0)),t.Ge()}mn(e,t){const l=new pf;return Nd.be._e(nl(this.databaseId,t),l.We(function(h){const g=Za(h);return 0===g.length?0:g[g.length-1].kind}(e))),l.Ge()}hn(e,t,l){if(null===l)return[];let h=[];h.push(new pf);let g=0;for(const v of Za(e)){const R=l[g++];for(const U of h)if(this.gn(t,v.fieldPath)&&Ru(R))h=this.yn(h,v,R);else{const Z=U.We(v.kind);Nd.be._e(R,Z)}}return this.pn(h)}an(e,t,l){return this.hn(e,t,l.position)}pn(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Ge();return t}yn(e,t,l){const h=[...e],g=[];for(const v of l.arrayValue.values||[])for(const R of h){const U=new pf;U.seed(R.Ge()),Nd.be._e(v,U.We(t.kind)),g.push(U)}return g}gn(e,t){return!!e.filters.find(l=>l instanceof Ae&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=mu(e),h=_h(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(g=>{const v=[];return Ke.forEach(g,R=>h.get([R.indexId,this.uid]).next(U=>{v.push(function(Z,ne){const Ie=ne?new Ja(ne.sequenceNumber,new co(Uu(ne.readTime),new Pt(I(ne.documentKey)),ne.largestBatchId)):Ja.empty(),tt=Z.fields.map(([wt,Xt])=>new Xs(tr.fromServerFormat(wt),Xt));return new Qs(Z.indexId,Z.collectionGroup,tt,Ie)}(R,U))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,h)=>{const g=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==g?g:Yn(l.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const h=mu(e),g=_h(e);return this.In(e).next(v=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>Ke.forEach(R,U=>g.put(u_(U.indexId,this.user,v,l)))))}updateIndexEntries(e,t){const l=new Map;return Ke.forEach(t,(h,g)=>{const v=l.get(h.collectionGroup);return(v?Ke.resolve(v):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(l.set(h.collectionGroup,R),Ke.forEach(R,U=>this.Tn(e,h,U).next(Z=>{const ne=this.En(g,U);return Z.isEqual(ne)?Ke.resolve():this.An(e,g,U,Z,ne)}))))})}Rn(e,t,l,h){return oc(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(l,t.key),documentKey:t.key.path.toArray()})}vn(e,t,l,h){return oc(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(l,t.key),t.key.path.toArray()])}Tn(e,t,l){const h=oc(e);let g=new mi(Yl);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.mn(l,t)])},(v,R)=>{g=g.add(new jc(l.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>g)}En(e,t){let l=new mi(Yl);const h=this.wn(t,e);if(null==h)return l;const g=Ls(t);if(null!=g){const v=e.data.field(g.fieldPath);if(Ru(v))for(const R of v.arrayValue.values||[])l=l.add(new jc(t.indexId,e.key,this.fn(R),h))}else l=l.add(new jc(t.indexId,e.key,_p,h));return l}An(e,t,l,h,g){gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(R,U,Z,ne,Ie){const tt=R.getIterator(),wt=U.getIterator();let Xt=uu(tt),fn=uu(wt);for(;Xt||fn;){let Pn=!1,xr=!1;if(Xt&&fn){const _i=Z(Xt,fn);_i<0?xr=!0:_i>0&&(Pn=!0)}else null!=Xt?xr=!0:Pn=!0;Pn?(ne(fn),fn=uu(wt)):xr?(Ie(Xt),Xt=uu(tt)):(Xt=uu(tt),fn=uu(wt))}}(h,g,Yl,R=>{v.push(this.Rn(e,t,l,R))},R=>{v.push(this.vn(e,t,l,R))}),Ke.waitFor(v)}In(e){let t=1;return _h(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,g)=>{g.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((v,R)=>Yl(v,R)).filter((v,R,U)=>!R||0!==Yl(v,U[R-1]));const h=[];h.push(e);for(const v of l){const R=Yl(v,e),U=Yl(v,t);if(0===R)h[0]=e.He();else if(R>0&&U<0)h.push(v),h.push(v.He());else if(U>0)break}h.push(t);const g=[];for(let v=0;v<h.length;v+=2){if(this.Pn(h[v],h[v+1]))return[];g.push(IDBKeyRange.bound([h[v].indexId,this.uid,h[v].arrayValue,h[v].directionalValue,_p,[]],[h[v+1].indexId,this.uid,h[v+1].arrayValue,h[v+1].directionalValue,_p,[]]))}return g}Pn(e,t){return Yl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wg)}getMinOffset(e,t){return Ke.mapArray(this.un(t),l=>this.cn(e,l).next(h=>h||tn())).next(Wg)}}function g_(i){return ho(i,"collectionParents")}function oc(i){return ho(i,"indexEntries")}function mu(i){return ho(i,"indexConfiguration")}function _h(i){return ho(i,"indexState")}function Wg(i){En(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<i.length;l++){const h=i[l].indexState.offset;Ul(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new co(e.readTime,e.documentKey,t)}const By={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ol{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new ol(e,ol.DEFAULT_COLLECTION_PERCENTILE,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yh(i,e,t){const l=i.store("mutations"),h=i.store("documentMutations"),g=[],v=IDBKeyRange.only(t.batchId);let R=0;const U=l.X({range:v},(ne,Ie,tt)=>(R++,tt.delete()));g.push(U.next(()=>{En(1===R)}));const Z=[];for(const ne of t.mutations){const Ie=P(e,ne.key.path,t.batchId);g.push(h.delete(Ie)),Z.push(ne.key)}return Ke.waitFor(g).next(()=>Z)}function qg(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw tn();e=i.noDocument}return JSON.stringify(e).length}ol.DEFAULT_COLLECTION_PERCENTILE=10,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ol.DEFAULT=new ol(41943040,ol.DEFAULT_COLLECTION_PERCENTILE,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ol.DISABLED=new ol(-1,0,0);class yf{constructor(e,t,l,h){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=h,this.bn={}}static fe(e,t,l,h){En(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new yf(g,t,l,h)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).X({index:"userMutationsIndex",range:l},(h,g,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,l,h){const g=Od(e),v=Hc(e);return v.add({}).next(R=>{En("number"==typeof R);const U=new xg(R,t,l,h),Z=function(tt,wt,Xt){const fn=Xt.baseMutations.map(xr=>zs(tt.le,xr)),Pn=Xt.mutations.map(xr=>zs(tt.le,xr));return{userId:wt,batchId:Xt.batchId,localWriteTimeMs:Xt.localWriteTime.toMillis(),baseMutations:fn,mutations:Pn}}(this.serializer,this.userId,U),ne=[];let Ie=new mi((tt,wt)=>Yn(tt.canonicalString(),wt.canonicalString()));for(const tt of h){const wt=P(this.userId,tt.key.path,R);Ie=Ie.add(tt.key.path.popLast()),ne.push(v.put(Z)),ne.push(g.put(wt,V))}return Ie.forEach(tt=>{ne.push(this.indexManager.addToCollectionParentIndex(e,tt))}),e.addOnCommittedListener(()=>{this.bn[R]=U.keys()}),Ke.waitFor(ne).next(()=>U)})}lookupMutationBatch(e,t){return Hc(e).get(t).next(l=>l?(En(l.userId===this.userId),Ad(this.serializer,l)):null)}Vn(e,t){return this.bn[t]?Ke.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const h=l.keys();return this.bn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,h=IDBKeyRange.lowerBound([this.userId,l]);let g=null;return Hc(e).X({index:"userMutationsIndex",range:h},(v,R,U)=>{R.userId===this.userId&&(En(R.batchId>=l),g=Ad(this.serializer,R)),U.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Hc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,g,v)=>{l=g.batchId,v.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).j("userMutationsIndex",t).next(l=>l.map(h=>Ad(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=w(this.userId,t.path),h=IDBKeyRange.lowerBound(l),g=[];return Od(e).X({range:h},(v,R,U)=>{const[Z,ne,Ie]=v,tt=I(ne);if(Z===this.userId&&t.path.isEqual(tt))return Hc(e).get(Ie).next(wt=>{if(!wt)throw tn();En(wt.userId===this.userId),g.push(Ad(this.serializer,wt))});U.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new mi(Yn);const h=[];return t.forEach(g=>{const v=w(this.userId,g.path),R=IDBKeyRange.lowerBound(v),U=Od(e).X({range:R},(Z,ne,Ie)=>{const[tt,wt,Xt]=Z,fn=I(wt);tt===this.userId&&g.path.isEqual(fn)?l=l.add(Xt):Ie.done()});h.push(U)}),Ke.waitFor(h).next(()=>this.Sn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1,g=w(this.userId,l),v=IDBKeyRange.lowerBound(g);let R=new mi(Yn);return Od(e).X({range:v},(U,Z,ne)=>{const[Ie,tt,wt]=U,Xt=I(tt);Ie===this.userId&&l.isPrefixOf(Xt)?Xt.length===h&&(R=R.add(wt)):ne.done()}).next(()=>this.Sn(e,R))}Sn(e,t){const l=[],h=[];return t.forEach(g=>{h.push(Hc(e).get(g).next(v=>{if(null===v)throw tn();En(v.userId===this.userId),l.push(Ad(this.serializer,v))}))}),Ke.waitFor(h).next(()=>l)}removeMutationBatch(e,t){return yh(e.at,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Ke.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Od(e).X({range:l},(g,v,R)=>{if(g[0]===this.userId){const U=I(g[1]);h.push(U)}else R.done()}).next(()=>{En(0===h.length)})})}containsKey(e,t){return Zg(e,this.userId,t)}Cn(e){return m_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zg(i,e,t){const l=w(e,t.path),h=l[1],g=IDBKeyRange.lowerBound(l);let v=!1;return Od(i).X({range:g,Y:!0},(R,U,Z)=>{const[ne,Ie,tt]=R;ne===e&&Ie===h&&(v=!0),Z.done()}).next(()=>v)}function Hc(i){return ho(i,"mutations")}function Od(i){return ho(i,"documentMutations")}function m_(i){return ho(i,"mutationQueues")}class Gc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Gc(0)}static kn(){return new Gc(-1)}}class _u{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const l=new Gc(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>hn.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.Mn(e).next(h=>(h.highestListenSequenceNumber=t,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(l=>(l.targetCount+=1,this.Fn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>vh(e).delete(t.targetId)).next(()=>this.Mn(e)).next(l=>(En(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let h=0;const g=[];return vh(e).X((v,R)=>{const U=ic(R);U.sequenceNumber<=t&&null===l.get(U.targetId)&&(h++,g.push(this.removeTargetData(e,U)))}).next(()=>Ke.waitFor(g)).next(()=>h)}forEachTarget(e,t){return vh(e).X((l,h)=>{const g=ic(h);t(g)})}Mn(e){return Kg(e).get("targetGlobalKey").next(t=>(En(null!==t),t))}On(e,t){return Kg(e).put("targetGlobalKey",t)}$n(e,t){return vh(e).put(gp(this.serializer,t))}Fn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const l=Tl(t),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let g=null;return vh(e).X({range:h,index:"queryTargetsIndex"},(v,R,U)=>{const Z=ic(R);Al(t,Z.target)&&(g=Z,U.done())}).next(()=>g)}addMatchingKeys(e,t,l){const h=[],g=zc(e);return t.forEach(v=>{const R=gi(v.path);h.push(g.put({targetId:l,path:R})),h.push(this.referenceDelegate.addReference(e,l,v))}),Ke.waitFor(h)}removeMatchingKeys(e,t,l){const h=zc(e);return Ke.forEach(t,g=>{const v=gi(g.path);return Ke.waitFor([h.delete([l,v]),this.referenceDelegate.removeReference(e,l,g)])})}removeMatchingKeysForTargetId(e,t){const l=zc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),h=zc(e);let g=Ir();return h.X({range:l,Y:!0},(v,R,U)=>{const Z=I(v[1]),ne=new Pt(Z);g=g.add(ne)}).next(()=>g)}containsKey(e,t){const l=gi(t.path),h=IDBKeyRange.bound([l],[Au(l)],!1,!0);let g=0;return zc(e).X({index:"documentTargetsIndex",Y:!0,range:h},([v,R],U,Z)=>{0!==v&&(g++,Z.done())}).next(()=>g>0)}he(e,t){return vh(e).get(t).next(l=>l?ic(l):null)}}function vh(i){return ho(i,"targets")}function Kg(i){return ho(i,"targetGlobal")}function zc(i){return ho(i,"targetDocuments")}function Uy([i,e],[t,l]){const h=Yn(i,t);return 0===h?Yn(e,l):h}class Vy{constructor(e){this.Bn=e,this.buffer=new mi(Uy),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();Uy(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class __{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,D.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){Ao(l)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield _l(l)}yield t.Gn(3e5)}))}}class y_{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(So.ct);const l=new Vy(t);return this.Qn.forEachTarget(e,h=>l.Un(h.sequenceNumber)).next(()=>this.Qn.zn(e,h=>l.Un(h))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.Qn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(By)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),By):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let l,h,g,v,R,U,Z;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),h=this.params.maximumSequenceNumbersToCollect):h=Ie,v=Date.now(),this.nthSequenceNumber(e,h))).next(Ie=>(l=Ie,R=Date.now(),this.removeTargets(e,l,t))).next(Ie=>(g=Ie,U=Date.now(),this.removeOrphanedDocuments(e,l))).next(Ie=>(Z=Date.now(),Dn()<=Ce.in.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ne}ms\n\tDetermined least recently used ${h} in `+(R-v)+`ms\n\tRemoved ${g} targets in `+(U-R)+`ms\n\tRemoved ${Ie} documents in `+(Z-U)+`ms\nTotal Duration: ${Z-ne}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:g,documentsRemoved:Ie})))}}class $y{constructor(e,t){this.db=e,this.garbageCollector=function v_(i,e){return new y_(i,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(h=>l+h))}Hn(e){let t=0;return this.zn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(l,h)=>t(h))}addReference(e,t,l){return yp(e,l)}removeReference(e,t,l){return yp(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return yp(e,t)}Yn(e,t){return function(l,h){let g=!1;return m_(l).Z(v=>Zg(l,v,h).next(R=>(R&&(g=!0),Ke.resolve(!R)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let g=0;return this.Jn(e,(v,R)=>{if(R<=t){const U=this.Yn(e,v).next(Z=>{if(!Z)return g++,l.getEntry(e,v).next(()=>(l.removeEntry(v,hn.min()),zc(e).delete([0,gi(v.path)])))});h.push(U)}}).next(()=>Ke.waitFor(h)).next(()=>l.apply(e)).next(()=>g)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return yp(e,t)}Jn(e,t){const l=zc(e);let h,g=So.ct;return l.X({index:"documentTargetsIndex"},([v,R],{path:U,sequenceNumber:Z})=>{0===v?(g!==So.ct&&t(new Pt(I(h)),g),g=Z,h=U):g=So.ct}).next(()=>{g!==So.ct&&t(new Pt(I(h)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yp(i,e){return zc(i).put((l=i.currentSequenceNumber,{targetId:0,path:gi(e.path),sequenceNumber:l}));var l}class Ar{constructor(){this.changes=new zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Ke.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return xd(e).put(l)}removeEntry(e,t,l){return xd(e).delete(function(h,g){const v=h.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],il(g),v[v.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Xn(e,l)))}getEntry(e,t){let l=Wr.newInvalidDocument(t);return xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bh(t))},(h,g)=>{l=this.Zn(t,g)}).next(()=>l)}ts(e,t){let l={size:0,document:Wr.newInvalidDocument(t)};return xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bh(t))},(h,g)=>{l={document:this.Zn(t,g),size:qg(g)}}).next(()=>l)}getEntries(e,t){let l=Hs();return this.es(e,t,(h,g)=>{const v=this.Zn(h,g);l=l.insert(h,v)}).next(()=>l)}ns(e,t){let l=Hs(),h=new gr(Pt.comparator);return this.es(e,t,(g,v)=>{const R=this.Zn(g,v);l=l.insert(g,R),h=h.insert(g,qg(v))}).next(()=>({documents:l,ss:h}))}es(e,t,l){if(t.isEmpty())return Ke.resolve();let h=new mi(Jg);t.forEach(U=>h=h.add(U));const g=IDBKeyRange.bound(bh(h.first()),bh(h.last())),v=h.getIterator();let R=v.getNext();return xd(e).X({index:"documentKeyIndex",range:g},(U,Z,ne)=>{const Ie=Pt.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;R&&Jg(R,Ie)<0;)l(R,null),R=v.getNext();R&&R.isEqual(Ie)&&(l(R,Z),R=v.hasNext()?v.getNext():null),R?ne.G(bh(R)):ne.done()}).next(()=>{for(;R;)l(R,null),R=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,t,l,h){const g=t.path,v=[g.popLast().toArray(),g.lastSegment(),il(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],R=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xd(e).j(IDBKeyRange.bound(v,R,!0)).next(U=>{let Z=Hs();for(const ne of U){const Ie=this.Zn(Pt.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);Ie.isFoundDocument()&&(vr(t,Ie)||h.has(Ie.key))&&(Z=Z.insert(Ie.key,Ie))}return Z})}getAllFromCollectionGroup(e,t,l,h){let g=Hs();const v=C_(t,l),R=C_(t,co.max());return xd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,R,!0)},(U,Z,ne)=>{const Ie=this.Zn(Pt.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);g=g.insert(Ie.key,Ie),g.size===h&&ne.done()}).next(()=>g)}newChangeBuffer(e){return new w_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return D_(e).get("remoteDocumentGlobalKey").next(t=>(En(!!t),t))}Xn(e,t){return D_(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const l=function cf(i,e){let t;if(e.document)t=hh(i.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Pt.fromSegments(e.noDocument.path),h=Uu(e.noDocument.readTime);t=Wr.newNoDocument(l,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tn();{const l=Pt.fromSegments(e.unknownDocument.path),h=Uu(e.unknownDocument.version);t=Wr.newUnknownDocument(l,h)}}return e.readTime&&t.setReadTime(function(l){const h=new ui(l[0],l[1]);return hn.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(hn.min()))return l}return Wr.newInvalidDocument(e)}}function Yg(i){return new b_(i)}class w_ extends Ar{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new zl(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const t=[];let l=0,h=new mi((g,v)=>Yn(g.canonicalString(),v.canonicalString()));return this.changes.forEach((g,v)=>{const R=this.os.get(g);if(t.push(this.rs.removeEntry(e,g,R.readTime)),v.isValidDocument()){const U=gh(this.rs.serializer,v);h=h.add(g.path.popLast());const Z=qg(U);l+=Z-R.size,t.push(this.rs.addEntry(e,g,U))}else if(l-=R.size,this.trackRemovals){const U=gh(this.rs.serializer,v.convertToNoDocument(hn.min()));t.push(this.rs.addEntry(e,g,U))}}),h.forEach(g=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.rs.updateMetadata(e,l)),Ke.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(l=>(this.os.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:l,ss:h})=>(h.forEach((g,v)=>{this.os.set(g,{size:v,readTime:l.get(g).readTime})}),l))}}function D_(i){return ho(i,"remoteDocumentGlobal")}function xd(i){return ho(i,"remoteDocumentsV14")}function bh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function C_(i,e){const t=e.documentKey.path.toArray();return[i,il(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Jg(i,e){const t=i.path.toArray(),l=e.path.toArray();let h=0;for(let g=0;g<t.length-2&&g<l.length-2;++g)if(h=Yn(t[g],l[g]),h)return h;return h=Yn(t.length,l.length),h||(h=Yn(t[t.length-2],l[l.length-2]),h||Yn(t[t.length-1],l[l.length-1]))}class vp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class E_{constructor(e,t,l,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==l&&oh(l.mutation,h,As.empty(),ui.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,Ir()).next(()=>l))}getLocalViewOfDocuments(e,t,l=Ir()){const h=Va();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,l).next(g=>{let v=Pu();return g.forEach((R,U)=>{v=v.insert(R,U.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const l=Va();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,Ir()))}populateOverlays(e,t,l){const h=[];return l.forEach(g=>{t.has(g)||h.push(g)}),this.documentOverlayCache.getOverlays(e,h).next(g=>{g.forEach((v,R)=>{t.set(v,R)})})}computeViews(e,t,l,h){let g=Hs();const v=fu(),R=fu();return t.forEach((U,Z)=>{const ne=l.get(Z.key);h.has(Z.key)&&(void 0===ne||ne.mutation instanceof ku)?g=g.insert(Z.key,Z):void 0!==ne?(v.set(Z.key,ne.mutation.getFieldMask()),oh(ne.mutation,Z,ne.mutation.getFieldMask(),ui.now())):v.set(Z.key,As.empty())}),this.recalculateAndSaveOverlays(e,g).next(U=>(U.forEach((Z,ne)=>v.set(Z,ne)),t.forEach((Z,ne)=>{var Ie;return R.set(Z,new vp(ne,null!==(Ie=v.get(Z))&&void 0!==Ie?Ie:null))}),R))}recalculateAndSaveOverlays(e,t){const l=fu();let h=new gr((v,R)=>v-R),g=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const R of v)R.keys().forEach(U=>{const Z=t.get(U);if(null===Z)return;let ne=l.get(U)||As.empty();ne=R.applyToLocalView(Z,ne),l.set(U,ne);const Ie=(h.get(R.batchId)||Ir()).add(U);h=h.insert(R.batchId,Ie)})}).next(()=>{const v=[],R=h.getReverseIterator();for(;R.hasNext();){const U=R.getNext(),Z=U.key,ne=U.value,Ie=yd();ne.forEach(tt=>{if(!g.has(tt)){const wt=Rg(t.get(tt),l.get(tt));null!==wt&&Ie.set(tt,wt),g=g.add(tt)}}),v.push(this.documentOverlayCache.saveOverlays(e,Z,Ie))}return Ke.waitFor(v)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return Pt.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):N(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var h}getNextDocuments(e,t,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,h).next(g=>{const v=h-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,h-g.size):Ke.resolve(Va());let R=-1,U=g;return v.next(Z=>Ke.forEach(Z,(ne,Ie)=>(R<Ie.largestBatchId&&(R=Ie.largestBatchId),g.get(ne)?Ke.resolve():this.remoteDocumentCache.getEntry(e,ne).next(tt=>{U=U.insert(ne,tt)}))).next(()=>this.populateOverlays(e,Z,g)).next(()=>this.computeViews(e,U,Z,Ir())).next(ne=>({batchId:R,changes:nh(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pt(t)).next(l=>{let h=Pu();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const h=t.collectionGroup;let g=Pu();return this.indexManager.getCollectionParents(e,h).next(v=>Ke.forEach(v,R=>{const U=(Z=t,ne=R.child(h),new hu(ne,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ne;return this.getDocumentsMatchingCollectionQuery(e,U,l).next(Z=>{Z.forEach((ne,Ie)=>{g=g.insert(ne,Ie)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,h))).next(g=>{h.forEach((R,U)=>{const Z=U.getKey();null===g.get(Z)&&(g=g.insert(Z,Wr.newInvalidDocument(Z)))});let v=Pu();return g.forEach((R,U)=>{const Z=h.get(R);void 0!==Z&&oh(Z.mutation,U,As.empty(),ui.now()),vr(t,U)&&(v=v.insert(R,U))}),v})}}class h0{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.us.get(t))}saveBundleMetadata(e,t){var l;return this.us.set(t.id,{id:(l=t).id,version:l.version,createTime:Yo(l.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(l=t).name,query:Vu(l.bundledQuery),readTime:Yo(l.readTime)}),Ke.resolve();var l}}class I_{constructor(){this.overlays=new gr(Pt.comparator),this.hs=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const l=Va();return Ke.forEach(t,h=>this.getOverlay(e,h).next(g=>{null!==g&&l.set(h,g)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((h,g)=>{this.de(e,t,g)}),Ke.resolve()}removeOverlaysForBatchId(e,t,l){const h=this.hs.get(l);return void 0!==h&&(h.forEach(g=>this.overlays=this.overlays.remove(g)),this.hs.delete(l)),Ke.resolve()}getOverlaysForCollection(e,t,l){const h=Va(),g=t.length+1,v=new Pt(t.child("")),R=this.overlays.getIteratorFrom(v);for(;R.hasNext();){const U=R.getNext().value,Z=U.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===g&&U.largestBatchId>l&&h.set(U.getKey(),U)}return Ke.resolve(h)}getOverlaysForCollectionGroup(e,t,l,h){let g=new gr((Z,ne)=>Z-ne);const v=this.overlays.getIterator();for(;v.hasNext();){const Z=v.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>l){let ne=g.get(Z.largestBatchId);null===ne&&(ne=Va(),g=g.insert(Z.largestBatchId,ne)),ne.set(Z.getKey(),Z)}}const R=Va(),U=g.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((Z,ne)=>R.set(Z,ne)),!(R.size()>=h)););return Ke.resolve(R)}de(e,t,l){const h=this.overlays.get(l.key);if(null!==h){const v=this.hs.get(h.largestBatchId).delete(l.key);this.hs.set(h.largestBatchId,v)}this.overlays=this.overlays.insert(l.key,new rf(t,l));let g=this.hs.get(t);void 0===g&&(g=Ir(),this.hs.set(t,g)),this.hs.set(t,g.add(l.key))}}class bp{constructor(){this.ls=new mi(go.fs),this.ds=new mi(go._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const l=new go(e,t);this.ls=this.ls.add(l),this.ds=this.ds.add(l)}ws(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.gs(new go(e,t))}ys(e,t){e.forEach(l=>this.removeReference(l,t))}ps(e){const t=new Pt(new Un([])),l=new go(t,e),h=new go(t,e+1),g=[];return this.ds.forEachInRange([l,h],v=>{this.gs(v),g.push(v.key)}),g}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Pt(new Un([])),l=new go(t,e),h=new go(t,e+1);let g=Ir();return this.ds.forEachInRange([l,h],v=>{g=g.add(v.key)}),g}containsKey(e){const t=new go(e,0),l=this.ls.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class go{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Pt.comparator(e.key,t.key)||Yn(e.Es,t.Es)}static _s(e,t){return Yn(e.Es,t.Es)||Pt.comparator(e.key,t.key)}}class jy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new mi(go.fs)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,h){const g=this.As;this.As++;const v=new xg(g,t,l,h);this.mutationQueue.push(v);for(const R of h)this.Rs=this.Rs.add(new go(R.key,g)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return Ke.resolve(v)}lookupMutationBatch(e,t){return Ke.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.Ps(t+1),g=h<0?0:h;return Ke.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new go(t,0),h=new go(t,Number.POSITIVE_INFINITY),g=[];return this.Rs.forEachInRange([l,h],v=>{const R=this.vs(v.Es);g.push(R)}),Ke.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new mi(Yn);return t.forEach(h=>{const g=new go(h,0),v=new go(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([g,v],R=>{l=l.add(R.Es)})}),Ke.resolve(this.bs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1;let g=l;Pt.isDocumentKey(g)||(g=g.child(""));const v=new go(new Pt(g),0);let R=new mi(Yn);return this.Rs.forEachWhile(U=>{const Z=U.key.path;return!!l.isPrefixOf(Z)&&(Z.length===h&&(R=R.add(U.Es)),!0)},v),Ke.resolve(this.bs(R))}bs(e){const t=[];return e.forEach(l=>{const h=this.vs(l);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){En(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Ke.forEach(t.mutations,h=>{const g=new go(h.key,t.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Dn(e){}containsKey(e,t){const l=new go(t,0),h=this.Rs.firstAfterOrEqual(l);return Ke.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ke.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qg{constructor(e){this.Ss=e,this.docs=new gr(Pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,h=this.docs.get(l),g=h?h.size:0,v=this.Ss(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:v}),this.size+=v-g,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Ke.resolve(l?l.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let l=Hs();return t.forEach(h=>{const g=this.docs.get(h);l=l.insert(h,g?g.document.mutableCopy():Wr.newInvalidDocument(h))}),Ke.resolve(l)}getDocumentsMatchingQuery(e,t,l,h){let g=Hs();const v=t.path,R=new Pt(v.child("")),U=this.docs.getIteratorFrom(R);for(;U.hasNext();){const{key:Z,value:{document:ne}}=U.getNext();if(!v.isPrefixOf(Z.path))break;Z.path.length>v.length+1||Ul(ml(ne),l)<=0||(h.has(ne.key)||vr(t,ne))&&(g=g.insert(ne.key,ne.mutableCopy()))}return Ke.resolve(g)}getAllFromCollectionGroup(e,t,l,h){tn()}Ds(e,t){return Ke.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new Xg(this)}getSize(e){return Ke.resolve(this.size)}}class Xg extends Ar{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?t.push(this.rs.addEntry(e,h)):this.rs.removeEntry(l)}),Ke.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Hy{constructor(e){this.persistence=e,this.Cs=new zl(t=>Tl(t),Al),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new bp,this.targetCount=0,this.ks=Gc.Nn()}forEachTarget(e,t){return this.Cs.forEach((l,h)=>t(h)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.xs&&(this.xs=t),Ke.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.$n(t),Ke.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,l){let h=0;const g=[];return this.Cs.forEach((v,R)=>{R.sequenceNumber<=t&&null===l.get(R.targetId)&&(this.Cs.delete(v),g.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),Ke.waitFor(g).next(()=>h)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const l=this.Cs.get(t)||null;return Ke.resolve(l)}addMatchingKeys(e,t,l){return this.Ns.ws(t,l),Ke.resolve()}removeMatchingKeys(e,t,l){this.Ns.ys(t,l);const h=this.persistence.referenceDelegate,g=[];return h&&t.forEach(v=>{g.push(h.markPotentiallyOrphaned(e,v))}),Ke.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const l=this.Ns.Ts(t);return Ke.resolve(l)}containsKey(e,t){return Ke.resolve(this.Ns.containsKey(t))}}class T_{constructor(e,t){this.Ms={},this.overlays={},this.Os=new So(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Hy(this),this.indexManager=new Fy,this.remoteDocumentCache=new Qg(l=>this.referenceDelegate.Bs(l)),this.serializer=new uf(t),this.Ls=new h0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.Ms[e.toKey()];return l||(l=new jy(t,this.referenceDelegate),this.Ms[e.toKey()]=l),l}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,l){gt("MemoryPersistence","Starting transaction:",e);const h=new f0(this.Os.next());return this.referenceDelegate.qs(),l(h).next(g=>this.referenceDelegate.Us(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}Ks(e,t){return Ke.or(Object.values(this.Ms).map(l=>()=>l.containsKey(e,t)))}}class f0 extends Pa{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Gs=new bp,this.Qs=null}static js(e){return new em(e)}get zs(){if(this.Qs)return this.Qs;throw tn()}addReference(e,t,l){return this.Gs.addReference(l,t),this.zs.delete(l.toString()),Ke.resolve()}removeReference(e,t,l){return this.Gs.removeReference(l,t),this.zs.add(l.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(h=>this.zs.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(g=>this.zs.add(g.toString()))}).next(()=>l.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.zs,l=>{const h=Pt.fromPath(l);return this.Ws(e,h).next(g=>{g||t.removeEntry(h,hn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(l=>{l?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ke.or([()=>Ke.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class A_{constructor(e){this.serializer=e}$(e,t,l,h){const g=new ea("createOrUpgrade",t);var R;l<1&&h>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S,{unique:!0}),R.createObjectStore("documentMutations"),Gy(e),function(R){R.createObjectStore("remoteDocuments")}(e));let v=Ke.resolve();return l<3&&h>=3&&(0!==l&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Gy(e)),v=v.next(()=>function(R){const U=R.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",Z)}(g))),l<4&&h>=4&&(0!==l&&(v=v.next(()=>function(R,U){return U.store("mutations").j().next(Z=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S,{unique:!0});const ne=U.store("mutations"),Ie=Z.map(tt=>ne.put(tt));return Ke.waitFor(Ie)})}(e,g))),v=v.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(v=v.next(()=>this.Js(g))),l<6&&h>=6&&(v=v.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(g)))),l<7&&h>=7&&(v=v.next(()=>this.Xs(g))),l<8&&h>=8&&(v=v.next(()=>this.Zs(e,g))),l<9&&h>=9&&(v=v.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(v=v.next(()=>this.ti(g))),l<11&&h>=11&&(v=v.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(v=v.next(()=>{!function(R){const U=R.createObjectStore("documentOverlays",{keyPath:Ri});U.createIndex("collectionPathOverlayIndex",bl,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",au,{unique:!1})}(e)})),l<13&&h>=13&&(v=v.next(()=>function(R){const U=R.createObjectStore("remoteDocumentsV14",{keyPath:J});U.createIndex("documentKeyIndex",oe),U.createIndex("collectionGroupIndex",Ze)}(e)).next(()=>this.ei(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(v=v.next(()=>this.ni(e,g))),l<15&&h>=15&&(v=v.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:to}).createIndex("sequenceNumberIndex",Ei,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Is}).createIndex("documentKeyIndex",va,{unique:!1})}(e))),v}Ys(e){let t=0;return e.store("remoteDocuments").X((l,h)=>{t+=qg(h)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Js(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(h=>Ke.forEach(h,g=>{const v=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",v).next(R=>Ke.forEach(R,U=>{En(U.userId===g.userId);const Z=Ad(this.serializer,U);return yh(e,g.userId,Z).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const g=[];return l.X((v,R)=>{const U=new Un(v),Z=[0,gi(U)];g.push(t.get(Z).next(ne=>ne?Ke.resolve():t.put({targetId:0,path:gi(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(g))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:Qr});const l=t.store("collectionParents"),h=new zg,g=v=>{if(h.add(v)){const R=v.lastSegment(),U=v.popLast();return l.put({collectionId:R,parent:gi(U)})}};return t.store("remoteDocuments").X({Y:!0},(v,R)=>{const U=new Un(v);return g(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([v,R,U],Z)=>{const ne=I(R);return g(ne.popLast())}))}ti(e){const t=e.store("targets");return t.X((l,h)=>{const g=ic(h),v=gp(this.serializer,g);return t.put(v)})}ei(e,t){const l=t.store("remoteDocuments"),h=[];return l.X((g,v)=>{const R=t.store("remoteDocumentsV14"),U=(Z=v,Z.document?new Pt(Un.fromString(Z.document.name).popFirst(5)):Z.noDocument?Pt.fromSegments(Z.noDocument.path):Z.unknownDocument?Pt.fromSegments(Z.unknownDocument.path):tn()).path.toArray();var Z;const ne={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};h.push(R.put(ne))}).next(()=>Ke.waitFor(h))}ni(e,t){const l=t.store("mutations"),h=Yg(this.serializer),g=new T_(em.js,this.serializer.le);return l.j().next(v=>{const R=new Map;return v.forEach(U=>{var Z;let ne=null!==(Z=R.get(U.userId))&&void 0!==Z?Z:Ir();Ad(this.serializer,U).keys().forEach(Ie=>ne=ne.add(Ie)),R.set(U.userId,ne)}),Ke.forEach(R,(U,Z)=>{const ne=new de(Z),Ie=hf.fe(this.serializer,ne),tt=g.getIndexManager(ne),wt=yf.fe(ne,this.serializer,tt,g.referenceDelegate);return new E_(h,wt,Ie,tt).recalculateAndSaveOverlaysForDocumentKeys(new Ts(t,So.ct),U).next()})})}}function Gy(i){i.createObjectStore("targetDocuments",{keyPath:mn}).createIndex("documentTargetsIndex",dn,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Nt,{unique:!0}),i.createObjectStore("targetGlobal")}const tm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wc{constructor(e,t,l,h,g,v,R,U,Z,ne,Ie=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.si=g,this.window=v,this.document=R,this.ii=Z,this.ri=ne,this.oi=Ie,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=tt=>Promise.resolve(),!Wc.D())throw new Vt(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $y(this,h),this.fi=t+"main",this.serializer=new uf(U),this.di=new Bs(this.fi,this.oi,new A_(this.serializer)),this.Fs=new _u(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Yg(this.serializer),this.Ls=new jg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ne&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(ct.FAILED_PRECONDITION,tm);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new So(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var l=(0,D.Z)(function*(h){if(t.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,D.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,D.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Ao(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return vf(e).get("owner").next(t=>Ke.resolve(this.Ri(t)))}vi(e){return bf(e).delete(this.clientId)}Pi(){var e=this;return(0,D.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=ho(l,"clientMetadata");return h.j().next(g=>{const v=e.Vi(g,18e5),R=g.filter(U=>-1===v.indexOf(U));return Ke.forEach(R,U=>h.delete(U.clientId)).next(()=>R)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Si(l.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Ke.resolve(!0):vf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Vt(ct.FAILED_PRECONDITION,tm);return!1}}return!(!this.networkEnabled||!this.inForeground)||bf(e).j().next(l=>void 0===this.Vi(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,D.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new Ts(t,So.ct);return e.Ei(l).next(()=>e.vi(l))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(l=>this.bi(l.updateTimeMs,t)&&!this.Di(l.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>bf(e).j().next(t=>this.Vi(t,18e5).map(l=>l.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return yf.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ly(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return hf.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,l){gt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",g=15===(v=this.oi)?La:14===v?Ac:13===v?lu:12===v?Kd:11===v?Fa:void tn();var v;let R;return this.di.runTransaction(e,h,g,U=>(R=new Ts(U,this.Os?this.Os.next():So.ct),"readwrite-primary"===t?this.Ii(R).next(Z=>!!Z||this.Ti(R)).next(Z=>{if(!Z)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Vt(ct.FAILED_PRECONDITION,Vl);return l(R)}).next(Z=>this.Ai(R).next(()=>Z)):this.Oi(R).next(()=>l(R)))).then(U=>(R.raiseOnCommittedEvent(),U))}Oi(e){return vf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Vt(ct.FAILED_PRECONDITION,tm)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vf(e).put("owner",t)}static D(){return Bs.D()}Ei(e){const t=vf(e);return t.get("owner").next(l=>this.Ri(l)?(gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}bi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Or(`Detected an update time that is in the future: ${e} > ${l}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,ye.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return gt("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Or("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vf(i){return ho(i,"owner")}function bf(i){return ho(i,"clientMetadata")}function wh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class nm{constructor(e,t,l,h){this.targetId=e,this.fromCache=t,this.$i=l,this.Fi=h}static Bi(e,t){let l=Ir(),h=Ir();for(const g of t.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new nm(e,t.fromCache,l,h)}}class rm{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,l,h){return this.Ui(e,t).next(g=>g||this.Ki(e,t,h,l)).next(g=>g||this.Gi(e,t))}Ui(e,t){if(T(t))return Ke.resolve(null);let l=re(t);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=dt(t,null,"F"),l=re(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(g=>{const v=Ir(...g);return this.qi.getDocuments(e,v).next(R=>this.indexManager.getMinOffset(e,l).next(U=>{const Z=this.Qi(t,R);return this.ji(t,Z,v,U.readTime)?this.Ui(e,dt(t,null,"F")):this.zi(e,Z,t,U)}))})))}Ki(e,t,l,h){return T(t)||h.isEqual(hn.min())?this.Gi(e,t):this.qi.getDocuments(e,l).next(g=>{const v=this.Qi(t,g);return this.ji(t,v,l,h)?this.Gi(e,t):(Dn()<=Ce.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Vn(t)),this.zi(e,v,t,gl(h,-1)))})}Qi(e,t){let l=new mi(Ua(e));return t.forEach((h,g)=>{vr(e,g)&&(l=l.add(g))}),l}ji(e,t,l,h){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}Gi(e,t){return Dn()<=Ce.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Vn(t)),this.qi.getDocumentsMatchingQuery(e,t,co.min())}zi(e,t,l,h){return this.qi.getDocumentsMatchingQuery(e,l,h).next(g=>(t.forEach(v=>{g=g.insert(v.key,v)}),g))}}class zy{constructor(e,t,l,h){this.persistence=e,this.Wi=t,this.serializer=h,this.Hi=new gr(Yn),this.Ji=new zl(g=>Tl(g),Al),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(l)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E_(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function S_(i,e,t,l){return new zy(i,e,t,l)}function M_(i,e){return im.apply(this,arguments)}function im(){return im=(0,D.Z)(function*(i,e){const t=on(i);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let h;return t.mutationQueue.getAllMutationBatches(l).next(g=>(h=g,t.Zi(e),t.mutationQueue.getAllMutationBatches(l))).next(g=>{const v=[],R=[];let U=Ir();for(const Z of h){v.push(Z.batchId);for(const ne of Z.mutations)U=U.add(ne.key)}for(const Z of g){R.push(Z.batchId);for(const ne of Z.mutations)U=U.add(ne.key)}return t.localDocuments.getDocuments(l,U).next(Z=>({tr:Z,removedBatchIds:v,addedBatchIds:R}))})})}),im.apply(this,arguments)}function om(i){const e=on(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function sm(i,e,t){let l=Ir(),h=Ir();return t.forEach(g=>l=l.add(g)),e.getEntries(i,l).next(g=>{let v=Hs();return t.forEach((R,U)=>{const Z=g.get(R);U.isFoundDocument()!==Z.isFoundDocument()&&(h=h.add(R)),U.isNoDocument()&&U.version.isEqual(hn.min())?(e.removeEntry(R,U.readTime),v=v.insert(R,U)):!Z.isValidDocument()||U.version.compareTo(Z.version)>0||0===U.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(U),v=v.insert(R,U)):gt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Z.version," Watch version:",U.version)}),{er:v,nr:h}})}function N_(i,e){const t=on(i);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function qc(i,e){const t=on(i);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return t.Fs.getTargetData(l,e).next(g=>g?(h=g,Ke.resolve(h)):t.Fs.allocateTargetId(l).next(v=>(h=new Jo(e,v,"TargetPurposeListen",l.currentSequenceNumber),t.Fs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=t.Hi.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(l.targetId,l),t.Ji.set(e,l.targetId)),l})}function wf(i,e,t){return Df.apply(this,arguments)}function Df(){return Df=(0,D.Z)(function*(i,e,t){const l=on(i),h=l.Hi.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",g,v=>l.persistence.referenceDelegate.removeTarget(v,h)))}catch(v){if(!Ao(v))throw v;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}l.Hi=l.Hi.remove(e),l.Ji.delete(h.target)}),Df.apply(this,arguments)}function Dp(i,e,t){const l=on(i);let h=hn.min(),g=Ir();return l.persistence.runTransaction("Execute query","readonly",v=>function(R,U,Z){const ne=on(R),Ie=ne.Ji.get(Z);return void 0!==Ie?Ke.resolve(ne.Hi.get(Ie)):ne.Fs.getTargetData(U,Z)}(l,v,re(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,l.Fs.getMatchingKeysForTargetId(v,R.targetId).next(U=>{g=U})}).next(()=>l.Wi.getDocumentsMatchingQuery(v,e,t?h:hn.min(),t?g:Ir())).next(R=>(am(l,js(e),R),{documents:R,sr:g})))}function Zy(i,e){const t=on(i),l=on(t.Fs),h=t.Hi.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",g=>l.he(g,e).next(v=>v?v.target:null))}function Pd(i,e){const t=on(i),l=t.Yi.get(e)||hn.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Xi.getAllFromCollectionGroup(h,e,gl(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(am(t,e,h),h))}function am(i,e,t){let l=i.Yi.get(e)||hn.min();t.forEach((h,g)=>{g.readTime.compareTo(l)>0&&(l=g.readTime)}),i.Yi.set(e,l)}function Cp(){return Cp=(0,D.Z)(function*(i,e,t,l){const h=on(i);let g=Ir(),v=Hs();for(const Z of t){const ne=e.ir(Z.metadata.name);Z.document&&(g=g.add(ne));const Ie=e.rr(Z);Ie.setReadTime(e.ur(Z.metadata.readTime)),v=v.insert(ne,Ie)}const R=h.Xi.newChangeBuffer({trackRemovals:!0}),U=yield qc(h,(Z=l,re(xc(Un.fromString(`__bundle__/docs/${Z}`)))));var Z;return h.persistence.runTransaction("Apply bundle documents","readwrite",Z=>sm(Z,R,v).next(ne=>(R.apply(Z),ne)).next(ne=>h.Fs.removeMatchingKeysForTargetId(Z,U.targetId).next(()=>h.Fs.addMatchingKeys(Z,g,U.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Z,ne.er,ne.nr)).next(()=>ne.er)))}),Cp.apply(this,arguments)}function Yy(i,e){return lm.apply(this,arguments)}function lm(){return lm=(0,D.Z)(function*(i,e,t=Ir()){const l=yield qc(i,re(Vu(e.bundledQuery))),h=on(i);return h.persistence.runTransaction("Save named query","readwrite",g=>{const v=Yo(e.readTime);if(l.snapshotVersion.compareTo(v)>=0)return h.Ls.saveNamedQuery(g,e);const R=l.withResumeToken(fo.EMPTY_BYTE_STRING,v);return h.Hi=h.Hi.insert(R.targetId,R),h.Fs.updateTargetData(g,R).next(()=>h.Fs.removeMatchingKeysForTargetId(g,l.targetId)).next(()=>h.Fs.addMatchingKeys(g,t,l.targetId)).next(()=>h.Ls.saveNamedQuery(g,e))})}),lm.apply(this,arguments)}function Cf(i,e){return`firestore_clients_${i}_${e}`}function kd(i,e,t){let l=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Ef(i,e){return`firestore_targets_${i}_${e}`}class Zc{constructor(e,t,l,h){this.user=e,this.batchId=t,this.state=l,this.error=h}static cr(e,t,l){const h=JSON.parse(l);let g,v="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return v&&h.error&&(v="string"==typeof h.error.message&&"string"==typeof h.error.code,v&&(g=new Vt(h.error.code,h.error.message))),v?new Zc(e,t,h.state,g):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fd{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static cr(e,t){const l=JSON.parse(t);let h,g="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(h=new Vt(l.error.code,l.error.message))),g?new Fd(e,l.state,h):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ld{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const l=JSON.parse(t);let h="object"==typeof l&&l.activeTargetIds instanceof Array,g=kc();for(let v=0;h&&v<l.activeTargetIds.length;++v)h=Mo(l.activeTargetIds[v]),g=g.add(l.activeTargetIds[v]);return h?new Ld(e,g):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ep{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ep(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class If{constructor(){this.activeTargetIds=kc()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tf{constructor(e,t,l,h,g){this.window=e,this.si=t,this.persistenceKey=l,this.dr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new gr(Yn),this.started=!1,this.gr=[];const v=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.yr=Cf(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new If),this.Ir=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,D.Z)(function*(){const t=yield e.syncEngine.Mi();for(const h of t){if(h===e.dr)continue;const g=e.getItem(Cf(e.persistenceKey,h));if(g){const v=Ld.cr(h,g);v&&(e.mr=e.mr.insert(v.clientId,v))}}e.vr();const l=e.storage.getItem(e.Ar);if(l){const h=e.Pr(l);h&&e.br(h)}for(const h of e.gr)e.wr(h);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,l){this.Sr(e,t,l),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(Ef(this.persistenceKey,e));if(l){const h=Fd.cr(e,l);h&&(t=h.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ef(this.persistenceKey,e))}updateQueryState(e,t,l){this.Nr(e,t,l)}handleUserChange(e,t,l){t.forEach(h=>{this.Dr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gt("SharedClientState","READ",e,t),t}setItem(e,t){gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(gt("SharedClientState","EVENT",l.key,l.newValue),l.key===this.yr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,D.Z)(function*(){if(t.started){if(null!==l.key)if(t.Ir.test(l.key)){if(null==l.newValue){const h=t.Or(l.key);return t.$r(h,null)}{const h=t.Fr(l.key,l.newValue);if(h)return t.$r(h.clientId,h)}}else if(t.Tr.test(l.key)){if(null!==l.newValue){const h=t.Br(l.key,l.newValue);if(h)return t.Lr(h)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const h=t.qr(l.key,l.newValue);if(h)return t.Ur(h)}}else if(l.key===t.Ar){if(null!==l.newValue){const h=t.Pr(l.newValue);if(h)return t.br(h)}}else if(l.key===t.pr){const h=function(g){let v=So.ct;if(null!=g)try{const R=JSON.parse(g);En("number"==typeof R),v=R}catch(R){Or("SharedClientState","Failed to read sequence number from WebStorage",R)}return v}(l.newValue);h!==So.ct&&t.sequenceNumberHandler(h)}else if(l.key===t.Rr){const h=t.Kr(l.newValue);yield Promise.all(h.map(g=>t.syncEngine.Gr(g)))}}else t.gr.push(l)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,l){const h=new Zc(this.currentUser,e,t,l),g=kd(this.persistenceKey,this.currentUser,e);this.setItem(g,h.ar())}Dr(e){const t=kd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,l){const h=Ef(this.persistenceKey,e),g=new Fd(e,t,l);this.setItem(h,g.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const l=this.Or(e);return Ld.cr(l,t)}Br(e,t){const l=this.Tr.exec(e),h=Number(l[1]);return Zc.cr(new de(void 0!==l[2]?l[2]:null),h,t)}qr(e,t){const l=this.Er.exec(e),h=Number(l[1]);return Fd.cr(h,t)}Pr(e){return Ep.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,D.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const l=t?this.mr.insert(e,t):this.mr.remove(e),h=this.Vr(this.mr),g=this.Vr(l),v=[],R=[];return g.forEach(U=>{h.has(U)||v.push(U)}),h.forEach(U=>{g.has(U)||R.push(U)}),this.syncEngine.zr(v,R).then(()=>{this.mr=l})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=kc();return e.forEach((l,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Ip{constructor(){this.Wr=new If,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,l){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new If,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class R_{Jr(e){}shutdown(){}}class Tp{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ap=null;function Af(){return null===Ap?Ap=268435456+Math.round(2147483648*Math.random()):Ap++,"0x"+Ap.toString(16)}const O_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jy{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ia="WebChannelConnection";class x_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,l,h,g){const v=Af(),R=this.Io(e,t);gt("RestConnection",`Sending RPC '${e}' ${v}:`,R,l);const U={};return this.To(U,h,g),this.Eo(e,R,U,l).then(Z=>(gt("RestConnection",`Received RPC '${e}' ${v}: `,Z),Z),Z=>{throw Jr("RestConnection",`RPC '${e}' ${v} failed with error: `,Z,"url: ",R,"request:",l),Z})}Ao(e,t,l,h,g,v){return this.po(e,t,l,h,g)}To(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xe,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,g)=>e[g]=h),l&&l.headers.forEach((h,g)=>e[g]=h)}Io(e,t){return`${this.wo}/v1/${t}:${O_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,l,h){const g=Af();return new Promise((v,R)=>{const U=new ut;U.setWithCredentials(!0),U.listenOnce(k.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case qa.NO_ERROR:const ne=U.getResponseJson();gt(ia,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(ne)),v(ne);break;case qa.TIMEOUT:gt(ia,`RPC '${e}' ${g} timed out`),R(new Vt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case qa.HTTP_ERROR:const Ie=U.getStatus();if(gt(ia,`RPC '${e}' ${g} failed with status:`,Ie,"response text:",U.getResponseText()),Ie>0){let tt=U.getResponseJson();Array.isArray(tt)&&(tt=tt[0]);const wt=tt?.error;if(wt&&wt.status&&wt.message){const Xt=function(fn){const Pn=fn.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(Pn)>=0?Pn:ct.UNKNOWN}(wt.status);R(new Vt(Xt,wt.message))}else R(new Vt(ct.UNKNOWN,"Server responded with status "+U.getStatus()))}else R(new Vt(ct.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{gt(ia,`RPC '${e}' ${g} completed.`)}});const Z=JSON.stringify(h);gt(ia,`RPC '${e}' ${g} sending request:`,h),U.send(t,"POST",Z,l,15)})}Ro(e,t,l){const h=Af(),g=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Zo(),R=fl(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new ee({})),this.To(U.initMessageHeaders,t,l),U.encodeInitMessageHeaders=!0;const Z=g.join("");gt(ia,`Creating RPC '${e}' stream ${h}: ${Z}`,U);const ne=v.createWebChannel(Z,U);let Ie=!1,tt=!1;const wt=new Jy({io:fn=>{tt?gt(ia,`Not sending because RPC '${e}' stream ${h} is closed:`,fn):(Ie||(gt(ia,`Opening RPC '${e}' stream ${h} transport.`),ne.open(),Ie=!0),gt(ia,`RPC '${e}' stream ${h} sending:`,fn),ne.send(fn))},ro:()=>ne.close()}),Xt=(fn,Pn,xr)=>{fn.listen(Pn,_i=>{try{xr(_i)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return Xt(ne,we.EventType.OPEN,()=>{tt||gt(ia,`RPC '${e}' stream ${h} transport opened.`)}),Xt(ne,we.EventType.CLOSE,()=>{tt||(tt=!0,gt(ia,`RPC '${e}' stream ${h} transport closed`),wt.fo())}),Xt(ne,we.EventType.ERROR,fn=>{tt||(tt=!0,Jr(ia,`RPC '${e}' stream ${h} transport errored:`,fn),wt.fo(new Vt(ct.UNAVAILABLE,"The operation could not be completed")))}),Xt(ne,we.EventType.MESSAGE,fn=>{var Pn;if(!tt){const xr=fn.data[0];En(!!xr);const Ur=xr.error||(null===(Pn=xr[0])||void 0===Pn?void 0:Pn.error);if(Ur){gt(ia,`RPC '${e}' stream ${h} received error:`,Ur);const Ca=Ur.status;let Vo=function(sl){const Wu=hs[sl];if(void 0!==Wu)return sp(Wu)}(Ca),yo=Ur.message;void 0===Vo&&(Vo=ct.INTERNAL,yo="Unknown error status: "+Ca+" with message "+Ur.message),tt=!0,wt.fo(new Vt(Vo,yo)),ne.close()}else gt(ia,`RPC '${e}' stream ${h} received:`,xr),wt._o(xr)}}),Xt(R,G.STAT_EVENT,fn=>{fn.stat===B.PROXY?gt(ia,`RPC '${e}' stream ${h} detected buffering proxy`):fn.stat===B.NOPROXY&&gt(ia,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{wt.lo()},0),wt}}function P_(){return typeof window<"u"?window:null}function Sp(){return typeof document<"u"?document:null}function oa(i){return new lh(i,!0)}class um{constructor(e,t,l=1e3,h=1.5,g=6e4){this.si=e,this.timerId=t,this.vo=l,this.Po=h,this.bo=g,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),l=Math.max(0,Date.now()-this.Do),h=Math.max(0,t-l);h>0&&gt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,h,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class k_{constructor(e,t,l,h,g,v,R,U){this.si=e,this.Mo=l,this.Oo=h,this.connection=g,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=R,this.listener=U,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new um(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,D.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,D.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var l=this;return(0,D.Z)(function*(){l.Wo(),l.Ho(),l.Lo.cancel(),l.$o++,4!==e?l.Lo.reset():t&&t.code===ct.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),l.Lo.Co()):t&&t.code===ct.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Jo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.$o===t&&this.Xo(l,h)},l=>{e(()=>{const h=new Vt(ct.UNKNOWN,"Fetching auth token failed: "+l.message);return this.Zo(h)})})}Xo(e,t){const l=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{l(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(h=>{l(()=>this.Zo(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,D.Z)(function*(){e.state=0,e.start()}))}Zo(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p0 extends k_{constructor(e,t,l,h,g,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,h,v),this.serializer=g}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function a_(i,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:tn(),h=e.targetChange.targetIds||[],g=function(U,Z){return U.useProto3Json?(En(void 0===Z||"string"==typeof Z),fo.fromBase64String(Z||"")):(En(void 0===Z||Z instanceof Uint8Array),fo.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,R=v&&function(U){const Z=void 0===U.code?ct.UNKNOWN:sp(U.code);return new Vt(Z,U.message||"")}(v);t=new Oy(l,h,g,R||null)}else if("documentChange"in e){const l=e.documentChange,h=Lu(i,l.document.name),g=Yo(l.document.updateTime),v=l.document.createTime?Yo(l.document.createTime):hn.min(),R=new Fo({mapValue:{fields:l.document.fields}}),U=Wr.newFoundDocument(h,g,v,R);t=new Xu(l.targetIds||[],l.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const l=e.documentDelete,h=Lu(i,l.document),g=l.readTime?Yo(l.readTime):hn.min(),v=Wr.newNoDocument(h,g);t=new Xu([],l.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const l=e.documentRemove,h=Lu(i,l.document);t=new Xu([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return tn();{const l=e.filter,{count:h=0,unchangedNames:g}=l,v=new Pg(h,g);t=new Fu(l.targetId,v)}}var U;return t}(this.serializer,e),l=function(h){if(!("targetChange"in h))return hn.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?hn.min():g.readTime?Yo(g.readTime):hn.min()}(e);return this.listener.eu(t,l)}nu(e){const t={};t.database=dh(this.serializer),t.addTarget=function(h,g){let v;const R=g.target;if(v=Ju(R)?{documents:fp(h,R)}:{query:pu(h,R)},v.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){v.resumeToken=Bo(h,g.resumeToken);const U=ec(h,g.expectedCount);null!==U&&(v.expectedCount=U)}else if(g.snapshotVersion.compareTo(hn.min())>0){v.readTime=uh(h,g.snapshotVersion.toTimestamp());const U=ec(h,g.expectedCount);null!==U&&(v.expectedCount=U)}return v}(this.serializer,e);const l=function fh(i,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.zo(t)}su(e){const t={};t.database=dh(this.serializer),t.removeTarget=e,this.zo(t)}}class cm extends k_{constructor(e,t,l,h,g,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,h,v),this.serializer=g,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(En(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Kl(i,e){return i&&i.length>0?(En(void 0!==e),i.map(t=>function(l,h){let g=Yo(l.updateTime?l.updateTime:h);return g.isEqual(hn.min())&&(g=Yo(h)),new i_(g,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=Yo(e.commitTime);return this.listener.uu(l,t)}return En(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=dh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>zs(this.serializer,l))};this.zo(t)}}class F_ extends class{}{constructor(e,t,l,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=h,this.hu=!1}lu(){if(this.hu)throw new Vt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,l){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.po(e,t,l,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Vt(ct.UNKNOWN,h.toString())})}Ao(e,t,l,h){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.connection.Ao(e,t,l,g,v,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Vt(ct.UNKNOWN,g.toString())})}terminate(){this.hu=!0}}class Qy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Or(t),this.wu=!1):gt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class L_{constructor(e,t,l,h,g){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=g,this.vu.Jr(R=>{l.enqueueAndForget((0,D.Z)(function*(){var U;Yc(v)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,D.Z)(function*(Z){const ne=on(Z);ne.Au.add(4),yield Kc(ne),ne.Pu.set("Unknown"),ne.Au.delete(4),yield Sf(ne)}),function(Z){return U.apply(this,arguments)})(v))}))}),this.Pu=new Qy(l,h)}}function Sf(i){return hm.apply(this,arguments)}function hm(){return hm=(0,D.Z)(function*(i){if(Yc(i))for(const e of i.Ru)yield e(!0)}),hm.apply(this,arguments)}function Kc(i){return fm.apply(this,arguments)}function fm(){return fm=(0,D.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),fm.apply(this,arguments)}function Mp(i,e){const t=on(i);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Nf(t)?Jl(t):yu(t).Uo()&&pm(t,e))}function Mf(i,e){const t=on(i),l=yu(t);t.Eu.delete(e),l.Uo()&&B_(t,e),0===t.Eu.size&&(l.Uo()?l.Qo():Yc(t)&&t.Pu.set("Unknown"))}function pm(i,e){if(i.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yu(i).nu(e)}function B_(i,e){i.bu.Lt(e),yu(i).su(e)}function Jl(i){i.bu=new Nl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),he:e=>i.Eu.get(e)||null,oe:()=>i.datastore.serializer.databaseId}),yu(i).start(),i.Pu.mu()}function Nf(i){return Yc(i)&&!yu(i).qo()&&i.Eu.size>0}function Yc(i){return 0===on(i).Au.size}function U_(i){i.bu=void 0}function V_(i){return gm.apply(this,arguments)}function gm(){return gm=(0,D.Z)(function*(i){i.Eu.forEach((e,t)=>{pm(i,e)})}),gm.apply(this,arguments)}function Xy(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,D.Z)(function*(i,e){U_(i),Nf(i)?(i.Pu.pu(e),Jl(i)):i.Pu.set("Unknown")}),mm.apply(this,arguments)}function _m(i,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,D.Z)(function*(i,e,t){if(i.Pu.set("Online"),e instanceof Oy&&2===e.state&&e.cause)try{yield(l=(0,D.Z)(function*(h,g){const v=g.cause;for(const R of g.targetIds)h.Eu.has(R)&&(yield h.remoteSyncer.rejectListen(R,v),h.Eu.delete(R),h.bu.removeTarget(R))}),function(h,g){return l.apply(this,arguments)})(i,e)}catch(l){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Np(i,l)}else if(e instanceof Xu?i.bu.Wt(e):e instanceof Fu?i.bu.ee(e):i.bu.Yt(e),!t.isEqual(hn.min()))try{const l=yield om(i.localStore);t.compareTo(l)>=0&&(yield function(h,g){const v=h.bu.ue(g);return v.targetChanges.forEach((R,U)=>{if(R.resumeToken.approximateByteSize()>0){const Z=h.Eu.get(U);Z&&h.Eu.set(U,Z.withResumeToken(R.resumeToken,g))}}),v.targetMismatches.forEach((R,U)=>{const Z=h.Eu.get(R);if(!Z)return;h.Eu.set(R,Z.withResumeToken(fo.EMPTY_BYTE_STRING,Z.snapshotVersion)),B_(h,R);const ne=new Jo(Z.target,R,U,Z.sequenceNumber);pm(h,ne)}),h.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(l){gt("RemoteStore","Failed to raise snapshot:",l),yield Np(i,l)}var l}),ym.apply(this,arguments)}function Np(i,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,D.Z)(function*(i,e,t){if(!Ao(e))throw e;i.Au.add(1),yield Kc(i),i.Pu.set("Offline"),t||(t=()=>om(i.localStore)),i.asyncQueue.enqueueRetryable((0,D.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield t(),i.Au.delete(1),yield Sf(i)}))}),Rf.apply(this,arguments)}function Of(i,e){return e().catch(t=>Np(i,t,e))}function sc(i){return ev.apply(this,arguments)}function ev(){return ev=(0,D.Z)(function*(i){const e=on(i),t=Xc(e);let l=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Ms(e);)try{const h=yield N_(e.localStore,l);if(null===h){0===e.Tu.length&&t.Qo();break}l=h.batchId,tv(e,h)}catch(h){yield Np(e,h)}Dh(e)&&Jc(e)}),ev.apply(this,arguments)}function Ms(i){return Yc(i)&&i.Tu.length<10}function tv(i,e){i.Tu.push(e);const t=Xc(i);t.Uo()&&t.ru&&t.ou(e.mutations)}function Dh(i){return Yc(i)&&!Xc(i).qo()&&i.Tu.length>0}function Jc(i){Xc(i).start()}function Ro(i){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,D.Z)(function*(i){Xc(i).au()}),Wi.apply(this,arguments)}function ac(i){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,D.Z)(function*(i){const e=Xc(i);for(const t of i.Tu)e.ou(t.mutations)}),Ql.apply(this,arguments)}function lc(i,e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,D.Z)(function*(i,e,t){const l=i.Tu.shift(),h=Ry.from(l,e,t);yield Of(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield sc(i)}),Ch.apply(this,arguments)}function Eh(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,D.Z)(function*(i,e){var t;e&&Xc(i).ru&&(yield(t=(0,D.Z)(function*(l,h){if(ja(g=h.code)&&g!==ct.ABORTED){const v=l.Tu.shift();Xc(l).Go(),yield Of(l,()=>l.remoteSyncer.rejectFailedWrite(v.batchId,h)),yield sc(l)}var g}),function(l,h){return t.apply(this,arguments)})(i,e)),Dh(i)&&Jc(i)}),vm.apply(this,arguments)}function Qc(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,D.Z)(function*(i,e){const t=on(i);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const l=Yc(t);t.Au.add(3),yield Kc(t),l&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Sf(t)}),Rp.apply(this,arguments)}function Op(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,D.Z)(function*(i,e){const t=on(i);e?(t.Au.delete(2),yield Sf(t)):e||(t.Au.add(2),yield Kc(t),t.Pu.set("Unknown"))}),bm.apply(this,arguments)}function yu(i){return i.Vu||(i.Vu=function(e,t,l){const h=on(e);return h.lu(),new p0(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{oo:V_.bind(null,i),co:Xy.bind(null,i),eu:_m.bind(null,i)}),i.Ru.push(function(){var e=(0,D.Z)(function*(t){t?(i.Vu.Go(),Nf(i)?Jl(i):i.Pu.set("Unknown")):(yield i.Vu.stop(),U_(i))});return function(t){return e.apply(this,arguments)}}())),i.Vu}function Xc(i){return i.Su||(i.Su=function(e,t,l){const h=on(e);return h.lu(),new cm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{oo:Ro.bind(null,i),co:Eh.bind(null,i),cu:ac.bind(null,i),uu:lc.bind(null,i)}),i.Ru.push(function(){var e=(0,D.Z)(function*(t){t?(i.Su.Go(),yield sc(i)):(yield i.Su.stop(),i.Tu.length>0&&(gt("RemoteStore",`Stopping write stream with ${i.Tu.length} pending writes`),i.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Su}class $_{constructor(e,t,l,h,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=h,this.removalCallback=g,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,l,h,g){const v=Date.now()+l,R=new $_(e,t,v,h,g);return R.start(l),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(i,e){if(Or("AsyncQueue",`${e}: ${i}`),Ao(i))return new Vt(ct.UNAVAILABLE,`${e}: ${i}`);throw i}class mo{constructor(e){this.comparator=e?(t,l)=>e(t,l)||Pt.comparator(t.key,l.key):(t,l)=>Pt.comparator(t.key,l.key),this.keyedMap=Pu(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,g=l.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new mo;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class j_{constructor(){this.Du=new gr(Pt.comparator)}track(e){const t=e.doc.key,l=this.Du.get(t);l?0!==e.type&&3===l.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==l.type?this.Du=this.Du.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Du=this.Du.remove(t):1===e.type&&2===l.type?this.Du=this.Du.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):tn():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,l)=>{e.push(l)}),e}}class Ih{constructor(e,t,l,h,g,v,R,U,Z){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=g,this.fromCache=v,this.syncStateChanged=R,this.excludesMetadataChanges=U,this.hasCachedResults=Z}static fromInitialDocuments(e,t,l,h,g){const v=[];return t.forEach(R=>{v.push({type:0,doc:R})}),new Ih(e,t,mo.emptySet(t),v,l,h,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==l[h].type||!t[h].doc.isEqual(l[h].doc))return!1;return!0}}class wm{constructor(){this.xu=void 0,this.listeners=[]}}class Bd{constructor(){this.queries=new zl(e=>wn(e),Qt),this.onlineState="Unknown",this.Nu=new Set}}function xp(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,D.Z)(function*(i,e){const t=on(i),l=e.query;let h=!1,g=t.queries.get(l);if(g||(h=!0,g=new wm),h)try{g.xu=yield t.onListen(l)}catch(v){const R=$u(v,`Initialization of query '${Vn(e.query)}' failed`);return void e.onError(R)}t.queries.set(l,g),g.listeners.push(e),e.ku(t.onlineState),g.xu&&e.Mu(g.xu)&&Cm(t)}),Pp.apply(this,arguments)}function Ud(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,D.Z)(function*(i,e){const t=on(i),l=e.query;let h=!1;const g=t.queries.get(l);if(g){const v=g.listeners.indexOf(e);v>=0&&(g.listeners.splice(v,1),h=0===g.listeners.length)}if(h)return t.queries.delete(l),t.onUnlisten(l)}),kp.apply(this,arguments)}function Fp(i,e){const t=on(i);let l=!1;for(const h of e){const v=t.queries.get(h.query);if(v){for(const R of v.listeners)R.Mu(h)&&(l=!0);v.xu=h}}l&&Cm(t)}function Dm(i,e,t){const l=on(i),h=l.queries.get(e);if(h)for(const g of h.listeners)g.onError(t);l.queries.delete(e)}function Cm(i){i.Nu.forEach(e=>{e.next()})}class Lp{constructor(e,t,l){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=l||{}}Mu(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new Ih(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Em{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class H_{constructor(e){this.serializer=e}ir(e){return Lu(this.serializer,e)}rr(e){return e.metadata.exists?hh(this.serializer,e.document,!1):Wr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Yo(e)}}class G_{constructor(e,t,l){this.Qu=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Im(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const l=Un.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,l=new H_(this.serializer);for(const h of e)if(h.metadata.queries){const g=l.ir(h.metadata.name);for(const v of h.metadata.queries){const R=(t.get(v)||Ir()).add(g);t.set(v,R)}}return t}complete(){var e=this;return(0,D.Z)(function*(){const t=yield function Ky(i,e,t,l){return Cp.apply(this,arguments)}(e.localStore,new H_(e.serializer),e.documents,e.Qu.id),l=e.zu(e.documents);for(const h of e.queries)yield Yy(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function Im(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Bp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class Tm{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Ir(),this.mutatedKeys=Ir(),this.Zu=Ua(e),this.tc=new mo(this.Zu)}get ec(){return this.Ju}nc(e,t){const l=t?t.sc:new j_,h=t?t.tc:this.tc;let g=t?t.mutatedKeys:this.mutatedKeys,v=h,R=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Z="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ne,Ie)=>{const tt=h.get(ne),wt=vr(this.query,Ie)?Ie:null,Xt=!!tt&&this.mutatedKeys.has(tt.key),fn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let Pn=!1;tt&&wt?tt.data.isEqual(wt.data)?Xt!==fn&&(l.track({type:3,doc:wt}),Pn=!0):this.ic(tt,wt)||(l.track({type:2,doc:wt}),Pn=!0,(U&&this.Zu(wt,U)>0||Z&&this.Zu(wt,Z)<0)&&(R=!0)):!tt&&wt?(l.track({type:0,doc:wt}),Pn=!0):tt&&!wt&&(l.track({type:1,doc:tt}),Pn=!0,(U||Z)&&(R=!0)),Pn&&(wt?(v=v.add(wt),g=fn?g.add(ne):g.delete(ne)):(v=v.delete(ne),g=g.delete(ne)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ne="F"===this.query.limitType?v.last():v.first();v=v.delete(ne.key),g=g.delete(ne.key),l.track({type:1,doc:ne})}return{tc:v,sc:l,ji:R,mutatedKeys:g}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const h=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const g=e.sc.Cu();g.sort((Z,ne)=>function(Ie,tt){const wt=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return wt(Ie)-wt(tt)}(Z.type,ne.type)||this.Zu(Z.doc,ne.doc)),this.rc(l);const v=t?this.oc():[],R=0===this.Xu.size&&this.current?1:0,U=R!==this.Yu;return this.Yu=R,0!==g.length||U?{snapshot:new Ih(this.query,e.tc,h,g,e.mutatedKeys,0===R,U,!1,!!l&&l.resumeToken.approximateByteSize()>0),uc:v}:{uc:v}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new j_,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Ir(),this.tc.forEach(l=>{this.cc(l.key)&&(this.Xu=this.Xu.add(l.key))});const t=[];return e.forEach(l=>{this.Xu.has(l)||t.push(new Up(l))}),this.Xu.forEach(l=>{e.has(l)||t.push(new Bp(l))}),t}ac(e){this.Ju=e.sr,this.Xu=Ir();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Ih.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class m0{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class z_{constructor(e){this.key=e,this.lc=!1}}class Th{constructor(e,t,l,h,g,v){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=v,this.fc={},this.dc=new zl(R=>wn(R),Qt),this._c=new Map,this.wc=new Set,this.mc=new gr(Pt.comparator),this.gc=new Map,this.yc=new bp,this.Ic={},this.Tc=new Map,this.Ec=Gc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Ah(i,e){return W_.apply(this,arguments)}function W_(){return W_=(0,D.Z)(function*(i,e){const t=ei(i);let l,h;const g=t.dc.get(e);if(g)l=g.targetId,t.sharedClientState.addLocalQueryTarget(l),h=g.view.hc();else{const v=yield qc(t.localStore,re(e)),R=t.sharedClientState.addLocalQueryTarget(v.targetId);l=v.targetId,h=yield Vp(t,e,l,"current"===R,v.resumeToken),t.isPrimaryClient&&Mp(t.remoteStore,v)}return h}),W_.apply(this,arguments)}function Vp(i,e,t,l,h){return xf.apply(this,arguments)}function xf(){return xf=(0,D.Z)(function*(i,e,t,l,h){i.Rc=(Ie,tt,wt)=>{return(Xt=(0,D.Z)(function*(fn,Pn,xr,_i){let Ur=Pn.view.nc(xr);Ur.ji&&(Ur=yield Dp(fn.localStore,Pn.query,!1).then(({documents:yo})=>Pn.view.nc(yo,Ur)));const Ca=_i&&_i.targetChanges.get(Pn.targetId),Vo=Pn.view.applyChanges(Ur,fn.isPrimaryClient,Ca);return jp(fn,Pn.targetId,Vo.uc),Vo.snapshot}),function(fn,Pn,xr,_i){return Xt.apply(this,arguments)})(i,Ie,tt,wt);var Xt};const g=yield Dp(i.localStore,e,!0),v=new Tm(e,g.sr),R=v.nc(g.documents),U=Td.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==i.onlineState,h),Z=v.applyChanges(R,i.isPrimaryClient,U);jp(i,t,Z.uc);const ne=new m0(e,t,v);return i.dc.set(e,ne),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),Z.snapshot}),xf.apply(this,arguments)}function nv(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,D.Z)(function*(i,e){const t=on(i),l=t.dc.get(e),h=t._c.get(l.targetId);if(h.length>1)return t._c.set(l.targetId,h.filter(g=>!Qt(g,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield wf(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Mf(t.remoteStore,l.targetId),tu(t,l.targetId)}).catch(_l))):(tu(t,l.targetId),yield wf(t.localStore,l.targetId,!0))}),Xl.apply(this,arguments)}function no(){return no=(0,D.Z)(function*(i,e,t){const l=qp(i);try{const h=yield function(g,v){const R=on(g),U=ui.now(),Z=v.reduce((tt,wt)=>tt.add(wt.key),Ir());let ne,Ie;return R.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let wt=Hs(),Xt=Ir();return R.Xi.getEntries(tt,Z).next(fn=>{wt=fn,wt.forEach((Pn,xr)=>{xr.isValidDocument()||(Xt=Xt.add(Pn))})}).next(()=>R.localDocuments.getOverlayedDocuments(tt,wt)).next(fn=>{ne=fn;const Pn=[];for(const xr of v){const _i=Ny(xr,ne.get(xr.key).overlayedDocument);null!=_i&&Pn.push(new ku(xr.key,_i,Xd(_i.value.mapValue),Fr.exists(!0)))}return R.mutationQueue.addMutationBatch(tt,U,Pn,v)}).next(fn=>{Ie=fn;const Pn=fn.applyToLocalDocumentSet(ne,Xt);return R.documentOverlayCache.saveOverlays(tt,fn.batchId,Pn)})}).then(()=>({batchId:Ie.batchId,changes:nh(ne)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(g,v,R){let U=g.Ic[g.currentUser.toKey()];U||(U=new gr(Yn)),U=U.insert(v,R),g.Ic[g.currentUser.toKey()]=U}(l,h.batchId,t),yield nu(l,h.changes),yield sc(l.remoteStore)}catch(h){const g=$u(h,"Failed to persist write");t.reject(g)}}),no.apply(this,arguments)}function uc(i,e){return ju.apply(this,arguments)}function ju(){return ju=(0,D.Z)(function*(i,e){const t=on(i);try{const l=yield function qy(i,e){const t=on(i),l=e.snapshotVersion;let h=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const v=t.Xi.newChangeBuffer({trackRemovals:!0});h=t.Hi;const R=[];e.targetChanges.forEach((ne,Ie)=>{const tt=h.get(Ie);if(!tt)return;R.push(t.Fs.removeMatchingKeys(g,ne.removedDocuments,Ie).next(()=>t.Fs.addMatchingKeys(g,ne.addedDocuments,Ie)));let wt=tt.withSequenceNumber(g.currentSequenceNumber);var Xt,fn,Pn;null!==e.targetMismatches.get(Ie)?wt=wt.withResumeToken(fo.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):ne.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(ne.resumeToken,l)),h=h.insert(Ie,wt),fn=wt,Pn=ne,(0===(Xt=tt).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Xt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&R.push(t.Fs.updateTargetData(g,wt))});let U=Hs(),Z=Ir();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(g,ne))}),R.push(sm(g,v,e.documentUpdates).next(ne=>{U=ne.er,Z=ne.nr})),!l.isEqual(hn.min())){const ne=t.Fs.getLastRemoteSnapshotVersion(g).next(Ie=>t.Fs.setTargetsMetadata(g,g.currentSequenceNumber,l));R.push(ne)}return Ke.waitFor(R).next(()=>v.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,U,Z)).next(()=>U)}).then(g=>(t.Hi=h,g))}(t.localStore,e);e.targetChanges.forEach((h,g)=>{const v=t.gc.get(g);v&&(En(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?v.lc=!0:h.modifiedDocuments.size>0?En(v.lc):h.removedDocuments.size>0&&(En(v.lc),v.lc=!1))}),yield nu(t,l,e)}catch(l){yield _l(l)}}),ju.apply(this,arguments)}function Da(i,e,t){const l=on(i);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const h=[];l.dc.forEach((g,v)=>{const R=v.view.ku(e);R.snapshot&&h.push(R.snapshot)}),function(g,v){const R=on(g);R.onlineState=v;let U=!1;R.queries.forEach((Z,ne)=>{for(const Ie of ne.listeners)Ie.ku(v)&&(U=!0)}),U&&Cm(R)}(l.eventManager,e),h.length&&l.fc.eu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Am(i,e,t){return ed.apply(this,arguments)}function ed(){return ed=(0,D.Z)(function*(i,e,t){const l=on(i);l.sharedClientState.updateQueryState(e,"rejected",t);const h=l.gc.get(e),g=h&&h.key;if(g){let v=new gr(Pt.comparator);v=v.insert(g,Wr.newNoDocument(g,hn.min()));const R=Ir().add(g),U=new up(hn.min(),new Map,new gr(Yn),v,R);yield uc(l,U),l.mc=l.mc.remove(g),l.gc.delete(e),Vd(l)}else yield wf(l.localStore,e,!1).then(()=>tu(l,e,t)).catch(_l)}),ed.apply(this,arguments)}function Mh(i,e){return td.apply(this,arguments)}function td(){return td=(0,D.Z)(function*(i,e){const t=on(i),l=e.batch.batchId;try{const h=yield function Wy(i,e){const t=on(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),g=t.Xi.newChangeBuffer({trackRemovals:!0});return function(v,R,U,Z){const ne=U.batch,Ie=ne.keys();let tt=Ke.resolve();return Ie.forEach(wt=>{tt=tt.next(()=>Z.getEntry(R,wt)).next(Xt=>{const fn=U.docVersions.get(wt);En(null!==fn),Xt.version.compareTo(fn)<0&&(ne.applyToRemoteDocument(Xt,U),Xt.isValidDocument()&&(Xt.setReadTime(U.commitVersion),Z.addEntry(Xt)))})}),tt.next(()=>v.mutationQueue.removeMutationBatch(R,ne))}(t,l,e,g).next(()=>g.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(v){let R=Ir();for(let U=0;U<v.mutationResults.length;++U)v.mutationResults[U].transformResults.length>0&&(R=R.add(v.batch.mutations[U].key));return R}(e))).next(()=>t.localDocuments.getDocuments(l,h))})}(t.localStore,e);qi(t,l,null),dc(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield nu(t,h)}catch(h){yield _l(h)}}),td.apply(this,arguments)}function Nh(i,e,t){return nd.apply(this,arguments)}function nd(){return nd=(0,D.Z)(function*(i,e,t){const l=on(i);try{const h=yield function(g,v){const R=on(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let Z;return R.mutationQueue.lookupMutationBatch(U,v).next(ne=>(En(null!==ne),Z=ne.keys(),R.mutationQueue.removeMutationBatch(U,ne))).next(()=>R.mutationQueue.performConsistencyCheck(U)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(U,Z,v)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,Z)).next(()=>R.localDocuments.getDocuments(U,Z))})}(l.localStore,e);qi(l,e,t),dc(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield nu(l,h)}catch(h){yield _l(h)}}),nd.apply(this,arguments)}function cc(){return cc=(0,D.Z)(function*(i,e){const t=on(i);Yc(t.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(g){const v=on(g);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>v.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===l)return void e.resolve();const h=t.Tc.get(l)||[];h.push(e),t.Tc.set(l,h)}catch(l){const h=$u(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),cc.apply(this,arguments)}function dc(i,e){(i.Tc.get(e)||[]).forEach(t=>{t.resolve()}),i.Tc.delete(e)}function qi(i,e,t){const l=on(i);let h=l.Ic[l.currentUser.toKey()];if(h){const g=h.get(e);g&&(t?g.reject(t):g.resolve(),h=h.remove(e)),l.Ic[l.currentUser.toKey()]=h}}function tu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const l of i._c.get(e))i.dc.delete(l),t&&i.fc.vc(l,t);i._c.delete(e),i.isPrimaryClient&&i.yc.ps(e).forEach(l=>{i.yc.containsKey(l)||$p(i,l)})}function $p(i,e){i.wc.delete(e.path.canonicalString());const t=i.mc.get(e);null!==t&&(Mf(i.remoteStore,t),i.mc=i.mc.remove(e),i.gc.delete(t),Vd(i))}function jp(i,e,t){for(const l of t)l instanceof Bp?(i.yc.addReference(l.key,e),q_(i,l)):l instanceof Up?(gt("SyncEngine","Document no longer in limbo: "+l.key),i.yc.removeReference(l.key,e),i.yc.containsKey(l.key)||$p(i,l.key)):tn()}function q_(i,e){const t=e.key,l=t.path.canonicalString();i.mc.get(t)||i.wc.has(l)||(gt("SyncEngine","New document in limbo: "+t),i.wc.add(l),Vd(i))}function Vd(i){for(;i.wc.size>0&&i.mc.size<i.maxConcurrentLimboResolutions;){const e=i.wc.values().next().value;i.wc.delete(e);const t=new Pt(Un.fromString(e)),l=i.Ec.next();i.gc.set(l,new z_(t)),i.mc=i.mc.insert(t,l),Mp(i.remoteStore,new Jo(re(xc(t.path)),l,"TargetPurposeLimboResolution",So.ct))}}function nu(i,e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,D.Z)(function*(i,e,t){const l=on(i),h=[],g=[],v=[];var R;l.dc.isEmpty()||(l.dc.forEach((R,U)=>{v.push(l.Rc(U,e,t).then(Z=>{if((Z||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(U.targetId,Z?.fromCache?"not-current":"current"),Z){h.push(Z);const ne=nm.Bi(U.targetId,Z);g.push(ne)}}))}),yield Promise.all(v),l.fc.eu(h),yield(R=(0,D.Z)(function*(U,Z){const ne=on(U);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Ke.forEach(Z,tt=>Ke.forEach(tt.$i,wt=>ne.persistence.referenceDelegate.addReference(Ie,tt.targetId,wt)).next(()=>Ke.forEach(tt.Fi,wt=>ne.persistence.referenceDelegate.removeReference(Ie,tt.targetId,wt)))))}catch(Ie){if(!Ao(Ie))throw Ie;gt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of Z){const tt=Ie.targetId;if(!Ie.fromCache){const wt=ne.Hi.get(tt),fn=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);ne.Hi=ne.Hi.insert(tt,fn)}}}),function(U,Z){return R.apply(this,arguments)})(l.localStore,g))}),Hp.apply(this,arguments)}function Z_(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,D.Z)(function*(i,e){const t=on(i);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const l=yield M_(t.localStore,e);t.currentUser=e,(h=t).Tc.forEach(v=>{v.forEach(R=>{R.reject(new Vt(ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Tc.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield nu(t,l.tr)}var h}),Gp.apply(this,arguments)}function rv(i,e){const t=on(i),l=t.gc.get(e);if(l&&l.lc)return Ir().add(l.key);{let h=Ir();const g=t._c.get(e);if(!g)return h;for(const v of g){const R=t.dc.get(v);h=h.unionWith(R.view.ec)}return h}}function iv(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,D.Z)(function*(i,e){const t=on(i),l=yield Dp(t.localStore,e.query,!0),h=e.view.ac(l);return t.isPrimaryClient&&jp(t,e.targetId,h.uc),h}),zp.apply(this,arguments)}function ov(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,D.Z)(function*(i,e){const t=on(i);return Pd(t.localStore,e).then(l=>nu(t,l))}),Pf.apply(this,arguments)}function Rh(i,e,t,l){return kf.apply(this,arguments)}function kf(){return kf=(0,D.Z)(function*(i,e,t,l){const h=on(i),g=yield function(v,R){const U=on(v),Z=on(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ne=>Z.Vn(ne,R).next(Ie=>Ie?U.localDocuments.getDocuments(ne,Ie):Ke.resolve(null)))}(h.localStore,e);var R;null!==g?("pending"===t?yield sc(h.remoteStore):"acknowledged"===t||"rejected"===t?(qi(h,e,l||null),dc(h,e),R=e,on(on(h.localStore).mutationQueue).Dn(R)):tn(),yield nu(h,g)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),kf.apply(this,arguments)}function Oh(){return Oh=(0,D.Z)(function*(i,e){const t=on(i);if(ei(t),qp(t),!0===e&&!0!==t.Ac){const l=t.sharedClientState.getAllActiveQueryTargets(),h=yield Lf(t,l.toArray());t.Ac=!0,yield Op(t.remoteStore,!0);for(const g of h)Mp(t.remoteStore,g)}else if(!1===e&&!1!==t.Ac){const l=[];let h=Promise.resolve();t._c.forEach((g,v)=>{t.sharedClientState.isLocalQueryTarget(v)?l.push(v):h=h.then(()=>(tu(t,v),wf(t.localStore,v,!0))),Mf(t.remoteStore,v)}),yield h,yield Lf(t,l),function(g){const v=on(g);v.gc.forEach((R,U)=>{Mf(v.remoteStore,U)}),v.yc.Is(),v.gc=new Map,v.mc=new gr(Pt.comparator)}(t),t.Ac=!1,yield Op(t.remoteStore,!1)}}),Oh.apply(this,arguments)}function Lf(i,e,t){return vu.apply(this,arguments)}function vu(){return vu=(0,D.Z)(function*(i,e,t){const l=on(i),h=[],g=[];for(const v of e){let R;const U=l._c.get(v);if(U&&0!==U.length){R=yield qc(l.localStore,re(U[0]));for(const Z of U){const ne=l.dc.get(Z),Ie=yield iv(l,ne);Ie.snapshot&&g.push(Ie.snapshot)}}else{const Z=yield Zy(l.localStore,v);R=yield qc(l.localStore,Z),yield Vp(l,K_(Z),v,!1,R.resumeToken)}h.push(R)}return l.fc.eu(g),h}),vu.apply(this,arguments)}function K_(i){return np(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function xh(i){const e=on(i);return on(on(e.localStore).persistence).Mi()}function hc(i,e,t,l){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,D.Z)(function*(i,e,t,l){const h=on(i);if(h.Ac)return void gt("SyncEngine","Ignoring unexpected query state notification.");const g=h._c.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const v=yield Pd(h.localStore,js(g[0])),R=up.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fo.EMPTY_BYTE_STRING);yield nu(h,v,R);break}case"rejected":yield wf(h.localStore,e,!0),tu(h,e,l);break;default:tn()}}),Wp.apply(this,arguments)}function Y_(i,e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,D.Z)(function*(i,e,t){const l=ei(i);if(l.Ac){for(const h of e){if(l._c.has(h)){gt("SyncEngine","Adding an already active target "+h);continue}const g=yield Zy(l.localStore,h),v=yield qc(l.localStore,g);yield Vp(l,K_(g),v.targetId,!1,v.resumeToken),Mp(l.remoteStore,v)}for(const h of t)l._c.has(h)&&(yield wf(l.localStore,h,!1).then(()=>{Mf(l.remoteStore,h),tu(l,h)}).catch(_l))}}),Bf.apply(this,arguments)}function ei(i){const e=on(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Am.bind(null,e),e.fc.eu=Fp.bind(null,e.eventManager),e.fc.vc=Dm.bind(null,e.eventManager),e}function qp(i){const e=on(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nh.bind(null,e),e}class Ph{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,D.Z)(function*(){t.serializer=oa(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return S_(this.persistence,new rm,e.initialUser,this.serializer)}createPersistence(e){return new T_(em.js,this.serializer)}createSharedClientState(e){return new Ip}terminate(){var e=this;return(0,D.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zp extends Ph{constructor(e,t,l){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,D.Z)(function*(){yield t().call(l,e),yield l.bc.initialize(l,e),yield qp(l.bc.syncEngine),yield sc(l.bc.remoteStore),yield l.persistence.pi(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return S_(this.persistence,new rm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new __(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new Hi(t,this.persistence);return new Tc(e.asyncQueue,l)}createPersistence(e){const t=wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?ol.withCacheSize(this.cacheSizeBytes):ol.DEFAULT;return new Wc(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,P_(),Sp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ip}}class Kp extends Zp{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,D.Z)(function*(){yield t().call(l,e);const h=l.bc.syncEngine;l.sharedClientState instanceof Tf&&(l.sharedClientState.syncEngine={Qr:Rh.bind(null,h),jr:hc.bind(null,h),zr:Y_.bind(null,h),Mi:xh.bind(null,h),Gr:ov.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.pi(function(){var g=(0,D.Z)(function*(v){yield function Ff(i,e){return Oh.apply(this,arguments)}(l.bc.syncEngine,v),l.gcScheduler&&(v&&!l.gcScheduler.started?l.gcScheduler.start():v||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(v&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():v||l.indexBackfillerScheduler.stop())});return function(v){return g.apply(this,arguments)}}())})()}createSharedClientState(e){const t=P_();if(!Tf.D(t))throw new Vt(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tf(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class fc{initialize(e,t){var l=this;return(0,D.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>Da(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=Z_.bind(null,l.syncEngine),yield Op(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bd}createDatastore(e){const t=oa(e.databaseInfo.databaseId),l=new x_(e.databaseInfo);return new F_(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,h=e.asyncQueue,g=R=>Da(this.syncEngine,R,0),v=Tp.D()?new Tp:new R_,new L_(t,l,h,g,v);var t,l,h,g,v}createSyncEngine(e,t){return function(l,h,g,v,R,U,Z){const ne=new Th(l,h,g,v,R,U);return Z&&(ne.Ac=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,D.Z)(function*(t){const l=on(t);gt("RemoteStore","RemoteStore shutting down."),l.Au.add(5),yield Kc(l),l.vu.shutdown(),l.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $d(i,e=10240){let t=0;return{read:()=>(0,D.Z)(function*(){if(t<i.byteLength){const l={value:i.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,D.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Mm{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new uo,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(l=>{l&&l.Gu()?this.metadata.resolve(l.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.Ku)}`))},l=>this.metadata.reject(l))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,D.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,D.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,D.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const l=e.Cc.decode(t),h=Number(l);isNaN(h)&&e.kc(`length string (${l}) is not valid number`);const g=yield e.Mc(h);return new Em(JSON.parse(g),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,D.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}Mc(e){var t=this;return(0,D.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const l=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,D.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class J_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,D.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Vt(ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,D.Z)(function*(g,v){const R=on(g),U=dh(R.serializer)+"/documents",Z={documents:v.map(wt=>af(R.serializer,wt))},ne=yield R.Ao("BatchGetDocuments",U,Z,v.length),Ie=new Map;ne.forEach(wt=>{const Xt=function Ug(i,e){return"found"in e?function(t,l){En(!!l.found);const h=Lu(t,l.found.name),g=Yo(l.found.updateTime),v=l.found.createTime?Yo(l.found.createTime):hn.min(),R=new Fo({mapValue:{fields:l.found.fields}});return Wr.newFoundDocument(h,g,v,R)}(i,e):"missing"in e?function(t,l){En(!!l.missing),En(!!l.readTime);const h=Lu(t,l.missing),g=Yo(l.readTime);return Wr.newNoDocument(h,g)}(i,e):tn()}(R.serializer,wt);Ie.set(Xt.key.toString(),Xt)});const tt=[];return v.forEach(wt=>{const Xt=Ie.get(wt.toString());En(!!Xt),tt.push(Xt)}),tt}),function(g,v){return h.apply(this,arguments)})(t.datastore,e);var h;return l.forEach(h=>t.recordVersion(h)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ed(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,D.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,h)=>{const g=Pt.fromPath(h);e.mutations.push(new nf(g,e.precondition(g)))}),yield(l=(0,D.Z)(function*(h,g){const v=on(h),R=dh(v.serializer)+"/documents",U={writes:g.map(Z=>zs(v.serializer,Z))};yield v.po("Commit",R,U)}),function(h,g){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tn();t=hn.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new Vt(ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(hn.min())?Fr.exists(!1):Fr.updateTime(t):Fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hn.min()))throw new Vt(ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(t)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nm{constructor(e,t,l,h,g){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=h,this.deferred=g,this.Fc=l.maxAttempts,this.Lo=new um(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,D.Z)(function*(){const t=new J_(e.datastore),l=e.Lc(t);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(g=>{e.qc(g)}))}).catch(h=>{e.qc(h)})}))}Lc(e){try{const t=this.updateFunction(e);return!Us(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ja(t)}return!1}}class Vf{constructor(e,t,l,h){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=h,this.user=de.UNAUTHENTICATED,this.clientId=Tu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var v=(0,D.Z)(function*(R){gt("FirestoreClient","Received user=",R.uid),yield g.authCredentialListener(R),g.user=R});return function(R){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(l,v=>(gt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,D.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,D.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const h=$u(l,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function kh(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,D.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let l=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,D.Z)(function*(g){l.isEqual(g)||(yield M_(e.localStore,g),l=g)});return function(g){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),$f.apply(this,arguments)}function jf(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,D.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Jp(i);gt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield i.getConfiguration();yield e.initialize(t,l),i.setCredentialChangeListener(h=>Qc(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,g)=>Qc(e.remoteStore,g)),i._onlineComponents=e}),Yp.apply(this,arguments)}function Rm(i){return"FirebaseError"===i.name?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Jp(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,D.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Rm(t))throw t;Jr("Error using user provided cache. Falling back to memory cache: "+t),yield kh(i,new Ph)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield kh(i,new Ph);return i._offlineComponents}),Qp.apply(this,arguments)}function Hf(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,D.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield jf(i,i._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield jf(i,new fc))),i._onlineComponents}),Fh.apply(this,arguments)}function pc(i){return Jp(i).then(e=>e.persistence)}function Xp(i){return Jp(i).then(e=>e.localStore)}function Q_(i){return Hf(i).then(e=>e.remoteStore)}function Gf(i){return Hf(i).then(e=>e.syncEngine)}function mc(i){return eg.apply(this,arguments)}function eg(){return eg=(0,D.Z)(function*(i){const e=yield Hf(i),t=e.eventManager;return t.onListen=Ah.bind(null,e.syncEngine),t.onUnlisten=nv.bind(null,e.syncEngine),t}),eg.apply(this,arguments)}function Om(i,e,t={}){const l=new uo;return i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return function(h,g,v,R,U){const Z=new jd({next:Ie=>{g.enqueueAndForget(()=>Ud(h,ne));const tt=Ie.docs.has(v);!tt&&Ie.fromCache?U.reject(new Vt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Ie.fromCache&&R&&"server"===R.source?U.reject(new Vt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),ne=new Lp(xc(v.path),Z,{includeMetadataChanges:!0,Uu:!0});return xp(h,ne)}(yield mc(i),i.asyncQueue,e,t,l)})),l.promise}function xm(i,e,t={}){const l=new uo;return i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return function(h,g,v,R,U){const Z=new jd({next:Ie=>{g.enqueueAndForget(()=>Ud(h,ne)),Ie.fromCache&&"server"===R.source?U.reject(new Vt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),ne=new Lp(v,Z,{includeMetadataChanges:!0,Uu:!0});return xp(h,ne)}(yield mc(i),i.asyncQueue,e,t,l)})),l.promise}const uv=new Map;function Pm(i,e,t){if(!t)throw new Vt(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cv(i,e,t,l){if(!0===e&&!0===l)throw new Vt(ct.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function X_(i){if(!Pt.isDocumentKey(i))throw new Vt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ey(i){if(Pt.isDocumentKey(i))throw new Vt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":tn()}function ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Vt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rd(i);throw new Vt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function dv(i,e){if(e<=0)throw new Vt(ct.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ty{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,l,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new To;switch(t.type){case"firstParty":return new Bl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Vt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uv.get(e);t&&(gt("ComponentProvider","Removing Datastore"),uv.delete(e),t.terminate())}(this),Promise.resolve()}}function ny(i,e,t,l={}){var h;const g=(i=ci(i,zf))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&Jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let v,R;if("string"==typeof l.mockUserToken)v=l.mockUserToken,R=de.MOCK_USER;else{v=(0,ye.Sg)(l.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const U=l.mockUserToken.sub||l.mockUserToken.user_id;if(!U)throw new Vt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new de(U)}i._authCredentials=new Ec(new qu(v,R))}}class fs{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class qs{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class bu extends qs{constructor(e,t,l){super(e,t,xc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new Pt(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function _c(i,e,...t){if(i=(0,ye.m9)(i),Pm("collection","path",e),i instanceof zf){const l=Un.fromString(e,...t);return ey(l),new bu(i,null,l)}{if(!(i instanceof fs||i instanceof bu))throw new Vt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Un.fromString(e,...t));return ey(l),new bu(i.firestore,null,l)}}function b0(i,e){if(i=ci(i,zf),Pm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vt(ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qs(i,null,(t=e,new hu(Un.emptyPath(),t)));var t}function ng(i,e,...t){if(i=(0,ye.m9)(i),1===arguments.length&&(e=Tu.A()),Pm("doc","path",e),i instanceof zf){const l=Un.fromString(e,...t);return X_(l),new fs(i,null,new Pt(l))}{if(!(i instanceof fs||i instanceof bu))throw new Vt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Un.fromString(e,...t));return X_(l),new fs(i.firestore,i instanceof bu?i.converter:null,new Pt(l))}}function yc(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),(i instanceof fs||i instanceof bu)&&(e instanceof fs||e instanceof bu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Oo(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),i instanceof qs&&e instanceof qs&&i.firestore===e.firestore&&Qt(i._query,e._query)&&i.converter===e.converter}class fi{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new um(this,"async_queue_retry"),this.Yc=()=>{const t=Sp();t&&gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Sp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new uo;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,D.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Ao(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(l=>{throw this.zc=l,this.Wc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(g){let v=g.message||"";return g.stack&&(v=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),v}(l)),l}).then(l=>(this.Wc=!1,l))));return this.Kc=t,t}enqueueAfterDelay(e,t,l){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const h=$_.createAndSchedule(this,e,t,l,g=>this.ea(g));return this.jc.push(h),h}Xc(){this.zc&&tn()}verifyOperationInProgress(){}na(){var e=this;return(0,D.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function Lh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(i)}class km{constructor(){this._progressObserver={},this._taskCompletionResolver=new uo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Fm=-1;class ro extends zf{constructor(e,t,l,h){super(e,t,l,h),this.type="firestore",this._queue=new fi,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hu(this),this._firestoreClient.terminate()}}function Lm(i,e){const t="object"==typeof i?i:(0,a.getApp)(),l="string"==typeof i?i:e||"(default)",h=(0,a._getProvider)(t,"firestore").getImmediate({identifier:l});if(!h._initialized){const g=(0,ye.P0)("firestore");g&&ny(h,...g)}return h}function Uo(i){return i._firestoreClient||Hu(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Hu(i){var e,t,l;const h=i._freezeSettings(),g=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ku(i._databaseId,R,i._persistenceKey,(Z=h).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,Z.useFetchStreams));var R,Z;i._firestoreClient=new Vf(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function rg(i,e){qf(i=ci(i,ro));const t=Uo(i);if(t._uninitializedComponentsProvider)throw new Vt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=i._freezeSettings(),h=new fc;return ry(t,h,new Zp(h,l.cacheSizeBytes,e?.forceOwnership))}function Bm(i){qf(i=ci(i,ro));const e=Uo(i);if(e._uninitializedComponentsProvider)throw new Vt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),l=new fc;return ry(e,l,new Kp(l,t.cacheSizeBytes))}function ry(i,e,t){const l=new uo;return i.asyncQueue.enqueue((0,D.Z)(function*(){try{yield kh(i,t),yield jf(i,e),l.resolve()}catch(h){const g=h;if(!Rm(g))throw g;Jr("Error enabling indexeddb cache. Falling back to memory cache: "+g),l.reject(g)}})).then(()=>l.promise)}function hv(i){if(i._initialized&&!i._terminated)throw new Vt(ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new uo;return i._queue.enqueueAndForgetEvenWhileRestricted((0,D.Z)(function*(){try{yield(t=(0,D.Z)(function*(l){if(!Bs.D())return Promise.resolve();const h=l+"main";yield Bs.delete(h)}),function(l){return t.apply(this,arguments)})(wh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function iy(i){return function(e){const t=new uo;return e.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return function eu(i,e){return cc.apply(this,arguments)}(yield Gf(e),t)})),t.promise}(Uo(i=ci(i,ro)))}function oy(i){return function tg(i){return i.asyncQueue.enqueue((0,D.Z)(function*(){const e=yield pc(i),t=yield Q_(i);return e.setNetworkEnabled(!0),function(l){const h=on(l);return h.Au.delete(0),Sf(h)}(t)}))}(Uo(i=ci(i,ro)))}function vc(i){return function sv(i){return i.asyncQueue.enqueue((0,D.Z)(function*(){const e=yield pc(i),t=yield Q_(i);return e.setNetworkEnabled(!1),(l=(0,D.Z)(function*(h){const g=on(h);g.Au.add(0),yield Kc(g),g.Pu.set("Offline")}),function(h){return l.apply(this,arguments)})(t);var l}))}(Uo(i=ci(i,ro)))}function Uh(i,e){const t=Uo(i=ci(i,ro)),l=new km;return function Ws(i,e,t,l){const h=function(g,v){let R;return R="string"==typeof g?ah().encode(g):g,U=function(U,Z){if(U instanceof Uint8Array)return $d(U,Z);if(U instanceof ArrayBuffer)return $d(new Uint8Array(U),Z);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Mm(U,v);var U}(t,oa(e));i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){!function Uf(i,e,t){const l=on(i);var h;(h=(0,D.Z)(function*(g,v,R){try{const U=yield v.getMetadata();if(yield function(tt,wt){const Xt=on(tt),fn=Yo(wt.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",Pn=>Xt.Ls.getBundleMetadata(Pn,wt.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(fn)>=0)}(g.localStore,U))return yield v.close(),R._completeWith({taskState:"Success",documentsLoaded:(tt=U).totalDocuments,bytesLoaded:tt.totalBytes,totalDocuments:tt.totalDocuments,totalBytes:tt.totalBytes}),Promise.resolve(new Set);R._updateProgress(Im(U));const Z=new G_(U,g.localStore,v.serializer);let ne=yield v.Pc();for(;ne;){const tt=yield Z.ju(ne);tt&&R._updateProgress(tt),ne=yield v.Pc()}const Ie=yield Z.complete();return yield nu(g,Ie.Hu,void 0),yield function(tt,wt){const Xt=on(tt);return Xt.persistence.runTransaction("Save bundle","readwrite",fn=>Xt.Ls.saveBundleMetadata(fn,wt))}(g.localStore,U),R._completeWith(Ie.progress),Promise.resolve(Ie.Wu)}catch(U){return Jr("SyncEngine",`Loading bundle failed with ${U}`),R._failWith(U),Promise.resolve(new Set)}var tt}),function(g,v,R){return h.apply(this,arguments)})(l,e,t).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield Gf(i),h,l)}))}(t,i._databaseId,e,l),l}function Wf(i,e){return function lv(i,e){return i.asyncQueue.enqueue((0,D.Z)(function*(){return function(t,l){const h=on(t);return h.persistence.runTransaction("Get named query","readonly",g=>h.Ls.getNamedQuery(g,l))}(yield Xp(i),e)}))}(Uo(i=ci(i,ro)),e).then(t=>t?new qs(i,null,t.query):null)}function qf(i){if(i._initialized||i._terminated)throw new Vt(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gu(fo.fromBase64String(e))}catch(t){throw new Vt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gu(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Vt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class ig{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}const fv=/^__.*__$/;class pv{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new ku(e,this.data,this.fieldMask,t,this.fieldTransforms):new sh(e,this.data,t,this.fieldTransforms)}}class gv{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new ku(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class Um{constructor(e,t,l,h,g,v){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===g&&this.oa(),this.fieldTransforms=g||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ca({path:l,ha:!1});return h.la(e),h}fa(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ca({path:l,ha:!1});return h.oa(),h}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Yf(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sy(this.ua)&&fv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class C0{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||oa(e)}ga(e,t,l,h=!1){return new Um({ua:e,methodName:t,ma:l,path:tr.emptyPath(),ha:!1,wa:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(i){const e=i._freezeSettings(),t=oa(i._databaseId);return new C0(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vm(i,e,t,l,h,g={}){const v=i.ga(g.merge||g.mergeFields?2:0,e,t,h);jm("Data must be an object, but it was:",v,l);const R=uy(l,v);let U,Z;if(g.merge)U=new As(v.fieldMask),Z=v.fieldTransforms;else if(g.mergeFields){const ne=[];for(const Ie of g.mergeFields){const tt=Gd(e,Ie,t);if(!v.contains(tt))throw new Vt(ct.INVALID_ARGUMENT,`Field '${tt}' is specified in your field mask but missing from your input data.`);lg(ne,tt)||ne.push(tt)}U=new As(ne),Z=v.fieldTransforms.filter(Ie=>U.covers(Ie.field))}else U=null,Z=v.fieldTransforms;return new pv(new Fo(R),U,Z)}class og extends Hd{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}function mv(i,e,t){return new Um({ua:3,ma:e.settings.ma,methodName:i._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ay extends Hd{_toFieldTransform(e){return new Dd(e.path,new vd)}isEqual(e){return e instanceof ay}}class E0 extends Hd{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=mv(this,e,!0),l=this.ya.map(g=>zu(g,t)),h=new $a(l);return new Dd(e.path,h)}isEqual(e){return this===e}}class ly extends Hd{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=mv(this,e,!0),l=this.ya.map(g=>zu(g,t)),h=new Sl(l);return new Dd(e.path,h)}isEqual(e){return this===e}}class _v extends Hd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new wd(e.serializer,Sg(e.serializer,this.pa));return new Dd(e.path,t)}isEqual(e){return this===e}}function Zf(i,e,t,l){const h=i.ga(1,e,t);jm("Data must be an object, but it was:",h,l);const g=[],v=Fo.empty();ta(l,(U,Z)=>{const ne=ag(e,U,t);Z=(0,ye.m9)(Z);const Ie=h.fa(ne);if(Z instanceof og)g.push(ne);else{const tt=zu(Z,Ie);null!=tt&&(g.push(ne),v.set(ne,tt))}});const R=new As(g);return new gv(v,R,h.fieldTransforms)}function sg(i,e,t,l,h,g){const v=i.ga(1,e,t),R=[Gd(e,l,t)],U=[h];if(g.length%2!=0)throw new Vt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tt=0;tt<g.length;tt+=2)R.push(Gd(e,g[tt])),U.push(g[tt+1]);const Z=[],ne=Fo.empty();for(let tt=R.length-1;tt>=0;--tt)if(!lg(Z,R[tt])){const wt=R[tt];let Xt=U[tt];Xt=(0,ye.m9)(Xt);const fn=v.fa(wt);if(Xt instanceof og)Z.push(wt);else{const Pn=zu(Xt,fn);null!=Pn&&(Z.push(wt),ne.set(wt,Pn))}}const Ie=new As(Z);return new gv(ne,Ie,v.fieldTransforms)}function $m(i,e,t,l=!1){return zu(t,i.ga(l?4:3,e))}function zu(i,e){if(Kf(i=(0,ye.m9)(i)))return jm("Unsupported field value:",e,i),uy(i,e);if(i instanceof Hd)return function(t,l){if(!sy(l.ua))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,l){const h=[];let g=0;for(const v of t){let R=zu(v,l.da(g));null==R&&(R={nullValue:"NULL_VALUE"}),h.push(R),g++}return{arrayValue:{values:h}}}(i,e)}return function(t,l){if(null===(t=(0,ye.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sg(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=ui.fromDate(t);return{timestampValue:uh(l.serializer,h)}}if(t instanceof ui){const h=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uh(l.serializer,h)}}if(t instanceof ig)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gu)return{bytesValue:Bo(l.serializer,t._byteString)};if(t instanceof fs){const h=l.databaseId,g=t.firestore._databaseId;if(!g.isEqual(h))throw l._a(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ch(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${rd(t)}`)}(i,e)}function uy(i,e){const t={};return cd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,(l,h)=>{const g=zu(h,e.aa(l));null!=g&&(t[l]=g)}),{mapValue:{fields:t}}}function Kf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ui||i instanceof ig||i instanceof Gu||i instanceof fs||i instanceof Hd)}function jm(i,e,t){if(!Kf(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=rd(t);throw e._a("an object"===l?i+" a custom object":i+" "+l)}var l}function Gd(i,e,t){if((e=(0,ye.m9)(e))instanceof od)return e._internalPath;if("string"==typeof e)return ag(i,e);throw Yf("Field path arguments must be of type string or ",i,!1,void 0,t)}const sd=new RegExp("[~\\*/\\[\\]]");function ag(i,e,t){if(e.search(sd)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yf(i,e,t,l,h){const g=l&&!l.isEmpty(),v=void 0!==h;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let U="";return(g||v)&&(U+=" (found",g&&(U+=` in field ${l}`),v&&(U+=` in document ${h}`),U+=")"),new Vt(ct.INVALID_ARGUMENT,R+i+U)}function lg(i,e){return i.some(t=>t.isEqual(e))}class $h{constructor(e,t,l,h,g){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jh extends $h{data(){return super.data()}}function Jf(i,e){return"string"==typeof e?ag(i,e):e instanceof od?e._internalPath:e._delegate._internalPath}function ug(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Vt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Du extends cg{}function yv(i,e,...t){let l=[];e instanceof cg&&l.push(e),l=l.concat(t),function(h){const g=h.filter(R=>R instanceof zh).length,v=h.filter(R=>R instanceof Hh).length;if(g>1||g>0&&v>0)throw new Vt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)i=h._apply(i);return i}class Hh extends Du{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new Hh(e,t,l)}_apply(e){const t=this._parse(e);return pg(e._query,t),new qs(e.firestore,e.converter,je(e._query,t))}_parse(e){const t=Vh(e.firestore);return function(h,g,v,R,U,Z,ne){let Ie;if(U.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Vt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){fg(ne,Z);const tt=[];for(const wt of ne)tt.push(wv(R,h,wt));Ie={arrayValue:{values:tt}}}else Ie=wv(R,h,ne)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||fg(ne,Z),Ie=$m(v,"where",ne,"in"===Z||"not-in"===Z);return Ae.create(U,Z,Ie)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gh(i,e,t){const l=e,h=Jf("where",i);return Hh._create(h,l,t)}class zh extends cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zh(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:et.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,h){let g=l;const v=h.getFlattenedFilters();for(const R of v)pg(g,R),g=je(g,R)}(e._query,t),new qs(e.firestore,e.converter,je(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dg extends Du{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dg(e,t)}_apply(e){const t=function(l,h,g){if(null!==l.startAt)throw new Vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new W(h,g);return function(R,U){if(null===_(R)){const Z=b(R);null!==Z&&Gm(0,Z,U.field)}}(l,v),v}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(l,h){const g=l.explicitOrderBy.concat([h]);return new hu(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Wh(i,e="asc"){const t=e,l=Jf("orderBy",i);return dg._create(l,t)}class ad extends Du{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new ad(e,t,l)}_apply(e){return new qs(e.firestore,e.converter,dt(e._query,this._limit,this._limitType))}}function ar(i){return dv("limit",i),ad._create("limit",i,"F")}function vv(i){return dv("limitToLast",i),ad._create("limitToLast",i,"L")}class hg extends Du{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new hg(e,t,l)}_apply(e){const t=_o(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(h=t,new hu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function bv(...i){return hg._create("startAt",i,!0)}function qh(...i){return hg._create("startAfter",i,!1)}class Zh extends Du{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Zh(e,t,l)}_apply(e){const t=_o(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(h=t,new hu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function Qf(...i){return Zh._create("endBefore",i,!1)}function Hm(...i){return Zh._create("endAt",i,!0)}function _o(i,e,t,l){if(t[0]=(0,ye.m9)(t[0]),t[0]instanceof $h)return function(h,g,v,R,U){if(!R)throw new Vt(ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const Z=[];for(const ne of K(h))if(ne.field.isKeyField())Z.push(nl(g,R.key));else{const Ie=R.data.field(ne.field);if(ba(Ie))throw new Vt(ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const tt=ne.field.canonicalString();throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}Z.push(Ie)}return new rl(Z,U)}(i._query,i.firestore._databaseId,e,t[0]._document,l);{const h=Vh(i.firestore);return function(g,v,R,U,Z,ne){const Ie=g.explicitOrderBy;if(Z.length>Ie.length)throw new Vt(ct.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let wt=0;wt<Z.length;wt++){const Xt=Z[wt];if(Ie[wt].field.isKeyField()){if("string"!=typeof Xt)throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Xt}`);if(!N(g)&&-1!==Xt.indexOf("/"))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Xt}' contains a slash.`);const fn=g.path.child(Un.fromString(Xt));if(!Pt.isDocumentKey(fn))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const Pn=new Pt(fn);tt.push(nl(v,Pn))}else{const fn=$m(R,U,Xt);tt.push(fn)}}return new rl(tt,ne)}(i._query,i.firestore._databaseId,h,e,t,l)}}function wv(i,e,t){if("string"==typeof(t=(0,ye.m9)(t))){if(""===t)throw new Vt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N(e)&&-1!==t.indexOf("/"))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(Un.fromString(t));if(!Pt.isDocumentKey(l))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return nl(i,new Pt(l))}if(t instanceof fs)return nl(i,t._key);throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(t)}.`)}function fg(i,e){if(!Array.isArray(i)||0===i.length)throw new Vt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pg(i,e){if(e.isInequality()){const l=b(i),h=e.field;if(null!==l&&!l.isEqual(h))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const g=_(i);null!==g&&Gm(0,h,g)}const t=function(l,h){for(const g of l)for(const v of g.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Vt(ct.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Gm(i,e,t){if(!t.isEqual(e))throw new Vt(ct.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Xf{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return ta(e,(h,g)=>{l[h]=this.convertValue(g,t)}),l}convertGeoPoint(e){return new ig(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Ba(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=wl(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=Un.fromString(e);En(pp(l));const h=new Ss(l.get(1),l.get(3)),g=new Pt(l.popFirst(5));return h.isEqual(t)||Or(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function Kh(i,e,t){let l;return l=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,l}class zm extends Xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}class zd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wd extends $h{constructor(e,t,l,h,g,v){super(e,t,l,h,v),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(Jf("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class bc extends Wd{data(e={}){return super.data(e)}}class ld{constructor(e,t,l,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new zd(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new bc(this._firestore,this._userDataWriter,l.key,l,new zd(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(v=>({type:"added",doc:new bc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new zd(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(v=>h||3!==v.type).map(v=>{const R=new bc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new zd(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let U=-1,Z=-1;return 0!==v.type&&(U=g.indexOf(v.doc.key),g=g.delete(v.doc.key)),1!==v.type&&(g=g.add(v.doc),Z=g.indexOf(v.doc.key)),{type:Cv(v.type),doc:R,oldIndex:U,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function Ev(i,e){return i instanceof Wd&&e instanceof Wd?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ld&&e instanceof ld&&i._firestore===e._firestore&&Oo(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function A0(i){i=ci(i,fs);const e=ci(i.firestore,ro);return Om(Uo(e),i._key).then(t=>my(e,i,t))}class Cu extends Xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}function _g(i){i=ci(i,fs);const e=ci(i.firestore,ro),t=Uo(e),l=new Cu(e);return function _0(i,e){const t=new uo;return i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return(l=(0,D.Z)(function*(h,g,v){try{const R=yield function(U,Z){const ne=on(U);return ne.persistence.runTransaction("read document","readonly",Ie=>ne.localDocuments.getDocument(Ie,Z))}(h,g);R.isFoundDocument()?v.resolve(R):R.isNoDocument()?v.resolve(null):v.reject(new Vt(ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const U=$u(R,`Failed to get document '${g} from cache`);v.reject(U)}}),function(h,g,v){return l.apply(this,arguments)})(yield Xp(i),e,t);var l})),t.promise}(t,i._key).then(h=>new Wd(e,l,i._key,h,new zd(null!==h&&h.hasLocalMutations,!0),i.converter))}function hy(i){i=ci(i,fs);const e=ci(i.firestore,ro);return Om(Uo(e),i._key,{source:"server"}).then(t=>my(e,i,t))}function Iv(i){i=ci(i,qs);const e=ci(i.firestore,ro),t=Uo(e),l=new Cu(e);return ug(i._query),xm(t,i._query).then(h=>new ld(e,l,i,h))}function Tv(i){i=ci(i,qs);const e=ci(i.firestore,ro),t=Uo(e),l=new Cu(e);return function av(i,e){const t=new uo;return i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return(l=(0,D.Z)(function*(h,g,v){try{const R=yield Dp(h,g,!0),U=new Tm(g,R.sr),Z=U.nc(R.documents),ne=U.applyChanges(Z,!1);v.resolve(ne.snapshot)}catch(R){const U=$u(R,`Failed to execute query '${g} against cache`);v.reject(U)}}),function(h,g,v){return l.apply(this,arguments)})(yield Xp(i),e,t);var l})),t.promise}(t,i._query).then(h=>new ld(e,l,i,h))}function Wm(i){i=ci(i,qs);const e=ci(i.firestore,ro),t=Uo(e),l=new Cu(e);return xm(t,i._query,{source:"server"}).then(h=>new ld(e,l,i,h))}function fy(i,e,t){i=ci(i,fs);const l=ci(i.firestore,ro),h=Kh(i.converter,e,t);return Yh(l,[Vm(Vh(l),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,Fr.none())])}function py(i,e,t,...l){i=ci(i,fs);const h=ci(i.firestore,ro),g=Vh(h);let v;return v="string"==typeof(e=(0,ye.m9)(e))||e instanceof od?sg(g,"updateDoc",i._key,e,t,l):Zf(g,"updateDoc",i._key,e),Yh(h,[v.toMutation(i._key,Fr.exists(!0))])}function gy(i){return Yh(ci(i.firestore,ro),[new Ed(i._key,Fr.none())])}function qm(i,e){const t=ci(i.firestore,ro),l=ng(i),h=Kh(i.converter,e);return Yh(t,[Vm(Vh(i.firestore),"addDoc",l._key,h,null!==i.converter,{}).toMutation(l._key,Fr.exists(!1))]).then(()=>l)}function Av(i,...e){var t,l,h;i=(0,ye.m9)(i);let g={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Lh(e[v])||(g=e[v],v++);const R={includeMetadataChanges:g.includeMetadataChanges};if(Lh(e[v])){const Ie=e[v];e[v]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[v+1]=null===(l=Ie.error)||void 0===l?void 0:l.bind(Ie),e[v+2]=null===(h=Ie.complete)||void 0===h?void 0:h.bind(Ie)}let U,Z,ne;if(i instanceof fs)Z=ci(i.firestore,ro),ne=xc(i._key.path),U={next:Ie=>{e[v]&&e[v](my(Z,i,Ie))},error:e[v+1],complete:e[v+2]};else{const Ie=ci(i,qs);Z=ci(Ie.firestore,ro),ne=Ie._query;const tt=new Cu(Z);U={next:wt=>{e[v]&&e[v](new ld(Z,tt,Ie,wt))},error:e[v+1],complete:e[v+2]},ug(i._query)}return function(Ie,tt,wt,Xt){const fn=new jd(Xt),Pn=new Lp(tt,fn,wt);return Ie.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return xp(yield mc(Ie),Pn)})),()=>{fn.Sc(),Ie.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return Ud(yield mc(Ie),Pn)}))}}(Uo(Z),ne,R,U)}function Sv(i,e){return function y0(i,e){const t=new jd(e);return i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return l=yield mc(i),h=t,on(l).Nu.add(h),void h.next();var l,h})),()=>{t.Sc(),i.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return l=yield mc(i),h=t,void on(l).Nu.delete(h);var l,h}))}}(Uo(i=ci(i,ro)),Lh(e)?e:{next:e})}function Yh(i,e){return function(t,l){const h=new uo;return t.asyncQueue.enqueueAndForget((0,D.Z)(function*(){return function Sh(i,e,t){return no.apply(this,arguments)}(yield Gf(t),l,h)})),h.promise}(Uo(i),e)}function my(i,e,t){const l=t.docs.get(e._key),h=new Cu(i);return new Wd(i,h,e._key,l,new zd(t.hasPendingWrites,t.fromCache),e.converter)}const xv={maxAttempts:5};class Pv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vh(e)}set(e,t,l){this._verifyNotCommitted();const h=wc(e,this._firestore),g=Kh(h.converter,t,l),v=Vm(this._dataReader,"WriteBatch.set",h._key,g,null!==h.converter,l);return this._mutations.push(v.toMutation(h._key,Fr.none())),this}update(e,t,l,...h){this._verifyNotCommitted();const g=wc(e,this._firestore);let v;return v="string"==typeof(t=(0,ye.m9)(t))||t instanceof od?sg(this._dataReader,"WriteBatch.update",g._key,t,l,h):Zf(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(v.toMutation(g._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wc(e,this._firestore);return this._mutations=this._mutations.concat(new Ed(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wc(i,e){if((i=(0,ye.m9)(i)).firestore!==e)throw new Vt(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ep extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vh(e)}get(e){const t=wc(e,this._firestore),l=new zm(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return tn();const g=h[0];if(g.isFoundDocument())return new $h(this._firestore,l,g.key,g,t.converter);if(g.isNoDocument())return new $h(this._firestore,l,t._key,null,t.converter);throw tn()})}set(e,t,l){const h=wc(e,this._firestore),g=Kh(h.converter,t,l),v=Vm(this._dataReader,"Transaction.set",h._key,g,null!==h.converter,l);return this._transaction.set(h._key,v),this}update(e,t,l,...h){const g=wc(e,this._firestore);let v;return v="string"==typeof(t=(0,ye.m9)(t))||t instanceof od?sg(this._dataReader,"Transaction.update",g._key,t,l,h):Zf(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,v),this}delete(e){const t=wc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wc(e,this._firestore),l=new Cu(this._firestore);return super.get(e).then(h=>new Wd(this._firestore,l,t._key,h._document,new zd(!1,!1),t.converter))}}function N0(i,e,t){i=ci(i,ro);const l=Object.assign(Object.assign({},xv),t);return function(h){if(h.maxAttempts<1)throw new Vt(ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,g,v){const R=new uo;return h.asyncQueue.enqueueAndForget((0,D.Z)(function*(){const U=yield function gc(i){return Hf(i).then(e=>e.datastore)}(h);new Nm(h.asyncQueue,U,v,g,R).run()})),R.promise}(Uo(i),h=>e(new ep(i,h)),l)}function kv(){return new og("deleteField")}function R0(){return new ay("serverTimestamp")}function by(...i){return new E0("arrayUnion",i)}function O0(...i){return new ly("arrayRemove",i)}function Fv(i){return new _v("increment",i)}!function(i,e=!0){Xe=a.SDK_VERSION,(0,a._registerComponent)(new $.wA("firestore",(t,{instanceIdentifier:l,options:h})=>{const g=t.getProvider("app").getImmediate(),v=new ro(new ls(t.getProvider("auth-internal")),new Iu(t.getProvider("app-check-internal")),function(R,U){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Vt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(R.options.projectId,U)}(g,l),g);return h=Object.assign({useFetchStreams:e},h),v._setSettings(h),v},"PUBLIC").setMultipleInstances(!0)),(0,a.registerVersion)(q,"3.11.0",i),(0,a.registerVersion)(q,"3.11.0","esm2017")}()},2090:(en,ke,j)=>{"use strict";j.d(ke,{$s:()=>nr,BH:()=>pt,G6:()=>It,L:()=>Ye,LL:()=>un,P0:()=>kt,Pz:()=>Ge,Sg:()=>Rt,UG:()=>Et,US:()=>Ne,ZB:()=>Me,ZR:()=>An,aH:()=>rt,b$:()=>_n,eu:()=>Tt,hl:()=>jt,jU:()=>ln,m9:()=>Kr,ne:()=>Cn,pd:()=>Zn,q4:()=>De,r3:()=>Lr,ru:()=>Ct,tV:()=>he,uI:()=>Be,vZ:()=>ze,w1:()=>st,xO:()=>xn,xb:()=>xe,z$:()=>St,zI:()=>qt,zd:()=>Fn});const Ce=function(Ee){const me=[];let ie=0;for(let se=0;se<Ee.length;se++){let X=Ee.charCodeAt(se);X<128?me[ie++]=X:X<2048?(me[ie++]=X>>6|192,me[ie++]=63&X|128):55296==(64512&X)&&se+1<Ee.length&&56320==(64512&Ee.charCodeAt(se+1))?(X=65536+((1023&X)<<10)+(1023&Ee.charCodeAt(++se)),me[ie++]=X>>18|240,me[ie++]=X>>12&63|128,me[ie++]=X>>6&63|128,me[ie++]=63&X|128):(me[ie++]=X>>12|224,me[ie++]=X>>6&63|128,me[ie++]=63&X|128)}return me},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,me){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let X=0;X<Ee.length;X+=3){const Se=Ee[X],pe=X+1<Ee.length,ge=pe?Ee[X+1]:0,ce=X+2<Ee.length,Pe=ce?Ee[X+2]:0;let vn=(15&ge)<<2|Pe>>6,pn=63&Pe;ce||(pn=64,pe||(vn=64)),se.push(ie[Se>>2],ie[(3&Se)<<4|ge>>4],ie[vn],ie[pn])}return se.join("")},encodeString(Ee,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(Ee):this.encodeByteArray(Ce(Ee),me)},decodeString(Ee,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(Ee):function(Ee){const me=[];let ie=0,se=0;for(;ie<Ee.length;){const X=Ee[ie++];if(X<128)me[se++]=String.fromCharCode(X);else if(X>191&&X<224){const Se=Ee[ie++];me[se++]=String.fromCharCode((31&X)<<6|63&Se)}else if(X>239&&X<365){const ce=((7&X)<<18|(63&Ee[ie++])<<12|(63&Ee[ie++])<<6|63&Ee[ie++])-65536;me[se++]=String.fromCharCode(55296+(ce>>10)),me[se++]=String.fromCharCode(56320+(1023&ce))}else{const Se=Ee[ie++],pe=Ee[ie++];me[se++]=String.fromCharCode((15&X)<<12|(63&Se)<<6|63&pe)}}return me.join("")}(this.decodeStringToByteArray(Ee,me))},decodeStringToByteArray(Ee,me){this.init_();const ie=me?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let X=0;X<Ee.length;){const Se=ie[Ee.charAt(X++)],ge=X<Ee.length?ie[Ee.charAt(X)]:0;++X;const Pe=X<Ee.length?ie[Ee.charAt(X)]:64;++X;const vt=X<Ee.length?ie[Ee.charAt(X)]:64;if(++X,null==Se||null==ge||null==Pe||null==vt)throw new Fe;se.push(Se<<2|ge>>4),64!==Pe&&(se.push(ge<<4&240|Pe>>2),64!==vt&&se.push(Pe<<6&192|vt))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ye=function(Ee){return function(Ee){const me=Ce(Ee);return Ne.encodeByteArray(me,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return Ne.decodeString(Ee,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function Me(Ee,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return me}for(const ie in me)!me.hasOwnProperty(ie)||!Qe(ie)||(Ee[ie]=Me(Ee[ie],me[ie]));return Ee}function Qe(Ee){return"__proto__"!==Ee}const _t=()=>{try{return function lt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ee=process.env.__FIREBASE_DEFAULTS__;return Ee?JSON.parse(Ee):void 0})()||(()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const me=Ee&&he(Ee[1]);return me&&JSON.parse(me)})()}catch(Ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`)}},De=Ee=>{var me,ie;return null===(ie=null===(me=_t())||void 0===me?void 0:me.emulatorHosts)||void 0===ie?void 0:ie[Ee]},kt=Ee=>{const me=De(Ee);if(!me)return;const ie=me.lastIndexOf(":");if(ie<=0||ie+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const se=parseInt(me.substring(ie+1),10);return"["===me[0]?[me.substring(1,ie-1),se]:[me.substring(0,ie),se]},rt=()=>{var Ee;return null===(Ee=_t())||void 0===Ee?void 0:Ee.config},Ge=Ee=>{var me;return null===(me=_t())||void 0===me?void 0:me[`_${Ee}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,ie)=>{this.resolve=me,this.reject=ie})}wrapCallback(me){return(ie,se)=>{ie?this.reject(ie):this.resolve(se),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(ie):me(ie,se))}}}function Rt(Ee,me){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=me||"demo-project",X=Ee.iat||0,Se=Ee.sub||Ee.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pe=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:X,exp:X+3600,auth_time:X,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(pe)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Et(){var Ee;const me=null===(Ee=_t())||void 0===Ee?void 0:Ee.forceEnvironment;if("node"===me)return!0;if("browser"===me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ln(){return"object"==typeof self&&self.self===self}function Ct(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const Ee=St();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function It(){return!Et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){try{return"object"==typeof indexedDB}catch{return!1}}function Tt(){return new Promise((Ee,me)=>{try{let ie=!0;const se="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(se);X.onsuccess=()=>{X.result.close(),ie||self.indexedDB.deleteDatabase(se),Ee(!0)},X.onupgradeneeded=()=>{ie=!1},X.onerror=()=>{var Se;me((null===(Se=X.error)||void 0===Se?void 0:Se.message)||"")}}catch(ie){me(ie)}})}function qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class An extends Error{constructor(me,ie,se){super(ie),this.code=me,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(me,ie,se){this.service=me,this.serviceName=ie,this.errors=se}create(me,...ie){const se=ie[0]||{},X=`${this.service}/${me}`,Se=this.errors[me],pe=Se?function yn(Ee,me){return Ee.replace(yt,(ie,se)=>{const X=me[se];return null!=X?String(X):`<${se}?>`})}(Se,se):"Error";return new An(X,`${this.serviceName}: ${pe} (${X}).`,se)}}const yt=/\{\$([^}]+)}/g;function Lr(Ee,me){return Object.prototype.hasOwnProperty.call(Ee,me)}function xe(Ee){for(const me in Ee)if(Object.prototype.hasOwnProperty.call(Ee,me))return!1;return!0}function ze(Ee,me){if(Ee===me)return!0;const ie=Object.keys(Ee),se=Object.keys(me);for(const X of ie){if(!se.includes(X))return!1;const Se=Ee[X],pe=me[X];if(Mt(Se)&&Mt(pe)){if(!ze(Se,pe))return!1}else if(Se!==pe)return!1}for(const X of se)if(!ie.includes(X))return!1;return!0}function Mt(Ee){return null!==Ee&&"object"==typeof Ee}function xn(Ee){const me=[];for(const[ie,se]of Object.entries(Ee))Array.isArray(se)?se.forEach(X=>{me.push(encodeURIComponent(ie)+"="+encodeURIComponent(X))}):me.push(encodeURIComponent(ie)+"="+encodeURIComponent(se));return me.length?"&"+me.join("&"):""}function Fn(Ee){const me={};return Ee.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[X,Se]=se.split("=");me[decodeURIComponent(X)]=decodeURIComponent(Se)}}),me}function Zn(Ee){const me=Ee.indexOf("?");if(!me)return"";const ie=Ee.indexOf("#",me);return Ee.substring(me,ie>0?ie:void 0)}function Cn(Ee,me){const ie=new Jt(Ee,me);return ie.subscribe.bind(ie)}class Jt{constructor(me,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{me(this)}).catch(se=>{this.error(se)})}next(me){this.forEachObserver(ie=>{ie.next(me)})}error(me){this.forEachObserver(ie=>{ie.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,ie,se){let X;if(void 0===me&&void 0===ie&&void 0===se)throw new Error("Missing Observer.");X=function dr(Ee,me){if("object"!=typeof Ee||null===Ee)return!1;for(const ie of me)if(ie in Ee&&"function"==typeof Ee[ie])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:ie,complete:se},void 0===X.next&&(X.next=or),void 0===X.error&&(X.error=or),void 0===X.complete&&(X.complete=or);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Se}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,me)}sendOne(me,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{ie(this.observers[me])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const Bn=1e3,kr=2,Br=144e5,lr=.5;function nr(Ee,me=Bn,ie=kr){const se=me*Math.pow(ie,Ee),X=Math.round(lr*se*(Math.random()-.5)*2);return Math.min(Br,se+X)}function Kr(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},2731:(en,ke,j)=>{"use strict";var D=j(1481),a=j(4650),$=j(6895),Ce=j(8996),ye=j(9751),Ne=j(4742),Fe=j(8421),be=j(3269),Ye=j(5403),he=j(3268),ve=j(1810),Qe=j(4004);let lt=(()=>{class s{constructor(n,d){this._renderer=n,this._elementRef=d,this.onChange=m=>{},this.onTouched=()=>{}}setProperty(n,d){this._renderer.setProperty(this._elementRef.nativeElement,n,d)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Qsj),a.Y36(a.SBq))},s.\u0275dir=a.lG2({type:s}),s})(),mt=(()=>{class s extends lt{}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275dir=a.lG2({type:s,features:[a.qOj]}),s})();const Dt=new a.OlP("NgValueAccessor"),Je={provide:Dt,useExisting:(0,a.Gpc)(()=>_t),multi:!0};let _t=(()=>{class s extends mt{writeValue(n){this.setProperty("checked",n)}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275dir=a.lG2({type:s,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,d){1&n&&a.NdJ("change",function(E){return d.onChange(E.target.checked)})("blur",function(){return d.onTouched()})},features:[a._Bn([Je]),a.qOj]}),s})();const De={provide:Dt,useExisting:(0,a.Gpc)(()=>Ge),multi:!0},rt=new a.OlP("CompositionEventMode");let Ge=(()=>{class s extends lt{constructor(n,d,m){super(n,d),this._compositionMode=m,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kt(){const s=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(rt,8))},s.\u0275dir=a.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,d){1&n&&a.NdJ("input",function(E){return d._handleInput(E.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(E){return d._compositionEnd(E.target.value)})},features:[a._Bn([De]),a.qOj]}),s})();const pt=!1;function Rt(s){return null==s||("string"==typeof s||Array.isArray(s))&&0===s.length}function St(s){return null!=s&&"number"==typeof s.length}const Be=new a.OlP("NgValidators"),Et=new a.OlP("NgAsyncValidators"),ln=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ct{static min(c){return function _n(s){return c=>{if(Rt(c.value)||Rt(s))return null;const n=parseFloat(c.value);return!isNaN(n)&&n<s?{min:{min:s,actual:c.value}}:null}}(c)}static max(c){return function Yt(s){return c=>{if(Rt(c.value)||Rt(s))return null;const n=parseFloat(c.value);return!isNaN(n)&&n>s?{max:{max:s,actual:c.value}}:null}}(c)}static required(c){return function st(s){return Rt(s.value)?{required:!0}:null}(c)}static requiredTrue(c){return function ot(s){return!0===s.value?null:{required:!0}}(c)}static email(c){return function ft(s){return Rt(s.value)||ln.test(s.value)?null:{email:!0}}(c)}static minLength(c){return function It(s){return c=>Rt(c.value)||!St(c.value)?null:c.value.length<s?{minlength:{requiredLength:s,actualLength:c.value.length}}:null}(c)}static maxLength(c){return function jt(s){return c=>St(c.value)&&c.value.length>s?{maxlength:{requiredLength:s,actualLength:c.value.length}}:null}(c)}static pattern(c){return function Tt(s){if(!s)return qt;let c,n;return"string"==typeof s?(n="","^"!==s.charAt(0)&&(n+="^"),n+=s,"$"!==s.charAt(s.length-1)&&(n+="$"),c=new RegExp(n)):(n=s.toString(),c=s),d=>{if(Rt(d.value))return null;const m=d.value;return c.test(m)?null:{pattern:{requiredPattern:n,actualValue:m}}}}(c)}static nullValidator(c){return null}static compose(c){return ir(c)}static composeAsync(c){return Sr(c)}}function qt(s){return null}function $t(s){return null!=s}function An(s){const c=(0,a.QGY)(s)?(0,Ce.D)(s):s;if(pt&&!(0,a.CqO)(c)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof s&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,n)}return c}function un(s){let c={};return s.forEach(n=>{c=null!=n?{...c,...n}:c}),0===Object.keys(c).length?null:c}function yn(s,c){return c.map(n=>n(s))}function Nn(s){return s.map(c=>function yt(s){return!s.validate}(c)?c:n=>c.validate(n))}function ir(s){if(!s)return null;const c=s.filter($t);return 0==c.length?null:function(n){return un(yn(n,c))}}function Jn(s){return null!=s?ir(Nn(s)):null}function Sr(s){if(!s)return null;const c=s.filter($t);return 0==c.length?null:function(n){return function Me(...s){const c=(0,be.jO)(s),{args:n,keys:d}=(0,Ne.D)(s),m=new ye.y(E=>{const{length:H}=n;if(!H)return void E.complete();const le=new Array(H);let ue=H,Te=H;for(let We=0;We<H;We++){let Gt=!1;(0,Fe.Xf)(n[We]).subscribe((0,Ye.x)(E,Ot=>{Gt||(Gt=!0,Te--),le[We]=Ot},()=>ue--,void 0,()=>{(!ue||!Gt)&&(Te||E.next(d?(0,ve.n)(d,le):le),E.complete())}))}});return c?m.pipe((0,he.Z)(c)):m}(yn(n,c).map(An)).pipe((0,Qe.U)(un))}}function Mr(s){return null!=s?Sr(Nn(s)):null}function cn(s,c){return null===s?[c]:Array.isArray(s)?[...s,c]:[s,c]}function br(s){return s._rawValidators}function Lr(s){return s._rawAsyncValidators}function qe(s){return s?Array.isArray(s)?s:[s]:[]}function xe(s,c){return Array.isArray(s)?s.includes(c):s===c}function Ve(s,c){const n=qe(c);return qe(s).forEach(m=>{xe(n,m)||n.push(m)}),n}function ze(s,c){return qe(c).filter(n=>!xe(s,n))}class Mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(c){this._rawValidators=c||[],this._composedValidatorFn=Jn(this._rawValidators)}_setAsyncValidators(c){this._rawAsyncValidators=c||[],this._composedAsyncValidatorFn=Mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(c){this._onDestroyCallbacks.push(c)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(c=>c()),this._onDestroyCallbacks=[]}reset(c){this.control&&this.control.reset(c)}hasError(c,n){return!!this.control&&this.control.hasError(c,n)}getError(c,n){return this.control?this.control.getError(c,n):null}}class Lt extends Mt{get formDirective(){return null}get path(){return null}}class xn extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(c){this._cd=c}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class s extends Fn{constructor(n){super(n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(xn,2))},s.\u0275dir=a.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,d){2&n&&a.ekj("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)},features:[a.qOj]}),s})(),Jt=(()=>{class s extends Fn{constructor(n){super(n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Lt,10))},s.\u0275dir=a.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,d){2&n&&a.ekj("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)("ng-submitted",d.isSubmitted)},features:[a.qOj]}),s})();function Br(s,c){return s?`with name: '${c}'`:`at index: ${c}`}const Vr=!1,Kr="VALID",Ee="INVALID",me="PENDING",ie="DISABLED";function se(s){return(ge(s)?s.validators:s)||null}function Se(s,c){return(ge(c)?c.asyncValidators:s)||null}function ge(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}function ce(s,c,n){const d=s.controls;if(!(c?Object.keys(d):d).length)throw new a.vHH(1e3,Vr?function lr(s){return`\n    There are no form controls registered with this ${s?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(c):"");if(!d[n])throw new a.vHH(1001,Vr?function nr(s,c){return`Cannot find form control ${Br(s,c)}`}(c,n):"")}function Pe(s,c,n){s._forEachChild((d,m)=>{if(void 0===n[m])throw new a.vHH(1002,Vr?function ni(s,c){return`Must supply a value for form control ${Br(s,c)}`}(c,m):"")})}class it{constructor(c,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(c),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(c){this._rawValidators=this._composedValidatorFn=c}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(c){this._rawAsyncValidators=this._composedAsyncValidatorFn=c}get parent(){return this._parent}get valid(){return this.status===Kr}get invalid(){return this.status===Ee}get pending(){return this.status==me}get disabled(){return this.status===ie}get enabled(){return this.status!==ie}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(c){this._assignValidators(c)}setAsyncValidators(c){this._assignAsyncValidators(c)}addValidators(c){this.setValidators(Ve(c,this._rawValidators))}addAsyncValidators(c){this.setAsyncValidators(Ve(c,this._rawAsyncValidators))}removeValidators(c){this.setValidators(ze(c,this._rawValidators))}removeAsyncValidators(c){this.setAsyncValidators(ze(c,this._rawAsyncValidators))}hasValidator(c){return xe(this._rawValidators,c)}hasAsyncValidator(c){return xe(this._rawAsyncValidators,c)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(c={}){this.touched=!0,this._parent&&!c.onlySelf&&this._parent.markAsTouched(c)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(c=>c.markAllAsTouched())}markAsUntouched(c={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}markAsDirty(c={}){this.pristine=!1,this._parent&&!c.onlySelf&&this._parent.markAsDirty(c)}markAsPristine(c={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}markAsPending(c={}){this.status=me,!1!==c.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!c.onlySelf&&this._parent.markAsPending(c)}disable(c={}){const n=this._parentMarkedDirty(c.onlySelf);this.status=ie,this.errors=null,this._forEachChild(d=>{d.disable({...c,onlySelf:!0})}),this._updateValue(),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...c,skipPristineCheck:n}),this._onDisabledChange.forEach(d=>d(!0))}enable(c={}){const n=this._parentMarkedDirty(c.onlySelf);this.status=Kr,this._forEachChild(d=>{d.enable({...c,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent}),this._updateAncestors({...c,skipPristineCheck:n}),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(c){this._parent&&!c.onlySelf&&(this._parent.updateValueAndValidity(c),c.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(c){this._parent=c}getRawValue(){return this.value}updateValueAndValidity(c={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kr||this.status===me)&&this._runAsyncValidator(c.emitEvent)),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!c.onlySelf&&this._parent.updateValueAndValidity(c)}_updateTreeValidity(c={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(c)),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ie:Kr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(c){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const n=An(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:c})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(c,n={}){this.errors=c,this._updateControlsErrors(!1!==n.emitEvent)}get(c){let n=c;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((d,m)=>d&&d._find(m),this)}getError(c,n){const d=n?this.get(n):this;return d&&d.errors?d.errors[c]:null}hasError(c,n){return!!this.getError(c,n)}get root(){let c=this;for(;c._parent;)c=c._parent;return c}_updateControlsErrors(c){this.status=this._calculateStatus(),c&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(c)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ie:this.errors?Ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(Ee)?Ee:Kr}_anyControlsHaveStatus(c){return this._anyControls(n=>n.status===c)}_anyControlsDirty(){return this._anyControls(c=>c.dirty)}_anyControlsTouched(){return this._anyControls(c=>c.touched)}_updatePristine(c={}){this.pristine=!this._anyControlsDirty(),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}_updateTouched(c={}){this.touched=this._anyControlsTouched(),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}_registerOnCollectionChange(c){this._onCollectionChange=c}_setUpdateStrategy(c){ge(c)&&null!=c.updateOn&&(this._updateOn=c.updateOn)}_parentMarkedDirty(c){return!c&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(c){return null}_assignValidators(c){this._rawValidators=Array.isArray(c)?c.slice():c,this._composedValidatorFn=function X(s){return Array.isArray(s)?Jn(s):s||null}(this._rawValidators)}_assignAsyncValidators(c){this._rawAsyncValidators=Array.isArray(c)?c.slice():c,this._composedAsyncValidatorFn=function pe(s){return Array.isArray(s)?Mr(s):s||null}(this._rawAsyncValidators)}}class vt extends it{constructor(c,n,d){super(se(n),Se(d,n)),this.controls=c,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(c,n){return this.controls[c]?this.controls[c]:(this.controls[c]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(c,n,d={}){this.registerControl(c,n),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(c,n={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(c,n,d={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],n&&this.registerControl(c,n),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(c){return this.controls.hasOwnProperty(c)&&this.controls[c].enabled}setValue(c,n={}){Pe(this,!0,c),Object.keys(c).forEach(d=>{ce(this,!0,d),this.controls[d].setValue(c[d],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(c,n={}){null!=c&&(Object.keys(c).forEach(d=>{const m=this.controls[d];m&&m.patchValue(c[d],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(c={},n={}){this._forEachChild((d,m)=>{d.reset(c[m],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(c,n,d)=>(c[d]=n.getRawValue(),c))}_syncPendingControls(){let c=this._reduceChildren(!1,(n,d)=>!!d._syncPendingControls()||n);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){Object.keys(this.controls).forEach(n=>{const d=this.controls[n];d&&c(d,n)})}_setUpControls(){this._forEachChild(c=>{c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(c){for(const[n,d]of Object.entries(this.controls))if(this.contains(n)&&c(d))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,d,m)=>((d.enabled||this.disabled)&&(n[m]=d.value),n))}_reduceChildren(c,n){let d=c;return this._forEachChild((m,E)=>{d=n(d,m,E)}),d}_allControlsDisabled(){for(const c of Object.keys(this.controls))if(this.controls[c].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(c){return this.controls.hasOwnProperty(c)?this.controls[c]:null}}class nt extends vt{}const Y=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ae}),ae="always";function Ue(s,c){return[...c.path,s]}function At(s,c,n=ae){rr(s,c),c.valueAccessor.writeValue(s.value),(s.disabled||"always"===n)&&c.valueAccessor.setDisabledState?.(s.disabled),function Dr(s,c){c.valueAccessor.registerOnChange(n=>{s._pendingValue=n,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&io(s,c)})}(s,c),function gs(s,c){const n=(d,m)=>{c.valueAccessor.writeValue(d),m&&c.viewToModelUpdate(d)};s.registerOnChange(n),c._registerOnDestroy(()=>{s._unregisterOnChange(n)})}(s,c),function di(s,c){c.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&io(s,c),"submit"!==s.updateOn&&s.markAsTouched()})}(s,c),function Kt(s,c){if(c.valueAccessor.setDisabledState){const n=d=>{c.valueAccessor.setDisabledState(d)};s.registerOnDisabledChange(n),c._registerOnDestroy(()=>{s._unregisterOnDisabledChange(n)})}}(s,c)}function Wt(s,c,n=!0){const d=()=>{};c.valueAccessor&&(c.valueAccessor.registerOnChange(d),c.valueAccessor.registerOnTouched(d)),Gn(s,c),s&&(c._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function gn(s,c){s.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(c)})}function rr(s,c){const n=br(s);null!==c.validator?s.setValidators(cn(n,c.validator)):"function"==typeof n&&s.setValidators([n]);const d=Lr(s);null!==c.asyncValidator?s.setAsyncValidators(cn(d,c.asyncValidator)):"function"==typeof d&&s.setAsyncValidators([d]);const m=()=>s.updateValueAndValidity();gn(c._rawValidators,m),gn(c._rawAsyncValidators,m)}function Gn(s,c){let n=!1;if(null!==s){if(null!==c.validator){const m=br(s);if(Array.isArray(m)&&m.length>0){const E=m.filter(H=>H!==c.validator);E.length!==m.length&&(n=!0,s.setValidators(E))}}if(null!==c.asyncValidator){const m=Lr(s);if(Array.isArray(m)&&m.length>0){const E=m.filter(H=>H!==c.asyncValidator);E.length!==m.length&&(n=!0,s.setAsyncValidators(E))}}}const d=()=>{};return gn(c._rawValidators,d),gn(c._rawAsyncValidators,d),n}function io(s,c){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),c.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function yi(s,c){rr(s,c)}function Tr(s,c){if(!s.hasOwnProperty("model"))return!1;const n=s.model;return!!n.isFirstChange()||!Object.is(c,n.currentValue)}function Nr(s,c){s._syncPendingControls(),c.forEach(n=>{const d=n.control;"submit"===d.updateOn&&d._pendingChange&&(n.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}function $e(s,c){if(!c)return null;let n,d,m;return Array.isArray(c),c.forEach(E=>{E.constructor===Ge?n=E:function Zi(s){return Object.getPrototypeOf(s.constructor)===mt}(E)?d=E:m=E}),m||d||n||null}const bt={provide:Lt,useExisting:(0,a.Gpc)(()=>Tn)},xt=(()=>Promise.resolve())();let Tn=(()=>{class s extends Lt{constructor(n,d,m){super(),this.callSetDisabledState=m,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new vt({},Jn(n),Mr(d))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xt.then(()=>{const d=this._findContainer(n.path);n.control=d.registerControl(n.name,n.control),At(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xt.then(()=>{const d=this._findContainer(n.path);d&&d.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xt.then(()=>{const d=this._findContainer(n.path),m=new vt({});yi(m,n),d.registerControl(n.name,m),m.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xt.then(()=>{const d=this._findContainer(n.path);d&&d.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,d){xt.then(()=>{this.form.get(n.path).setValue(d)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Nr(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Be,10),a.Y36(Et,10),a.Y36(Y,8))},s.\u0275dir=a.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,d){1&n&&a.NdJ("submit",function(E){return d.onSubmit(E)})("reset",function(){return d.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bt]),a.qOj]}),s})();function fr(s,c){const n=s.indexOf(c);n>-1&&s.splice(n,1)}function $n(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}const ur=class extends it{constructor(c=null,n,d){super(se(n),Se(d,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(c),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=$n(c)?c.value:c)}setValue(c,n={}){this.value=this._pendingValue=c,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(c,n={}){this.setValue(c,n)}reset(c=this.defaultValue,n={}){this._applyFormState(c),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(c){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(c){this._onChange.push(c)}_unregisterOnChange(c){fr(this._onChange,c)}registerOnDisabledChange(c){this._onDisabledChange.push(c)}_unregisterOnDisabledChange(c){fr(this._onDisabledChange,c)}_forEachChild(c){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(c){$n(c)?(this.value=this._pendingValue=c.value,c.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=c}},xo={provide:xn,useExisting:(0,a.Gpc)(()=>wi)},oo=(()=>Promise.resolve())();let wi=(()=>{class s extends xn{constructor(n,d,m,E,H,le){super(),this._changeDetectorRef=H,this.callSetDisabledState=le,this.control=new ur,this._registered=!1,this.update=new a.vpe,this._parent=n,this._setValidators(d),this._setAsyncValidators(m),this.valueAccessor=$e(0,E)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const d=n.name.previousValue;this.formDirective.removeControl({name:d,path:this._getPath(d)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Tr(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){oo.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const d=n.isDisabled.currentValue,m=0!==d&&(0,a.D6c)(d);oo.then(()=>{m&&!this.control.disabled?this.control.disable():!m&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ue(n,this._parent):[n]}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Lt,9),a.Y36(Be,10),a.Y36(Et,10),a.Y36(Dt,10),a.Y36(a.sBO,8),a.Y36(Y,8))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([xo]),a.qOj,a.TTD]}),s})(),la=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=a.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})();const Vi={provide:Dt,useExisting:(0,a.Gpc)(()=>Pi),multi:!0};let Pi=(()=>{class s extends mt{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=d=>{n(""==d?null:parseFloat(d))}}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275dir=a.lG2({type:s,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,d){1&n&&a.NdJ("input",function(E){return d.onChange(E.target.value)})("blur",function(){return d.onTouched()})},features:[a._Bn([Vi]),a.qOj]}),s})(),Li=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})();const Cr=new a.OlP("NgModelWithFormControlWarning"),ua={provide:Lt,useExisting:(0,a.Gpc)(()=>ms)};let ms=(()=>{class s extends Lt{constructor(n,d,m){super(),this.callSetDisabledState=m,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(n),this._setAsyncValidators(d)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const d=this.form.get(n.path);return At(d,n,this.callSetDisabledState),d.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),d}getControl(n){return this.form.get(n.path)}removeControl(n){Wt(n.control||null,n,!1),function Oe(s,c){const n=s.indexOf(c);n>-1&&s.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,d){this.form.get(n.path).setValue(d)}onSubmit(n){return this.submitted=!0,Nr(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const d=n.control,m=this.form.get(n.path);d!==m&&(Wt(d||null,n),(s=>s instanceof ur)(m)&&(At(m,n,this.callSetDisabledState),n.control=m))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const d=this.form.get(n.path);yi(d,n),d.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const d=this.form.get(n.path);d&&function $r(s,c){return Gn(s,c)}(d,n)&&d.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rr(this.form,this),this._oldForm&&Gn(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Be,10),a.Y36(Et,10),a.Y36(Y,8))},s.\u0275dir=a.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(n,d){1&n&&a.NdJ("submit",function(E){return d.onSubmit(E)})("reset",function(){return d.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ua]),a.qOj,a.TTD]}),s})();const Po={provide:xn,useExisting:(0,a.Gpc)(()=>Bi)};let Bi=(()=>{class s extends xn{set isDisabled(n){}constructor(n,d,m,E,H){super(),this._ngModelWarningConfig=H,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(d),this._setAsyncValidators(m),this.valueAccessor=$e(0,E)}ngOnChanges(n){this._added||this._setUpControl(),Tr(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Ue(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return s._ngModelWarningSentOnce=!1,s.\u0275fac=function(n){return new(n||s)(a.Y36(Lt,13),a.Y36(Be,10),a.Y36(Et,10),a.Y36(Dt,10),a.Y36(Cr,8))},s.\u0275dir=a.lG2({type:s,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Po]),a.qOj,a.TTD]}),s})();const Ha={provide:Dt,useExisting:(0,a.Gpc)(()=>$i),multi:!0};function _s(s,c){return null==s?`${c}`:(c&&"object"==typeof c&&(c="Object"),`${s}: ${c}`.slice(0,50))}let $i=(()=>{class s extends mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const m=_s(this._getOptionId(n),n);this.setProperty("value",m)}registerOnChange(n){this.onChange=d=>{this.value=this._getOptionValue(d),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const d of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(d),n))return d;return null}_getOptionValue(n){const d=function ul(s){return s.split(":")[0]}(n);return this._optionMap.has(d)?this._optionMap.get(d):n}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275dir=a.lG2({type:s,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,d){1&n&&a.NdJ("change",function(E){return d.onChange(E.target.value)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Ha]),a.qOj]}),s})(),ts=(()=>{class s{constructor(n,d,m){this._element=n,this._renderer=d,this._select=m,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(_s(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36($i,9))},s.\u0275dir=a.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const Ta={provide:Dt,useExisting:(0,a.Gpc)(()=>ys),multi:!0};function Yi(s,c){return null==s?`${c}`:("string"==typeof c&&(c=`'${c}'`),c&&"object"==typeof c&&(c="Object"),`${s}: ${c}`.slice(0,50))}let ys=(()=>{class s extends mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let d;if(this.value=n,Array.isArray(n)){const m=n.map(E=>this._getOptionId(E));d=(E,H)=>{E._setSelected(m.indexOf(H.toString())>-1)}}else d=(m,E)=>{m._setSelected(!1)};this._optionMap.forEach(d)}registerOnChange(n){this.onChange=d=>{const m=[],E=d.selectedOptions;if(void 0!==E){const H=E;for(let le=0;le<H.length;le++){const Te=this._getOptionValue(H[le].value);m.push(Te)}}else{const H=d.options;for(let le=0;le<H.length;le++){const ue=H[le];if(ue.selected){const Te=this._getOptionValue(ue.value);m.push(Te)}}}this.value=m,n(m)}}_registerOption(n){const d=(this._idCounter++).toString();return this._optionMap.set(d,n),d}_getOptionId(n){for(const d of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(d)._value,n))return d;return null}_getOptionValue(n){const d=function da(s){return s.split(":")[0]}(n);return this._optionMap.has(d)?this._optionMap.get(d)._value:n}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275dir=a.lG2({type:s,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,d){1&n&&a.NdJ("change",function(E){return d.onChange(E.target)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Ta]),a.qOj]}),s})(),Ga=(()=>{class s{constructor(n,d,m){this._element=n,this._renderer=d,this._select=m,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Yi(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Yi(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(ys,9))},s.\u0275dir=a.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})(),Rs=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Li]}),s})();class zn extends it{constructor(c,n,d){super(se(n),Se(d,n)),this.controls=c,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(c){return this.controls[this._adjustIndex(c)]}push(c,n={}){this.controls.push(c),this._registerControl(c),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(c,n,d={}){this.controls.splice(c,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:d.emitEvent})}removeAt(c,n={}){let d=this._adjustIndex(c);d<0&&(d=0),this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),this.controls.splice(d,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(c,n,d={}){let m=this._adjustIndex(c);m<0&&(m=0),this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),this.controls.splice(m,1),n&&(this.controls.splice(m,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(c,n={}){Pe(this,!1,c),c.forEach((d,m)=>{ce(this,!1,m),this.at(m).setValue(d,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(c,n={}){null!=c&&(c.forEach((d,m)=>{this.at(m)&&this.at(m).patchValue(d,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(c=[],n={}){this._forEachChild((d,m)=>{d.reset(c[m],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(c=>c.getRawValue())}clear(c={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:c.emitEvent}))}_adjustIndex(c){return c<0?c+this.length:c}_syncPendingControls(){let c=this.controls.reduce((n,d)=>!!d._syncPendingControls()||n,!1);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){this.controls.forEach((n,d)=>{c(n,d)})}_updateValue(){this.value=this.controls.filter(c=>c.enabled||this.disabled).map(c=>c.value)}_anyControls(c){return this.controls.some(n=>n.enabled&&c(n))}_setUpControls(){this._forEachChild(c=>this._registerControl(c))}_allControlsDisabled(){for(const c of this.controls)if(c.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(c){c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)}_find(c){return this.at(c)??null}}function Ma(s){return!!s&&(void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn)}let xs=(()=>{class s{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new s;return n.useNonNullable=!0,n}group(n,d=null){const m=this._reduceControls(n);let E={};return Ma(d)?E=d:null!==d&&(E.validators=d.validator,E.asyncValidators=d.asyncValidator),new vt(m,E)}record(n,d=null){const m=this._reduceControls(n);return new nt(m,d)}control(n,d,m){let E={};return this.useNonNullable?(Ma(d)?E=d:(E.validators=d,E.asyncValidators=m),new ur(n,{...E,nonNullable:!0})):new ur(n,d,m)}array(n,d,m){const E=n.map(H=>this._createControl(H));return new zn(E,d,m)}_reduceControls(n){const d={};return Object.keys(n).forEach(m=>{d[m]=this._createControl(n[m])}),d}_createControl(n){return n instanceof ur||n instanceof it?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Fl=(()=>{class s{static withConfig(n){return{ngModule:s,providers:[{provide:Y,useValue:n.callSetDisabledState??ae}]}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Rs]}),s})(),ht=(()=>{class s{static withConfig(n){return{ngModule:s,providers:[{provide:Cr,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Y,useValue:n.callSetDisabledState??ae}]}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Rs]}),s})();var Wn=j(9646),zo=j(4351),ki=j(9300);class zr{}class Ps{}class Ji{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?this.lazyInit="string"==typeof c?()=>{this.headers=new Map,c.split("\n").forEach(n=>{const d=n.indexOf(":");if(d>0){const m=n.slice(0,d),E=m.toLowerCase(),H=n.slice(d+1).trim();this.maybeSetNormalizedName(m,E),this.headers.has(E)?this.headers.get(E).push(H):this.headers.set(E,[H])}})}:()=>{this.headers=new Map,Object.entries(c).forEach(([n,d])=>{let m;if(m="string"==typeof d?[d]:"number"==typeof d?[d.toString()]:d.map(E=>E.toString()),m.length>0){const E=n.toLowerCase();this.headers.set(E,m),this.maybeSetNormalizedName(n,E)}})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const n=this.headers.get(c.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,n){return this.clone({name:c,value:n,op:"a"})}set(c,n){return this.clone({name:c,value:n,op:"s"})}delete(c,n){return this.clone({name:c,value:n,op:"d"})}maybeSetNormalizedName(c,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,c)}init(){this.lazyInit&&(this.lazyInit instanceof Ji?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(n=>{this.headers.set(n,c.headers.get(n)),this.normalizedNames.set(n,c.normalizedNames.get(n))})}clone(c){const n=new Ji;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ji?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([c]),n}applyUpdate(c){const n=c.name.toLowerCase();switch(c.op){case"a":case"s":let d=c.value;if("string"==typeof d&&(d=[d]),0===d.length)return;this.maybeSetNormalizedName(c.name,n);const m=("a"===c.op?this.headers.get(n):void 0)||[];m.push(...d),this.headers.set(n,m);break;case"d":const E=c.value;if(E){let H=this.headers.get(n);if(!H)return;H=H.filter(le=>-1===E.indexOf(le)),0===H.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,H)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>c(this.normalizedNames.get(n),this.headers.get(n)))}}class ma{encodeKey(c){return Ds(c)}encodeValue(c){return Ds(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const cl=/%(\d[a-f0-9])/gi,Wo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ds(s){return encodeURIComponent(s).replace(cl,(c,n)=>Wo[n]??c)}function vi(s){return`${s}`}class Xr{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new ma,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wa(s,c){const n=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(m=>{const E=m.indexOf("="),[H,le]=-1==E?[c.decodeKey(m),""]:[c.decodeKey(m.slice(0,E)),c.decodeValue(m.slice(E+1))],ue=n.get(H)||[];ue.push(le),n.set(H,ue)}),n}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(n=>{const d=c.fromObject[n],m=Array.isArray(d)?d.map(vi):[vi(d)];this.map.set(n,m)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const n=this.map.get(c);return n?n[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,n){return this.clone({param:c,value:n,op:"a"})}appendAll(c){const n=[];return Object.keys(c).forEach(d=>{const m=c[d];Array.isArray(m)?m.forEach(E=>{n.push({param:d,value:E,op:"a"})}):n.push({param:d,value:m,op:"a"})}),this.clone(n)}set(c,n){return this.clone({param:c,value:n,op:"s"})}delete(c,n){return this.clone({param:c,value:n,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const n=this.encoder.encodeKey(c);return this.map.get(c).map(d=>n+"="+this.encoder.encodeValue(d)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const n=new Xr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(c),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const n=("a"===c.op?this.map.get(c.param):void 0)||[];n.push(vi(c.value)),this.map.set(c.param,n);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let d=this.map.get(c.param)||[];const m=d.indexOf(vi(c.value));-1!==m&&d.splice(m,1),d.length>0?this.map.set(c.param,d):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class ko{constructor(){this.map=new Map}set(c,n){return this.map.set(c,n),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Fs(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function ao(s){return typeof Blob<"u"&&s instanceof Blob}function Qi(s){return typeof FormData<"u"&&s instanceof FormData}class si{constructor(c,n,d,m){let E;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function Co(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||m?(this.body=void 0!==d?d:null,E=m):E=d,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params)),this.headers||(this.headers=new Ji),this.context||(this.context=new ko),this.params){const H=this.params.toString();if(0===H.length)this.urlWithParams=n;else{const le=n.indexOf("?");this.urlWithParams=n+(-1===le?"?":le<n.length-1?"&":"")+H}}else this.params=new Xr,this.urlWithParams=n}serializeBody(){return null===this.body?null:Fs(this.body)||ao(this.body)||Qi(this.body)||function su(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qi(this.body)?null:ao(this.body)?this.body.type||null:Fs(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const n=c.method||this.method,d=c.url||this.url,m=c.responseType||this.responseType,E=void 0!==c.body?c.body:this.body,H=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,le=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let ue=c.headers||this.headers,Te=c.params||this.params;const We=c.context??this.context;return void 0!==c.setHeaders&&(ue=Object.keys(c.setHeaders).reduce((Gt,Ot)=>Gt.set(Ot,c.setHeaders[Ot]),ue)),c.setParams&&(Te=Object.keys(c.setParams).reduce((Gt,Ot)=>Gt.set(Ot,c.setParams[Ot]),Te)),new si(n,d,E,{params:Te,headers:ue,context:We,reportProgress:le,responseType:m,withCredentials:H})}}var Yr=(()=>((Yr=Yr||{})[Yr.Sent=0]="Sent",Yr[Yr.UploadProgress=1]="UploadProgress",Yr[Yr.ResponseHeader=2]="ResponseHeader",Yr[Yr.DownloadProgress=3]="DownloadProgress",Yr[Yr.Response=4]="Response",Yr[Yr.User=5]="User",Yr))();class os{constructor(c,n=200,d="OK"){this.headers=c.headers||new Ji,this.status=void 0!==c.status?c.status:n,this.statusText=c.statusText||d,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class Xi extends os{constructor(c={}){super(c),this.type=Yr.ResponseHeader}clone(c={}){return new Xi({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class ss extends os{constructor(c={}){super(c),this.type=Yr.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new ss({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Rr extends os{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function qo(s,c){return{body:c,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Cs=(()=>{class s{constructor(n){this.handler=n}request(n,d,m={}){let E;if(n instanceof si)E=n;else{let ue,Te;ue=m.headers instanceof Ji?m.headers:new Ji(m.headers),m.params&&(Te=m.params instanceof Xr?m.params:new Xr({fromObject:m.params})),E=new si(n,d,void 0!==m.body?m.body:null,{headers:ue,context:m.context,params:Te,reportProgress:m.reportProgress,responseType:m.responseType||"json",withCredentials:m.withCredentials})}const H=(0,Wn.of)(E).pipe((0,zo.b)(ue=>this.handler.handle(ue)));if(n instanceof si||"events"===m.observe)return H;const le=H.pipe((0,ki.h)(ue=>ue instanceof ss));switch(m.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return le.pipe((0,Qe.U)(ue=>{if(null!==ue.body&&!(ue.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ue.body}));case"blob":return le.pipe((0,Qe.U)(ue=>{if(null!==ue.body&&!(ue.body instanceof Blob))throw new Error("Response is not a Blob.");return ue.body}));case"text":return le.pipe((0,Qe.U)(ue=>{if(null!==ue.body&&"string"!=typeof ue.body)throw new Error("Response is not a string.");return ue.body}));default:return le.pipe((0,Qe.U)(ue=>ue.body))}case"response":return le;default:throw new Error(`Unreachable: unhandled observe type ${m.observe}}`)}}delete(n,d={}){return this.request("DELETE",n,d)}get(n,d={}){return this.request("GET",n,d)}head(n,d={}){return this.request("HEAD",n,d)}jsonp(n,d){return this.request("JSONP",n,{params:(new Xr).append(d,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,d={}){return this.request("OPTIONS",n,d)}patch(n,d,m={}){return this.request("PATCH",n,qo(m,d))}post(n,d,m={}){return this.request("POST",n,qo(m,d))}put(n,d,m={}){return this.request("PUT",n,qo(m,d))}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(zr))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();function Mi(s,c){return c(s)}function Ra(s,c){return(n,d)=>c.intercept(n,{handle:m=>s(m,d)})}const Eo=new a.OlP("HTTP_INTERCEPTORS"),as=new a.OlP("HTTP_INTERCEPTOR_FNS");function dl(){let s=null;return(c,n)=>(null===s&&(s=((0,a.f3M)(Eo,{optional:!0})??[]).reduceRight(Ra,Mi)),s(c,n))}let ai=(()=>{class s extends zr{constructor(n,d){super(),this.backend=n,this.injector=d,this.chain=null}handle(n){if(null===this.chain){const d=Array.from(new Set(this.injector.get(as)));this.chain=d.reduceRight((m,E)=>function _a(s,c,n){return(d,m)=>n.runInContext(()=>c(d,E=>s(E,m)))}(m,E,this.injector),Mi)}return this.chain(n,d=>this.backend.handle(d))}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Ps),a.LFG(a.lqb))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();const k=/^\)\]\}',?\n/;let B=(()=>{class s{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ye.y(d=>{const m=this.xhrFactory.build();if(m.open(n.method,n.urlWithParams),n.withCredentials&&(m.withCredentials=!0),n.headers.forEach((Ft,bn)=>m.setRequestHeader(Ft,bn.join(","))),n.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Ft=n.detectContentTypeHeader();null!==Ft&&m.setRequestHeader("Content-Type",Ft)}if(n.responseType){const Ft=n.responseType.toLowerCase();m.responseType="json"!==Ft?Ft:"text"}const E=n.serializeBody();let H=null;const le=()=>{if(null!==H)return H;const Ft=m.statusText||"OK",bn=new Ji(m.getAllResponseHeaders()),Sn=function G(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(m)||n.url;return H=new Xi({headers:bn,status:m.status,statusText:Ft,url:Sn}),H},ue=()=>{let{headers:Ft,status:bn,statusText:Sn,url:kn}=le(),Kn=null;204!==bn&&(Kn=typeof m.response>"u"?m.responseText:m.response),0===bn&&(bn=Kn?200:0);let mr=bn>=200&&bn<300;if("json"===n.responseType&&"string"==typeof Kn){const Hr=Kn;Kn=Kn.replace(k,"");try{Kn=""!==Kn?JSON.parse(Kn):null}catch(Hn){Kn=Hr,mr&&(mr=!1,Kn={error:Hn,text:Kn})}}mr?(d.next(new ss({body:Kn,headers:Ft,status:bn,statusText:Sn,url:kn||void 0})),d.complete()):d.error(new Rr({error:Kn,headers:Ft,status:bn,statusText:Sn,url:kn||void 0}))},Te=Ft=>{const{url:bn}=le(),Sn=new Rr({error:Ft,status:m.status||0,statusText:m.statusText||"Unknown Error",url:bn||void 0});d.error(Sn)};let We=!1;const Gt=Ft=>{We||(d.next(le()),We=!0);let bn={type:Yr.DownloadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(bn.total=Ft.total),"text"===n.responseType&&m.responseText&&(bn.partialText=m.responseText),d.next(bn)},Ot=Ft=>{let bn={type:Yr.UploadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(bn.total=Ft.total),d.next(bn)};return m.addEventListener("load",ue),m.addEventListener("error",Te),m.addEventListener("timeout",Te),m.addEventListener("abort",Te),n.reportProgress&&(m.addEventListener("progress",Gt),null!==E&&m.upload&&m.upload.addEventListener("progress",Ot)),m.send(E),d.next({type:Yr.Sent}),()=>{m.removeEventListener("error",Te),m.removeEventListener("abort",Te),m.removeEventListener("load",ue),m.removeEventListener("timeout",Te),n.reportProgress&&(m.removeEventListener("progress",Gt),null!==E&&m.upload&&m.upload.removeEventListener("progress",Ot)),m.readyState!==m.DONE&&m.abort()}})}}return s.\u0275fac=function(n){return new(n||s)(a.LFG($.JF))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();const ee=new a.OlP("XSRF_ENABLED"),ut=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),O=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class q{}let de=(()=>{class s{constructor(n,d,m){this.doc=n,this.platform=d,this.cookieName=m,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,$.Mx)(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return s.\u0275fac=function(n){return new(n||s)(a.LFG($.K0),a.LFG(a.Lbi),a.LFG(ut))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();function Xe(s,c){const n=s.url.toLowerCase();if(!(0,a.f3M)(ee)||"GET"===s.method||"HEAD"===s.method||n.startsWith("http://")||n.startsWith("https://"))return c(s);const d=(0,a.f3M)(q).getToken(),m=(0,a.f3M)(O);return null!=d&&!s.headers.has(m)&&(s=s.clone({headers:s.headers.set(m,d)})),c(s)}var Dn=(()=>((Dn=Dn||{})[Dn.Interceptors=0]="Interceptors",Dn[Dn.LegacyInterceptors=1]="LegacyInterceptors",Dn[Dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dn[Dn.NoXsrfProtection=3]="NoXsrfProtection",Dn[Dn.JsonpSupport=4]="JsonpSupport",Dn[Dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dn))();function jn(s,c){return{\u0275kind:s,\u0275providers:c}}function gt(...s){const c=[Cs,B,ai,{provide:zr,useExisting:ai},{provide:Ps,useExisting:B},{provide:as,useValue:Xe,multi:!0},{provide:ee,useValue:!0},{provide:q,useClass:de}];for(const n of s)c.push(...n.\u0275providers);return(0,a.MR2)(c)}const Jr=new a.OlP("LEGACY_INTERCEPTOR_FN");let Vt=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[gt(jn(Dn.LegacyInterceptors,[{provide:Jr,useFactory:dl},{provide:as,useExisting:Jr,multi:!0}]))]}),s})();var To=j(5861),Ec=j(8746),ls=j(8314),Eu=j(4986),Bl=j(4482),Iu=j(3900),jr=j(4976),Ni=j(2011),Tu=j(3942),Yn=j(6881),eo=j(2090),Au=j(4859);const ui="firebasestorage.googleapis.com",hn="storageBucket";class tr extends eo.ZR{constructor(c,n,d=0){super(Qs(c),`Firebase Storage: ${n} (${Qs(c)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(c){this.status_=c}_codeEquals(c){return Qs(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pt=(()=>{return(s=Pt||(Pt={})).UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Pt;var s})();function Qs(s){return"storage/"+s}function Ls(){return new tr(Pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gl(){return new tr(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ml(){return new tr(Pt.CANCELED,"User canceled the upload/download.")}function Pa(){return new tr(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ea(s){return new tr(Pt.INVALID_ARGUMENT,s)}function Bs(){return new tr(Pt.APP_DELETED,"The Firebase app was deleted.")}function ud(s){return new tr(Pt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ka(s,c){return new tr(Pt.INVALID_FORMAT,"String does not match format '"+s+"': "+c)}function Ao(s){throw new tr(Pt.INTERNAL_ERROR,"Internal error: "+s)}class us{constructor(c,n){this.bucket=c,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,n){let d;try{d=us.makeFromUrl(c,n)}catch{return new us(c,"")}if(""===d.path)return d;throw function Ul(s){return new tr(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}(c)}static makeFromUrl(c,n){let d=null;const m="([A-Za-z0-9.\\-_]+)",le=new RegExp("^gs://"+m+"(/(.*))?$","i");function Te(Hn){Hn.path_=decodeURIComponent(Hn.path)}const Gt=n.replace(/[.]/g,"\\."),Hr=[{regex:le,indices:{bucket:1,path:3},postModify:function E(Hn){"/"===Hn.path.charAt(Hn.path.length-1)&&(Hn.path_=Hn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gt}/v[A-Za-z0-9_]+/b/${m}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Te},{regex:new RegExp(`^https?://${n===ui?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${m}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Te}];for(let Hn=0;Hn<Hr.length;Hn++){const qr=Hr[Hn],Zr=qr.regex.exec(c);if(Zr){let Ii=Zr[qr.indices.path];Ii||(Ii=""),d=new us(Zr[qr.indices.bucket],Ii),qr.postModify(d);break}}if(null==d)throw function co(s){return new tr(Pt.INVALID_URL,"Invalid URL '"+s+"'.")}(c);return d}}class yl{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function Us(s){return"string"==typeof s||s instanceof String}function Xa(s){return Mo()&&s instanceof Blob}function Mo(){return typeof Blob<"u"&&!(0,eo.UG)()}function gi(s,c,n,d){if(d<c)throw ea(`Invalid value for '${s}'. Expected ${c} or greater.`);if(d>n)throw ea(`Invalid value for '${s}'. Expected ${n} or less.`)}function Vs(s,c,n){let d=c;return null==n&&(d=`https://${c}`),`${n}://${d}/v0${s}`}function vl(s){const c=encodeURIComponent;let n="?";for(const d in s)s.hasOwnProperty(d)&&(n=n+(c(d)+"=")+c(s[d])+"&");return n=n.slice(0,-1),n}var I=(()=>{return(s=I||(I={}))[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT",I;var s})();function S(s,c){const n=s>=500&&s<600,m=-1!==[408,429].indexOf(s),E=-1!==c.indexOf(s);return n||m||E}class w{constructor(c,n,d,m,E,H,le,ue,Te,We,Gt,Ot=!0){this.url_=c,this.method_=n,this.headers_=d,this.body_=m,this.successCodes_=E,this.additionalRetryCodes_=H,this.callback_=le,this.errorCallback_=ue,this.timeout_=Te,this.progressCallback_=We,this.connectionFactory_=Gt,this.retry=Ot,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ft,bn)=>{this.resolve_=Ft,this.reject_=bn,this.start_()})}start_(){const n=(d,m)=>{const E=this.resolve_,H=this.reject_,le=m.connection;if(m.wasSuccessCode)try{const ue=this.callback_(le,le.getResponse());!function Tc(s){return void 0!==s}(ue)?E():E(ue)}catch(ue){H(ue)}else if(null!==le){const ue=Ls();ue.serverResponse=le.getErrorText(),H(this.errorCallback_?this.errorCallback_(le,ue):ue)}else H(m.canceled?this.appDelete_?Bs():ml():gl())};this.canceled_?n(0,new P(!1,null,!0)):this.backoffId_=function Qa(s,c,n){let d=1,m=null,E=null,H=!1,le=0;function ue(){return 2===le}let Te=!1;function We(...kn){Te||(Te=!0,c.apply(null,kn))}function Gt(kn){m=setTimeout(()=>{m=null,s(Ft,ue())},kn)}function Ot(){E&&clearTimeout(E)}function Ft(kn,...Kn){if(Te)return void Ot();if(kn)return Ot(),void We.call(null,kn,...Kn);if(ue()||H)return Ot(),void We.call(null,kn,...Kn);let Hr;d<64&&(d*=2),1===le?(le=2,Hr=0):Hr=1e3*(d+Math.random()),Gt(Hr)}let bn=!1;function Sn(kn){bn||(bn=!0,Ot(),!Te&&(null!==m?(kn||(le=2),clearTimeout(m),Gt(0)):kn||(le=1)))}return Gt(0),E=setTimeout(()=>{H=!0,Sn(!0)},n),Sn}((d,m)=>{if(m)return void d(!1,new P(!1,null,!0));const E=this.connectionFactory_();this.pendingConnection_=E;const H=le=>{null!==this.progressCallback_&&this.progressCallback_(le.loaded,le.lengthComputable?le.total:-1)};null!==this.progressCallback_&&E.addUploadProgressListener(H),E.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&E.removeUploadProgressListener(H),this.pendingConnection_=null;const le=E.getErrorCode()===I.NO_ERROR,ue=E.getStatus();if(!le||S(ue,this.additionalRetryCodes_)&&this.retry){const We=E.getErrorCode()===I.ABORT;return void d(!1,new P(!1,null,We))}const Te=-1!==this.successCodes_.indexOf(ue);d(!0,new P(Te,E))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function Ic(s){s(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class P{constructor(c,n,d){this.wasSuccessCode=c,this.connection=n,this.canceled=!!d}}function dn(...s){const c=function mn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==c){const n=new c;for(let d=0;d<s.length;d++)n.append(s[d]);return n.getBlob()}if(Mo())return new Blob(s);throw new tr(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Is{constructor(c,n){this.data=c,this.contentType=n||null}}function va(s,c){switch(s){case Ei.RAW:return new Is(Ri(c));case Ei.BASE64:case Ei.BASE64URL:return new Is(au(s,c));case Ei.DATA_URL:return new Is(function Kd(s){const c=new Fa(s);return c.base64?au(Ei.BASE64,c.rest):function bl(s){let c;try{c=decodeURIComponent(s)}catch{throw ka(Ei.DATA_URL,"Malformed data URL.")}return Ri(c)}(c.rest)}(c),function lu(s){return new Fa(s).contentType}(c))}throw Ls()}function Ri(s){const c=[];for(let n=0;n<s.length;n++){let d=s.charCodeAt(n);d<=127?c.push(d):d<=2047?c.push(192|d>>6,128|63&d):55296==(64512&d)?n<s.length-1&&56320==(64512&s.charCodeAt(n+1))?(d=65536|(1023&d)<<10|1023&s.charCodeAt(++n),c.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):c.push(239,191,189):56320==(64512&d)?c.push(239,191,189):c.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(c)}function au(s,c){switch(s){case Ei.BASE64:{const m=-1!==c.indexOf("-"),E=-1!==c.indexOf("_");if(m||E)throw ka(s,"Invalid character '"+(m?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const m=-1!==c.indexOf("+"),E=-1!==c.indexOf("/");if(m||E)throw ka(s,"Invalid character '"+(m?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function to(s){if(typeof atob>"u")throw function Ke(s){return new tr(Pt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(s)}(c)}catch(m){throw m.message.includes("polyfill")?m:ka(s,"Invalid character found")}const d=new Uint8Array(n.length);for(let m=0;m<n.length;m++)d[m]=n.charCodeAt(m);return d}class Fa{constructor(c){this.base64=!1,this.contentType=null;const n=c.match(/^data:([^,]+)?,/);if(null===n)throw ka(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=n[1]||null;null!=d&&(this.base64=function Ac(s,c){return s.length>=c.length&&s.substring(s.length-c.length)===c}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=c.substring(c.indexOf(",")+1)}}class La{constructor(c,n){let d=0,m="";Xa(c)?(this.data_=c,d=c.size,m=c.type):c instanceof ArrayBuffer?(n?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),d=this.data_.length):c instanceof Uint8Array&&(n?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),d=c.length),this.size_=d,this.type_=m}size(){return this.size_}type(){return this.type_}slice(c,n){if(Xa(this.data_)){const m=function Qr(s,c,n){return s.webkitSlice?s.webkitSlice(c,n):s.mozSlice?s.mozSlice(c,n):s.slice?s.slice(c,n):null}(this.data_,c,n);return null===m?null:new La(m)}{const d=new Uint8Array(this.data_.buffer,c,n-c);return new La(d,!0)}}static getBlob(...c){if(Mo()){const n=c.map(d=>d instanceof La?d.data_:d);return new La(dn.apply(null,n))}{const n=c.map(H=>Us(H)?va(Ei.RAW,H).data:H.data_);let d=0;n.forEach(H=>{d+=H.byteLength});const m=new Uint8Array(d);let E=0;return n.forEach(H=>{for(let le=0;le<H.length;le++)m[E++]=H[le]}),new La(m,!0)}}uploadData(){return this.data_}}function Ts(s){let c;try{c=JSON.parse(s)}catch{return null}return function So(s){return"object"==typeof s&&!Array.isArray(s)}(c)?c:null}function ta(s){const c=s.lastIndexOf("/",s.length-2);return-1===c?s:s.slice(c+1)}function cd(s,c){return c}class gr{constructor(c,n,d,m){this.server=c,this.local=n||c,this.writable=!!d,this.xform=m||cd}}let el=null;function mi(){if(el)return el;const s=[];s.push(new gr("bucket")),s.push(new gr("generation")),s.push(new gr("metageneration")),s.push(new gr("name","fullPath",!0));const n=new gr("name");n.xform=function c(E,H){return function Ko(s){return!Us(s)||s.length<2?s:ta(s)}(H)},s.push(n);const m=new gr("size");return m.xform=function d(E,H){return void 0!==H?Number(H):H},s.push(m),s.push(new gr("timeCreated")),s.push(new gr("updated")),s.push(new gr("md5Hash",null,!0)),s.push(new gr("cacheControl",null,!0)),s.push(new gr("contentDisposition",null,!0)),s.push(new gr("contentEncoding",null,!0)),s.push(new gr("contentLanguage",null,!0)),s.push(new gr("contentType",null,!0)),s.push(new gr("metadata","customMetadata",!0)),el=s,el}function As(s,c,n){const d=Ts(c);return null===d?null:function uu(s,c,n){const d={type:"file"},m=n.length;for(let E=0;E<m;E++){const H=n[E];d[H.local]=H.xform(d,c[H.server])}return function dd(s,c){Object.defineProperty(s,"ref",{get:function n(){const E=new us(s.bucket,s.fullPath);return c._makeStorageReference(E)}})}(d,s),d}(s,d,n)}function hd(s,c){const n={},d=c.length;for(let m=0;m<d;m++){const E=c[m];E.writable&&(n[E.server]=s[E.local])}return JSON.stringify(n)}const fo="prefixes",cu="items";class po{constructor(c,n,d,m){this.url=c,this.method=n,this.handler=d,this.timeout=m,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ba(s){if(!s)throw Ls()}function Ba(s,c){return function n(d,m){const E=As(s,m,c);return ba(null!==E),E}}function Ss(s){return function c(n,d){let m;return m=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Ya(){return new tr(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xs(){return new tr(Pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Ka(s){return new tr(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(s.bucket):403===n.getStatus()?function Ja(s){return new tr(Pt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}(s.path):d,m.status=n.getStatus(),m.serverResponse=d.serverResponse,m}}function cs(s){const c=Ss(s);return function n(d,m){let E=c(d,m);return 404===d.getStatus()&&(E=function Za(s){return new tr(Pt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}(s.path)),E.serverResponse=m.serverResponse,E}}function Nu(s,c,n){const m=Vs(c.fullServerUrl(),s.host,s._protocol),H=s.maxOperationRetryTime,le=new po(m,"GET",Ba(s,n),H);return le.errorHandler=cs(c),le}function tl(s,c,n,d,m){const E={};E.prefix=c.isRoot?"":c.path+"/",n&&n.length>0&&(E.delimiter=n),d&&(E.pageToken=d),m&&(E.maxResults=m);const le=Vs(c.bucketOnlyServerUrl(),s.host,s._protocol),Te=s.maxOperationRetryTime,We=new po(le,"GET",function Mu(s,c){return function n(d,m){const E=function Gi(s,c,n){const d=Ts(n);return null===d?null:function wl(s,c,n){const d={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[fo])for(const m of n[fo]){const E=m.replace(/\/$/,""),H=s._makeStorageReference(new us(c,E));d.prefixes.push(H)}if(n[cu])for(const m of n[cu]){const E=s._makeStorageReference(new us(c,m.name));d.items.push(E)}return d}(s,c,d)}(s,c,m);return ba(null!==E),E}}(s,c.bucket),Te);return We.urlParams=E,We.errorHandler=Ss(c),We}function Jd(s,c,n){const d=Object.assign({},n);return d.fullPath=s.path,d.size=c.size(),d.contentType||(d.contentType=function Cl(s,c){return s&&s.contentType||c&&c.type()||"application/octet-stream"}(null,c)),d}class nl{constructor(c,n,d,m){this.current=c,this.total=n,this.finalized=!!d,this.metadata=m||null}}function El(s,c){let n=null;try{n=s.getResponseHeader("X-Goog-Upload-Status")}catch{ba(!1)}return ba(!!n&&-1!==(c||["active"]).indexOf(n)),n}const jl={STATE_CHANGED:"state_changed"},zi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fd(s){switch(s){case"running":case"pausing":case"canceling":return zi.RUNNING;case"paused":return zi.PAUSED;case"success":return zi.SUCCESS;case"canceled":return zi.CANCELED;default:return zi.ERROR}}class Hl{constructor(c,n,d){if(function Hi(s){return"function"==typeof s}(c)||null!=n||null!=d)this.next=c,this.error=n??void 0,this.complete=d??void 0;else{const E=c;this.next=E.next,this.error=E.error,this.complete=E.complete}}}function Il(s){return(...c)=>{Promise.resolve().then(()=>s(...c))}}let Qd=null;class Fo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=I.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=I.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=I.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,n,d,m){if(this.sent_)throw Ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,c,!0),void 0!==m)for(const E in m)m.hasOwnProperty(E)&&this.xhr_.setRequestHeader(E,m[E].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}class Xd extends Fo{initXhr(){this.xhr_.responseType="text"}}function Wr(){return Qd?Qd():new Xd}class fe{constructor(c,n,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=n,this._metadata=d,this._mappings=mi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=m=>{if(this._request=void 0,this._chunkMultiplier=1,m._codeEquals(Pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const E=this.isExponentialBackoffExpired();if(S(m.status,[])){if(!E)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();m=gl()}this._error=m,this._transition("error")}},this._metadataErrorHandler=m=>{this._request=void 0,m._codeEquals(Pt.CANCELED)?this.completeTransitions_():(this._error=m,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((m,E)=>{this._resolve=m,this._reject=E,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const c=this._transferred;return n=>this._updateProgress(c+n)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,d])=>{switch(this._state){case"running":c(n,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,n)=>{const d=function Ru(s,c,n,d,m){const E=c.bucketOnlyServerUrl(),H=Jd(c,d,m),le={name:H.fullPath},ue=Vs(E,s.host,s._protocol),We={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":H.contentType,"Content-Type":"application/json; charset=utf-8"},Gt=hd(H,n),bn=new po(ue,"POST",function Ft(Sn){let kn;El(Sn);try{kn=Sn.getResponseHeader("X-Goog-Upload-URL")}catch{ba(!1)}return ba(Us(kn)),kn},s.maxUploadRetryTime);return bn.urlParams=le,bn.headers=We,bn.body=Gt,bn.errorHandler=Ss(c),bn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),m=this._ref.storage._makeRequest(d,Wr,c,n);this._request=m,m.getPromise().then(E=>{this._request=void 0,this._uploadUrl=E,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((n,d)=>{const m=function $l(s,c,n,d){const ue=new po(n,"POST",function E(Te){const We=El(Te,["active","final"]);let Gt=null;try{Gt=Te.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ba(!1)}Gt||ba(!1);const Ot=Number(Gt);return ba(!isNaN(Ot)),new nl(Ot,d.size(),"final"===We)},s.maxUploadRetryTime);return ue.headers={"X-Goog-Upload-Command":"query"},ue.errorHandler=Ss(c),ue}(this._ref.storage,this._ref._location,c,this._blob),E=this._ref.storage._makeRequest(m,Wr,n,d);this._request=E,E.getPromise().then(H=>{this._request=void 0,this._updateProgress(H.current),this._needToFetchStatus=!1,H.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,n=new nl(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((m,E)=>{let H;try{H=function na(s,c,n,d,m,E,H,le){const ue=new nl(0,0);if(H?(ue.current=H.current,ue.total=H.total):(ue.current=0,ue.total=d.size()),d.size()!==ue.total)throw function _l(){return new tr(Pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Te=ue.total-ue.current;let We=Te;m>0&&(We=Math.min(We,m));const Gt=ue.current;let Ft="";Ft=0===We?"finalize":Te===We?"upload, finalize":"upload";const bn={"X-Goog-Upload-Command":Ft,"X-Goog-Upload-Offset":`${ue.current}`},Sn=d.slice(Gt,Gt+We);if(null===Sn)throw Pa();const Hr=new po(n,"POST",function kn(Hn,qr){const Zr=El(Hn,["active","final"]),Fi=ue.current+We,Ii=d.size();let bi;return bi="final"===Zr?Ba(c,E)(Hn,qr):null,new nl(Fi,Ii,"final"===Zr,bi)},c.maxUploadRetryTime);return Hr.headers=bn,Hr.body=Sn.uploadData(),Hr.progressCallback=le||null,Hr.errorHandler=Ss(s),Hr}(this._ref._location,this._ref.storage,d,this._blob,c,this._mappings,n,this._makeProgressCallback())}catch(ue){return this._error=ue,void this._transition("error")}const le=this._ref.storage._makeRequest(H,Wr,m,E,!1);this._request=le,le.getPromise().then(ue=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ue.current),ue.finalized?(this._metadata=ue.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,n)=>{const d=Nu(this._ref.storage,this._ref._location,this._mappings),m=this._ref.storage._makeRequest(d,Wr,c,n);this._request=m,m.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,n)=>{const d=function Nc(s,c,n,d,m){const E=c.bucketOnlyServerUrl(),H={"X-Goog-Upload-Protocol":"multipart"},ue=function le(){let Hr="";for(let Hn=0;Hn<2;Hn++)Hr+=Math.random().toString().slice(2);return Hr}();H["Content-Type"]="multipart/related; boundary="+ue;const Te=Jd(c,d,m),We=hd(Te,n),Ft=La.getBlob("--"+ue+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+We+"\r\n--"+ue+"\r\nContent-Type: "+Te.contentType+"\r\n\r\n",d,"\r\n--"+ue+"--");if(null===Ft)throw Pa();const bn={name:Te.fullPath},Sn=Vs(E,s.host,s._protocol),Kn=s.maxUploadRetryTime,mr=new po(Sn,"POST",Ba(s,n),Kn);return mr.urlParams=bn,mr.headers=H,mr.body=Ft.uploadData(),mr.errorHandler=Ss(c),mr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),m=this._ref.storage._makeRequest(d,Wr,c,n);this._request=m,m.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const n=this._transferred;this._transferred=c,this._transferred!==n&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=c,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=ml(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=fd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,n,d,m){const E=new Hl(n||void 0,d||void 0,m||void 0);return this._addObserver(E),()=>{this._removeObserver(E)}}then(c,n){return this._promise.then(c,n)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const n=this._observers.indexOf(c);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(fd(this._state)){case zi.SUCCESS:Il(this._resolve.bind(null,this.snapshot))();break;case zi.CANCELED:case zi.ERROR:Il(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(fd(this._state)){case zi.RUNNING:case zi.PAUSED:c.next&&Il(c.next.bind(c,this.snapshot))();break;case zi.SUCCESS:c.complete&&Il(c.complete.bind(c))();break;default:c.error&&Il(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class Re{constructor(c,n){this._service=c,this._location=n instanceof us?n:us.makeFromUrl(n,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,n){return new Re(c,n)}get root(){const c=new us(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ta(this._location.path)}get storage(){return this._service}get parent(){const c=function ho(s){if(0===s.length)return null;const c=s.lastIndexOf("/");return-1===c?"":s.slice(0,c)}(this._location.path);if(null===c)return null;const n=new us(this._location.bucket,c);return new Re(this._service,n)}_throwIfRoot(c){if(""===this._location.path)throw ud(c)}}function cr(s,c,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,To.Z)(function*(s,c,n){const m=yield No(s,{pageToken:n});c.prefixes.push(...m.prefixes),c.items.push(...m.items),null!=m.nextPageToken&&(yield cr(s,c,m.nextPageToken))})).apply(this,arguments)}function No(s,c){null!=c&&"number"==typeof c.maxResults&&gi("options.maxResults",1,1e3,c.maxResults);const n=c||{},d=tl(s.storage,s._location,"/",n.pageToken,n.maxResults);return s.storage.makeRequestWithTokens(d,Wr)}function xu(s){s._throwIfRoot("getDownloadURL");const c=function du(s,c,n){const m=Vs(c.fullServerUrl(),s.host,s._protocol),H=s.maxOperationRetryTime,le=new po(m,"GET",function Ku(s,c){return function n(d,m){const E=As(s,m,c);return ba(null!==E),function Sc(s,c,n,d){const m=Ts(c);if(null===m||!Us(m.downloadTokens))return null;const E=m.downloadTokens;if(0===E.length)return null;const H=encodeURIComponent;return E.split(",").map(Te=>{const Gt=s.fullPath;return Vs("/b/"+H(s.bucket)+"/o/"+H(Gt),n,d)+vl({alt:"media",token:Te})})[0]}(E,m,s.host,s._protocol)}}(s,n),H);return le.errorHandler=cs(c),le}(s.storage,s._location,mi());return s.storage.makeRequestWithTokens(c,Wr).then(n=>{if(null===n)throw function Zu(){return new tr(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function $s(s,c){const n=function Yd(s,c){const n=c.split("/").filter(d=>d.length>0).join("/");return 0===s.length?n:s+"/"+n}(s._location.path,c),d=new us(s._location.bucket,n);return new Re(s.storage,d)}function th(s,c){if(s instanceof Tl){const n=s;if(null==n._bucket)throw function Vl(){return new tr(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hn+"' property when initializing the app?")}();const d=new Re(n,n._bucket);return null!=c?th(d,c):d}return void 0!==c?$s(s,c):s}function tp(s,c){if(c&&function eh(s){return/^[A-Za-z]+:\/\//.test(s)}(c)){if(s instanceof Tl)return function gd(s,c){return new Re(s,c)}(s,c);throw ea("To use ref(service, url), the first argument must be a Storage instance.")}return th(s,c)}function Yu(s,c){const n=c?.[hn];return null==n?null:us.makeFromBucketSpec(n,s)}class Tl{constructor(c,n,d,m,E){this.app=c,this._authProvider=n,this._appCheckProvider=d,this._url=m,this._firebaseVersion=E,this._bucket=null,this._host=ui,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=m?us.makeFromBucketSpec(m,this._host):Yu(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?us.makeFromBucketSpec(this._url,c):Yu(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){gi("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){gi("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,To.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const n=c._authProvider.getImmediate({optional:!0});if(n){const d=yield n.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,To.Z)(function*(){const n=c._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new Re(this,c)}_makeRequest(c,n,d,m,E=!0){if(this._deleted)return new yl(Bs());{const H=function Nt(s,c,n,d,m,E,H=!0){const le=vl(s.urlParams),ue=s.url+le,Te=Object.assign({},s.headers);return function oe(s,c){c&&(s["X-Firebase-GMPID"]=c)}(Te,c),function V(s,c){null!==c&&c.length>0&&(s.Authorization="Firebase "+c)}(Te,n),function J(s,c){s["X-Firebase-Storage-Version"]="webjs/"+(c??"AppManager")}(Te,E),function Ze(s,c){null!==c&&(s["X-Firebase-AppCheck"]=c)}(Te,d),new w(ue,s.method,Te,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,m,H)}(c,this._appId,d,m,n,this._firebaseVersion,E);return this._requests.add(H),H.getPromise().then(()=>this._requests.delete(H),()=>this._requests.delete(H)),H}}makeRequestWithTokens(c,n){var d=this;return(0,To.Z)(function*(){const[m,E]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(c,n,m,E).getPromise()})()}}const Al="@firebase/storage";function re(s,c){return tp(s=(0,eo.m9)(s),c)}function vr(s,{instanceIdentifier:c}){const n=s.getProvider("app").getImmediate(),d=s.getProvider("auth-internal"),m=s.getProvider("app-check-internal");return new Tl(n,d,m,c,Yn.SDK_VERSION)}!function js(){(0,Yn._registerComponent)(new Au.wA("storage",vr,"PUBLIC").setMultipleInstances(!0)),(0,Yn.registerVersion)(Al,"0.11.2",""),(0,Yn.registerVersion)(Al,"0.11.2","esm2017")}();class Ua{constructor(c,n,d){this._delegate=c,this.task=n,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class md{constructor(c,n){this._delegate=c,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ua(this._delegate.snapshot,this,this._ref)}then(c,n){return this._delegate.then(d=>{if(c)return c(new Ua(d,this,this._ref))},n)}on(c,n,d,m){let E;return n&&(E="function"==typeof n?H=>n(new Ua(H,this,this._ref)):{next:n.next?H=>n.next(new Ua(H,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(c,E,d||void 0,m||void 0)}}class zl{constructor(c,n){this._delegate=c,this._service=n}get prefixes(){return this._delegate.prefixes.map(c=>new wa(c,this._service))}get items(){return this._delegate.items.map(c=>new wa(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wa{constructor(c,n){this._delegate=c,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const n=function je(s,c){return $s(s,c)}(this._delegate,c);return new wa(n,this.storage)}get root(){return new wa(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new wa(c,this.storage)}put(c,n){return this._throwIfRoot("put"),new md(function np(s,c,n){return function nn(s,c,n){return s._throwIfRoot("uploadBytesResumable"),new fe(s,new La(c),n)}(s=(0,eo.m9)(s),c,n)}(this._delegate,c,n),this)}putString(c,n=Ei.RAW,d){this._throwIfRoot("putString");const m=va(n,c),E=Object.assign({},d);return null==E.contentType&&null!=m.contentType&&(E.contentType=m.contentType),new md(new fe(this._delegate,new La(m.data,!0),E),this)}listAll(){return function b(s){return function pr(s){const c={prefixes:[],items:[]};return cr(s,c).then(()=>c)}(s=(0,eo.m9)(s))}(this._delegate).then(c=>new zl(c,this.storage))}list(c){return function _(s,c){return No(s=(0,eo.m9)(s),c)}(this._delegate,c||void 0).then(n=>new zl(n,this.storage))}getMetadata(){return function xc(s){return function Gl(s){s._throwIfRoot("getMetadata");const c=Nu(s.storage,s._location,mi());return s.storage.makeRequestWithTokens(c,Wr)}(s=(0,eo.m9)(s))}(this._delegate)}updateMetadata(c){return function T(s,c){return function pd(s,c){s._throwIfRoot("updateMetadata");const n=function Dl(s,c,n,d){const E=Vs(c.fullServerUrl(),s.host,s._protocol),le=hd(n,d),Te=s.maxOperationRetryTime,We=new po(E,"PATCH",Ba(s,d),Te);return We.headers={"Content-Type":"application/json; charset=utf-8"},We.body=le,We.errorHandler=cs(c),We}(s.storage,s._location,c,mi());return s.storage.makeRequestWithTokens(n,Wr)}(s=(0,eo.m9)(s),c)}(this._delegate,c)}getDownloadURL(){return function N(s){return xu(s=(0,eo.m9)(s))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function K(s){return function ra(s){s._throwIfRoot("deleteObject");const c=function Mc(s,c){const d=Vs(c.fullServerUrl(),s.host,s._protocol),le=new po(d,"DELETE",function H(ue,Te){},s.maxOperationRetryTime);return le.successCodes=[200,204],le.errorHandler=cs(c),le}(s.storage,s._location);return s.storage.makeRequestWithTokens(c,Wr)}(s=(0,eo.m9)(s))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw ud(c)}}class Hs{constructor(c,n){this.app=c,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(_d(c))throw ea("ref() expected a child path but got a URL, use refFromURL instead.");return new wa(re(this._delegate,c),this)}refFromURL(c){if(!_d(c))throw ea("refFromURL() expected a full URL but got a child path, use ref() instead.");try{us.makeFromUrl(c,this._delegate.host)}catch{throw ea("refFromUrl() expected a valid full URL but got an invalid one.")}return new wa(re(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,n,d={}){!function Qt(s,c,n,d={}){!function Rc(s,c,n,d={}){s.host=`${c}:${n}`,s._protocol="http";const{mockUserToken:m}=d;m&&(s._overrideAuthToken="string"==typeof m?m:(0,eo.Sg)(m,s.app.options.projectId))}(s,c,n,d)}(this._delegate,c,n,d)}}function _d(s){return/^[A-Za-z]+:\/\//.test(s)}function yd(s,{instanceIdentifier:c}){const n=s.getProvider("app-compat").getImmediate(),d=s.getProvider("storage").getImmediate({identifier:c});return new Hs(n,d)}!function fu(s){const c={TaskState:zi,TaskEvent:jl,StringFormat:Ei,Storage:Hs,Reference:wa};s.INTERNAL.registerComponent(new Au.wA("storage-compat",yd,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),s.registerVersion("@firebase/storage-compat","0.3.2")}(Tu.Z);var Pc=j(2313),rh=j(9260);function rp(s){const c=function Ir(s){return new ye.y(c=>{const n=H=>c.next(H);n(s.snapshot);const E=s.on("state_changed",n);return s.then(H=>{n(H),c.complete()},H=>{n(s.snapshot),(H=>{c.error(H)})(H)}),function(){E()}}).pipe(function ya(s,c=Eu.z){return(0,Bl.e)((n,d)=>{let m=null,E=null,H=null;const le=()=>{if(m){m.unsubscribe(),m=null;const Te=E;E=null,d.next(Te)}};function ue(){const Te=H+s,We=c.now();if(We<Te)return m=this.schedule(void 0,Te-We),void d.add(m);le()}n.subscribe((0,Ye.x)(d,Te=>{E=Te,H=c.now(),m||(m=c.schedule(ue,s),d.add(m))},()=>{le(),d.complete()},void 0,()=>{E=m=null}))})}(0))}(s);return{task:s,then:s.then.bind(s),catch:s.catch.bind(s),pause:s.pause.bind(s),cancel:s.cancel.bind(s),resume:s.resume.bind(s),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,Qe.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function kc(s){return{getDownloadURL:()=>(0,Wn.of)(void 0).pipe(jr.fc,(0,Iu.w)(()=>s.getDownloadURL()),jr.iC),getMetadata:()=>(0,Wn.of)(void 0).pipe(jr.fc,(0,Iu.w)(()=>s.getMetadata()),jr.iC),delete:()=>(0,Ce.D)(s.delete()),child:c=>kc(s.child(c)),updateMetadata:c=>(0,Ce.D)(s.updateMetadata(c)),put:(c,n)=>rp(s.put(c,n)),putString:(c,n,d)=>rp(s.putString(c,n,d)),list:c=>(0,Ce.D)(s.list(c)),listAll:()=>(0,Ce.D)(s.listAll())}}const ih=new a.OlP("angularfire2.storageBucket"),r_=new a.OlP("angularfire2.storage.maxUploadRetryTime"),Sg=new a.OlP("angularfire2.storage.maxOperationRetryTime"),ip=new a.OlP("angularfire2.storage.use-emulator");let Mg=(()=>{class s{constructor(n,d,m,E,H,le,ue,Te,We,Gt){const Ot=(0,Ni.on)(n,H,d);this.storage=(0,Ni.cc)(`${Ot.name}.storage.${m}`,"AngularFireStorage",Ot.name,()=>{const Ft=H.runOutsideAngular(()=>Ot.storage(m||void 0)),bn=We;return bn&&Ft.useEmulator(...bn),ue&&Ft.setMaxUploadRetryTime(ue),Te&&Ft.setMaxOperationRetryTime(Te),Ft},[ue,Te])}ref(n){return kc(this.storage.ref(n))}refFromURL(n){return kc(this.storage.refFromURL(n))}upload(n,d,m){return kc(this.storage.ref(n)).put(d,m)}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Ni.Dh),a.LFG(Ni.xv,8),a.LFG(ih,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(jr.HU),a.LFG(r_,8),a.LFG(Sg,8),a.LFG(ip,8),a.LFG(Pc.nm,8))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Ng=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})(),vd=(()=>{class s{constructor(){rh.Z.registerVersion("angularfire",jr.q4.full,"gcs-compat")}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[Mg],imports:[Ng]}),s})(),$a=(()=>{class s{constructor(n,d){this.aFirestore=n,this.storage=d}guardar(n){}traer(){this.aFirestore.collection("usuarios").valueChanges().subscribe(d=>{console.log(d)})}traerPeliculas(){this.aFirestore.collection("peliculas").valueChanges().subscribe(d=>(console.log(d),this.peliculascol=d,d))}updatePelicula(n){this.aFirestore.doc("peliculas/"+n.id).update(n)}delete(n){this.aFirestore.doc("usuarios/"+n).delete()}guardarActor(n){var d=this;return(0,To.Z)(function*(){const m=yield d.guardarFoto(n),H=(d.aFirestore.collection("actores"),d.aFirestore.doc("actores/"+d.aFirestore.createId()));return H.set({id:H.ref.id,nombre:n.nombre,apellido:n.apellido,edad:n.edad,nacionalidad:n.nacionalidad,foto:m}),!0})()}guardarUsuario(n){this.aFirestore.collection("usuarios");const m=this.aFirestore.doc("usuarios/"+this.aFirestore.createId());m.set({id:m.ref.id,nombre:n.nombre,apellido:n.apellido,edad:n.edad,sexo:n.sexo,email:n.email})}traerUsuarios(){this.usercol=this.aFirestore.collection("usuarios"),this.usercol.valueChanges().subscribe(n=>{console.log(n)})}traerActores(){var n=this;return(0,To.Z)(function*(){n.aFirestore.collection("actores").valueChanges().subscribe(m=>(console.log(m),n.actorescol=m,m))})()}guardarPelicula(n){var d=this;return(0,To.Z)(function*(){const m=yield d.guardarFoto(n),H=(d.aFirestore.collection("peliculas"),d.aFirestore.doc("peliculas/"+d.aFirestore.createId()));return H.set({id:H.ref.id,nombre:n.nombre,actor:n.actor,tipo:n.tipo,cantidadDePublico:n.publico,foto:m,fechaDeEstreno:n.fecha}),!0})()}guardarFoto(n){var d=this;return(0,To.Z)(function*(){return new Promise(m=>{var E=Date.now();const le=d.storage.ref(`peliculas/${E}`);d.storage.upload(`peliculas/${E}`,n.foto).snapshotChanges().pipe((0,Ec.x)(()=>{le.getDownloadURL().subscribe(Te=>{m(Te)})})).subscribe()})})()}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(ls.ST),a.LFG(Mg))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var bd=j(8376),Sl=j(515),Gs=j(7579),wd=j(5577),Sy=j(1144),Fc=j(576);const Dd=["addListener","removeListener"],My=["addEventListener","removeEventListener"],i_=["on","off"];function Fr(s,c,n,d){if((0,Fc.m)(n)&&(d=n,n=void 0),d)return Fr(s,c,n).pipe((0,he.Z)(d));const[m,E]=function o_(s){return(0,Fc.m)(s.addEventListener)&&(0,Fc.m)(s.removeEventListener)}(s)?My.map(H=>le=>s[H](c,le,n)):function tf(s){return(0,Fc.m)(s.addListener)&&(0,Fc.m)(s.removeListener)}(s)?Dd.map(Cd(s,c)):function Rg(s){return(0,Fc.m)(s.on)&&(0,Fc.m)(s.off)}(s)?i_.map(Cd(s,c)):[];if(!m&&(0,Sy.z)(s))return(0,wd.z)(H=>Fr(H,c,n))((0,Fe.Xf)(s));if(!m)throw new TypeError("Invalid event target");return new ye.y(H=>{const le=(...ue)=>H.next(1<ue.length?ue:ue[0]);return m(le),()=>E(le)})}function Cd(s,c){return n=>d=>s[n](c,d)}var oh=j(3532);function op(s=0,c,n=Eu.P){let d=-1;return null!=c&&((0,oh.K)(c)?n=c:d=c),new ye.y(m=>{let E=function Ny(s){return s instanceof Date&&!isNaN(s)}(s)?+s-n.now():s;E<0&&(E=0);let H=0;return n.schedule(function(){m.closed||(m.next(H++),0<=d?this.schedule(void 0,d):m.complete())},E)})}const{isArray:sh}=Array;function ku(s){return 1===s.length&&sh(s[0])?s[0]:s}var Wl=j(1135),Ed=j(9841),nf=j(5032);const xg=new ye.y(nf.Z);function rf(...s){const c=(0,be.jO)(s),n=ku(s);return n.length?new ye.y(d=>{let m=n.map(()=>[]),E=n.map(()=>!1);d.add(()=>{m=E=null});for(let H=0;!d.closed&&H<n.length;H++)(0,Fe.Xf)(n[H]).subscribe((0,Ye.x)(d,le=>{if(m[H].push(le),m.every(ue=>ue.length)){const ue=m.map(Te=>Te.shift());d.next(c?c(...ue):ue),m.some((Te,We)=>!Te.length&&E[We])&&d.complete()}},()=>{E[H]=!0,!m[H].length&&d.complete()}));return()=>{m=E=null}}):Sl.E}var d0=j(6451),Pg=j(7272);function sr(s){return(0,Bl.e)((c,n)=>{(0,Fe.Xf)(s).subscribe((0,Ye.x)(n,()=>n.complete(),nf.Z)),!n.closed&&c.subscribe(n)})}var ja=j(5698),sp=j(8675),Id=j(1884),Ml=j(8505),ah=j(4671);function ap(...s){const c=(0,be.jO)(s);return(0,Bl.e)((n,d)=>{const m=s.length,E=new Array(m);let H=s.map(()=>!1),le=!1;for(let ue=0;ue<m;ue++)(0,Fe.Xf)(s[ue]).subscribe((0,Ye.x)(d,Te=>{E[ue]=Te,!le&&!H[ue]&&(H[ue]=!0,(le=H.every(ah.y))&&(H=null))},nf.Z));n.subscribe((0,Ye.x)(d,ue=>{if(le){const Te=[ue,...E];d.next(c?c(...Te):Te)}}))})}function yp(s,c){}function Ar(s,c){if(1&s&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,yp,0,0,"ng-template",4),a.qZA()),2&s){const n=c.$implicit;a.Q6J("ngbPanelToggle",n),a.xp6(1),a.hij(" ",n.title," "),a.xp6(1),a.Q6J("ngTemplateOutlet",null==n.titleTpl?null:n.titleTpl.templateRef)}}function b_(s,c){}function Yg(s,c){}function w_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(m){a.CHM(n);const E=a.oxw().$implicit;return a.KtG(E.panelDiv=m)}),a.TgZ(1,"div",9),a.YNc(2,Yg,0,0,"ng-template",4),a.qZA()()}if(2&s){const n=a.oxw().$implicit;a.s9C("id",n.id),a.uIk("aria-labelledby",n.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)}}j(9718),Math,Math,Math;const D_=function(s,c){return{$implicit:s,opened:c}};function xd(s,c){if(1&s&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,b_,0,0,"ng-template",6),a.qZA(),a.YNc(3,w_,3,3,"div",7),a.qZA()),2&s){const n=c.$implicit,d=a.oxw(),m=a.MAs(1);a.Tol("accordion-item "+(n.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(n.type?"bg-"+n.type:d.type?"bg-"+d.type:"")),a.MGl("id","",n.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.headerTpl?null:n.headerTpl.templateRef)||m)("ngTemplateOutletContext",a.WLB(8,D_,n,n.isOpen)),a.xp6(1),a.Q6J("ngIf",!d.destroyOnHide||n.isOpen||n.transitionRunning)}}const bh=["ngbAccordionBody",""];function C_(s,c){}function Jg(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.close())}),a.qZA()}}const vp=["*"];function E_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const E=a.CHM(n).$implicit,H=a.oxw();return H.focus(),a.KtG(H.select(E.id,H.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&s){const n=c.$implicit,d=a.oxw();a.ekj("active",n.id===d.activeId),a.uIk("aria-labelledby","slide-"+n.id)("aria-controls","slide-"+n.id)("aria-selected",n.id===d.activeId)}}function h0(s,c){}function I_(s,c){if(1&s&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,h0,0,0,"ng-template",10),a.qZA()),2&s){const n=c.$implicit,d=c.index,m=c.count;a.Q6J("id","slide-"+n.id),a.xp6(2),a.pQV(d+1)(m),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",n.tplRef)}}function bp(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function go(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const jy=["ngbDatepickerDayView",""],Qg=["month"],Xg=["year"];function Hy(s,c){if(1&s&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&s){const n=c.$implicit,d=a.oxw();a.Q6J("value",n),a.uIk("aria-label",d.i18n.getMonthFullName(n,d.date.year)),a.xp6(1),a.Oqu(d.i18n.getMonthShortName(n,d.date.year))}}function T_(s,c){if(1&s&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&s){const n=c.$implicit,d=a.oxw();a.Q6J("value",n),a.xp6(1),a.Oqu(d.i18n.getYearNumerals(n))}}function f0(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(m){a.CHM(n);const E=a.oxw();return a.KtG(E.select.emit(m))}),a.qZA()}if(2&s){const n=a.oxw();a.Q6J("date",n.date)("disabled",n.disabled)("months",n.selectBoxes.months)("years",n.selectBoxes.years)}}function em(s,c){1&s&&a._UZ(0,"div",0)}function wp(s,c){1&s&&a._UZ(0,"div",0)}function A_(s,c){if(1&s&&(a.YNc(0,em,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,wp,1,0,"div",9)),2&s){const n=c.$implicit,d=c.index,m=a.oxw(2);a.Q6J("ngIf",d>0),a.xp6(2),a.hij(" ",m.i18n.getMonthLabel(n.firstDate)," "),a.xp6(1),a.Q6J("ngIf",d!==m.months.length-1)}}function Gy(s,c){if(1&s&&a.YNc(0,A_,4,3,"ng-template",8),2&s){const n=a.oxw();a.Q6J("ngForOf",n.months)}}function tm(s,c){if(1&s&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&s){const n=a.oxw(2);a.xp6(1),a.Oqu(n.i18n.getWeekLabel())}}function Wc(s,c){if(1&s&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&s){const n=c.$implicit;a.xp6(1),a.Oqu(n)}}function vf(s,c){if(1&s&&(a.TgZ(0,"div",2),a.YNc(1,tm,2,1,"div",3),a.YNc(2,Wc,2,1,"div",4),a.qZA()),2&s){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",n.viewModel.weekdays)}}function bf(s,c){if(1&s&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&s){const n=a.oxw(2).$implicit,d=a.oxw();a.xp6(1),a.Oqu(d.i18n.getWeekNumerals(n.number))}}function wh(s,c){}function nm(s,c){if(1&s&&a.YNc(0,wh,0,0,"ng-template",14),2&s){const n=a.oxw().$implicit,d=a.oxw(3);a.Q6J("ngTemplateOutlet",d.datepicker.dayTemplate)("ngTemplateOutletContext",n.context)}}function rm(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(m){const H=a.CHM(n).$implicit;return a.oxw(3).doSelect(H),a.KtG(m.preventDefault())}),a.YNc(1,nm,1,2,"ng-template",13),a.qZA()}if(2&s){const n=c.$implicit;a.ekj("disabled",n.context.disabled)("hidden",n.hidden)("ngb-dp-today",n.context.today),a.Q6J("tabindex",n.tabindex),a.uIk("aria-label",n.ariaLabel),a.xp6(1),a.Q6J("ngIf",!n.hidden)}}function zy(s,c){if(1&s&&(a.TgZ(0,"div",8),a.YNc(1,bf,2,1,"div",9),a.YNc(2,rm,2,9,"div",10),a.qZA()),2&s){const n=a.oxw().$implicit,d=a.oxw();a.xp6(1),a.Q6J("ngIf",d.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",n.days)}}function S_(s,c){1&s&&a.YNc(0,zy,3,2,"div",7),2&s&&a.Q6J("ngIf",!c.$implicit.collapsed)}const M_=["defaultDayTemplate"],im=["content"];function Wy(s,c){if(1&s&&a._UZ(0,"div",7),2&s){const d=c.currentMonth,m=c.selected,E=c.disabled,H=c.focused;a.Q6J("date",c.date)("currentMonth",d)("selected",m)("disabled",E)("focused",H)}}function om(s,c){if(1&s&&(a.TgZ(0,"div",12),a._uU(1),a.qZA()),2&s){const n=a.oxw().$implicit,d=a.oxw(2);a.xp6(1),a.hij(" ",d.i18n.getMonthLabel(n.firstDate)," ")}}function qy(s,c){if(1&s&&(a.TgZ(0,"div",9),a.YNc(1,om,2,1,"div",10),a._UZ(2,"ngb-datepicker-month",11),a.qZA()),2&s){const n=c.$implicit,d=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===d.navigation||d.displayMonths>1&&"select"===d.navigation),a.xp6(1),a.Q6J("month",n.firstDate)}}function sm(s,c){if(1&s&&a.YNc(0,qy,3,2,"div",8),2&s){const n=a.oxw();a.Q6J("ngForOf",n.model.months)}}function N_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",13),a.NdJ("navigate",function(m){a.CHM(n);const E=a.oxw();return a.KtG(E.onNavigateEvent(m))})("select",function(m){a.CHM(n);const E=a.oxw();return a.KtG(E.onNavigateDateSelect(m))}),a.qZA()}if(2&s){const n=a.oxw();a.Q6J("date",n.model.firstDate)("months",n.model.months)("disabled",n.model.disabled)("showSelect","select"===n.model.navigation)("prevDisabled",n.model.prevDisabled)("nextDisabled",n.model.nextDisabled)("selectBoxes",n.model.selectBoxes)}}function qc(s,c){}function wf(s,c){}const Df=["dialog"],Dp=["ngbNavOutlet",""];function Zy(s,c){}const Pd=function(s){return{$implicit:s}};function am(s,c){if(1&s&&(a.TgZ(0,"div",2),a.YNc(1,Zy,0,0,"ng-template",3),a.qZA()),2&s){const n=a.oxw().$implicit,d=a.oxw();a.Q6J("item",n)("nav",d.nav)("role",d.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,Pd,n.active||d.isPanelTransitioning(n)))}}function Ky(s,c){if(1&s&&a.YNc(0,am,2,7,"div",1),2&s){const n=c.$implicit,d=a.oxw();a.Q6J("ngIf",n.isPanelInDom()||d.isPanelTransitioning(n))}}function Cp(s,c){1&s&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function Yy(s,c){1&s&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function lm(s,c){1&s&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function Cf(s,c){1&s&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function kd(s,c){1&s&&a._uU(0,"...")}function Ef(s,c){1&s&&(a.TgZ(0,"span",15),a._uU(1,"(current)"),a.qZA())}function Zc(s,c){if(1&s&&(a._uU(0),a.YNc(1,Ef,2,0,"span",14)),2&s){const n=c.$implicit,d=c.currentPage;a.hij(" ",n," "),a.xp6(1),a.Q6J("ngIf",n===d)}}function Fd(s,c){}const Ld=function(s){return{disabled:!0,currentPage:s}};function Ep(s,c){if(1&s&&(a.TgZ(0,"a",20),a.YNc(1,Fd,0,0,"ng-template",8),a.qZA()),2&s){const n=a.oxw(2).$implicit,d=a.oxw(),m=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==d.tplEllipsis?null:d.tplEllipsis.templateRef)||m)("ngTemplateOutletContext",a.VKq(2,Ld,n))}}function If(s,c){}const Tf=function(s,c,n){return{disabled:s,$implicit:c,currentPage:n}};function Ip(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"a",21),a.NdJ("click",function(m){a.CHM(n);const E=a.oxw().$implicit;return a.oxw(2).selectPage(E),a.KtG(m.preventDefault())}),a.YNc(1,If,0,0,"ng-template",8),a.qZA()}if(2&s){const n=a.oxw().$implicit,d=a.oxw(),m=d.disabled,E=d.$implicit,H=a.oxw(),le=a.MAs(11);a.uIk("tabindex",m?"-1":null)("aria-disabled",m?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==H.tplNumber?null:H.tplNumber.templateRef)||le)("ngTemplateOutletContext",a.kEZ(4,Tf,m,n,E))}}function R_(s,c){if(1&s&&(a.TgZ(0,"li",17),a.YNc(1,Ep,2,4,"a",18),a.YNc(2,Ip,2,8,"a",19),a.qZA()),2&s){const n=c.$implicit,d=a.oxw(),m=d.$implicit,E=d.disabled,H=a.oxw();a.ekj("active",n===m)("disabled",H.isEllipsis(n)||E),a.uIk("aria-current",n===m?"page":null),a.xp6(1),a.Q6J("ngIf",H.isEllipsis(n)),a.xp6(1),a.Q6J("ngIf",!H.isEllipsis(n))}}function Tp(s,c){1&s&&a.YNc(0,R_,3,7,"li",16),2&s&&a.Q6J("ngForOf",c.pages)}function Ap(s,c){}const Af=function(s,c){return{disabled:s,currentPage:c}};function O_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"li",17)(1,"a",22),a.NdJ("click",function(m){return a.CHM(n),a.oxw().selectPage(1),a.KtG(m.preventDefault())}),a.YNc(2,Ap,0,0,"ng-template",8),a.qZA()()}if(2&s){const n=a.oxw(),d=a.MAs(1);a.ekj("disabled",n.previousDisabled()),a.xp6(1),a.uIk("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.tplFirst?null:n.tplFirst.templateRef)||d)("ngTemplateOutletContext",a.WLB(6,Af,n.previousDisabled(),n.page))}}function Jy(s,c){}const ia=function(s){return{disabled:s}};function x_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"li",17)(1,"a",23),a.NdJ("click",function(m){a.CHM(n);const E=a.oxw();return E.selectPage(E.page-1),a.KtG(m.preventDefault())}),a.YNc(2,Jy,0,0,"ng-template",8),a.qZA()()}if(2&s){const n=a.oxw(),d=a.MAs(3);a.ekj("disabled",n.previousDisabled()),a.xp6(1),a.uIk("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.tplPrevious?null:n.tplPrevious.templateRef)||d)("ngTemplateOutletContext",a.VKq(6,ia,n.previousDisabled()))}}function P_(s,c){}function Sp(s,c){}function oa(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"li",17)(1,"a",24),a.NdJ("click",function(m){a.CHM(n);const E=a.oxw();return E.selectPage(E.page+1),a.KtG(m.preventDefault())}),a.YNc(2,Sp,0,0,"ng-template",8),a.qZA()()}if(2&s){const n=a.oxw(),d=a.MAs(5);a.ekj("disabled",n.nextDisabled()),a.xp6(1),a.uIk("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.tplNext?null:n.tplNext.templateRef)||d)("ngTemplateOutletContext",a.WLB(6,Af,n.nextDisabled(),n.page))}}function um(s,c){}function k_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"li",17)(1,"a",25),a.NdJ("click",function(m){a.CHM(n);const E=a.oxw();return E.selectPage(E.pageCount),a.KtG(m.preventDefault())}),a.YNc(2,um,0,0,"ng-template",8),a.qZA()()}if(2&s){const n=a.oxw(),d=a.MAs(7);a.ekj("disabled",n.nextDisabled()),a.xp6(1),a.uIk("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==n.tplLast?null:n.tplLast.templateRef)||d)("ngTemplateOutletContext",a.WLB(6,Af,n.nextDisabled(),n.page))}}const p0=function(s,c,n){return{$implicit:s,pages:c,disabled:n}};function dm(s,c){if(1&s&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&s){const n=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,n.getValue()/n.max)),a.QtT(1)}}function Qy(s,c){1&s&&a._uU(0),2&s&&a.Oqu(100===c.fill?"\u2605":"\u2606")}function L_(s,c){}function Sf(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const E=a.CHM(n).index,H=a.oxw();return a.KtG(H.enter(E+1))})("click",function(){const E=a.CHM(n).index,H=a.oxw();return a.KtG(H.handleClick(E+1))}),a.YNc(3,L_,0,0,"ng-template",4),a.qZA()}if(2&s){const n=c.index,d=a.oxw(),m=a.MAs(1);a.xp6(1),a.hij("(",n<d.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",d.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",d.starTemplate||d.starTemplateFromContent||m)("ngTemplateOutletContext",d.contexts[n])}}function hm(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.changeHour(m.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&s){const n=a.oxw();a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function Kc(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.changeHour(-m.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&s){const n=a.oxw();a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function fm(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.changeMinute(m.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&s){const n=a.oxw();a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function Mp(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.changeMinute(-m.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&s){const n=a.oxw();a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function Mf(s,c){1&s&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function pm(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw(2);return a.KtG(m.changeSecond(m.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&s){const n=a.oxw(2);a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function B_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const m=a.oxw(2);return a.KtG(m.changeSecond(-m.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&s){const n=a.oxw(2);a.ekj("btn-sm",n.isSmallSize)("btn-lg",n.isLargeSize)("disabled",n.disabled),a.Q6J("disabled",n.disabled)}}function Jl(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div",19),a.YNc(1,pm,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(m){a.CHM(n);const E=a.oxw();return a.KtG(E.updateSecond(m.target.value))})("blur",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.handleBlur())})("input",function(m){a.CHM(n);const E=a.oxw();return a.KtG(E.formatInput(m.target))})("keydown.ArrowUp",function(m){a.CHM(n);const E=a.oxw();return E.changeSecond(E.secondStep),a.KtG(m.preventDefault())})("keydown.ArrowDown",function(m){a.CHM(n);const E=a.oxw();return E.changeSecond(-E.secondStep),a.KtG(m.preventDefault())}),a.qZA(),a.YNc(3,B_,4,7,"button",3),a.qZA()}if(2&s){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.spinners),a.xp6(1),a.ekj("form-control-sm",n.isSmallSize)("form-control-lg",n.isLargeSize),a.Q6J("value",n.formatMinSec(null==n.model?null:n.model.second))("readOnly",n.readonlyInputs)("disabled",n.disabled),a.xp6(1),a.Q6J("ngIf",n.spinners)}}function Nf(s,c){1&s&&a._UZ(0,"div",5)}function Yc(s,c){if(1&s&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&s){const n=a.oxw(2);a.xp6(1),a.pQV(n.i18n.getAfternoonPeriod()),a.QtT(1)}}function U_(s,c){if(1&s&&a.SDv(0,28),2&s){const n=a.oxw(2);a.pQV(n.i18n.getMorningPeriod()),a.QtT(0)}}function V_(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.toggleMeridian())}),a.YNc(2,Yc,2,1,"ng-container",25),a.YNc(3,U_,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&s){const n=a.MAs(4),d=a.oxw();a.xp6(1),a.ekj("btn-sm",d.isSmallSize)("btn-lg",d.isLargeSize)("disabled",d.disabled),a.Q6J("disabled",d.disabled),a.xp6(1),a.Q6J("ngIf",d.model&&d.model.hour>=12)("ngIfElse",n)}}function gm(s,c){if(1&s&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&s){const n=a.oxw();a.xp6(1),a.Oqu(n.header)}}function Xy(s,c){}function mm(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div",4),a.YNc(1,Xy,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(n);const m=a.oxw();return a.KtG(m.hide())}),a.qZA()()}if(2&s){const n=a.oxw(),d=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",n.contentHeaderTpl||d)}}function _m(s,c){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&s){const n=a.oxw().$implicit,d=a.oxw();a.Tol(d.highlightClass),a.xp6(1),a.Oqu(n)}}function ym(s,c){if(1&s&&a._uU(0),2&s){const n=a.oxw().$implicit;a.Oqu(n)}}function Np(s,c){if(1&s&&(a.YNc(0,_m,2,3,"span",1),a.YNc(1,ym,1,1,"ng-template",null,2,a.W1O)),2&s){const n=c.odd,d=a.MAs(2);a.Q6J("ngIf",n)("ngIfElse",d)}}function Ms(s){return parseInt(`${s}`,10)}function tv(s){return null!=s?`${s}`:""}function Dh(s,c,n=0){return Math.max(Math.min(s,c),n)}function Jc(s){return"string"==typeof s}function Ro(s){return!isNaN(Ms(s))}function Wi(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s}function ac(s){return null!=s}function lc(s){return Ro(s)?`0${s}`.slice(-2):""}function Eh(s,c){return s&&s.className&&s.className.split&&s.className.split(/\s+/).indexOf(c)>=0}function Qc(s){return(s||document.body).getBoundingClientRect()}function Op(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const yu={animation:!0,transitionTimerDelayMs:5},Xc=()=>{},{transitionTimerDelayMs:$_}=yu,$u=new Map,mo=(s,c,n,d)=>{let m=d.context||{};const E=$u.get(c);if(E)switch(d.runningTransition){case"continue":return Sl.E;case"stop":s.run(()=>E.transition$.complete()),m=Object.assign(E.context,m),$u.delete(c)}const H=n(c,d.animation,m)||Xc;if(!d.animation||"none"===window.getComputedStyle(c).transitionProperty)return s.run(()=>H()),(0,Wn.of)(void 0).pipe(function Rp(s){return c=>new ye.y(n=>c.subscribe({next:H=>s.run(()=>n.next(H)),error:H=>s.run(()=>n.error(H)),complete:()=>s.run(()=>n.complete())}))}(s));const le=new Gs.x,ue=new Gs.x,Te=le.pipe(function hs(...s){return c=>(0,Pg.z)(c,(0,Wn.of)(...s))}(!0));$u.set(c,{transition$:le,complete:()=>{ue.next(),ue.complete()},context:m});const We=function bm(s){const{transitionDelay:c,transitionDuration:n}=window.getComputedStyle(s);return 1e3*(parseFloat(c)+parseFloat(n))}(c);return s.runOutsideAngular(()=>{const Gt=Fr(c,"transitionend").pipe(sr(Te),(0,ki.h)(({target:Ft})=>Ft===c));(function Og(...s){return 1===(s=ku(s)).length?(0,Fe.Xf)(s[0]):new ye.y(function Qu(s){return c=>{let n=[];for(let d=0;n&&!c.closed&&d<s.length;d++)n.push((0,Fe.Xf)(s[d]).subscribe((0,Ye.x)(c,m=>{if(n){for(let E=0;E<n.length;E++)E!==d&&n[E].unsubscribe();n=null}c.next(m)})))}}(s))})(op(We+$_).pipe(sr(Te)),Gt,ue).pipe(sr(Te)).subscribe(()=>{$u.delete(c),s.run(()=>{H(),le.next(),le.complete()})})}),le.asObservable()},wm=(s,c,n)=>{let{direction:d,maxSize:m,dimension:E}=n;const{classList:H}=s;function le(){H.add("collapse"),"show"===d?H.add("show"):H.remove("show")}if(c)return m||(m=function Ih(s,c){if(typeof navigator>"u")return"0px";const{classList:n}=s,d=n.contains("show");d||n.add("show"),s.style[c]="";const m=s.getBoundingClientRect()[c]+"px";return d||n.remove("show"),m}(s,E),n.maxSize=m,s.style[E]="show"!==d?m:"0px",H.remove("collapse"),H.remove("collapsing"),H.remove("show"),Qc(s),H.add("collapsing")),s.style[E]="show"===d?m:"0px",()=>{le(),H.remove("collapsing"),s.style[E]=""};le()};let Bd=(()=>{class s{constructor(){this.animation=yu.animation}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),xp=(()=>{class s{constructor(n){this._ngbConfig=n,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Pp=0,Ud=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),s})(),kp=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),s})(),Fp=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),s})(),Dm=(()=>{class s{constructor(){this.disabled=!1,this.id="ngb-panel-"+Pp++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=a.lG2({type:s,selectors:[["ngb-panel"]],contentQueries:function(n,d,m){if(1&n&&(a.Suo(m,kp,4),a.Suo(m,Ud,4),a.Suo(m,Fp,4)),2&n){let E;a.iGM(E=a.CRH())&&(d.titleTpls=E),a.iGM(E=a.CRH())&&(d.headerTpls=E),a.iGM(E=a.CRH())&&(d.contentTpls=E)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),s})(),Cm=(()=>{class s{constructor(n){this._El=n,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),s})(),Lp=(()=>{class s{constructor(n,d){this.accordion=n,this.panel=d}set ngbPanelToggle(n){n&&(this.panel=n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36((0,a.Gpc)(()=>Em)),a.Y36(Dm,9))},s.\u0275dir=a.lG2({type:s,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(n,d){1&n&&a.NdJ("click",function(){return d.accordion.toggle(d.panel.id)}),2&n&&(a.Ikx("disabled",d.panel.disabled),a.uIk("aria-expanded",d.panel.isOpen)("aria-controls",d.panel.id),a.ekj("collapsed",!d.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),s})(),Em=(()=>{class s{constructor(n,d,m){this._ngZone=d,this._changeDetector=m,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=n.animation,this.type=n.type,this.closeOtherPanels=n.closeOthers}isExpanded(n){return this.activeIds.indexOf(n)>-1}expand(n){this._changeOpenState(this._findPanelById(n),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(n=>this._changeOpenState(n,!0))}collapse(n){this._changeOpenState(this._findPanelById(n),!1)}collapseAll(){this.panels.forEach(n=>{this._changeOpenState(n,!1)})}toggle(n){const d=this._findPanelById(n);d&&this._changeOpenState(d,!d.isOpen)}ngAfterContentChecked(){Jc(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(n=>{n.isOpen=!n.disabled&&this.activeIds.indexOf(n.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,ja.q)(1)).subscribe(()=>{this.panels.forEach(n=>{const d=n.panelDiv;d?n.initClassDone||(n.initClassDone=!0,mo(this._ngZone,d,wm,{animation:!1,runningTransition:"continue",context:{direction:n.isOpen?"show":"hide",dimension:"height"}})):n.initClassDone=!1})})}_changeOpenState(n,d){if(null!=n&&!n.disabled&&n.isOpen!==d){let m=!1;this.panelChange.emit({panelId:n.id,nextState:d,preventDefault:()=>{m=!0}}),m||(n.isOpen=d,n.transitionRunning=!0,d&&this.closeOtherPanels&&this._closeOthers(n.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(n,d=!0){this.panels.forEach(m=>{m.id!==n&&m.isOpen&&(m.isOpen=!1,m.transitionRunning=d)})}_findPanelById(n){return this.panels.find(d=>d.id===n)||null}_updateActiveIds(){this.activeIds=this.panels.filter(n=>n.isOpen&&!n.disabled).map(n=>n.id)}_runTransitions(n){this._changeDetector.detectChanges(),this.panels.forEach(d=>{d.transitionRunning&&mo(this._ngZone,d.panelDiv,wm,{animation:n,runningTransition:"stop",context:{direction:d.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{d.transitionRunning=!1;const{id:E}=d;d.isOpen?(d.shown.emit(),this.shown.emit(E)):(d.hidden.emit(),this.hidden.emit(E))})})}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(xp),a.Y36(a.R0b),a.Y36(a.sBO))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-accordion"]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,Dm,4),2&n){let E;a.iGM(E=a.CRH())&&(d.panels=E)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(n,d){2&n&&a.uIk("aria-multiselectable",!d.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[a.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(n,d){1&n&&(a.YNc(0,Ar,3,3,"ng-template",0,1,a.W1O),a.YNc(2,xd,4,11,"ng-template",2)),2&n&&(a.xp6(2),a.Q6J("ngForOf",d.panels))},dependencies:[$.ax,$.tP,Lp,Cm,Ud,$.O5],encapsulation:2}),s})(),H_=(()=>{class s{constructor(n){this._ngbConfig=n,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),G_=(()=>{class s{constructor(n,d,m){this._element=n,this._zone=m,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=d.animation,this.horizontal=d.horizontal}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,d){return mo(this._zone,this._element.nativeElement,wm,{animation:d,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,d){this._runTransition(n,d).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq),a.Y36(H_),a.Y36(a.R0b))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(n,d){2&n&&a.ekj("collapse-horizontal",d.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),s})(),Im=0,Bp=(()=>{class s{constructor(n){this._item=n}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return s.\u0275fac=function(n){return new(n||s)(a.Y36((0,a.Gpc)(()=>Th)))},s.\u0275cmp=a.Xpm({type:s,selectors:[["","ngbAccordionBody",""]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,a.Rgc,7),2&n){let E;a.iGM(E=a.CRH())&&(d._bodyTpl=E.first)}},hostVars:2,hostBindings:function(n,d){2&n&&a.ekj("accordion-body",!0)},standalone:!0,features:[a.jDz],attrs:bh,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(n,d){1&n&&a.YNc(0,C_,0,0,"ng-template",0),2&n&&a.Q6J("ngTemplateOutlet",d.template())},dependencies:[$.tP],encapsulation:2}),s})(),Up=(()=>{class s{constructor(n,d){this.item=n,this.ngbCollapse=d}}return s.\u0275fac=function(n){return new(n||s)(a.Y36((0,a.Gpc)(()=>Th)),a.Y36(G_))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(n,d){2&n&&(a.Ikx("id",d.item.collapseId),a.uIk("aria-labelledby",d.item.toggleId),a.ekj("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[a.zW0([G_])]}),s})(),Th=(()=>{class s{constructor(n,d){this._accordion=n,this._cd=d,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+Im++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new a.vpe,this.hidden=new a.vpe}set id(n){Jc(n)&&""!==n&&(this._id=n)}set collapsed(n){this.collapsed!==n&&(this._collapsed=n,this._cd.markForCheck(),this._collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=n)}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:n}=this._collapse;n.animation=!1,n.collapsed=this.collapsed,n.animation=this._accordion.animation,this._subscriptions.push(n.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),n.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(n=>n.unsubscribe())}toggle(){this.collapsed=!this.collapsed}}return s.\u0275fac=function(n){return new(n||s)(a.Y36((0,a.Gpc)(()=>Ah)),a.Y36(a.sBO))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbAccordionItem",""]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,Up,7),2&n){let E;a.iGM(E=a.CRH())&&(d._collapse=E.first)}},hostVars:3,hostBindings:function(n,d){2&n&&(a.Ikx("id",d.id),a.ekj("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),s})(),Ah=(()=>{class s{constructor(n){this.destroyOnHide=!0,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=n.animation,this.closeOthers=n.closeOthers}toggle(n){const d=this._getItem(n);if(d){const m=d.collapsed;this._items.forEach(E=>{E===d?E.toggle():this.closeOthers&&m&&(E.collapsed=!0)})}}expand(n){const d=this._getItem(n);d&&this._items.forEach(m=>{m===d?d.collapsed=!1:this.closeOthers&&(m.collapsed=!0)})}expandAll(){this.closeOthers?this._items.find(n=>!n.collapsed)||(this._items.get(0).collapsed=!1):this._items.forEach(n=>{n.collapsed=!1})}collapse(n){const d=this._getItem(n);d&&(d.collapsed=!0)}collapseAll(){this._items.forEach(n=>n.collapsed=!0)}isExpanded(n){const d=this._getItem(n);return!!d&&!d.collapsed}_getItem(n){return this._items.find(d=>d.id===n)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(xp))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbAccordion",""]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,Th,4),2&n){let E;a.iGM(E=a.CRH())&&(d._items=E)}},hostVars:2,hostBindings:function(n,d){2&n&&a.ekj("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),s})(),Vp=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Em,Bp]}),s})();const xf=({classList:s})=>{s.remove("show")};let nv=(()=>{class s{constructor(n){this._ngbConfig=n,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Xl=(()=>{class s{constructor(n,d,m,E){this._renderer=d,this._element=m,this._zone=E,this.closed=new a.vpe,this.dismissible=n.dismissible,this.type=n.type,this.animation=n.animation}close(){const n=mo(this._zone,this._element.nativeElement,xf,{animation:this.animation,runningTransition:"continue"});return n.subscribe(()=>this.closed.emit()),n}ngOnChanges(n){const d=n.type;d&&!d.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${d.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${d.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(nv),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(n,d){2&n&&a.ekj("fade",d.animation)("alert-dismissible",d.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:vp,decls:2,vars:1,consts:function(){let c;return c=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",c,3,"click",4,"ngIf"],["type","button","aria-label",c,1,"btn-close",3,"click"]]},template:function(n,d){1&n&&(a.F$t(),a.Hsn(0),a.YNc(1,Jg,1,0,"button",0)),2&n&&(a.xp6(1),a.Q6J("ngIf",d.dismissible))},dependencies:[$.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),s})(),Sh=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Xl]}),s})();var no=(()=>{return(s=no||(no={})).START="start",s.END="end",no;var s})();const uc=({classList:s})=>s.contains("carousel-item-start")||s.contains("carousel-item-end"),ju=s=>{s.remove("carousel-item-start"),s.remove("carousel-item-end")},Da=s=>{ju(s),s.remove("carousel-item-prev"),s.remove("carousel-item-next")},Am=(s,c,{direction:n})=>{const{classList:d}=s;return c?(uc(s)?ju(d):(d.add("carousel-item-"+(n===no.START?"next":"prev")),Qc(s),d.add("carousel-item-"+n)),()=>{Da(d),d.add("active")}):(ju(d),Da(d),void d.add("active"))},ed=(s,c,{direction:n})=>{const{classList:d}=s;return c?(uc(s)?ju(d):d.add("carousel-item-"+n),()=>{Da(d),d.remove("active")}):(ju(d),Da(d),void d.remove("active"))};let Mh=(()=>{class s{constructor(n){this._ngbConfig=n,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),td=0,Nh=(()=>{class s{constructor(n){this.tplRef=n,this.id="ngb-slide-"+td++,this.slid=new a.vpe}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),s})(),nd=(()=>{class s{constructor(n,d,m,E,H){this._platformId=d,this._ngZone=m,this._cd=E,this._container=H,this.NgbSlideEventSource=eu,this._destroy$=new Gs.x,this._interval$=new Wl.X(0),this._mouseHover$=new Wl.X(!1),this._focused$=new Wl.X(!1),this._pauseOnHover$=new Wl.X(!1),this._pauseOnFocus$=new Wl.X(!1),this._pause$=new Wl.X(!1),this._wrap$=new Wl.X(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=n.animation,this.interval=n.interval,this.wrap=n.wrap,this.keyboard=n.keyboard,this.pauseOnHover=n.pauseOnHover,this.pauseOnFocus=n.pauseOnFocus,this.showNavigationArrows=n.showNavigationArrows,this.showNavigationIndicators=n.showNavigationIndicators}set interval(n){this._interval$.next(n)}get interval(){return this._interval$.value}set wrap(n){this._wrap$.next(n)}get wrap(){return this._wrap$.value}set pauseOnHover(n){this._pauseOnHover$.next(n)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(n){this._pauseOnFocus$.next(n)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(n){this._mouseHover$.next(n)}get mouseHover(){return this._mouseHover$.value}set focused(n){this._focused$.next(n)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(eu.ARROW_LEFT)}arrowRight(){this.focus(),this.next(eu.ARROW_RIGHT)}ngAfterContentInit(){(0,$.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const n=(0,Ed.a)([this.slide.pipe((0,Qe.U)(d=>d.current),(0,sp.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,sp.O)(null))]).pipe((0,Qe.U)(([d,m])=>{const E=this.slides.toArray(),H=this._getSlideIdxById(d);return m?E.length>1:H<E.length-1}),(0,Id.x)());(0,Ed.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,n]).pipe((0,Qe.U)(([d,m,E,H,le,ue,Te])=>d||m&&E||H&&le||!Te?0:ue),(0,Id.x)(),(0,Iu.w)(d=>d>0?op(d,d):xg),sr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(eu.TIMER)))}),this.slides.changes.pipe(sr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(n=>(s=>{$u.get(s)?.complete()})(this._getSlideElement(n))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ja.q)(1)).subscribe(()=>{for(const{id:n}of this.slides){const d=this._getSlideElement(n);n===this.activeId?d.classList.add("active"):d.classList.remove("active")}})})}ngAfterContentChecked(){let n=this._getSlideById(this.activeId);this.activeId=n?n.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const n=this._getSlideElement(this.activeId);n&&n.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(n,d){this._cycleToSelected(n,this._getSlideEventDirection(this.activeId,n),d)}prev(n){this._cycleToSelected(this._getPrevSlide(this.activeId),no.END,n)}next(n){this._cycleToSelected(this._getNextSlide(this.activeId),no.START,n)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(n,d,m){const E=this._transitionIds;if(E&&(E[0]!==n||E[1]!==this.activeId))return;let H=this._getSlideById(n);if(H&&H.id!==this.activeId){this._transitionIds=[this.activeId,n],this.slide.emit({prev:this.activeId,current:H.id,direction:d,paused:this._pause$.value,source:m});const le={animation:this.animation,runningTransition:"stop",context:{direction:d}},ue=[],Te=this._getSlideById(this.activeId);if(Te){const Ft=mo(this._ngZone,this._getSlideElement(Te.id),ed,le);Ft.subscribe(()=>{Te.slid.emit({isShown:!1,direction:d,source:m})}),ue.push(Ft)}const We=this.activeId;this.activeId=H.id;const Gt=this._getSlideById(this.activeId),Ot=mo(this._ngZone,this._getSlideElement(H.id),Am,le);Ot.subscribe(()=>{Gt?.slid.emit({isShown:!0,direction:d,source:m})}),ue.push(Ot),rf(...ue).pipe((0,ja.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:We,current:H.id,direction:d,paused:this._pause$.value,source:m})})}this._cd.markForCheck()}_getSlideEventDirection(n,d){return this._getSlideIdxById(n)>this._getSlideIdxById(d)?no.END:no.START}_getSlideById(n){return this.slides.find(d=>d.id===n)||null}_getSlideIdxById(n){const d=this._getSlideById(n);return null!=d?this.slides.toArray().indexOf(d):-1}_getNextSlide(n){const d=this.slides.toArray(),m=this._getSlideIdxById(n);return m===d.length-1?this.wrap?d[0].id:d[d.length-1].id:d[m+1].id}_getPrevSlide(n){const d=this.slides.toArray(),m=this._getSlideIdxById(n);return 0===m?this.wrap?d[d.length-1].id:d[0].id:d[m-1].id}_getSlideElement(n){return this._container.nativeElement.querySelector(`#slide-${n}`)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Mh),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-carousel"]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,Nh,4),2&n){let E;a.iGM(E=a.CRH())&&(d.slides=E)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(n,d){1&n&&a.NdJ("keydown.arrowLeft",function(){return d.keyboard&&d.arrowLeft()})("keydown.arrowRight",function(){return d.keyboard&&d.arrowRight()})("mouseenter",function(){return d.mouseHover=!0})("mouseleave",function(){return d.mouseHover=!1})("focusin",function(){return d.focused=!0})("focusout",function(){return d.focused=!1}),2&n&&(a.uIk("aria-activedescendant","slide-"+d.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[a.jDz],decls:6,vars:6,consts:function(){let c,n,d;return c=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,n=$localize`:@@ngb.carousel.previous:Previous`,d=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],c,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],n,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],d]},template:function(n,d){1&n&&(a.TgZ(0,"div",0),a.YNc(1,E_,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,I_,4,4,"div",3),a.qZA(),a.YNc(4,bp,4,0,"button",4),a.YNc(5,go,4,0,"button",5)),2&n&&(a.ekj("visually-hidden",!d.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",d.slides),a.xp6(2),a.Q6J("ngForOf",d.slides),a.xp6(1),a.Q6J("ngIf",d.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",d.showNavigationArrows))},dependencies:[$.ax,$.tP,$.O5],encapsulation:2,changeDetection:0}),s})();var eu=(()=>{return(s=eu||(eu={})).TIMER="timer",s.ARROW_LEFT="arrowLeft",s.ARROW_RIGHT="arrowRight",s.INDICATOR="indicator",eu;var s})();let cc=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[nd]}),s})(),dc=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})();class qi{constructor(c,n,d){this.year=Wi(c)?c:null,this.month=Wi(n)?n:null,this.day=Wi(d)?d:null}static from(c){return c instanceof qi?c:c?new qi(c.year,c.month,c.day):null}equals(c){return null!=c&&this.year===c.year&&this.month===c.month&&this.day===c.day}before(c){return!!c&&(this.year===c.year?this.month===c.month?this.day!==c.day&&this.day<c.day:this.month<c.month:this.year<c.year)}after(c){return!!c&&(this.year===c.year?this.month===c.month?this.day!==c.day&&this.day>c.day:this.month>c.month:this.year>c.year)}}function tu(s,c){return!function jp(s,c){return!s&&!c||!!s&&!!c&&s.equals(c)}(s,c)}function $p(s,c){return!(!s&&!c||s&&c&&s.year===c.year&&s.month===c.month)}function Vd(s,c,n){return s&&c&&s.before(c)?c:s&&n&&s.after(n)?n:s||null}function nu(s,c){const{minDate:n,maxDate:d,disabled:m,markDisabled:E}=c;return!(null==s||m||E&&E(s,{year:s.year,month:s.month})||n&&s.before(n)||d&&s.after(d))}function Pf(s){return new qi(s.getFullYear(),s.getMonth()+1,s.getDate())}function Rh(s){const c=new Date(s.year,s.month-1,s.day,12);return isNaN(c.getTime())||c.setFullYear(s.year),c}let Ff=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:function(){return function kf(){return new Oh}()},providedIn:"root"}),s})(),Oh=(()=>{class s extends Ff{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(n,d="d",m=1){let E=Rh(n),H=!0,le=E.getMonth();switch(d){case"y":E.setFullYear(E.getFullYear()+m);break;case"m":le+=m,E.setMonth(le),le%=12,le<0&&(le+=12);break;case"d":E.setDate(E.getDate()+m),H=!1;break;default:return n}return H&&E.getMonth()!==le&&E.setDate(0),Pf(E)}getPrev(n,d="d",m=1){return this.getNext(n,d,-m)}getWeekday(n){let m=Rh(n).getDay();return 0===m?7:m}getWeekNumber(n,d){7===d&&(d=0);const H=Rh(n[(11-d)%7]);H.setDate(H.getDate()+4-(H.getDay()||7));const le=H.getTime();return H.setMonth(0),H.setDate(1),Math.floor(Math.round((le-H.getTime())/864e5)/7)+1}getToday(){return Pf(new Date)}isValid(n){if(!(n&&Wi(n.year)&&Wi(n.month)&&Wi(n.day)&&0!==n.year))return!1;const d=Rh(n);return!isNaN(d.getTime())&&d.getFullYear()===n.year&&d.getMonth()+1===n.month&&d.getDate()===n.day}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})(),vu=(()=>{class s{getMonthLabel(n){return`${this.getMonthFullName(n.month,n.year)} ${this.getYearNumerals(n.year)}`}getDayNumerals(n){return`${n.day}`}getWeekNumerals(n){return`${n}`}getYearNumerals(n){return`${n}`}getWeekLabel(){return""}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:function(n){let d=null;return d=n?new n:function Lf(s){return new K_(s)}(a.LFG(a.soG)),d},providedIn:"root"}),s})(),K_=(()=>{class s extends vu{constructor(n){super(),this._locale=n,this._monthsShort=(0,$.UT)(n,$.x.Standalone,$.Tn.Abbreviated),this._monthsFull=(0,$.UT)(n,$.x.Standalone,$.Tn.Wide)}getWeekdayLabel(n,d){const m=(0,$.Mn)(this._locale,$.x.Standalone,void 0===d?$.Tn.Short:d);return m.map((H,le)=>m[(le+1)%7])[n-1]||""}getMonthShortName(n){return this._monthsShort[n-1]||""}getMonthFullName(n){return this._monthsFull[n-1]||""}getDayAriaLabel(n){const d=new Date(n.year,n.month-1,n.day);return(0,$.p6)(d,"fullDate",this._locale)}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(a.soG))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})(),xh=(()=>{class s{constructor(n,d){this._calendar=n,this._i18n=d,this._VALIDATORS={dayTemplateData:m=>{if(this._state.dayTemplateData!==m)return{dayTemplateData:m}},displayMonths:m=>{if(Wi(m=Ms(m))&&m>0&&this._state.displayMonths!==m)return{displayMonths:m}},disabled:m=>{if(this._state.disabled!==m)return{disabled:m}},firstDayOfWeek:m=>{if(Wi(m=Ms(m))&&m>=0&&this._state.firstDayOfWeek!==m)return{firstDayOfWeek:m}},focusVisible:m=>{if(this._state.focusVisible!==m&&!this._state.disabled)return{focusVisible:m}},markDisabled:m=>{if(this._state.markDisabled!==m)return{markDisabled:m}},maxDate:m=>{const E=this.toValidDate(m,null);if(tu(this._state.maxDate,E))return{maxDate:E}},minDate:m=>{const E=this.toValidDate(m,null);if(tu(this._state.minDate,E))return{minDate:E}},navigation:m=>{if(this._state.navigation!==m)return{navigation:m}},outsideDays:m=>{if(this._state.outsideDays!==m)return{outsideDays:m}},weekdays:m=>{const E=!0===m||!1===m?$.Tn.Short:m,H=!0!==m&&!1!==m||m;if(this._state.weekdayWidth!==E||this._state.weekdaysVisible!==H)return{weekdayWidth:E,weekdaysVisible:H}}},this._model$=new Gs.x,this._dateSelect$=new Gs.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:$.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,ki.h)(n=>n.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,ki.h)(n=>null!==n))}set(n){let d=Object.keys(n).map(m=>this._VALIDATORS[m](n[m])).reduce((m,E)=>({...m,...E}),{});Object.keys(d).length>0&&this._nextState(d)}focus(n){const d=this.toValidDate(n,null);null!=d&&!this._state.disabled&&tu(this._state.focusDate,d)&&this._nextState({focusDate:n})}focusSelect(){nu(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(n){const d=this.toValidDate(n,this._calendar.getToday());null!=d&&!this._state.disabled&&(!this._state.firstDate||$p(this._state.firstDate,d))&&this._nextState({firstDate:d})}select(n,d={}){const m=this.toValidDate(n,null);null!=m&&!this._state.disabled&&(tu(this._state.selectedDate,m)&&this._nextState({selectedDate:m}),d.emitEvent&&nu(m,this._state)&&this._dateSelect$.next(m))}toValidDate(n,d){const m=qi.from(n);return void 0===d&&(d=this._calendar.getToday()),this._calendar.isValid(m)?m:d}getMonth(n){for(let d of this._state.months)if(n.month===d.number&&n.year===d.year)return d;throw new Error(`month ${n.month} of year ${n.year} not found`)}_nextState(n){const d=this._updateState(n);this._patchContexts(d),this._state=d,this._model$.next(this._state)}_patchContexts(n){const{months:d,displayMonths:m,selectedDate:E,focusDate:H,focusVisible:le,disabled:ue,outsideDays:Te}=n;n.months.forEach(We=>{We.weeks.forEach(Gt=>{Gt.days.forEach(Ot=>{H&&(Ot.context.focused=H.equals(Ot.date)&&le),Ot.tabindex=!ue&&H&&Ot.date.equals(H)&&H.month===We.number?0:-1,!0===ue&&(Ot.context.disabled=!0),void 0!==E&&(Ot.context.selected=null!==E&&E.equals(Ot.date)),We.number!==Ot.date.month&&(Ot.hidden="hidden"===Te||"collapsed"===Te||m>1&&Ot.date.after(d[0].firstDate)&&Ot.date.before(d[m-1].lastDate))})})})}_updateState(n){const d=Object.assign({},this._state,n);let m=d.firstDate;if(("minDate"in n||"maxDate"in n)&&(function q_(s,c){if(c&&s&&c.before(s))throw new Error(`'maxDate' ${c} should be greater than 'minDate' ${s}`)}(d.minDate,d.maxDate),d.focusDate=Vd(d.focusDate,d.minDate,d.maxDate),d.firstDate=Vd(d.firstDate,d.minDate,d.maxDate),m=d.focusDate),"disabled"in n&&(d.focusVisible=!1),"selectedDate"in n&&0===this._state.months.length&&(m=d.selectedDate),"focusVisible"in n||"focusDate"in n&&(d.focusDate=Vd(d.focusDate,d.minDate,d.maxDate),m=d.focusDate,0!==d.months.length&&d.focusDate&&!d.focusDate.before(d.firstDate)&&!d.focusDate.after(d.lastDate)))return d;if("firstDate"in n&&(d.firstDate=Vd(d.firstDate,d.minDate,d.maxDate),m=d.firstDate),m){const H=function iv(s,c,n,d,m){const{displayMonths:E,months:H}=n,le=H.splice(0,H.length);return Array.from({length:E},(Te,We)=>{const Gt=Object.assign(s.getNext(c,"m",We),{day:1});if(H[We]=null,!m){const Ot=le.findIndex(Ft=>Ft.firstDate.equals(Gt));-1!==Ot&&(H[We]=le.splice(Ot,1)[0])}return Gt}).forEach((Te,We)=>{null===H[We]&&(H[We]=function zp(s,c,n,d,m={}){const{dayTemplateData:E,minDate:H,maxDate:le,firstDayOfWeek:ue,markDisabled:Te,outsideDays:We,weekdayWidth:Gt,weekdaysVisible:Ot}=n,Ft=s.getToday();m.firstDate=null,m.lastDate=null,m.number=c.month,m.year=c.year,m.weeks=m.weeks||[],m.weekdays=m.weekdays||[],c=function ov(s,c,n){const d=s.getDaysPerWeek(),m=new qi(c.year,c.month,1),E=s.getWeekday(m)%d;return s.getPrev(m,"d",(d+E-n)%d)}(s,c,ue),Ot||(m.weekdays.length=0);for(let bn=0;bn<s.getWeeksPerMonth();bn++){let Sn=m.weeks[bn];Sn||(Sn=m.weeks[bn]={number:0,days:[],collapsed:!0});const kn=Sn.days;for(let Kn=0;Kn<s.getDaysPerWeek();Kn++){0===bn&&Ot&&(m.weekdays[Kn]=d.getWeekdayLabel(s.getWeekday(c),Gt));const mr=new qi(c.year,c.month,c.day),Hr=s.getNext(mr),Hn=d.getDayAriaLabel(mr);let qr=!!(H&&mr.before(H)||le&&mr.after(le));!qr&&Te&&(qr=Te(mr,{month:m.number,year:m.year}));let Zr=mr.equals(Ft),Fi=E?E(mr,{month:m.number,year:m.year}):void 0;null===m.firstDate&&mr.month===m.number&&(m.firstDate=mr),mr.month===m.number&&Hr.month!==m.number&&(m.lastDate=mr);let Ii=kn[Kn];Ii||(Ii=kn[Kn]={}),Ii.date=mr,Ii.context=Object.assign(Ii.context||{},{$implicit:mr,date:mr,data:Fi,currentMonth:m.number,currentYear:m.year,disabled:qr,focused:!1,selected:!1,today:Zr}),Ii.tabindex=-1,Ii.ariaLabel=Hn,Ii.hidden=!1,c=Hr}Sn.number=s.getWeekNumber(kn.map(Kn=>Kn.date),ue),Sn.collapsed="collapsed"===We&&kn[0].date.month!==m.number&&kn[kn.length-1].date.month!==m.number}return m}(s,Te,n,d,le.shift()||{}))}),H}(this._calendar,m,d,this._i18n,"dayTemplateData"in n||"firstDayOfWeek"in n||"markDisabled"in n||"minDate"in n||"maxDate"in n||"disabled"in n||"outsideDays"in n||"weekdaysVisible"in n);d.months=H,d.firstDate=H[0].firstDate,d.lastDate=H[H.length-1].lastDate,"selectedDate"in n&&!nu(d.selectedDate,d)&&(d.selectedDate=null),"firstDate"in n&&(!d.focusDate||d.focusDate.before(d.firstDate)||d.focusDate.after(d.lastDate))&&(d.focusDate=m);const le=!this._state.firstDate||this._state.firstDate.year!==d.firstDate.year,ue=!this._state.firstDate||this._state.firstDate.month!==d.firstDate.month;"select"===d.navigation?(("minDate"in n||"maxDate"in n||0===d.selectBoxes.years.length||le)&&(d.selectBoxes.years=function Z_(s,c,n){if(!s)return[];const d=c?Math.max(c.year,s.year-500):s.year-10,E=(n?Math.min(n.year,s.year+500):s.year+10)-d+1,H=Array(E);for(let le=0;le<E;le++)H[le]=d+le;return H}(d.firstDate,d.minDate,d.maxDate)),("minDate"in n||"maxDate"in n||0===d.selectBoxes.months.length||le)&&(d.selectBoxes.months=function Hp(s,c,n,d){if(!c)return[];let m=s.getMonths(c.year);if(n&&c.year===n.year){const E=m.findIndex(H=>H===n.month);m=m.slice(E)}if(d&&c.year===d.year){const E=m.findIndex(H=>H===d.month);m=m.slice(0,E+1)}return m}(this._calendar,d.firstDate,d.minDate,d.maxDate))):d.selectBoxes={years:[],months:[]},("arrows"===d.navigation||"select"===d.navigation)&&(ue||le||"minDate"in n||"maxDate"in n||"disabled"in n)&&(d.prevDisabled=d.disabled||function rv(s,c,n){const d=Object.assign(s.getPrev(c,"m"),{day:1});return null!=n&&(d.year===n.year&&d.month<n.month||d.year<n.year&&1===n.month)}(this._calendar,d.firstDate,d.minDate),d.nextDisabled=d.disabled||function Gp(s,c,n){const d=Object.assign(s.getNext(c,"m"),{day:1});return null!=n&&d.after(n)}(this._calendar,d.lastDate,d.maxDate))}return d}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Ff),a.LFG(vu))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();var hc=(()=>{return(s=hc||(hc={}))[s.PREV=0]="PREV",s[s.NEXT=1]="NEXT",hc;var s})();let Wp=(()=>{class s{constructor(n){this.i18n=n}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(vu))},s.\u0275cmp=a.Xpm({type:s,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(n,d){2&n&&a.ekj("bg-primary",d.selected)("text-white",d.selected)("text-muted",d.isMuted())("outside",d.isMuted())("active",d.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:jy,decls:1,vars:1,template:function(n,d){1&n&&a._uU(0),2&n&&a.Oqu(d.i18n.getDayNumerals(d.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),s})(),Y_=(()=>{class s{constructor(n,d){this.i18n=n,this._renderer=d,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(n){this.select.emit(new qi(this.date.year,Ms(n),1))}changeYear(n){this.select.emit(new qi(Ms(n),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(vu),a.Y36(a.Qsj))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(n,d){if(1&n&&(a.Gf(Qg,7,a.SBq),a.Gf(Xg,7,a.SBq)),2&n){let m;a.iGM(m=a.CRH())&&(d.monthSelect=m.first),a.iGM(m=a.CRH())&&(d.yearSelect=m.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let c,n,d,m;return c=$localize`:@@ngb.datepicker.select-month:Select month`,n=$localize`:@@ngb.datepicker.select-month:Select month`,d=$localize`:@@ngb.datepicker.select-year:Select year`,m=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",c,"title",n,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",d,"title",m,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(n,d){1&n&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(E){return d.changeMonth(E.target.value)}),a.YNc(2,Hy,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(E){return d.changeYear(E.target.value)}),a.YNc(5,T_,2,2,"option",2),a.qZA()),2&n&&(a.Q6J("disabled",d.disabled),a.xp6(2),a.Q6J("ngForOf",d.months),a.xp6(1),a.Q6J("disabled",d.disabled),a.xp6(2),a.Q6J("ngForOf",d.years))},dependencies:[$.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),s})(),Bf=(()=>{class s{constructor(n){this.i18n=n,this.navigation=hc,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(vu))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let c,n,d,m;return c=$localize`:@@ngb.datepicker.previous-month:Previous month`,n=$localize`:@@ngb.datepicker.previous-month:Previous month`,d=$localize`:@@ngb.datepicker.next-month:Next month`,m=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",c,"title",n,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",d,"title",m,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(n,d){1&n&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(E){return d.onClickPrev(E)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,f0,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,Gy,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(E){return d.onClickNext(E)}),a._UZ(7,"span",2),a.qZA()()),2&n&&(a.xp6(1),a.Q6J("disabled",d.prevDisabled),a.xp6(2),a.Q6J("ngIf",d.showSelect),a.xp6(1),a.Q6J("ngIf",!d.showSelect),a.xp6(2),a.Q6J("disabled",d.nextDisabled))},dependencies:[$.O5,$.ax,Y_],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),s})();var ei=(()=>{return(s=ei||(ei={}))[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown",ei;var s})();let qp=(()=>{class s{processKey(n,d){const{state:m,calendar:E}=d;switch(n.which){case ei.PageUp:d.focusDate(E.getPrev(m.focusedDate,n.shiftKey?"y":"m",1));break;case ei.PageDown:d.focusDate(E.getNext(m.focusedDate,n.shiftKey?"y":"m",1));break;case ei.End:d.focusDate(n.shiftKey?m.maxDate:m.lastDate);break;case ei.Home:d.focusDate(n.shiftKey?m.minDate:m.firstDate);break;case ei.ArrowLeft:d.focusDate(E.getPrev(m.focusedDate,"d",1));break;case ei.ArrowUp:d.focusDate(E.getPrev(m.focusedDate,"d",E.getDaysPerWeek()));break;case ei.ArrowRight:d.focusDate(E.getNext(m.focusedDate,"d",1));break;case ei.ArrowDown:d.focusDate(E.getNext(m.focusedDate,"d",E.getDaysPerWeek()));break;case ei.Enter:case ei.Space:d.focusSelect();break;default:return}n.preventDefault(),n.stopPropagation()}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Uf=(()=>{class s{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=$.Tn.Short}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Sm=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:function(){return function Ph(){return new Zp}()},providedIn:"root"}),s})(),Zp=(()=>{class s extends Sm{fromModel(n){return n&&Wi(n.year)&&Wi(n.month)&&Wi(n.day)?{year:n.year,month:n.month,day:n.day}:null}toModel(n){return n&&Wi(n.year)&&Wi(n.month)&&Wi(n.day)?{year:n.year,month:n.month,day:n.day}:null}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})(),Kp=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),s})(),fc=(()=>{class s{constructor(n,d,m,E){this.i18n=n,this.datepicker=d,this._keyboardService=m,this._service=E}set month(n){this.viewModel=this._service.getMonth(n)}onKeyDown(n){this._keyboardService.processKey(n,this.datepicker)}doSelect(n){!n.context.disabled&&!n.hidden&&this.datepicker.onDateSelect(n.date)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(vu),a.Y36((0,a.Gpc)(()=>$d)),a.Y36(qp),a.Y36(xh))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(n,d){1&n&&a.NdJ("keydown",function(E){return d.onKeyDown(E)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,d){1&n&&(a.YNc(0,vf,3,2,"div",0),a.YNc(1,S_,1,1,"ng-template",1)),2&n&&(a.Q6J("ngIf",d.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",d.viewModel.weeks))},dependencies:[$.O5,$.ax,$.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),s})(),$d=(()=>{class s{constructor(n,d,m,E,H,le,ue,Te){this._service=n,this._calendar=d,this.i18n=m,this._elementRef=le,this._ngbDateAdapter=ue,this._ngZone=Te,this._controlValue=null,this._destroyed$=new Gs.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=We=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(We=>this[We]=E[We]),n.dateSelect$.pipe(sr(this._destroyed$)).subscribe(We=>{this.dateSelect.emit(We)}),n.model$.pipe(sr(this._destroyed$)).subscribe(We=>{const Gt=We.firstDate,Ot=this.model?this.model.firstDate:null;this._publicState={maxDate:We.maxDate,minDate:We.minDate,firstDate:We.firstDate,lastDate:We.lastDate,focusedDate:We.focusDate,months:We.months.map(Kn=>Kn.firstDate)};let Ft=!1;if(!Gt.equals(Ot)&&(this.navigate.emit({current:Ot?{year:Ot.year,month:Ot.month}:null,next:{year:Gt.year,month:Gt.month},preventDefault:()=>Ft=!0}),Ft&&null!==Ot))return void this._service.open(Ot);const bn=We.selectedDate,Sn=We.focusDate,kn=this.model?this.model.focusDate:null;this.model=We,tu(bn,this._controlValue)&&(this._controlValue=bn,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(bn))),tu(Sn,kn)&&kn&&We.focusVisible&&this.focus(),H.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(n){this._service.focus(qi.from(n))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,ja.q)(1)).subscribe(()=>{const n=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');n&&n.focus()})}navigateTo(n){this._service.open(qi.from(n?n.day?n:{...n,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=Fr(this._contentEl.nativeElement,"focusin"),d=Fr(this._contentEl.nativeElement,"focusout"),{nativeElement:m}=this._elementRef;(0,d0.T)(n,d).pipe((0,ki.h)(({target:E,relatedTarget:H})=>!(Eh(E,"ngb-dp-day")&&Eh(H,"ngb-dp-day")&&m.contains(E)&&m.contains(H))),sr(this._destroyed$)).subscribe(({type:E})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===E})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const n={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(d=>n[d]=this[d]),this._service.set(n),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(n){const d={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(m=>m in n).forEach(m=>d[m]=this[m]),this._service.set(d),"startDate"in n){const{currentValue:m,previousValue:E}=n.startDate;$p(E,m)&&this.navigateTo(this.startDate)}}onDateSelect(n){this._service.focus(n),this._service.select(n,{emitEvent:!0})}onNavigateDateSelect(n){this._service.open(n)}onNavigateEvent(n){switch(n){case hc.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case hc.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this._service.set({disabled:n})}writeValue(n){this._controlValue=qi.from(this._ngbDateAdapter.fromModel(n)),this._service.select(this._controlValue)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(xh),a.Y36(Ff),a.Y36(vu),a.Y36(Uf),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Sm),a.Y36(a.R0b))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-datepicker"]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,Kp,7),2&n){let E;a.iGM(E=a.CRH())&&(d.contentTemplate=E.first)}},viewQuery:function(n,d){if(1&n&&(a.Gf(M_,7),a.Gf(im,7)),2&n){let m;a.iGM(m=a.CRH())&&(d._defaultDayTemplate=m.first),a.iGM(m=a.CRH())&&(d._contentEl=m.first)}},hostVars:2,hostBindings:function(n,d){2&n&&a.ekj("disabled",d.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:Dt,useExisting:(0,a.Gpc)(()=>s),multi:!0},xh]),a.TTD,a.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(n,d){if(1&n&&(a.YNc(0,Wy,1,5,"ng-template",null,0,a.W1O),a.YNc(2,sm,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,N_,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,qc,0,0,"ng-template",6),a.qZA(),a.YNc(9,wf,0,0,"ng-template",6)),2&n){const m=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==d.navigation),a.xp6(1),a.ekj("ngb-dp-months",!d.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==d.contentTemplate?null:d.contentTemplate.templateRef)||m),a.xp6(1),a.Q6J("ngTemplateOutlet",d.footerTemplate)}},dependencies:[$.O5,$.ax,$.tP,Wp,fc,Bf],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),s})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const kh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $f(s){const c=Array.from(s.querySelectorAll(kh)).filter(n=>-1!==n.tabIndex);return[c[0],c[c.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ly=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[$d,fc]}),s})(),Zf=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=a.lG2({type:s,selectors:[["",8,"navbar"]],standalone:!0}),s})(),Gd=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})();class sd{constructor(c,n,d){this.nodes=c,this.viewRef=n,this.componentRef=d}}let Yf=(()=>{class s{constructor(n,d){this._el=n,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ja.q)(1)).subscribe(()=>{mo(this._zone,this._el.nativeElement,(n,d)=>{d&&Qc(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mo(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq),a.Y36(a.R0b))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,d){2&n&&(a.Tol("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),a.ekj("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(n,d){},encapsulation:2}),s})();class lg{close(c){}dismiss(c){}}class $h{constructor(c,n,d,m){this._windowCmptRef=c,this._contentRef=n,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new Gs.x,this._dismissed=new Gs.x,this._hidden=new Gs.x,c.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,H)=>{this._resolve=E,this._reject=H}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(c){this._windowCmptRef&&(this._closed.next(c),this._resolve(c),this._removeModalElements())}_dismiss(c){this._dismissed.next(c),this._reject(c),this._removeModalElements()}dismiss(c){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Ql(s){return s&&s.then}(n)?!1!==n&&this._dismiss(c):n.then(d=>{!1!==d&&this._dismiss(c)},()=>{})}else this._dismiss(c)}_removeModalElements(){const c=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Wn.of)(void 0);c.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),rf(c,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jh=(()=>{return(s=jh||(jh={}))[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC",jh;var s})();let Jf=(()=>{class s{constructor(n,d,m){this._document=n,this._elRef=d,this._zone=m,this._closed$=new Gs.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new Gs.x,this.hidden=new Gs.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ja.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,d={animation:this.animation,runningTransition:"stop"},H=rf(mo(this._zone,n,()=>n.classList.remove("show"),d),mo(this._zone,this._dialogEl.nativeElement,()=>{},d));return H.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),H}_show(){const n={animation:this.animation,runningTransition:"continue"};rf(mo(this._zone,this._elRef.nativeElement,(E,H)=>{H&&Qc(E),E.classList.add("show")},n),mo(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Fr(n,"keydown").pipe(sr(this._closed$),(0,ki.h)(m=>m.which===ei.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(jh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;Fr(this._dialogEl.nativeElement,"mousedown").pipe(sr(this._closed$),(0,Ml.b)(()=>d=!1),(0,Iu.w)(()=>Fr(n,"mouseup").pipe(sr(this._closed$),(0,ja.q)(1))),(0,ki.h)(({target:m})=>n===m)).subscribe(()=>{d=!0}),Fr(n,"click").pipe(sr(this._closed$)).subscribe(({target:m})=>{n===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(jh.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const d=n.querySelector("[ngbAutofocus]"),m=$f(n)[0];(d||m||n).focus()}}_restoreFocus(){const n=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&n.contains(d)?d:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mo(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return s.\u0275fac=function(n){return new(n||s)(a.Y36($.K0),a.Y36(a.SBq),a.Y36(a.R0b))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(n,d){if(1&n&&a.Gf(Df,7),2&n){let m;a.iGM(m=a.CRH())&&(d._dialogEl=m.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,d){2&n&&(a.uIk("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),a.Tol("modal d-block"+(d.windowClass?" "+d.windowClass:"")),a.ekj("fade",d.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:vp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,d){1&n&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&n&&a.Tol("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+d.fullscreenClass+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),s})(),ug=(()=>{class s{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:E,paddingRight:H}=m;if(n>0){const le=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${le+n}px`}return m.overflow="hidden",()=>{n>0&&(m.paddingRight=H),m.overflow=E}}}return s.\u0275fac=function(n){return new(n||s)(a.LFG($.K0))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),cg=(()=>{class s{constructor(n,d,m,E,H,le,ue){this._applicationRef=n,this._injector=d,this._environmentInjector=m,this._document=E,this._scrollBar=H,this._rendererFactory=le,this._ngZone=ue,this._activeWindowCmptHasChanged=new Gs.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Te=this._windowCmpts[this._windowCmpts.length-1];((s,c,n,d=!1)=>{s.runOutsideAngular(()=>{const m=Fr(c,"focusin").pipe(sr(n),(0,Qe.U)(E=>E.target));Fr(c,"keydown").pipe(sr(n),(0,ki.h)(E=>E.which===ei.Tab),ap(m)).subscribe(([E,H])=>{const[le,ue]=$f(c);(H===le||H===c)&&E.shiftKey&&(ue.focus(),E.preventDefault()),H===ue&&!E.shiftKey&&(le.focus(),E.preventDefault())}),d&&Fr(c,"click").pipe(sr(n),ap(m),(0,Qe.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,Te.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Te.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,d,m){const E=m.container instanceof HTMLElement?m.container:ac(m.container)?this._document.querySelector(m.container):this._document.body,H=this._rendererFactory.createRenderer(null,null);if(!E)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const le=new lg,ue=(n=m.injector||n).get(a.lqb,null)||this._environmentInjector,Te=this._getContentRef(n,ue,d,le,m);let We=!1!==m.backdrop?this._attachBackdrop(E):void 0,Gt=this._attachWindowComponent(E,Te.nodes),Ot=new $h(Gt,Te,We,m.beforeDismiss);return this._registerModalRef(Ot),this._registerWindowCmpt(Gt),Ot.hidden.pipe((0,ja.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(H.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),le.close=Ft=>{Ot.close(Ft)},le.dismiss=Ft=>{Ot.dismiss(Ft)},this._applyWindowOptions(Gt.instance,m),1===this._modalRefs.length&&H.addClass(this._document.body,"modal-open"),We&&We.instance&&(this._applyBackdropOptions(We.instance,m),We.changeDetectorRef.detectChanges()),Gt.changeDetectorRef.detectChanges(),Ot}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(d=>d.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let d=(0,a.LMc)(Yf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),n.appendChild(d.location.nativeElement),d}_attachWindowComponent(n,d){let m=(0,a.LMc)(Jf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),n.appendChild(m.location.nativeElement),m}_applyWindowOptions(n,d){this._windowAttributes.forEach(m=>{ac(d[m])&&(n[m]=d[m])})}_applyBackdropOptions(n,d){this._backdropAttributes.forEach(m=>{ac(d[m])&&(n[m]=d[m])})}_getContentRef(n,d,m,E,H){return m?m instanceof a.Rgc?this._createFromTemplateRef(m,E):Jc(m)?this._createFromString(m):this._createFromComponent(n,d,m,E,H):new sd([])}_createFromTemplateRef(n,d){const E=n.createEmbeddedView({$implicit:d,close(H){d.close(H)},dismiss(H){d.dismiss(H)}});return this._applicationRef.attachView(E),new sd([E.rootNodes],E)}_createFromString(n){const d=this._document.createTextNode(`${n}`);return new sd([[d]])}_createFromComponent(n,d,m,E,H){const le=a.zs3.create({providers:[{provide:lg,useValue:E}],parent:n}),ue=(0,a.LMc)(m,{environmentInjector:d,elementInjector:le}),Te=ue.location.nativeElement;return H.scrollable&&Te.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new sd([[Te]],ue.hostView,ue)}_setAriaHidden(n){const d=n.parentElement;d&&n!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==n&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,d)=>{n?d.setAttribute("aria-hidden",n):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const d=()=>{const m=this._modalRefs.indexOf(n);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(d,d)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const d=this._windowCmpts.indexOf(n);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG($.K0),a.LFG(ug),a.LFG(a.FYo),a.LFG(a.R0b))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Du=(()=>{class s{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),yv=(()=>{class s{constructor(n,d,m){this._injector=n,this._modalStack=d,this._config=m}open(n,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,n,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(a.zs3),a.LFG(cg),a.LFG(Du))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Hh=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[yv]}),s})();const bv=({classList:s})=>(s.remove("show"),()=>s.remove("active")),qh=(s,c)=>{c&&Qc(s),s.classList.add("show")};let Zh=(()=>{class s{constructor(n){this.elRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.SBq))},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(n,d){2&n&&(a.Ikx("id",d.item.panelDomId),a.uIk("role",d.role?d.role:d.nav.roles?"tabpanel":void 0)("aria-labelledby",d.item.domId),a.ekj("fade",d.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),s})(),Qf=(()=>{class s{constructor(n,d){this._cd=n,this._ngZone=d,this._activePane=null}isPanelTransitioning(n){return this._activePane?.item===n}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(sr(this.nav.destroy$),(0,sp.O)(this._activePane?.item||null),(0,Id.x)(),function up(s){return(0,ki.h)((c,n)=>s<=n)}(1)).subscribe(n=>{const d={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?mo(this._ngZone,this._activePane.elRef.nativeElement,bv,d).subscribe(()=>{const m=this._activePane?.item;this._activePane=this._getPaneForItem(n),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),mo(this._ngZone,this._activePane.elRef.nativeElement,qh,d).subscribe(()=>{n&&(n.shown.emit(),this.nav.shown.emit(n.id))})),m&&(m.hidden.emit(),this.nav.hidden.emit(m.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(d=>d.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.sBO),a.Y36(a.R0b))},s.\u0275cmp=a.Xpm({type:s,selectors:[["","ngbNavOutlet",""]],viewQuery:function(n,d){if(1&n&&a.Gf(Zh,5),2&n){let m;a.iGM(m=a.CRH())&&(d._panes=m)}},hostVars:2,hostBindings:function(n,d){2&n&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:Dp,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,d){1&n&&a.YNc(0,Ky,1,1,"ng-template",0),2&n&&a.Q6J("ngForOf",d.nav.items)},dependencies:[Zh,$.ax,$.O5,$.tP],encapsulation:2,changeDetection:0}),s})(),_o=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Qf]}),s})(),wv=(()=>{class s{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),fg=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),s})(),pg=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),s})(),Gm=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),s})(),gg=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),s})(),Xf=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),s})(),Kh=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),s})(),zm=(()=>{class s{constructor(n){this.templateRef=n}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(a.Rgc))},s.\u0275dir=a.lG2({type:s,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),s})(),Dv=(()=>{class s{constructor(n){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=n.disabled,this.boundaryLinks=n.boundaryLinks,this.directionLinks=n.directionLinks,this.ellipses=n.ellipses,this.maxSize=n.maxSize,this.pageSize=n.pageSize,this.rotate=n.rotate,this.size=n.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(n){this._updatePages(n)}ngOnChanges(n){this._updatePages(this.page)}isEllipsis(n){return-1===n}_applyEllipses(n,d){this.ellipses&&(n>0&&(n>2?this.pages.unshift(-1):2===n&&this.pages.unshift(2),this.pages.unshift(1)),d<this.pageCount&&(d<this.pageCount-2?this.pages.push(-1):d===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let n=0,d=this.pageCount,m=Math.floor(this.maxSize/2);return this.page<=m?d=this.maxSize:this.pageCount-this.page<m?n=this.pageCount-this.maxSize:(n=this.page-m-1,d=this.page+(this.maxSize%2==0?m-1:m)),[n,d]}_applyPagination(){let d=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[d,d+this.maxSize]}_setPageInRange(n){const d=this.page;this.page=Dh(n,this.pageCount,1),this.page!==d&&Ro(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(n){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ro(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let d=1;d<=this.pageCount;d++)this.pages.push(d);if(this._setPageInRange(n),this.maxSize>0&&this.pageCount>this.maxSize){let d=0,m=this.pageCount;[d,m]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(d,m),this._applyEllipses(d,m)}}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(wv))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-pagination"]],contentQueries:function(n,d,m){if(1&n&&(a.Suo(m,fg,5),a.Suo(m,pg,5),a.Suo(m,Gm,5),a.Suo(m,gg,5),a.Suo(m,Xf,5),a.Suo(m,Kh,5),a.Suo(m,zm,5)),2&n){let E;a.iGM(E=a.CRH())&&(d.tplEllipsis=E.first),a.iGM(E=a.CRH())&&(d.tplFirst=E.first),a.iGM(E=a.CRH())&&(d.tplLast=E.first),a.iGM(E=a.CRH())&&(d.tplNext=E.first),a.iGM(E=a.CRH())&&(d.tplNumber=E.first),a.iGM(E=a.CRH())&&(d.tplPrevious=E.first),a.iGM(E=a.CRH())&&(d.tplPages=E.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a.TTD,a.jDz],decls:20,vars:12,consts:function(){let c,n,d,m,E,H,le,ue;return c=$localize`:@@ngb.pagination.first:`,n=$localize`:@@ngb.pagination.previous:`,d=$localize`:@@ngb.pagination.next:`,m=$localize`:@@ngb.pagination.last:`,E=$localize`:@@ngb.pagination.first-aria:First`,H=$localize`:@@ngb.pagination.previous-aria:Previous`,le=$localize`:@@ngb.pagination.next-aria:Next`,ue=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],c,n,d,m,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",E,"href","",1,"page-link",3,"click"],["aria-label",H,"href","",1,"page-link",3,"click"],["aria-label",le,"href","",1,"page-link",3,"click"],["aria-label",ue,"href","",1,"page-link",3,"click"]]},template:function(n,d){if(1&n&&(a.YNc(0,Cp,2,0,"ng-template",null,0,a.W1O),a.YNc(2,Yy,2,0,"ng-template",null,1,a.W1O),a.YNc(4,lm,2,0,"ng-template",null,2,a.W1O),a.YNc(6,Cf,2,0,"ng-template",null,3,a.W1O),a.YNc(8,kd,1,0,"ng-template",null,4,a.W1O),a.YNc(10,Zc,2,2,"ng-template",null,5,a.W1O),a.YNc(12,Tp,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,O_,3,9,"li",7),a.YNc(16,x_,3,8,"li",7),a.YNc(17,P_,0,0,"ng-template",8),a.YNc(18,oa,3,9,"li",7),a.YNc(19,k_,3,9,"li",7),a.qZA()),2&n){const m=a.MAs(13);a.xp6(14),a.Tol("pagination"+(d.size?" pagination-"+d.size:"")),a.xp6(1),a.Q6J("ngIf",d.boundaryLinks),a.xp6(1),a.Q6J("ngIf",d.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==d.tplPages?null:d.tplPages.templateRef)||m)("ngTemplateOutletContext",a.kEZ(8,p0,d.page,d.pages,d.disabled)),a.xp6(1),a.Q6J("ngIf",d.directionLinks),a.xp6(1),a.Q6J("ngIf",d.boundaryLinks)}},dependencies:[$.O5,$.ax,$.tP],encapsulation:2,changeDetection:0}),s})(),dy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Dv]}),s})(),hy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})(),Iv=(()=>{class s{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Tv=(()=>{class s{constructor(n){this.value=0,this.max=n.max,this.animated=n.animated,this.ariaLabel=n.ariaLabel,this.striped=n.striped,this.textType=n.textType,this.type=n.type,this.showValue=n.showValue,this.height=n.height}set max(n){this._max=!Ro(n)||n<=0?100:n}get max(){return this._max}getValue(){return Dh(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Iv))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(n,d){2&n&&(a.uIk("aria-valuenow",d.getValue())("aria-valuemax",d.max)("aria-label",d.ariaLabel),a.Udp("height",d.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:vp,decls:3,vars:11,consts:function(){let c;return c=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],c]},template:function(n,d){1&n&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,dm,3,3,"span",0),a.Hsn(2),a.qZA()),2&n&&(a.MT6("progress-bar",d.type?d.textType?" bg-"+d.type:" text-bg-"+d.type:"","",d.textType?" text-"+d.textType:"",""),a.Udp("width",d.getPercentValue(),"%"),a.ekj("progress-bar-animated",d.animated)("progress-bar-striped",d.striped),a.xp6(1),a.Q6J("ngIf",d.showValue))},dependencies:[$.O5,$.Zx],encapsulation:2,changeDetection:0}),s})(),Wm=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Tv]}),s})(),fy=(()=>{class s{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),py=(()=>{class s{constructor(n,d){this._changeDetectorRef=d,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=m=>{},this.onTouched=()=>{},this.max=n.max,this.readonly=n.readonly,this.tabindex=n.tabindex}ariaValueText(n,d){return`${n} out of ${d}`}isInteractive(){return!this.readonly&&!this.disabled}enter(n){this.isInteractive()&&this._updateState(n),this.hover.emit(n)}handleBlur(){this.onTouched()}handleClick(n){this.isInteractive()&&this.update(this.resettable&&this.rate===n?0:n)}handleKeyDown(n){switch(n.which){case ei.ArrowDown:case ei.ArrowLeft:this.update(this.rate-1);break;case ei.ArrowUp:case ei.ArrowRight:this.update(this.rate+1);break;case ei.Home:this.update(0);break;case ei.End:this.update(this.max);break;default:return}n.preventDefault()}ngOnChanges(n){n.rate&&this.update(this.rate),n.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(n){this.disabled=n}update(n,d=!0){const m=Dh(n,this.max,0);this.isInteractive()&&this.rate!==m&&(this.rate=m,this.rateChange.emit(this.rate)),d&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(n){this.update(n,!1),this._changeDetectorRef.markForCheck()}_updateState(n){this.nextRate=n,this.contexts.forEach((d,m)=>d.fill=Math.round(100*Dh(n-m,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(n,d)=>({fill:0,index:d}))}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(fy),a.Y36(a.sBO))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-rating"]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,a.Rgc,5),2&n){let E;a.iGM(E=a.CRH())&&(d.starTemplateFromContent=E.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(n,d){1&n&&a.NdJ("blur",function(){return d.handleBlur()})("keydown",function(E){return d.handleKeyDown(E)})("mouseleave",function(){return d.reset()}),2&n&&(a.Ikx("tabindex",d.disabled?-1:d.tabindex),a.uIk("aria-valuemax",d.max)("aria-valuenow",d.nextRate)("aria-valuetext",d.ariaValueText(d.nextRate,d.max))("aria-disabled",!!d.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[a._Bn([{provide:Dt,useExisting:(0,a.Gpc)(()=>s),multi:!0}]),a.TTD,a.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,d){1&n&&(a.YNc(0,Qy,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Sf,4,5,"ng-template",1)),2&n&&(a.xp6(2),a.Q6J("ngForOf",d.contexts))},dependencies:[$.ax,$.tP],encapsulation:2,changeDetection:0}),s})(),gy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[py]}),s})();class qm{constructor(c,n,d){this.hour=Ms(c),this.minute=Ms(n),this.second=Ms(d)}changeHour(c=1){this.updateHour((isNaN(this.hour)?0:this.hour)+c)}updateHour(c){this.hour=Ro(c)?(c<0?24+c:c)%24:NaN}changeMinute(c=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+c)}updateMinute(c){Ro(c)?(this.minute=c%60<0?60+c%60:c%60,this.changeHour(Math.floor(c/60))):this.minute=NaN}changeSecond(c=1){this.updateSecond((isNaN(this.second)?0:this.second)+c)}updateSecond(c){Ro(c)?(this.second=c<0?60+c%60:c%60,this.changeMinute(Math.floor(c/60))):this.second=NaN}isValid(c=!0){return Ro(this.hour)&&Ro(this.minute)&&(!c||Ro(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Av=(()=>{class s{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Yh=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:function(){return function Sv(){return new my}()},providedIn:"root"}),s})(),my=(()=>{class s extends Yh{fromModel(n){return n&&Wi(n.hour)&&Wi(n.minute)?{hour:n.hour,minute:n.minute,second:Wi(n.second)?n.second:null}:null}toModel(n){return n&&Wi(n.hour)&&Wi(n.minute)?{hour:n.hour,minute:n.minute,second:Wi(n.second)?n.second:null}:null}}return s.\u0275fac=function(){let c;return function(d){return(c||(c=a.n5z(s)))(d||s)}}(),s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})(),Mv=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=a.Yz7({token:s,factory:function(n){let d=null;return d=n?new n:function db(s){return new _y(s)}(a.LFG(a.soG)),d},providedIn:"root"}),s})(),_y=(()=>{class s extends Mv{constructor(n){super(),this._periods=(0,$.ol)(n,$.x.Standalone,$.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(a.soG))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac}),s})();const yg=/[^0-9]/g;let Nv=(()=>{class s{constructor(n,d,m,E){this._config=n,this._ngbTimeAdapter=d,this._cd=m,this.i18n=E,this.onChange=H=>{},this.onTouched=()=>{},this.meridian=n.meridian,this.spinners=n.spinners,this.seconds=n.seconds,this.hourStep=n.hourStep,this.minuteStep=n.minuteStep,this.secondStep=n.secondStep,this.disabled=n.disabled,this.readonlyInputs=n.readonlyInputs,this.size=n.size}set hourStep(n){this._hourStep=Wi(n)?n:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(n){this._minuteStep=Wi(n)?n:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(n){this._secondStep=Wi(n)?n:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(n){const d=this._ngbTimeAdapter.fromModel(n);this.model=d?new qm(d.hour,d.minute,d.second):new qm,!this.seconds&&(!d||!Ro(d.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}changeHour(n){this.model?.changeHour(n),this.propagateModelChange()}changeMinute(n){this.model?.changeMinute(n),this.propagateModelChange()}changeSecond(n){this.model?.changeSecond(n),this.propagateModelChange()}updateHour(n){const d=!!this.model&&this.model.hour>=12,m=Ms(n);this.model?.updateHour(this.meridian&&(d&&m<12||!d&&12===m)?m+12:m),this.propagateModelChange()}updateMinute(n){this.model?.updateMinute(Ms(n)),this.propagateModelChange()}updateSecond(n){this.model?.updateSecond(Ms(n)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(n){n.value=n.value.replace(yg,"")}formatHour(n){return Ro(n)?lc(this.meridian?n%12==0?12:n%12:n%24):lc(NaN)}formatMinSec(n){return lc(Ro(n)?n:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(n){n.seconds&&!this.seconds&&this.model&&!Ro(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(n=!0){n&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Av),a.Y36(Yh),a.Y36(a.sBO),a.Y36(Mv))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[a._Bn([{provide:Dt,useExisting:(0,a.Gpc)(()=>s),multi:!0}]),a.TTD,a.jDz],decls:16,vars:25,consts:function(){let c,n,d,m,E,H,le,ue,Te,We,Gt,Ot,Ft,bn;return c=$localize`:@@ngb.timepicker.HH:HH`,n=$localize`:@@ngb.timepicker.hours:Hours`,d=$localize`:@@ngb.timepicker.MM:MM`,m=$localize`:@@ngb.timepicker.minutes:Minutes`,E=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,H=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,le=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,ue=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Te=$localize`:@@ngb.timepicker.SS:SS`,We=$localize`:@@ngb.timepicker.seconds:Seconds`,Gt=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Ot=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Ft=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,bn=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",c,"aria-label",n,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",d,"aria-label",m,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],E,[1,"chevron","ngb-tp-chevron","bottom"],H,le,ue,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Te,"aria-label",We,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],Gt,Ot,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Ft,bn]},template:function(n,d){1&n&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,hm,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(E){return d.updateHour(E.target.value)})("blur",function(){return d.handleBlur()})("input",function(E){return d.formatInput(E.target)})("keydown.ArrowUp",function(E){return d.changeHour(d.hourStep),E.preventDefault()})("keydown.ArrowDown",function(E){return d.changeHour(-d.hourStep),E.preventDefault()}),a.qZA(),a.YNc(5,Kc,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,fm,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(E){return d.updateMinute(E.target.value)})("blur",function(){return d.handleBlur()})("input",function(E){return d.formatInput(E.target)})("keydown.ArrowUp",function(E){return d.changeMinute(d.minuteStep),E.preventDefault()})("keydown.ArrowDown",function(E){return d.changeMinute(-d.minuteStep),E.preventDefault()}),a.qZA(),a.YNc(11,Mp,4,7,"button",3),a.qZA(),a.YNc(12,Mf,2,0,"div",8),a.YNc(13,Jl,4,9,"div",9),a.YNc(14,Nf,1,0,"div",8),a.YNc(15,V_,5,9,"div",10),a.qZA()()),2&n&&(a.ekj("disabled",d.disabled),a.Q6J("disabled",d.disabled),a.xp6(3),a.Q6J("ngIf",d.spinners),a.xp6(1),a.ekj("form-control-sm",d.isSmallSize)("form-control-lg",d.isLargeSize),a.Q6J("value",d.formatHour(null==d.model?null:d.model.hour))("readOnly",d.readonlyInputs)("disabled",d.disabled),a.xp6(1),a.Q6J("ngIf",d.spinners),a.xp6(4),a.Q6J("ngIf",d.spinners),a.xp6(1),a.ekj("form-control-sm",d.isSmallSize)("form-control-lg",d.isLargeSize),a.Q6J("value",d.formatMinSec(null==d.model?null:d.model.minute))("readOnly",d.readonlyInputs)("disabled",d.disabled),a.xp6(1),a.Q6J("ngIf",d.spinners),a.xp6(1),a.Q6J("ngIf",d.seconds),a.xp6(1),a.Q6J("ngIf",d.seconds),a.xp6(1),a.Q6J("ngIf",d.meridian),a.xp6(1),a.Q6J("ngIf",d.meridian))},dependencies:[$.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),s})(),yy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Nv]}),s})();const Rv=(s,c)=>{const{classList:n}=s;if(c)return n.add("fade"),Qc(s),n.add("show","showing"),()=>{n.remove("showing")};n.add("show")},vg=({classList:s})=>(s.add("showing"),()=>{s.remove("show","showing")});let S0=(()=>{class s{constructor(n){this._ngbConfig=n,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return s.\u0275fac=function(n){return new(n||s)(a.LFG(Bd))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),M0=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=a.lG2({type:s,selectors:[["","ngbToastHeader",""]],standalone:!0}),s})(),Ov=(()=>{class s{constructor(n,d,m,E){this.ariaLive=n,this._zone=m,this._element=E,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=d.ariaLive),this.delay=d.delay,this.autohide=d.autohide,this.animation=d.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ja.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(n){"autohide"in n&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const n=mo(this._zone,this._element.nativeElement,vg,{animation:this.animation,runningTransition:"stop"});return n.subscribe(()=>{this.hidden.emit()}),n}show(){const n=mo(this._zone,this._element.nativeElement,Rv,{animation:this.animation,runningTransition:"continue"});return n.subscribe(()=>{this.shown.emit()}),n}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return s.\u0275fac=function(n){return new(n||s)(a.$8M("aria-live"),a.Y36(S0),a.Y36(a.R0b),a.Y36(a.SBq))},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-toast"]],contentQueries:function(n,d,m){if(1&n&&a.Suo(m,M0,7,a.Rgc),2&n){let E;a.iGM(E=a.CRH())&&(d.contentHeaderTpl=E.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(n,d){2&n&&(a.uIk("aria-live",d.ariaLive),a.ekj("fade",d.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:vp,decls:5,vars:1,consts:function(){let c;return c=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",c,1,"btn-close",3,"click"]]},template:function(n,d){1&n&&(a.F$t(),a.YNc(0,gm,2,1,"ng-template",null,0,a.W1O),a.YNc(2,mm,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&n&&(a.xp6(2),a.Q6J("ngIf",d.contentHeaderTpl||d.header))},dependencies:[$.O5,$.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),s})(),vy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Ov]}),s})(),wc=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})(),ep=(()=>{class s{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(n){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const d=tv(this.result),m=Array.isArray(this.term)?this.term:[this.term],E=Te=>this.accentSensitive?Te:Op(Te),H=m.map(Te=>function Ch(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(E(tv(Te)))).filter(Te=>Te),le=this.accentSensitive?d:Op(d),ue=H.length?le.split(new RegExp(`(${H.join("|")})`,"gmi")):[d];if(this.accentSensitive)this.parts=ue;else{let Te=0;this.parts=ue.map(We=>d.substring(Te,Te+=We.length))}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[a.TTD,a.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(n,d){1&n&&a.YNc(0,Np,3,2,"ng-template",0),2&n&&a.Q6J("ngForOf",d.parts)},dependencies:[$.O5,$.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),s})();new a.OlP("live announcer delay",{providedIn:"root",factory:function by(){return 100}});let Zm=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[ep]}),s})(),U=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})();const Z=[Vp,Sh,cc,dc,ly,Gd,Hh,_o,U,dy,hy,Wm,gy,yy,vy,wc,Zm];let ne=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[Z,Vp,Sh,cc,dc,ly,Gd,Hh,_o,U,dy,hy,Wm,gy,yy,vy,wc,Zm]}),s})(),Ie=(()=>{class s{constructor(n){this.fdb=n,this.title="simulacroParcial",this.database=[{id:"1",nombre:"Scarface",tipo:"drama",fechaDeEstreno:"09/02/1984",cantidadDePublico:"456",foto:"scarface.png"},{id:"2",nombre:"Moana",tipo:"infantil",fechaDeEstreno:"23/11/2016",cantidadDePublico:"126",foto:"moana.png"},{id:"3",nombre:"Cisne Negro",tipo:"suspenso",fechaDeEstreno:"17/02/2011",cantidadDePublico:"765",foto:"cisneNegro.png"},{id:"4",nombre:"Kill Bill",tipo:"accion",fechaDeEstreno:"27/11/2003",cantidadDePublico:"465",foto:"killbill.png"}],this.strPeliculas=JSON.stringify(this.database),this.result=localStorage.setItem("peliculas",this.strPeliculas),n.traerActores(),n.traerPeliculas()}}return s.\u0275fac=function(n){return new(n||s)(a.Y36($a))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-root"]],decls:40,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","check2","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["id","circle-half","viewBox","0 0 16 16"],["d","M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"],["id","moon-stars-fill","viewBox","0 0 16 16"],["d","M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"],["d","M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"],["id","sun-fill","viewBox","0 0 16 16"],["d","M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","login",1,"nav-link"],["routerLink","bienvenido",1,"nav-link"],["routerLink","busqueda",1,"nav-link"],["routerLink","actor/alta",1,"nav-link"],["routerLink","pelicula/alta",1,"nav-link"],["routerLink","actor/actorPelicula",1,"nav-link"],[1,"container"]],template:function(n,d){1&n&&(a.TgZ(0,"body"),a.O4$(),a.TgZ(1,"svg",0)(2,"symbol",1),a._UZ(3,"path",2),a.qZA(),a.TgZ(4,"symbol",3),a._UZ(5,"path",4),a.qZA(),a.TgZ(6,"symbol",5),a._UZ(7,"path",6)(8,"path",7),a.qZA(),a.TgZ(9,"symbol",8),a._UZ(10,"path",9),a.qZA()(),a.kcU(),a.TgZ(11,"nav",10)(12,"div",11)(13,"a",12),a._uU(14,"Simulacro Parcial - Joaqu\xedn P\xe9rez"),a.qZA(),a.TgZ(15,"button",13),a._UZ(16,"span",14),a.qZA(),a.TgZ(17,"div",15)(18,"ul",16)(19,"li",17)(20,"a",18),a._uU(21,"Login"),a.qZA()(),a.TgZ(22,"li",17)(23,"a",19),a._uU(24,"Bienvenido"),a.qZA()(),a.TgZ(25,"li",17)(26,"a",20),a._uU(27,"Busqueda"),a.qZA()(),a.TgZ(28,"li",17)(29,"a",21),a._uU(30,"Alta Actores"),a.qZA()(),a.TgZ(31,"li",17)(32,"a",22),a._uU(33,"Alta Peliculas"),a.qZA()(),a.TgZ(34,"li",17)(35,"a",23),a._uU(36,"Actor peliculas"),a.qZA()()()()()(),a.TgZ(37,"main",24),a._UZ(38,"router-outlet"),a.qZA()(),a._UZ(39,"br"))},dependencies:[bd.lC,bd.rH,Zf],styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}"]}),s})();var tt=j(5226),wt=j.n(tt);function Xt(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div")(1,"div",3),a.NdJ("click",function(){const E=a.CHM(n).$implicit,H=a.oxw();return a.KtG(H.select(E))}),a._UZ(2,"img",4),a._uU(3),a._UZ(4,"hr",5),a.qZA()()}if(2&s){const n=c.$implicit;a.xp6(2),a.s9C("src",n.flags.png,a.LSH),a.xp6(1),a.hij(" ",n.name.common," ")}}let fn=(()=>{class s{constructor(n){this.http=n,this.EnviarPais=new a.vpe,this.url="https://restcountries.com/v3.1/all",console.log(this.treaerPaises())}treaerPaises(){this.http.get(this.url).subscribe(n=>{this.paises=n})}setPais(){this.EnviarPais.emit(this.paisMandar),console.log("set")}select(n){this.paisMandar=n,console.log("select"),this.setPais()}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Cs))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-tabla-paises"]],outputs:{EnviarPais:"EnviarPais"},decls:3,vars:1,consts:[["id","right-col"],["id","inner-right"],[4,"ngFor","ngForOf"],[2,"padding","5px",3,"click"],[2,"width","50px",3,"src"],[1,"mb-3"]],template:function(n,d){1&n&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,Xt,5,2,"div",2),a.qZA()()),2&n&&(a.xp6(2),a.Q6J("ngForOf",d.paises))},dependencies:[$.sg],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:320px;height:100%;max-height:100%;margin-right:20px;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:300px;max-height:300px;overflow-y:scroll;background:ivory}"]}),s})();function Pn(s,c){1&s&&(a.TgZ(0,"small",28),a._uU(1," El nombre es requerido"),a._UZ(2,"br"),a.qZA())}function xr(s,c){1&s&&(a.TgZ(0,"small",28),a._uU(1," El apellido es requerido"),a._UZ(2,"br"),a.qZA())}function _i(s,c){1&s&&(a.TgZ(0,"small",28),a._uU(1," La edad es requerida"),a._UZ(2,"br"),a.qZA())}function Ur(s,c){if(1&s&&(a.TgZ(0,"button",29),a._uU(1," Subir "),a.qZA()),2&s){const n=a.oxw();a.Q6J("disabled",n.forma.invalid||!n.forma.controls.pais.value||!n.actorFoto)}}function Ca(s,c){1&s&&(a.TgZ(0,"div",30)(1,"div",31),a._UZ(2,"span",32),a.qZA()())}let Vo=(()=>{class s{constructor(n,d,m){this.http=n,this.fbd=d,this.fb=m,this.actorFoto="",this.newimage="",this.url="https://restcountries.com/v3.1/all",this.showbar=!1,console.log(this.treaerPaises()),this.forma=this.fb.group({nombre:["",Ct.required],apellido:["",Ct.required],edad:["",[Ct.required,Ct.max(99)]],pais:new ur({value:"",disabled:!0},[Ct.required])}),console.log(this.forma)}treaerPaises(){this.http.get(this.url).subscribe(n=>{this.paises=n,console.log("bien",n)})}guardar(){var n=this;return(0,To.Z)(function*(){n.showbar=!0,console.log({nombre:n.actorNombre,apellido:n.actorApellido,nacionalidad:n.actorPais,edad:n.actorEdad}),(yield n.fbd.guardarActor({nombre:n.actorNombre,apellido:n.actorApellido,nacionalidad:n.paisPasado,edad:n.actorEdad,foto:n.actorFoto}))?(n.showbar=!1,n.resetCampos(),wt().fire({title:"\xc9xito!",text:"El actor ha sido guardado con \xe9xito",icon:"success",confirmButtonText:"OK!"})):(n.showbar=!1,wt().fire({title:"Error!",text:"Ocurri\xf3 un erro guardando el actor",icon:"error",confirmButtonText:"OK!"}))})()}pasarPais(n){this.paisPasado=n,this.actorPais=this.paisPasado.name.common}onFileSelected(n){if(n.target.files&&n.target.files[0]){const m=new FileReader;m.onload=E=>{this.newimage=E.target.result},m.readAsDataURL(n.target.files[0])}this.actorFoto=n.target.files[0],console.log("block",this.forma.invalid)}resetCampos(){this.actorNombre="",this.actorApellido="",this.actorPais="",this.actorEdad=0,this.actorFoto="",this.newimage=""}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Cs),a.Y36($a),a.Y36(xs))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-actor-alta"]],decls:48,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"mb-3"],[3,"EnviarPais"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","placeholder","","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["nombre",""],["class","invalid",4,"ngIf"],["for","apellido"],["type","text","placeholder","","formControlName","apellido",1,"form-control",3,"ngModel","ngModelChange"],["apellido",""],["for","pais"],["type","text","placeholder","Seleccione un pa\xeds de la lista ->","formControlName","pais",1,"form-control",3,"ngModel","ngModelChange"],["pais",""],["for","edad"],["type","number","placeholder","","formControlName","edad",1,"form-control",3,"ngModel","ngModelChange"],["edad",""],["for","fecha"],[1,"form-group","col-12"],["type","file","id","file","name","image","autocomplete","off","accept","image/*",1,"btn","btn-primary","btn-lg","btn-block",3,"change"],["userPhoto",""],[2,"height","200px",3,"src"],["type","submit","class","btn btn-primary btn-lg btn-block",3,"disabled",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"invalid"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["id","loading",1,"sr-only"]],template:function(n,d){1&n&&(a._UZ(0,"br")(1,"br")(2,"br")(3,"br"),a.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"h4",3),a._uU(8,"Nacionalidad"),a.qZA(),a.TgZ(9,"app-tabla-paises",4),a.NdJ("EnviarPais",function(E){return d.pasarPais(E)}),a.qZA()(),a.TgZ(10,"div",5)(11,"h4",3),a._uU(12,"Subir un actor"),a.qZA(),a.TgZ(13,"form",6),a.NdJ("ngSubmit",function(){return d.guardar()}),a.TgZ(14,"div",1)(15,"div",7)(16,"label",8),a._uU(17,"Nombres"),a.qZA(),a.TgZ(18,"input",9,10),a.NdJ("ngModelChange",function(E){return d.actorNombre=E}),a.qZA(),a.YNc(20,Pn,3,0,"small",11),a.qZA(),a.TgZ(21,"div",7)(22,"label",12),a._uU(23,"Apellido"),a.qZA(),a.TgZ(24,"input",13,14),a.NdJ("ngModelChange",function(E){return d.actorApellido=E}),a.qZA(),a.YNc(26,xr,3,0,"small",11),a.qZA()(),a.TgZ(27,"div",3)(28,"label",15),a._uU(29,"Nacionalidad"),a.qZA(),a.TgZ(30,"input",16,17),a.NdJ("ngModelChange",function(E){return d.actorPais=E}),a.qZA()(),a.TgZ(32,"div",3)(33,"label",18),a._uU(34,"Edad"),a.qZA(),a.TgZ(35,"input",19,20),a.NdJ("ngModelChange",function(E){return d.actorEdad=E}),a.qZA(),a.YNc(37,_i,3,0,"small",11),a.qZA(),a.TgZ(38,"label",21),a._uU(39,"Foto"),a.qZA(),a._UZ(40,"br"),a.TgZ(41,"div",22)(42,"input",23,24),a.NdJ("change",function(E){return d.onFileSelected(E)}),a.qZA()(),a._UZ(44,"img",25)(45,"hr",3),a.YNc(46,Ur,2,1,"button",26),a.YNc(47,Ca,3,0,"div",27),a.qZA()()()()),2&n&&(a.xp6(13),a.Q6J("formGroup",d.forma),a.xp6(5),a.Q6J("ngModel",d.actorNombre),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.nombre.errors?null:d.forma.controls.nombre.errors.required)&&d.forma.controls.nombre.touched),a.xp6(4),a.Q6J("ngModel",d.actorApellido),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.apellido.errors?null:d.forma.controls.apellido.errors.required)&&d.forma.controls.apellido.touched),a.xp6(4),a.Q6J("ngModel",d.actorPais),a.xp6(5),a.Q6J("ngModel",d.actorEdad),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.edad.errors?null:d.forma.controls.edad.errors.required)&&d.forma.controls.edad.touched),a.xp6(7),a.Q6J("src",d.newimage,a.LSH),a.xp6(2),a.Q6J("ngIf",!d.showbar),a.xp6(1),a.Q6J("ngIf",d.showbar))},dependencies:[$.O5,la,Ge,Pi,Cn,Jt,ms,Bi,fn],styles:[".invalid[_ngcontent-%COMP%]{color:red}"]}),s})();function yo(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"div")(1,"div",3),a.NdJ("click",function(){const E=a.CHM(n).$implicit,H=a.oxw();return a.KtG(H.select(E))}),a.TgZ(2,"tr")(3,"td"),a._UZ(4,"img",4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA()(),a._UZ(7,"hr",5),a.qZA()()}if(2&s){const n=c.$implicit;a.xp6(4),a.s9C("src",n.foto,a.LSH),a.xp6(2),a.hij(" ",n.nombre+" "+n.apellido," ")}}let sl=(()=>{class s{constructor(n){this.aFirestore=n,this.EnviarActor=new a.vpe,this.traeractores()}traeractores(){var n=this;return(0,To.Z)(function*(){n.aFirestore.collection("actores").valueChanges().subscribe(m=>(console.log(m),n.actores=m,m))})()}select(n){this.actorEnviar=n,console.log("select"),this.setActor()}setActor(){this.EnviarActor.emit(this.actorEnviar),console.log("set")}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(ls.ST))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-actor-listado"]],outputs:{EnviarActor:"EnviarActor"},decls:3,vars:1,consts:[["id","right-col"],["id","inner-right"],[4,"ngFor","ngForOf"],[2,"padding","5px",3,"click"],[2,"height","100px",3,"src"],[1,"mb-3"]],template:function(n,d){1&n&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,yo,8,2,"div",2),a.qZA()()),2&n&&(a.xp6(2),a.Q6J("ngForOf",d.actores))},dependencies:[$.sg],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:320px;height:100%;max-height:100%;margin-right:20px;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:300px;max-height:300px;overflow-y:scroll;background:ivory}"]}),s})(),Wu=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-bienvenido"]],decls:0,vars:0,template:function(n,d){}}),s})();function Bv(s,c){if(1&s){const n=a.EpF();a.TgZ(0,"tr")(1,"td"),a._UZ(2,"img",6),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td")(12,"button",7),a.NdJ("click",function(){const E=a.CHM(n).$implicit,H=a.oxw();return a.KtG(H.enviarObjeto(E))}),a._uU(13,"Seleccionar"),a.qZA()()()}if(2&s){const n=c.$implicit;a.xp6(2),a.s9C("src",n.foto,a.LSH),a.xp6(2),a.Oqu(n.nombre),a.xp6(2),a.Oqu(n.tipo),a.xp6(2),a.Oqu(n.fechaDeEstreno),a.xp6(2),a.Oqu(n.cantidadDePublico)}}let Uv=(()=>{class s{constructor(n,d){this.db=n,this.aFirestore=d,this.EviarADetalle=new a.vpe,this.traerPeli()}enviarObjeto(n){this.EviarADetalle.emit(n)}traerPeli(){var n=this;return(0,To.Z)(function*(){n.aFirestore.collection("peliculas").valueChanges().subscribe(m=>{console.log(m),n.peliculas=m})})()}}return s.\u0275fac=function(n){return new(n||s)(a.Y36($a),a.Y36(ls.ST))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-tabla-pelicula"]],outputs:{EviarADetalle:"EviarADetalle"},decls:19,vars:1,consts:[["id","right-col"],["id","inner-right"],[1,"table","table-striped"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[2,"height","100px",3,"src"],[1,"btn","btn-secondary",3,"click"]],template:function(n,d){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4),a._uU(6,"Foto"),a.qZA(),a.TgZ(7,"th",4),a._uU(8,"Nombre"),a.qZA(),a.TgZ(9,"th",4),a._uU(10,"Tipo"),a.qZA(),a.TgZ(11,"th",4),a._uU(12,"Fecha de estreno"),a.qZA(),a.TgZ(13,"th",4),a._uU(14,"Cantidad de publico"),a.qZA(),a.TgZ(15,"th",4),a._uU(16,"Seleccionar"),a.qZA()()(),a.TgZ(17,"tbody"),a.YNc(18,Bv,14,5,"tr",5),a.qZA()()()()),2&n&&(a.xp6(18),a.Q6J("ngForOf",d.peliculas))},dependencies:[$.sg],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:100%;height:100%;max-height:100%;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:450px;max-height:450px;overflow-y:scroll}"]}),s})(),Vv=(()=>{class s{constructor(n){this.db=n}guardar(){this.db.updatePelicula(this.peliculaDet)}}return s.\u0275fac=function(n){return new(n||s)(a.Y36($a))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-detalle-pelicula"]],inputs:{peliculaDet:"peliculaDet"},decls:19,vars:5,consts:[[1,"form-group"],["name","nombre","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","tipo","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","publico","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","foto","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(n,d){1&n&&(a.TgZ(0,"form")(1,"div",0)(2,"label"),a._uU(3,"Nombre"),a.qZA(),a.TgZ(4,"input",1),a.NdJ("ngModelChange",function(E){return d.peliculaDet.nombre=E}),a.qZA(),a.TgZ(5,"label"),a._uU(6,"Tipo"),a.qZA(),a.TgZ(7,"input",2),a.NdJ("ngModelChange",function(E){return d.peliculaDet.tipo=E}),a.qZA(),a.TgZ(8,"label"),a._uU(9,"Fecha de estreno"),a.qZA(),a.TgZ(10,"input",3),a.NdJ("ngModelChange",function(E){return d.peliculaDet.fechaDeEstreno=E}),a.qZA(),a.TgZ(11,"label"),a._uU(12,"Cantidad de publico"),a.qZA(),a.TgZ(13,"input",4),a.NdJ("ngModelChange",function(E){return d.peliculaDet.cantidadDePublico=E}),a.qZA(),a.TgZ(14,"label"),a._uU(15,"Foto"),a.qZA(),a.TgZ(16,"input",5),a.NdJ("ngModelChange",function(E){return d.peliculaDet.foto=E}),a.qZA(),a.TgZ(17,"button",6),a.NdJ("click",function(){return d.guardar()}),a._uU(18,"Guardar"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("ngModel",d.peliculaDet.nombre),a.xp6(3),a.Q6J("ngModel",d.peliculaDet.tipo),a.xp6(3),a.Q6J("ngModel",d.peliculaDet.fechaDeEstreno),a.xp6(3),a.Q6J("ngModel",d.peliculaDet.cantidadDePublico),a.xp6(3),a.Q6J("ngModel",d.peliculaDet.foto))},dependencies:[la,Ge,Cn,Jt,wi,Tn]}),s})(),x0=(()=>{class s{constructor(){this.peliculaMostrar=[]}pasarDetalle(n){this.peliculaMostrar=n,console.log(this.peliculaMostrar)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-busqueda"]],decls:27,vars:1,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[3,"EviarADetalle"],[1,"row"],[1,"col-md-4"],["href","#","role","button",1,"btn","btn-secondary"],[3,"peliculaDet"]],template:function(n,d){1&n&&(a.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"app-tabla-pelicula",3),a.NdJ("EviarADetalle",function(E){return d.pasarDetalle(E)}),a.qZA()()(),a.TgZ(4,"div",2)(5,"div",4)(6,"div",5)(7,"h2"),a._uU(8,"Heading"),a.qZA(),a.TgZ(9,"p"),a._uU(10,"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "),a.qZA(),a.TgZ(11,"p")(12,"a",6),a._uU(13,"View details \xbb"),a.qZA()()(),a.TgZ(14,"div",5)(15,"h2"),a._uU(16,"Detalle"),a.qZA(),a._UZ(17,"app-detalle-pelicula",7),a.qZA(),a.TgZ(18,"div",5)(19,"h2"),a._uU(20,"Heading"),a.qZA(),a.TgZ(21,"p"),a._uU(22,"Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus."),a.qZA(),a.TgZ(23,"p")(24,"a",6),a._uU(25,"View details \xbb"),a.qZA()()()(),a._UZ(26,"hr"),a.qZA()()),2&n&&(a.xp6(17),a.Q6J("peliculaDet",d.peliculaMostrar))},dependencies:[Uv,Vv],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),s})();function gb(s,c){1&s&&(a.TgZ(0,"small",30),a._uU(1," El nombre es requerido"),a._UZ(2,"br"),a.qZA())}function $v(s,c){1&s&&(a.TgZ(0,"small",30),a._uU(1," El tipo es requerido"),a._UZ(2,"br"),a.qZA())}function mb(s,c){1&s&&(a.TgZ(0,"small",30),a._uU(1," El publico es requerido"),a._UZ(2,"br"),a.qZA())}function P0(s,c){1&s&&(a.TgZ(0,"small",30),a._uU(1," El actor es requerido"),a._UZ(2,"br"),a.qZA())}function bg(s,c){if(1&s&&(a.TgZ(0,"button",31),a._uU(1," Subir "),a.qZA()),2&s){const n=a.oxw();a.Q6J("disabled",n.forma.invalid||!n.forma.controls.fecha.value||!n.peli.foto||!n.actorPasado)}}function k0(s,c){1&s&&(a.TgZ(0,"div",32)(1,"div",33),a._UZ(2,"span",34),a.qZA()())}let _b=(()=>{class s{constructor(n,d,m,E,H){this.http=n,this.fbd=d,this.fb=m,this.calendar=E,this.storage=H,this.newimage="",this.showbar=!1,console.log(d.traerActores()),this.forma=this.fb.group({nombre:["",Ct.required],tipo:["",Ct.required],fecha:["",[Ct.required]],actor:new ur({value:"",disabled:!0},[Ct.required]),publico:["",Ct.required]}),console.log(this.forma),this.peli=new Ew}guardar(){var n=this;return(0,To.Z)(function*(){n.showbar=!0,n.peli.nombre=n.peliculaNombre,n.peli.tipo=n.peliculaTipo,n.peli.fecha=n.getfecha(),n.peli.actor=n.actorPasado,n.peli.publico=n.peliculaPublico,console.log(n.peli),(yield n.fbd.guardarPelicula(n.peli))?wt().fire({title:"\xc9xito!",text:"La pelcula ha sido guardado con \xe9xito",icon:"success",confirmButtonText:"OK!"}):wt().fire({title:"Error!",text:"Ocurri\xf3 un error al guardar la pelicula",icon:"error",confirmButtonText:"OK!"}),console.log(n.peli),n.showbar=!1})()}pasarActor(n){this.actorPasado=n,this.actornombre=this.actorPasado.nombre+" "+this.actorPasado.apellido,this.forma.value.actor=this.actornombre}updateDate(){this.peliculaFecha=this.model.day+"/"+this.model.month+"/"+this.model.year,this.forma.value.fecha=this.peliculaFecha}getfecha(){return this.peliculaFecha=this.model.day+"/"+this.model.month+"/"+this.model.year,this.peliculaFecha}onFileSelected(n){if(n.target.files&&n.target.files[0]){const m=new FileReader;m.onload=E=>{this.newimage=E.target.result},m.readAsDataURL(n.target.files[0])}this.peli.foto=n.target.files[0]}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(Cs),a.Y36($a),a.Y36(xs),a.Y36(Ff),a.Y36(Mg))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-pelicula-alta"]],decls:56,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"mb-3"],[3,"EnviarActor"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","placeholder","","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["nombre",""],["class","invalid",4,"ngIf"],["for","tipo"],["type","text","placeholder","","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],["tipo",""],["for","publico"],["type","number","placeholder","","formControlName","publico",1,"form-control",3,"ngModel","ngModelChange"],["publico",""],["for","actor"],["type","text","placeholder","Seleccione un actor de la lista ->","formControlName","actor",1,"form-control",3,"ngModel","ngModelChange"],["pais",""],["for","fecha"],["formControlName","fecha",3,"ngModel","ngModelChange","navigate","click"],["dp",""],[1,"form-group","col-12"],["type","file","id","file","name","image","autocomplete","off","accept","image/*",1,"btn","btn-primary","btn-lg","btn-block",3,"change"],["userPhoto",""],[2,"height","200px",3,"src"],["type","submit","class","btn btn-primary btn-lg btn-block",3,"disabled",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"invalid"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["id","loading",1,"sr-only"]],template:function(n,d){1&n&&(a.TgZ(0,"div",0),a._UZ(1,"br")(2,"br"),a.TgZ(3,"div",1)(4,"div",2)(5,"h4",3),a._uU(6,"Actores"),a.qZA(),a.TgZ(7,"app-actor-listado",4),a.NdJ("EnviarActor",function(E){return d.pasarActor(E)}),a.qZA()(),a.TgZ(8,"div",5)(9,"h4",3),a._uU(10,"Subir una pelicula"),a.qZA(),a.TgZ(11,"form",6),a.NdJ("ngSubmit",function(){return d.guardar()}),a.TgZ(12,"div",1)(13,"div",7)(14,"label",8),a._uU(15,"Nombre"),a.qZA(),a.TgZ(16,"input",9,10),a.NdJ("ngModelChange",function(E){return d.peliculaNombre=E}),a.qZA(),a.YNc(18,gb,3,0,"small",11),a.qZA(),a.TgZ(19,"div",7)(20,"label",12),a._uU(21,"Tipo"),a.qZA(),a.TgZ(22,"input",13,14),a.NdJ("ngModelChange",function(E){return d.peliculaTipo=E}),a.qZA(),a.YNc(24,$v,3,0,"small",11),a.qZA()(),a.TgZ(25,"div",1)(26,"div",7)(27,"label",15),a._uU(28,"Publico"),a.qZA(),a.TgZ(29,"input",16,17),a.NdJ("ngModelChange",function(E){return d.peliculaPublico=E}),a.qZA(),a.YNc(31,mb,3,0,"small",11),a.qZA(),a.TgZ(32,"div",7)(33,"label",18),a._uU(34,"Actor"),a.qZA(),a.TgZ(35,"input",19,20),a.NdJ("ngModelChange",function(E){return d.actornombre=E}),a.qZA(),a.YNc(37,P0,3,0,"small",11),a.qZA()(),a.TgZ(38,"div",1)(39,"div",7)(40,"label",21),a._uU(41,"Fecha de salida"),a.qZA(),a._UZ(42,"br"),a.TgZ(43,"ngb-datepicker",22,23),a.NdJ("ngModelChange",function(E){return d.model=E})("navigate",function(E){return d.date=E.next})("click",function(){return d.updateDate()}),a.qZA()(),a.TgZ(45,"div",7)(46,"label",21),a._uU(47,"Foto"),a.qZA(),a._UZ(48,"br"),a.TgZ(49,"div",24)(50,"input",25,26),a.NdJ("change",function(E){return d.onFileSelected(E)}),a.qZA()(),a._UZ(52,"img",27),a.qZA()(),a._UZ(53,"hr",3),a.YNc(54,bg,2,1,"button",28),a.YNc(55,k0,3,0,"div",29),a.qZA()()()()),2&n&&(a.xp6(11),a.Q6J("formGroup",d.forma),a.xp6(5),a.Q6J("ngModel",d.peliculaNombre),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.nombre.errors?null:d.forma.controls.nombre.errors.required)&&d.forma.controls.nombre.touched),a.xp6(4),a.Q6J("ngModel",d.peliculaTipo),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.tipo.errors?null:d.forma.controls.tipo.errors.required)&&d.forma.controls.tipo.touched),a.xp6(5),a.Q6J("ngModel",d.peliculaPublico),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.publico.errors?null:d.forma.controls.publico.errors.required)&&d.forma.controls.publico.touched),a.xp6(4),a.Q6J("ngModel",d.actornombre),a.xp6(2),a.Q6J("ngIf",(null==d.forma.controls.actor.errors?null:d.forma.controls.actor.errors.required)&&d.forma.controls.actor.touched),a.xp6(6),a.Q6J("ngModel",d.model),a.xp6(9),a.Q6J("src",d.newimage,a.LSH),a.xp6(2),a.Q6J("ngIf",!d.showbar),a.xp6(1),a.Q6J("ngIf",d.showbar))},dependencies:[$.O5,$d,la,Ge,Pi,Cn,Jt,ms,Bi,sl],styles:[".invalid[_ngcontent-%COMP%]{color:red}"]}),s})();class Ew{}function jv(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," El nombre es requerido "),a.qZA())}function yb(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," No puede contener espacios "),a.qZA())}function Hv(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," El apellido es requerido "),a.qZA())}function vb(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," La edad es requerida "),a.qZA())}function L0(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," Debe ser mayor de 18 a\xf1os "),a.qZA())}function Gv(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," No puede ser mayor de 99 a\xf1os "),a.qZA())}function B0(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," El sexo es requerido "),a.qZA())}function U0(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," El email es requerido "),a.qZA())}function V0(s,c){1&s&&(a.TgZ(0,"small",25),a._uU(1," El email no es valido "),a.qZA())}const wb=[{path:"actor/alta",component:Vo},{path:"actor/listado",component:sl},{path:"bienvenido",component:Wu},{path:"busqueda",component:x0},{path:"pelicula/alta",component:_b},{path:"actor/listado",component:(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-pelicula-listado"]],decls:1,vars:0,template:function(n,d){1&n&&a._UZ(0,"app-tabla-pelicula")},dependencies:[Uv]}),s})()},{path:"login",component:(()=>{class s{constructor(n,d){this.fb=n,this.fdb=d,this.forma=this.fb.group({nombre:["",[Ct.required,this.spacesValidator]],apellido:["",Ct.required],edad:["",[Ct.required,Ct.min(18),Ct.max(99)]],sexo:["",Ct.required],email:["",[Ct.required,Ct.email]],terminos:["",Ct.required]}),this.fdb.traerUsuarios()}registrar(){this.fdb.guardarUsuario(this.forma.value),this.forma=this.fb.group({nombre:["",[Ct.required,this.spacesValidator]],apellido:["",Ct.required],edad:["",[Ct.required,Ct.min(18),Ct.max(99)]],sexo:["",Ct.required],email:["",[Ct.required,Ct.email]],terminos:["",Ct.required]}),wt().fire({title:"\xc9xito!",text:"El usuario se guardad\xf3 con \xe9xito",icon:"success",confirmButtonText:"OK!"})}spacesValidator(n){return n.value.includes(" ")?{containsSpaces:!0}:null}}return s.\u0275fac=function(n){return new(n||s)(a.Y36(xs),a.Y36($a))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-login"]],decls:51,vars:11,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["for","dni",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","sexo",1,"form-label"],["id","sexo","formControlName","sexo",1,"form-select"],["value",""],["value","F"],["value","M"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese email","formControlName","email",1,"form-control"],[1,"form-check"],["type","checkbox","id","terminos","formControlName","terminos",1,"form-check-input"],["for","recordar","for","terminos",1,"form-check-label"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(n,d){1&n&&(a.TgZ(0,"div",0)(1,"form",1),a.NdJ("ngSubmit",function(){return d.registrar()}),a.TgZ(2,"div",2)(3,"div",3)(4,"h2"),a._uU(5,"Angular Forms"),a.qZA()()(),a.TgZ(6,"div",4)(7,"div",5)(8,"label",6),a._uU(9,"Nombre"),a.qZA(),a._UZ(10,"input",7),a.YNc(11,jv,2,0,"small",8),a.YNc(12,yb,2,0,"small",8),a.qZA(),a.TgZ(13,"div",5)(14,"label",9),a._uU(15,"Apellido"),a.qZA(),a._UZ(16,"input",10),a.YNc(17,Hv,2,0,"small",8),a.qZA(),a.TgZ(18,"div",5)(19,"label",11),a._uU(20,"Edad"),a.qZA(),a._UZ(21,"input",12),a.YNc(22,vb,2,0,"small",8),a.YNc(23,L0,2,0,"small",8),a.YNc(24,Gv,2,0,"small",8),a.qZA(),a.TgZ(25,"div",5)(26,"label",13),a._uU(27,"Sexo"),a.qZA(),a.TgZ(28,"select",14)(29,"option",15),a._uU(30,"Seleccione uno"),a.qZA(),a.TgZ(31,"option",16),a._uU(32,"Femenino"),a.qZA(),a.TgZ(33,"option",17),a._uU(34,"Masculino"),a.qZA()(),a.YNc(35,B0,2,0,"small",8),a.qZA(),a.TgZ(36,"div",3)(37,"label",18),a._uU(38,"Email"),a.qZA(),a._UZ(39,"input",19),a.YNc(40,U0,2,0,"small",8),a.YNc(41,V0,2,0,"small",8),a.qZA()(),a.TgZ(42,"div",2)(43,"div",3)(44,"div",20),a._UZ(45,"input",21),a.TgZ(46,"label",22),a._uU(47," Aceptar t\xe9rminos y condiciones "),a.qZA()()(),a.TgZ(48,"div",23)(49,"button",24),a._uU(50," Aceptar "),a.qZA()()()()()),2&n&&(a.xp6(1),a.Q6J("formGroup",d.forma),a.xp6(10),a.Q6J("ngIf",(null==d.forma.controls.nombre.errors?null:d.forma.controls.nombre.errors.required)&&d.forma.controls.nombre.touched),a.xp6(1),a.Q6J("ngIf",(null==d.forma.controls.nombre.errors?null:d.forma.controls.nombre.errors.containsSpaces)&&d.forma.controls.nombre.touched),a.xp6(5),a.Q6J("ngIf",(null==d.forma.controls.apellido.errors?null:d.forma.controls.apellido.errors.required)&&d.forma.controls.apellido.touched),a.xp6(5),a.Q6J("ngIf",(null==d.forma.controls.edad.errors?null:d.forma.controls.edad.errors.required)&&d.forma.controls.edad.touched),a.xp6(1),a.Q6J("ngIf",(null==d.forma.controls.edad.errors?null:d.forma.controls.edad.errors.min)&&d.forma.controls.edad.touched),a.xp6(1),a.Q6J("ngIf",(null==d.forma.controls.edad.errors?null:d.forma.controls.edad.errors.max)&&d.forma.controls.edad.touched),a.xp6(11),a.Q6J("ngIf",(null==d.forma.controls.sexo.errors?null:d.forma.controls.sexo.errors.required)&&d.forma.controls.sexo.touched),a.xp6(5),a.Q6J("ngIf",(null==d.forma.controls.email.errors?null:d.forma.controls.email.errors.required)&&d.forma.controls.email.touched),a.xp6(1),a.Q6J("ngIf",(null==d.forma.controls.email.errors?null:d.forma.controls.email.errors.email)&&d.forma.controls.email.touched),a.xp6(8),a.Q6J("disabled",d.forma.invalid||!d.forma.controls.terminos.value))},dependencies:[$.O5,la,ts,Ga,Ge,Pi,_t,$i,Cn,Jt,ms,Bi],styles:[".container[_ngcontent-%COMP%]{max-width:600px;padding:60px;box-shadow:1px 1px 31px -5px #000000bf}.invalid[_ngcontent-%COMP%]{color:red}.formulario[_ngcontent-%COMP%]   div[class^=col-md-][_ngcontent-%COMP%]{height:90px}"]}),s})()},{path:"actor",loadChildren:()=>j.e(930).then(j.bind(j,9930)).then(s=>s.ActorModule)},{path:"**",component:x0}];let Db=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[{provide:$.S$,useClass:$.Do}],imports:[bd.Bz.forRoot(wb),$.ez,bd.Bz]}),s})();var wg=j(3692);const $0={firebase:{projectId:"lab42023",appId:"1:34310798645:web:7187542d929aca27da607c",databaseURL:"https://lab42023-default-rtdb.firebaseio.com",storageBucket:"lab42023.appspot.com",apiKey:"AIzaSyCHx-HLgU02Azfj05Zk_cynv3a8nbr_UvQ",authDomain:"lab42023.firebaseapp.com",messagingSenderId:"34310798645",measurementId:"G-949VR2SLEN"}};var zv=j(259),Iw=j(8502);j(1877);class Wv{constructor(c){return c}}class Eb{constructor(){return(0,jr.vb)("auth")}}const qv=new a.OlP("angularfire2.auth-instances");function H0(s){return(c,n)=>{const d=c.runOutsideAngular(()=>s(n));return new Wv(d)}}const G0={provide:Eb,deps:[[new a.FiY,qv]]},z0={provide:Wv,useFactory:function Ib(s,c){const n=(0,jr.JM)("auth",s,c);return n&&new Wv(n)},deps:[[new a.FiY,qv],wg.Ot]};let Tb=(()=>{class s{constructor(){(0,zv.KN)("angularfire",jr.q4.full,"auth")}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[z0,G0]}),s})();function Ab(s,...c){return{ngModule:Tb,providers:[{provide:qv,useFactory:H0(s),multi:!0,deps:[a.R0b,a.zs3,jr.HU,wg.z6,[new a.FiY,Pc.nm],...c]}]}}const Ow=(0,jr.u3)(Iw.o,!0);var Wb=j(2810);class Ey{constructor(c){return c}}const Yv="firestore",Jv=new a.OlP("angularfire2.firestore-instances");function Kw(s){return(c,n)=>{const d=c.runOutsideAngular(()=>s(n));return new Ey(d)}}const Yw={provide:class Ol{constructor(){return(0,jr.vb)(Yv)}},deps:[[new a.FiY,Jv]]},eb={provide:Ey,useFactory:function qb(s,c){const n=(0,jr.JM)(Yv,s,c);return n&&new Ey(n)},deps:[[new a.FiY,Jv],wg.Ot]};let Qv=(()=>{class s{constructor(){(0,zv.KN)("angularfire",jr.q4.full,"fst")}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[eb,Yw]}),s})();function Ym(s,...c){return{ngModule:Qv,providers:[{provide:Jv,useFactory:Kw(s),multi:!0,deps:[a.R0b,a.zs3,jr.HU,wg.z6,[new a.FiY,Eb],[new a.FiY,Pc.nm],...c]}]}}const iw=(0,jr.u3)(Wb.ad,!0);let f1=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=a.oAB({type:s,bootstrap:[Ie]}),s.\u0275inj=a.cJS({providers:[{provide:Ni.Dh,useValue:$0.firebase}],imports:[D.b2,Db,ne,Fl,(0,wg.hX)(()=>(0,wg.ZF)($0.firebase)),Ab(()=>Ow()),Ym(()=>iw()),Vt,ht,vd]}),s})();D.q6().bootstrapModule(f1).catch(s=>console.error(s))},1135:(en,ke,j)=>{"use strict";j.d(ke,{X:()=>a});var D=j(7579);class a extends D.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ye=super._subscribe(Ce);return!ye.closed&&Ce.next(this._value),ye}getValue(){const{hasError:Ce,thrownError:ye,_value:Ne}=this;if(Ce)throw ye;return this._throwIfClosed(),Ne}next(Ce){super.next(this._value=Ce)}}},9751:(en,ke,j)=>{"use strict";j.d(ke,{y:()=>be});var D=j(930),a=j(727),$=j(8822),Ce=j(9635),ye=j(2416),Ne=j(576),Fe=j(2806);let be=(()=>{class Me{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const mt=new Me;return mt.source=this,mt.operator=lt,mt}subscribe(lt,mt,Dt){const Je=function ve(Me){return Me&&Me instanceof D.Lv||function he(Me){return Me&&(0,Ne.m)(Me.next)&&(0,Ne.m)(Me.error)&&(0,Ne.m)(Me.complete)}(Me)&&(0,a.Nn)(Me)}(lt)?lt:new D.Hp(lt,mt,Dt);return(0,Fe.x)(()=>{const{operator:_t,source:De}=this;Je.add(_t?_t.call(Je,De):De?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(lt){try{return this._subscribe(lt)}catch(mt){lt.error(mt)}}forEach(lt,mt){return new(mt=Ye(mt))((Dt,Je)=>{const _t=new D.Hp({next:De=>{try{lt(De)}catch(kt){Je(kt),_t.unsubscribe()}},error:Je,complete:Dt});this.subscribe(_t)})}_subscribe(lt){var mt;return null===(mt=this.source)||void 0===mt?void 0:mt.subscribe(lt)}[$.L](){return this}pipe(...lt){return(0,Ce.U)(lt)(this)}toPromise(lt){return new(lt=Ye(lt))((mt,Dt)=>{let Je;this.subscribe(_t=>Je=_t,_t=>Dt(_t),()=>mt(Je))})}}return Me.create=Qe=>new Me(Qe),Me})();function Ye(Me){var Qe;return null!==(Qe=Me??ye.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(en,ke,j)=>{"use strict";j.d(ke,{x:()=>Fe});var D=j(9751),a=j(727);const Ce=(0,j(3888).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=j(8737),Ne=j(2806);let Fe=(()=>{class Ye extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Me=new be(this,this);return Me.operator=ve,Me}_throwIfClosed(){if(this.closed)throw new Ce}next(ve){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ve)}})}error(ve){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ve)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Me,isStopped:Qe,observers:lt}=this;return Me||Qe?a.Lc:(this.currentObservers=null,lt.push(ve),new a.w0(()=>{this.currentObservers=null,(0,ye.P)(lt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Me,thrownError:Qe,isStopped:lt}=this;Me?ve.error(Qe):lt&&ve.complete()}asObservable(){const ve=new D.y;return ve.source=this,ve}}return Ye.create=(he,ve)=>new be(he,ve),Ye})();class be extends Fe{constructor(he,ve){super(),this.destination=he,this.source=ve}next(he){var ve,Me;null===(Me=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Me||Me.call(ve,he)}error(he){var ve,Me;null===(Me=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Me||Me.call(ve,he)}complete(){var he,ve;null===(ve=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ve||ve.call(he)}_subscribe(he){var ve,Me;return null!==(Me=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(he))&&void 0!==Me?Me:a.Lc}}},930:(en,ke,j)=>{"use strict";j.d(ke,{Hp:()=>Dt,Lv:()=>Me});var D=j(576),a=j(727),$=j(2416),Ce=j(7849),ye=j(5032);const Ne=Ye("C",void 0,void 0);function Ye(rt,Ge,pt){return{kind:rt,value:Ge,error:pt}}var he=j(3410),ve=j(2806);class Me extends a.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,a.Nn)(Ge)&&Ge.add(this)):this.destination=kt}static create(Ge,pt,Rt){return new Dt(Ge,pt,Rt)}next(Ge){this.isStopped?De(function be(rt){return Ye("N",rt,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?De(function Fe(rt){return Ye("E",void 0,rt)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?De(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function lt(rt,Ge){return Qe.call(rt,Ge)}class mt{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:pt}=this;if(pt.next)try{pt.next(Ge)}catch(Rt){Je(Rt)}}error(Ge){const{partialObserver:pt}=this;if(pt.error)try{pt.error(Ge)}catch(Rt){Je(Rt)}else Je(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(pt){Je(pt)}}}class Dt extends Me{constructor(Ge,pt,Rt){let St;if(super(),(0,D.m)(Ge)||!Ge)St={next:Ge??void 0,error:pt??void 0,complete:Rt??void 0};else{let Be;this&&$.v.useDeprecatedNextContext?(Be=Object.create(Ge),Be.unsubscribe=()=>this.unsubscribe(),St={next:Ge.next&&lt(Ge.next,Be),error:Ge.error&&lt(Ge.error,Be),complete:Ge.complete&&lt(Ge.complete,Be)}):St=Ge}this.destination=new mt(St)}}function Je(rt){$.v.useDeprecatedSynchronousErrorHandling?(0,ve.O)(rt):(0,Ce.h)(rt)}function De(rt,Ge){const{onStoppedNotification:pt}=$.v;pt&&he.z.setTimeout(()=>pt(rt,Ge))}const kt={closed:!0,next:ye.Z,error:function _t(rt){throw rt},complete:ye.Z}},727:(en,ke,j)=>{"use strict";j.d(ke,{Lc:()=>Ne,w0:()=>ye,Nn:()=>Fe});var D=j(576);const $=(0,j(3888).d)(Ye=>function(ve){Ye(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Me,Qe)=>`${Qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Ce=j(8737);class ye{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const lt of ve)lt.remove(this);else ve.remove(this);const{initialTeardown:Me}=this;if((0,D.m)(Me))try{Me()}catch(lt){he=lt instanceof $?lt.errors:[lt]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const lt of Qe)try{be(lt)}catch(mt){he=he??[],mt instanceof $?he=[...he,...mt.errors]:he.push(mt)}}if(he)throw new $(he)}}add(he){var ve;if(he&&he!==this)if(this.closed)be(he);else{if(he instanceof ye){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(he)}}_hasParent(he){const{_parentage:ve}=this;return ve===he||Array.isArray(ve)&&ve.includes(he)}_addParent(he){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(he),ve):ve?[ve,he]:he}_removeParent(he){const{_parentage:ve}=this;ve===he?this._parentage=null:Array.isArray(ve)&&(0,Ce.P)(ve,he)}remove(he){const{_finalizers:ve}=this;ve&&(0,Ce.P)(ve,he),he instanceof ye&&he._removeParent(this)}}ye.EMPTY=(()=>{const Ye=new ye;return Ye.closed=!0,Ye})();const Ne=ye.EMPTY;function Fe(Ye){return Ye instanceof ye||Ye&&"closed"in Ye&&(0,D.m)(Ye.remove)&&(0,D.m)(Ye.add)&&(0,D.m)(Ye.unsubscribe)}function be(Ye){(0,D.m)(Ye)?Ye():Ye.unsubscribe()}},2416:(en,ke,j)=>{"use strict";j.d(ke,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(en,ke,j)=>{"use strict";j.d(ke,{a:()=>he});var D=j(9751),a=j(4742),$=j(8996),Ce=j(4671),ye=j(3268),Ne=j(3269),Fe=j(1810),be=j(5403),Ye=j(9672);function he(...Qe){const lt=(0,Ne.yG)(Qe),mt=(0,Ne.jO)(Qe),{args:Dt,keys:Je}=(0,a.D)(Qe);if(0===Dt.length)return(0,$.D)([],lt);const _t=new D.y(function ve(Qe,lt,mt=Ce.y){return Dt=>{Me(lt,()=>{const{length:Je}=Qe,_t=new Array(Je);let De=Je,kt=Je;for(let rt=0;rt<Je;rt++)Me(lt,()=>{const Ge=(0,$.D)(Qe[rt],lt);let pt=!1;Ge.subscribe((0,be.x)(Dt,Rt=>{_t[rt]=Rt,pt||(pt=!0,kt--),kt||Dt.next(mt(_t.slice()))},()=>{--De||Dt.complete()}))},Dt)},Dt)}}(Dt,lt,Je?De=>(0,Fe.n)(Je,De):Ce.y));return mt?_t.pipe((0,ye.Z)(mt)):_t}function Me(Qe,lt,mt){Qe?(0,Ye.f)(mt,Qe,lt):lt()}},7272:(en,ke,j)=>{"use strict";j.d(ke,{z:()=>ye});var D=j(8189),$=j(3269),Ce=j(8996);function ye(...Ne){return function a(){return(0,D.J)(1)}()((0,Ce.D)(Ne,(0,$.yG)(Ne)))}},515:(en,ke,j)=>{"use strict";j.d(ke,{E:()=>a});const a=new(j(9751).y)(ye=>ye.complete())},8996:(en,ke,j)=>{"use strict";j.d(ke,{D:()=>Ge});var D=j(8421),a=j(5363),$=j(9468),Ne=j(9751),be=j(2202),Ye=j(576),he=j(9672);function Me(pt,Rt){if(!pt)throw new Error("Iterable cannot be null");return new Ne.y(St=>{(0,he.f)(St,Rt,()=>{const Be=pt[Symbol.asyncIterator]();(0,he.f)(St,Rt,()=>{Be.next().then(Et=>{Et.done?St.complete():St.next(Et.value)})},0,!0)})})}var Qe=j(3670),lt=j(8239),mt=j(1144),Dt=j(6495),Je=j(2206),_t=j(4532),De=j(3260);function Ge(pt,Rt){return Rt?function rt(pt,Rt){if(null!=pt){if((0,Qe.c)(pt))return function Ce(pt,Rt){return(0,D.Xf)(pt).pipe((0,$.R)(Rt),(0,a.Q)(Rt))}(pt,Rt);if((0,mt.z)(pt))return function Fe(pt,Rt){return new Ne.y(St=>{let Be=0;return Rt.schedule(function(){Be===pt.length?St.complete():(St.next(pt[Be++]),St.closed||this.schedule())})})}(pt,Rt);if((0,lt.t)(pt))return function ye(pt,Rt){return(0,D.Xf)(pt).pipe((0,$.R)(Rt),(0,a.Q)(Rt))}(pt,Rt);if((0,Je.D)(pt))return Me(pt,Rt);if((0,Dt.T)(pt))return function ve(pt,Rt){return new Ne.y(St=>{let Be;return(0,he.f)(St,Rt,()=>{Be=pt[be.h](),(0,he.f)(St,Rt,()=>{let Et,ln;try{({value:Et,done:ln}=Be.next())}catch(Ct){return void St.error(Ct)}ln?St.complete():St.next(Et)},0,!0)}),()=>(0,Ye.m)(Be?.return)&&Be.return()})}(pt,Rt);if((0,De.L)(pt))return function kt(pt,Rt){return Me((0,De.Q)(pt),Rt)}(pt,Rt)}throw(0,_t.z)(pt)}(pt,Rt):(0,D.Xf)(pt)}},8421:(en,ke,j)=>{"use strict";j.d(ke,{Xf:()=>Qe});var D=j(655),a=j(1144),$=j(8239),Ce=j(9751),ye=j(3670),Ne=j(2206),Fe=j(4532),be=j(6495),Ye=j(3260),he=j(576),ve=j(7849),Me=j(8822);function Qe(rt){if(rt instanceof Ce.y)return rt;if(null!=rt){if((0,ye.c)(rt))return function lt(rt){return new Ce.y(Ge=>{const pt=rt[Me.L]();if((0,he.m)(pt.subscribe))return pt.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,a.z)(rt))return function mt(rt){return new Ce.y(Ge=>{for(let pt=0;pt<rt.length&&!Ge.closed;pt++)Ge.next(rt[pt]);Ge.complete()})}(rt);if((0,$.t)(rt))return function Dt(rt){return new Ce.y(Ge=>{rt.then(pt=>{Ge.closed||(Ge.next(pt),Ge.complete())},pt=>Ge.error(pt)).then(null,ve.h)})}(rt);if((0,Ne.D)(rt))return _t(rt);if((0,be.T)(rt))return function Je(rt){return new Ce.y(Ge=>{for(const pt of rt)if(Ge.next(pt),Ge.closed)return;Ge.complete()})}(rt);if((0,Ye.L)(rt))return function De(rt){return _t((0,Ye.Q)(rt))}(rt)}throw(0,Fe.z)(rt)}function _t(rt){return new Ce.y(Ge=>{(function kt(rt,Ge){var pt,Rt,St,Be;return(0,D.mG)(this,void 0,void 0,function*(){try{for(pt=(0,D.KL)(rt);!(Rt=yield pt.next()).done;)if(Ge.next(Rt.value),Ge.closed)return}catch(Et){St={error:Et}}finally{try{Rt&&!Rt.done&&(Be=pt.return)&&(yield Be.call(pt))}finally{if(St)throw St.error}}Ge.complete()})})(rt,Ge).catch(pt=>Ge.error(pt))})}},6451:(en,ke,j)=>{"use strict";j.d(ke,{T:()=>Ne});var D=j(8189),a=j(8421),$=j(515),Ce=j(3269),ye=j(8996);function Ne(...Fe){const be=(0,Ce.yG)(Fe),Ye=(0,Ce._6)(Fe,1/0),he=Fe;return he.length?1===he.length?(0,a.Xf)(he[0]):(0,D.J)(Ye)((0,ye.D)(he,be)):$.E}},9646:(en,ke,j)=>{"use strict";j.d(ke,{of:()=>$});var D=j(3269),a=j(8996);function $(...Ce){const ye=(0,D.yG)(Ce);return(0,a.D)(Ce,ye)}},5403:(en,ke,j)=>{"use strict";j.d(ke,{x:()=>a});var D=j(930);function a(Ce,ye,Ne,Fe,be){return new $(Ce,ye,Ne,Fe,be)}class $ extends D.Lv{constructor(ye,Ne,Fe,be,Ye,he){super(ye),this.onFinalize=Ye,this.shouldUnsubscribe=he,this._next=Ne?function(ve){try{Ne(ve)}catch(Me){ye.error(Me)}}:super._next,this._error=be?function(ve){try{be(ve)}catch(Me){ye.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(ve){ye.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4351:(en,ke,j)=>{"use strict";j.d(ke,{b:()=>$});var D=j(5577),a=j(576);function $(Ce,ye){return(0,a.m)(ye)?(0,D.z)(Ce,ye,1):(0,D.z)(Ce,1)}},6590:(en,ke,j)=>{"use strict";j.d(ke,{d:()=>$});var D=j(4482),a=j(5403);function $(Ce){return(0,D.e)((ye,Ne)=>{let Fe=!1;ye.subscribe((0,a.x)(Ne,be=>{Fe=!0,Ne.next(be)},()=>{Fe||Ne.next(Ce),Ne.complete()}))})}},1884:(en,ke,j)=>{"use strict";j.d(ke,{x:()=>Ce});var D=j(4671),a=j(4482),$=j(5403);function Ce(Ne,Fe=D.y){return Ne=Ne??ye,(0,a.e)((be,Ye)=>{let he,ve=!0;be.subscribe((0,$.x)(Ye,Me=>{const Qe=Fe(Me);(ve||!Ne(he,Qe))&&(ve=!1,he=Qe,Ye.next(Me))}))})}function ye(Ne,Fe){return Ne===Fe}},9300:(en,ke,j)=>{"use strict";j.d(ke,{h:()=>$});var D=j(4482),a=j(5403);function $(Ce,ye){return(0,D.e)((Ne,Fe)=>{let be=0;Ne.subscribe((0,a.x)(Fe,Ye=>Ce.call(ye,Ye,be++)&&Fe.next(Ye)))})}},8746:(en,ke,j)=>{"use strict";j.d(ke,{x:()=>a});var D=j(4482);function a($){return(0,D.e)((Ce,ye)=>{try{Ce.subscribe(ye)}finally{ye.add($)}})}},590:(en,ke,j)=>{"use strict";j.d(ke,{P:()=>Fe});var D=j(6805),a=j(9300),$=j(5698),Ce=j(6590),ye=j(8068),Ne=j(4671);function Fe(be,Ye){const he=arguments.length>=2;return ve=>ve.pipe(be?(0,a.h)((Me,Qe)=>be(Me,Qe,ve)):Ne.y,(0,$.q)(1),he?(0,Ce.d)(Ye):(0,ye.T)(()=>new D.K))}},4004:(en,ke,j)=>{"use strict";j.d(ke,{U:()=>$});var D=j(4482),a=j(5403);function $(Ce,ye){return(0,D.e)((Ne,Fe)=>{let be=0;Ne.subscribe((0,a.x)(Fe,Ye=>{Fe.next(Ce.call(ye,Ye,be++))}))})}},9718:(en,ke,j)=>{"use strict";j.d(ke,{h:()=>a});var D=j(4004);function a($){return(0,D.U)(()=>$)}},8189:(en,ke,j)=>{"use strict";j.d(ke,{J:()=>$});var D=j(5577),a=j(4671);function $(Ce=1/0){return(0,D.z)(a.y,Ce)}},5577:(en,ke,j)=>{"use strict";j.d(ke,{z:()=>be});var D=j(4004),a=j(8421),$=j(4482),Ce=j(9672),ye=j(5403),Fe=j(576);function be(Ye,he,ve=1/0){return(0,Fe.m)(he)?be((Me,Qe)=>(0,D.U)((lt,mt)=>he(Me,lt,Qe,mt))((0,a.Xf)(Ye(Me,Qe))),ve):("number"==typeof he&&(ve=he),(0,$.e)((Me,Qe)=>function Ne(Ye,he,ve,Me,Qe,lt,mt,Dt){const Je=[];let _t=0,De=0,kt=!1;const rt=()=>{kt&&!Je.length&&!_t&&he.complete()},Ge=Rt=>_t<Me?pt(Rt):Je.push(Rt),pt=Rt=>{lt&&he.next(Rt),_t++;let St=!1;(0,a.Xf)(ve(Rt,De++)).subscribe((0,ye.x)(he,Be=>{Qe?.(Be),lt?Ge(Be):he.next(Be)},()=>{St=!0},void 0,()=>{if(St)try{for(_t--;Je.length&&_t<Me;){const Be=Je.shift();mt?(0,Ce.f)(he,mt,()=>pt(Be)):pt(Be)}rt()}catch(Be){he.error(Be)}}))};return Ye.subscribe((0,ye.x)(he,Ge,()=>{kt=!0,rt()})),()=>{Dt?.()}}(Me,Qe,Ye,ve)))}},5363:(en,ke,j)=>{"use strict";j.d(ke,{Q:()=>Ce});var D=j(9672),a=j(4482),$=j(5403);function Ce(ye,Ne=0){return(0,a.e)((Fe,be)=>{Fe.subscribe((0,$.x)(be,Ye=>(0,D.f)(be,ye,()=>be.next(Ye),Ne),()=>(0,D.f)(be,ye,()=>be.complete(),Ne),Ye=>(0,D.f)(be,ye,()=>be.error(Ye),Ne)))})}},5026:(en,ke,j)=>{"use strict";j.d(ke,{R:()=>Ce});var D=j(4482),a=j(5403);function Ce(ye,Ne){return(0,D.e)(function $(ye,Ne,Fe,be,Ye){return(he,ve)=>{let Me=Fe,Qe=Ne,lt=0;he.subscribe((0,a.x)(ve,mt=>{const Dt=lt++;Qe=Me?ye(Qe,mt,Dt):(Me=!0,mt),be&&ve.next(Qe)},Ye&&(()=>{Me&&ve.next(Qe),ve.complete()})))}}(ye,Ne,arguments.length>=2,!0))}},3099:(en,ke,j)=>{"use strict";j.d(ke,{B:()=>ye});var D=j(8421),a=j(7579),$=j(930),Ce=j(4482);function ye(Fe={}){const{connector:be=(()=>new a.x),resetOnError:Ye=!0,resetOnComplete:he=!0,resetOnRefCountZero:ve=!0}=Fe;return Me=>{let Qe,lt,mt,Dt=0,Je=!1,_t=!1;const De=()=>{lt?.unsubscribe(),lt=void 0},kt=()=>{De(),Qe=mt=void 0,Je=_t=!1},rt=()=>{const Ge=Qe;kt(),Ge?.unsubscribe()};return(0,Ce.e)((Ge,pt)=>{Dt++,!_t&&!Je&&De();const Rt=mt=mt??be();pt.add(()=>{Dt--,0===Dt&&!_t&&!Je&&(lt=Ne(rt,ve))}),Rt.subscribe(pt),!Qe&&Dt>0&&(Qe=new $.Hp({next:St=>Rt.next(St),error:St=>{_t=!0,De(),lt=Ne(kt,Ye,St),Rt.error(St)},complete:()=>{Je=!0,De(),lt=Ne(kt,he),Rt.complete()}}),(0,D.Xf)(Ge).subscribe(Qe))})(Me)}}function Ne(Fe,be,...Ye){if(!0===be)return void Fe();if(!1===be)return;const he=new $.Hp({next:()=>{he.unsubscribe(),Fe()}});return(0,D.Xf)(be(...Ye)).subscribe(he)}},8675:(en,ke,j)=>{"use strict";j.d(ke,{O:()=>Ce});var D=j(7272),a=j(3269),$=j(4482);function Ce(...ye){const Ne=(0,a.yG)(ye);return(0,$.e)((Fe,be)=>{(Ne?(0,D.z)(ye,Fe,Ne):(0,D.z)(ye,Fe)).subscribe(be)})}},9468:(en,ke,j)=>{"use strict";j.d(ke,{R:()=>a});var D=j(4482);function a($,Ce=0){return(0,D.e)((ye,Ne)=>{Ne.add($.schedule(()=>ye.subscribe(Ne),Ce))})}},3900:(en,ke,j)=>{"use strict";j.d(ke,{w:()=>Ce});var D=j(8421),a=j(4482),$=j(5403);function Ce(ye,Ne){return(0,a.e)((Fe,be)=>{let Ye=null,he=0,ve=!1;const Me=()=>ve&&!Ye&&be.complete();Fe.subscribe((0,$.x)(be,Qe=>{Ye?.unsubscribe();let lt=0;const mt=he++;(0,D.Xf)(ye(Qe,mt)).subscribe(Ye=(0,$.x)(be,Dt=>be.next(Ne?Ne(Qe,Dt,mt,lt++):Dt),()=>{Ye=null,Me()}))},()=>{ve=!0,Me()}))})}},5698:(en,ke,j)=>{"use strict";j.d(ke,{q:()=>Ce});var D=j(515),a=j(4482),$=j(5403);function Ce(ye){return ye<=0?()=>D.E:(0,a.e)((Ne,Fe)=>{let be=0;Ne.subscribe((0,$.x)(Fe,Ye=>{++be<=ye&&(Fe.next(Ye),ye<=be&&Fe.complete())}))})}},8505:(en,ke,j)=>{"use strict";j.d(ke,{b:()=>ye});var D=j(576),a=j(4482),$=j(5403),Ce=j(4671);function ye(Ne,Fe,be){const Ye=(0,D.m)(Ne)||Fe||be?{next:Ne,error:Fe,complete:be}:Ne;return Ye?(0,a.e)((he,ve)=>{var Me;null===(Me=Ye.subscribe)||void 0===Me||Me.call(Ye);let Qe=!0;he.subscribe((0,$.x)(ve,lt=>{var mt;null===(mt=Ye.next)||void 0===mt||mt.call(Ye,lt),ve.next(lt)},()=>{var lt;Qe=!1,null===(lt=Ye.complete)||void 0===lt||lt.call(Ye),ve.complete()},lt=>{var mt;Qe=!1,null===(mt=Ye.error)||void 0===mt||mt.call(Ye,lt),ve.error(lt)},()=>{var lt,mt;Qe&&(null===(lt=Ye.unsubscribe)||void 0===lt||lt.call(Ye)),null===(mt=Ye.finalize)||void 0===mt||mt.call(Ye)}))}):Ce.y}},8068:(en,ke,j)=>{"use strict";j.d(ke,{T:()=>Ce});var D=j(6805),a=j(4482),$=j(5403);function Ce(Ne=ye){return(0,a.e)((Fe,be)=>{let Ye=!1;Fe.subscribe((0,$.x)(be,he=>{Ye=!0,be.next(he)},()=>Ye?be.complete():be.error(Ne())))})}function ye(){return new D.K}},4408:(en,ke,j)=>{"use strict";j.d(ke,{o:()=>ye});var D=j(727);class a extends D.w0{constructor(Fe,be){super()}schedule(Fe,be=0){return this}}const $={setInterval(Ne,Fe,...be){const{delegate:Ye}=$;return Ye?.setInterval?Ye.setInterval(Ne,Fe,...be):setInterval(Ne,Fe,...be)},clearInterval(Ne){const{delegate:Fe}=$;return(Fe?.clearInterval||clearInterval)(Ne)},delegate:void 0};var Ce=j(8737);class ye extends a{constructor(Fe,be){super(Fe,be),this.scheduler=Fe,this.work=be,this.pending=!1}schedule(Fe,be=0){var Ye;if(this.closed)return this;this.state=Fe;const he=this.id,ve=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ve,he,be)),this.pending=!0,this.delay=be,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(ve,this.id,be),this}requestAsyncId(Fe,be,Ye=0){return $.setInterval(Fe.flush.bind(Fe,this),Ye)}recycleAsyncId(Fe,be,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return be;null!=be&&$.clearInterval(be)}execute(Fe,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Fe,be);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,be){let he,Ye=!1;try{this.work(Fe)}catch(ve){Ye=!0,he=ve||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:be}=this,{actions:Ye}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ye,this),null!=Fe&&(this.id=this.recycleAsyncId(be,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(en,ke,j)=>{"use strict";j.d(ke,{v:()=>$});var D=j(6063);class a{constructor(ye,Ne=a.now){this.schedulerActionCtor=ye,this.now=Ne}schedule(ye,Ne=0,Fe){return new this.schedulerActionCtor(this,ye).schedule(Fe,Ne)}}a.now=D.l.now;class $ extends a{constructor(ye,Ne=a.now){super(ye,Ne),this.actions=[],this._active=!1}flush(ye){const{actions:Ne}=this;if(this._active)return void Ne.push(ye);let Fe;this._active=!0;do{if(Fe=ye.execute(ye.state,ye.delay))break}while(ye=Ne.shift());if(this._active=!1,Fe){for(;ye=Ne.shift();)ye.unsubscribe();throw Fe}}}},4986:(en,ke,j)=>{"use strict";j.d(ke,{P:()=>Ce,z:()=>$});var D=j(4408);const $=new(j(7565).v)(D.o),Ce=$},6063:(en,ke,j)=>{"use strict";j.d(ke,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(en,ke,j)=>{"use strict";j.d(ke,{z:()=>D});const D={setTimeout(a,$,...Ce){const{delegate:ye}=D;return ye?.setTimeout?ye.setTimeout(a,$,...Ce):setTimeout(a,$,...Ce)},clearTimeout(a){const{delegate:$}=D;return($?.clearTimeout||clearTimeout)(a)},delegate:void 0}},2202:(en,ke,j)=>{"use strict";j.d(ke,{h:()=>a});const a=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(en,ke,j)=>{"use strict";j.d(ke,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(en,ke,j)=>{"use strict";j.d(ke,{K:()=>a});const a=(0,j(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(en,ke,j)=>{"use strict";j.d(ke,{_6:()=>Ne,jO:()=>Ce,yG:()=>ye});var D=j(576),a=j(3532);function $(Fe){return Fe[Fe.length-1]}function Ce(Fe){return(0,D.m)($(Fe))?Fe.pop():void 0}function ye(Fe){return(0,a.K)($(Fe))?Fe.pop():void 0}function Ne(Fe,be){return"number"==typeof $(Fe)?Fe.pop():be}},4742:(en,ke,j)=>{"use strict";j.d(ke,{D:()=>ye});const{isArray:D}=Array,{getPrototypeOf:a,prototype:$,keys:Ce}=Object;function ye(Fe){if(1===Fe.length){const be=Fe[0];if(D(be))return{args:be,keys:null};if(function Ne(Fe){return Fe&&"object"==typeof Fe&&a(Fe)===$}(be)){const Ye=Ce(be);return{args:Ye.map(he=>be[he]),keys:Ye}}}return{args:Fe,keys:null}}},8737:(en,ke,j)=>{"use strict";function D(a,$){if(a){const Ce=a.indexOf($);0<=Ce&&a.splice(Ce,1)}}j.d(ke,{P:()=>D})},3888:(en,ke,j)=>{"use strict";function D(a){const Ce=a(ye=>{Error.call(ye),ye.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}j.d(ke,{d:()=>D})},1810:(en,ke,j)=>{"use strict";function D(a,$){return a.reduce((Ce,ye,Ne)=>(Ce[ye]=$[Ne],Ce),{})}j.d(ke,{n:()=>D})},2806:(en,ke,j)=>{"use strict";j.d(ke,{O:()=>Ce,x:()=>$});var D=j(2416);let a=null;function $(ye){if(D.v.useDeprecatedSynchronousErrorHandling){const Ne=!a;if(Ne&&(a={errorThrown:!1,error:null}),ye(),Ne){const{errorThrown:Fe,error:be}=a;if(a=null,Fe)throw be}}else ye()}function Ce(ye){D.v.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=ye)}},9672:(en,ke,j)=>{"use strict";function D(a,$,Ce,ye=0,Ne=!1){const Fe=$.schedule(function(){Ce(),Ne?a.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(a.add(Fe),!Ne)return Fe}j.d(ke,{f:()=>D})},4671:(en,ke,j)=>{"use strict";function D(a){return a}j.d(ke,{y:()=>D})},1144:(en,ke,j)=>{"use strict";j.d(ke,{z:()=>D});const D=a=>a&&"number"==typeof a.length&&"function"!=typeof a},2206:(en,ke,j)=>{"use strict";j.d(ke,{D:()=>a});var D=j(576);function a($){return Symbol.asyncIterator&&(0,D.m)($?.[Symbol.asyncIterator])}},576:(en,ke,j)=>{"use strict";function D(a){return"function"==typeof a}j.d(ke,{m:()=>D})},3670:(en,ke,j)=>{"use strict";j.d(ke,{c:()=>$});var D=j(8822),a=j(576);function $(Ce){return(0,a.m)(Ce[D.L])}},6495:(en,ke,j)=>{"use strict";j.d(ke,{T:()=>$});var D=j(2202),a=j(576);function $(Ce){return(0,a.m)(Ce?.[D.h])}},8239:(en,ke,j)=>{"use strict";j.d(ke,{t:()=>a});var D=j(576);function a($){return(0,D.m)($?.then)}},3260:(en,ke,j)=>{"use strict";j.d(ke,{L:()=>Ce,Q:()=>$});var D=j(655),a=j(576);function $(ye){return(0,D.FC)(this,arguments,function*(){const Fe=ye.getReader();try{for(;;){const{value:be,done:Ye}=yield(0,D.qq)(Fe.read());if(Ye)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(be)}}finally{Fe.releaseLock()}})}function Ce(ye){return(0,a.m)(ye?.getReader)}},3532:(en,ke,j)=>{"use strict";j.d(ke,{K:()=>a});var D=j(576);function a($){return $&&(0,D.m)($.schedule)}},4482:(en,ke,j)=>{"use strict";j.d(ke,{A:()=>a,e:()=>$});var D=j(576);function a(Ce){return(0,D.m)(Ce?.lift)}function $(Ce){return ye=>{if(a(ye))return ye.lift(function(Ne){try{return Ce(Ne,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(en,ke,j)=>{"use strict";j.d(ke,{Z:()=>Ce});var D=j(4004);const{isArray:a}=Array;function Ce(ye){return(0,D.U)(Ne=>function $(ye,Ne){return a(Ne)?ye(...Ne):ye(Ne)}(ye,Ne))}},5032:(en,ke,j)=>{"use strict";function D(){}j.d(ke,{Z:()=>D})},9635:(en,ke,j)=>{"use strict";j.d(ke,{U:()=>$,z:()=>a});var D=j(4671);function a(...Ce){return $(Ce)}function $(Ce){return 0===Ce.length?D.y:1===Ce.length?Ce[0]:function(Ne){return Ce.reduce((Fe,be)=>be(Fe),Ne)}}},7849:(en,ke,j)=>{"use strict";j.d(ke,{h:()=>$});var D=j(2416),a=j(3410);function $(Ce){a.z.setTimeout(()=>{const{onUnhandledError:ye}=D.v;if(!ye)throw Ce;ye(Ce)})}},4532:(en,ke,j)=>{"use strict";function D(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ke,{z:()=>D})},5226:function(en){en.exports=function(){"use strict";var ke={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const D=A=>{const O={};for(const q in A)O[A[q]]="swal2-"+A[q];return O},a=D(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),$=D(["success","warning","info","question","error"]),Ce="SweetAlert2:",Ne=A=>A.charAt(0).toUpperCase()+A.slice(1),Fe=A=>{console.warn(`${Ce} ${"object"==typeof A?A.join(" "):A}`)},be=A=>{console.error(`${Ce} ${A}`)},Ye=[],ve=(A,O)=>{(A=>{Ye.includes(A)||(Ye.push(A),Fe(A))})(`"${A}" is deprecated and will be removed in the next major release. Please use "${O}" instead.`)},Me=A=>"function"==typeof A?A():A,Qe=A=>A&&"function"==typeof A.toPromise,lt=A=>Qe(A)?A.toPromise():Promise.resolve(A),mt=A=>A&&Promise.resolve(A)===A,Dt=()=>document.body.querySelector(`.${a.container}`),Je=A=>{const O=Dt();return O?O.querySelector(A):null},_t=A=>Je(`.${A}`),De=()=>_t(a.popup),kt=()=>_t(a.icon),Ge=()=>_t(a.title),pt=()=>_t(a["html-container"]),Rt=()=>_t(a.image),St=()=>_t(a["progress-steps"]),Be=()=>_t(a["validation-message"]),Et=()=>Je(`.${a.actions} .${a.confirm}`),ln=()=>Je(`.${a.actions} .${a.cancel}`),Ct=()=>Je(`.${a.actions} .${a.deny}`),Yt=()=>Je(`.${a.loader}`),st=()=>_t(a.actions),ot=()=>_t(a.footer),ft=()=>_t(a["timer-progress-bar"]),It=()=>_t(a.close),Tt=()=>{const A=Array.from(De().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((q,de)=>{const Xe=parseInt(q.getAttribute("tabindex")),zt=parseInt(de.getAttribute("tabindex"));return Xe>zt?1:Xe<zt?-1:0}),O=Array.from(De().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(q=>"-1"!==q.getAttribute("tabindex"));return(A=>{const O=[];for(let q=0;q<A.length;q++)-1===O.indexOf(A[q])&&O.push(A[q]);return O})(A.concat(O)).filter(q=>Lt(q))},qt=()=>yt(document.body,a.shown)&&!yt(document.body,a["toast-shown"])&&!yt(document.body,a["no-backdrop"]),$t=()=>De()&&yt(De(),a.toast),un={previousBodyPadding:null},yn=(A,O)=>{if(A.textContent="",O){const de=(new DOMParser).parseFromString(O,"text/html");Array.from(de.querySelector("head").childNodes).forEach(Xe=>{A.appendChild(Xe)}),Array.from(de.querySelector("body").childNodes).forEach(Xe=>{Xe instanceof HTMLVideoElement||Xe instanceof HTMLAudioElement?A.appendChild(Xe.cloneNode(!0)):A.appendChild(Xe)})}},yt=(A,O)=>{if(!O)return!1;const q=O.split(/\s+/);for(let de=0;de<q.length;de++)if(!A.classList.contains(q[de]))return!1;return!0},ir=(A,O,q)=>{if(((A,O)=>{Array.from(A.classList).forEach(q=>{!Object.values(a).includes(q)&&!Object.values($).includes(q)&&!Object.values(O.showClass).includes(q)&&A.classList.remove(q)})})(A,O),O.customClass&&O.customClass[q]){if("string"!=typeof O.customClass[q]&&!O.customClass[q].forEach)return void Fe(`Invalid type of customClass.${q}! Expected string or iterable object, got "${typeof O.customClass[q]}"`);cn(A,O.customClass[q])}},Jn=(A,O)=>{if(!O)return null;switch(O){case"select":case"textarea":case"file":return A.querySelector(`.${a.popup} > .${a[O]}`);case"checkbox":return A.querySelector(`.${a.popup} > .${a.checkbox} input`);case"radio":return A.querySelector(`.${a.popup} > .${a.radio} input:checked`)||A.querySelector(`.${a.popup} > .${a.radio} input:first-child`);case"range":return A.querySelector(`.${a.popup} > .${a.range} input`);default:return A.querySelector(`.${a.popup} > .${a.input}`)}},Sr=A=>{if(A.focus(),"file"!==A.type){const O=A.value;A.value="",A.value=O}},Mr=(A,O,q)=>{!A||!O||("string"==typeof O&&(O=O.split(/\s+/).filter(Boolean)),O.forEach(de=>{Array.isArray(A)?A.forEach(Xe=>{q?Xe.classList.add(de):Xe.classList.remove(de)}):q?A.classList.add(de):A.classList.remove(de)}))},cn=(A,O)=>{Mr(A,O,!0)},br=(A,O)=>{Mr(A,O,!1)},Lr=(A,O)=>{const q=Array.from(A.children);for(let de=0;de<q.length;de++){const Xe=q[de];if(Xe instanceof HTMLElement&&yt(Xe,O))return Xe}},qe=(A,O,q)=>{q===`${parseInt(q)}`&&(q=parseInt(q)),q||0===parseInt(q)?A.style[O]="number"==typeof q?`${q}px`:q:A.style.removeProperty(O)},xe=function(A){A.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ve=A=>{A.style.display="none"},ze=(A,O,q,de)=>{const Xe=A.querySelector(O);Xe&&(Xe.style[q]=de)},Mt=function(A,O){O?xe(A,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ve(A)},Lt=A=>!(!A||!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),Fn=A=>A.scrollHeight>A.clientHeight,Zn=A=>{const O=window.getComputedStyle(A),q=parseFloat(O.getPropertyValue("animation-duration")||"0"),de=parseFloat(O.getPropertyValue("transition-duration")||"0");return q>0||de>0},Mn=function(A){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const q=ft();Lt(q)&&(O&&(q.style.transition="none",q.style.width="100%"),setTimeout(()=>{q.style.transition=`width ${A/1e3}s linear`,q.style.width="0%"},10))},Ut={},or=A=>new Promise(O=>{if(!A)return O();const q=window.scrollX,de=window.scrollY;Ut.restoreFocusTimeout=setTimeout(()=>{Ut.previousActiveElement instanceof HTMLElement?(Ut.previousActiveElement.focus(),Ut.previousActiveElement=null):document.body&&document.body.focus(),O()},100),window.scrollTo(q,de)}),rn=()=>typeof window>"u"||typeof document>"u",Xn=`\n <div aria-labelledby="${a.title}" aria-describedby="${a["html-container"]}" class="${a.popup}" tabindex="-1">\n   <button type="button" class="${a.close}"></button>\n   <ul class="${a["progress-steps"]}"></ul>\n   <div class="${a.icon}"></div>\n   <img class="${a.image}" />\n   <h2 class="${a.title}" id="${a.title}"></h2>\n   <div class="${a["html-container"]}" id="${a["html-container"]}"></div>\n   <input class="${a.input}" />\n   <input type="file" class="${a.file}" />\n   <div class="${a.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${a.select}"></select>\n   <div class="${a.radio}"></div>\n   <label for="${a.checkbox}" class="${a.checkbox}">\n     <input type="checkbox" />\n     <span class="${a.label}"></span>\n   </label>\n   <textarea class="${a.textarea}"></textarea>\n   <div class="${a["validation-message"]}" id="${a["validation-message"]}"></div>\n   <div class="${a.actions}">\n     <div class="${a.loader}"></div>\n     <button type="button" class="${a.confirm}"></button>\n     <button type="button" class="${a.deny}"></button>\n     <button type="button" class="${a.cancel}"></button>\n   </div>\n   <div class="${a.footer}"></div>\n   <div class="${a["timer-progress-bar-container"]}">\n     <div class="${a["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),_r=()=>{Ut.currentInstance.resetValidationMessage()},Bn=A=>{const O=(()=>{const A=Dt();return!!A&&(A.remove(),br([document.documentElement,document.body],[a["no-backdrop"],a["toast-shown"],a["has-column"]]),!0)})();if(rn())return void be("SweetAlert2 requires document to initialize");const q=document.createElement("div");q.className=a.container,O&&cn(q,a["no-transition"]),yn(q,Xn);const de=(A=>"string"==typeof A?document.querySelector(A):A)(A.target);de.appendChild(q),(A=>{const O=De();O.setAttribute("role",A.toast?"alert":"dialog"),O.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||O.setAttribute("aria-modal","true")})(A),(A=>{"rtl"===window.getComputedStyle(A).direction&&cn(Dt(),a.rtl)})(de),(()=>{const A=De(),O=Lr(A,a.input),q=Lr(A,a.file),de=A.querySelector(`.${a.range} input`),Xe=A.querySelector(`.${a.range} output`),zt=Lr(A,a.select),Dn=A.querySelector(`.${a.checkbox} input`),jn=Lr(A,a.textarea);O.oninput=_r,q.onchange=_r,zt.onchange=_r,Dn.onchange=_r,jn.oninput=_r,de.oninput=()=>{_r(),Xe.value=de.value},de.onchange=()=>{_r(),Xe.value=de.value}})()},kr=(A,O)=>{A instanceof HTMLElement?O.appendChild(A):"object"==typeof A?Br(A,O):A&&yn(O,A)},Br=(A,O)=>{A.jquery?lr(O,A):yn(O,A.toString())},lr=(A,O)=>{if(A.textContent="",0 in O)for(let q=0;q in O;q++)A.appendChild(O[q].cloneNode(!0));else A.appendChild(O.cloneNode(!0))},nr=(()=>{if(rn())return!1;const A=document.createElement("div"),O={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const q in O)if(Object.prototype.hasOwnProperty.call(O,q)&&typeof A.style[q]<"u")return O[q];return!1})(),Vr=(A,O)=>{const q=st(),de=Yt();O.showConfirmButton||O.showDenyButton||O.showCancelButton?xe(q):Ve(q),ir(q,O,"actions"),function Kr(A,O,q){const de=Et(),Xe=Ct(),zt=ln();me(de,"confirm",q),me(Xe,"deny",q),me(zt,"cancel",q),function Ee(A,O,q,de){de.buttonsStyling?(cn([A,O,q],a.styled),de.confirmButtonColor&&(A.style.backgroundColor=de.confirmButtonColor,cn(A,a["default-outline"])),de.denyButtonColor&&(O.style.backgroundColor=de.denyButtonColor,cn(O,a["default-outline"])),de.cancelButtonColor&&(q.style.backgroundColor=de.cancelButtonColor,cn(q,a["default-outline"]))):br([A,O,q],a.styled)}(de,Xe,zt,q),q.reverseButtons&&(q.toast?(A.insertBefore(zt,de),A.insertBefore(Xe,de)):(A.insertBefore(zt,O),A.insertBefore(Xe,O),A.insertBefore(de,O)))}(q,de,O),yn(de,O.loaderHtml),ir(de,O,"loader")};function me(A,O,q){Mt(A,q[`show${Ne(O)}Button`],"inline-block"),yn(A,q[`${O}ButtonText`]),A.setAttribute("aria-label",q[`${O}ButtonAriaLabel`]),A.className=a[O],ir(A,q,`${O}Button`),cn(A,q[`${O}ButtonClass`])}const se=(A,O)=>{const q=Dt();q&&(function X(A,O){"string"==typeof O?A.style.background=O:O||cn([document.documentElement,document.body],a["no-backdrop"])}(q,O.backdrop),function Se(A,O){O in a?cn(A,a[O]):(Fe('The "position" parameter is not valid, defaulting to "center"'),cn(A,a.center))}(q,O.position),function pe(A,O){if(O&&"string"==typeof O){const q=`grow-${O}`;q in a&&cn(A,a[q])}}(q,O.grow),ir(q,O,"container"))};const ge=["input","file","range","select","radio","checkbox","textarea"],Pe=A=>{if(!ae[A.input])return void be(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${A.input}"`);const O=Q(A.input),q=ae[A.input](O,A);xe(O),A.inputAutoFocus&&setTimeout(()=>{Sr(q)})},vt=(A,O)=>{const q=Jn(De(),A);if(q){(A=>{for(let O=0;O<A.attributes.length;O++){const q=A.attributes[O].name;["type","value","style"].includes(q)||A.removeAttribute(q)}})(q);for(const de in O)q.setAttribute(de,O[de])}},vn=A=>{const O=Q(A.input);"object"==typeof A.customClass&&cn(O,A.customClass.input)},pn=(A,O)=>{(!A.placeholder||O.inputPlaceholder)&&(A.placeholder=O.inputPlaceholder)},nt=(A,O,q)=>{if(q.inputLabel){A.id=a.input;const de=document.createElement("label"),Xe=a["input-label"];de.setAttribute("for",A.id),de.className=Xe,"object"==typeof q.customClass&&cn(de,q.customClass.inputLabel),de.innerText=q.inputLabel,O.insertAdjacentElement("beforebegin",de)}},Q=A=>Lr(De(),a[A]||a.input),Y=(A,O)=>{["string","number"].includes(typeof O)?A.value=`${O}`:mt(O)||Fe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof O}"`)},ae={};ae.text=ae.email=ae.password=ae.number=ae.tel=ae.url=(A,O)=>(Y(A,O.inputValue),nt(A,A,O),pn(A,O),A.type=O.input,A),ae.file=(A,O)=>(nt(A,A,O),pn(A,O),A),ae.range=(A,O)=>{const q=A.querySelector("input"),de=A.querySelector("output");return Y(q,O.inputValue),q.type=O.input,Y(de,O.inputValue),nt(q,A,O),A},ae.select=(A,O)=>{if(A.textContent="",O.inputPlaceholder){const q=document.createElement("option");yn(q,O.inputPlaceholder),q.value="",q.disabled=!0,q.selected=!0,A.appendChild(q)}return nt(A,A,O),A},ae.radio=A=>(A.textContent="",A),ae.checkbox=(A,O)=>{const q=Jn(De(),"checkbox");q.value="1",q.id=a.checkbox,q.checked=Boolean(O.inputValue);const de=A.querySelector("span");return yn(de,O.inputPlaceholder),q},ae.textarea=(A,O)=>{Y(A,O.inputValue),pn(A,O),nt(A,A,O);return setTimeout(()=>{if("MutationObserver"in window){const de=parseInt(window.getComputedStyle(De()).width);new MutationObserver(()=>{const zt=A.offsetWidth+(de=>parseInt(window.getComputedStyle(de).marginLeft)+parseInt(window.getComputedStyle(de).marginRight))(A);De().style.width=zt>de?`${zt}px`:null}).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const Ue=(A,O)=>{const q=pt();ir(q,O,"htmlContainer"),O.html?(kr(O.html,q),xe(q,"block")):O.text?(q.textContent=O.text,xe(q,"block")):Ve(q),((A,O)=>{const q=De(),de=ke.innerParams.get(A),Xe=!de||O.input!==de.input;ge.forEach(zt=>{const Dn=Lr(q,a[zt]);vt(zt,O.inputAttributes),Dn.className=a[zt],Xe&&Ve(Dn)}),O.input&&(Xe&&Pe(O),vn(O))})(A,O)},gn=(A,O)=>{for(const q in $)O.icon!==q&&br(A,$[q]);cn(A,$[O.icon]),di(A,O),Kt(),ir(A,O,"icon")},Kt=()=>{const A=De(),O=window.getComputedStyle(A).getPropertyValue("background-color"),q=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let de=0;de<q.length;de++)q[de].style.backgroundColor=O},Dr=(A,O)=>{let de,q=A.innerHTML;O.iconHtml?de=io(O.iconHtml):"success"===O.icon?(de='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',q=q.replace(/ style=".*?"/g,"")):de="error"===O.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':io({question:"?",warning:"!",info:"i"}[O.icon]),q.trim()!==de.trim()&&yn(A,de)},di=(A,O)=>{if(O.iconColor){A.style.color=O.iconColor,A.style.borderColor=O.iconColor;for(const q of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ze(A,q,"backgroundColor",O.iconColor);ze(A,".swal2-success-ring","borderColor",O.iconColor)}},io=A=>`<div class="${a["icon-content"]}">${A}</div>`,$r=(A,O)=>{A.className=`${a.popup} ${Lt(A)?O.showClass.popup:""}`,O.toast?(cn([document.documentElement,document.body],a["toast-shown"]),cn(A,a.toast)):cn(A,a.modal),ir(A,O,"popup"),"string"==typeof O.customClass&&cn(A,O.customClass),O.icon&&cn(A,a[`icon-${O.icon}`])},Qn=A=>{const O=document.createElement("li");return cn(O,a["progress-step"]),yn(O,A),O},hr=A=>{const O=document.createElement("li");return cn(O,a["progress-step-line"]),A.progressStepsDistance&&qe(O,"width",A.progressStepsDistance),O},ri=(A,O)=>{((A,O)=>{const q=Dt(),de=De();O.toast?(qe(q,"width",O.width),de.style.width="100%",de.insertBefore(Yt(),kt())):qe(de,"width",O.width),qe(de,"padding",O.padding),O.color&&(de.style.color=O.color),O.background&&(de.style.background=O.background),Ve(Be()),$r(de,O)})(0,O),se(0,O),((A,O)=>{const q=St();O.progressSteps&&0!==O.progressSteps.length?(xe(q),q.textContent="",O.currentProgressStep>=O.progressSteps.length&&Fe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.progressSteps.forEach((de,Xe)=>{const zt=Qn(de);if(q.appendChild(zt),Xe===O.currentProgressStep&&cn(zt,a["active-progress-step"]),Xe!==O.progressSteps.length-1){const Dn=hr(O);q.appendChild(Dn)}})):Ve(q)})(0,O),((A,O)=>{const q=ke.innerParams.get(A),de=kt();q&&O.icon===q.icon?(Dr(de,O),gn(de,O)):O.icon||O.iconHtml?O.icon&&-1===Object.keys($).indexOf(O.icon)?(be(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${O.icon}"`),Ve(de)):(xe(de),Dr(de,O),gn(de,O),cn(de,O.showClass.icon)):Ve(de)})(A,O),((A,O)=>{const q=Rt();O.imageUrl?(xe(q,""),q.setAttribute("src",O.imageUrl),q.setAttribute("alt",O.imageAlt),qe(q,"width",O.imageWidth),qe(q,"height",O.imageHeight),q.className=a.image,ir(q,O,"image")):Ve(q)})(0,O),((A,O)=>{const q=Ge();Mt(q,O.title||O.titleText,"block"),O.title&&kr(O.title,q),O.titleText&&(q.innerText=O.titleText),ir(q,O,"title")})(0,O),((A,O)=>{const q=It();yn(q,O.closeButtonHtml),ir(q,O,"closeButton"),Mt(q,O.showCloseButton),q.setAttribute("aria-label",O.closeButtonAriaLabel)})(0,O),Ue(A,O),Vr(0,O),((A,O)=>{const q=ot();Mt(q,O.footer),O.footer&&kr(O.footer,q),ir(q,O,"footer")})(0,O),"function"==typeof O.didRender&&O.didRender(De())};function Tr(){const A=ke.innerParams.get(this);if(!A)return;const O=ke.domCache.get(this);Ve(O.loader),$t()?A.icon&&xe(kt()):Zi(O),br([O.popup,O.actions],a.loading),O.popup.removeAttribute("aria-busy"),O.popup.removeAttribute("data-loading"),O.confirmButton.disabled=!1,O.denyButton.disabled=!1,O.cancelButton.disabled=!1}const Zi=A=>{const O=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));O.length?xe(O[0],"inline-block"):!Lt(Et())&&!Lt(Ct())&&!Lt(ln())&&Ve(A.actions)};const Oe=()=>Et()&&Et().click(),xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tn=A=>{A.keydownTarget&&A.keydownHandlerAdded&&(A.keydownTarget.removeEventListener("keydown",A.keydownHandler,{capture:A.keydownListenerCapture}),A.keydownHandlerAdded=!1)},$n=(A,O)=>{const q=Tt();if(q.length)return(A+=O)===q.length?A=0:-1===A&&(A=q.length-1),void q[A].focus();De().focus()},ur=["ArrowRight","ArrowDown"],Ki=["ArrowLeft","ArrowUp"],Oi=(A,O,q)=>{const de=ke.innerParams.get(A);de&&(O.isComposing||229===O.keyCode||(de.stopKeydownPropagation&&O.stopPropagation(),"Enter"===O.key?Ti(A,O,de):"Tab"===O.key?xi(O):[...ur,...Ki].includes(O.key)?ii(O.key):"Escape"===O.key&&$o(O,de,q)))},Ti=(A,O,q)=>{if(Me(q.allowEnterKey)&&O.target&&A.getInput()&&O.target instanceof HTMLElement&&O.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes(q.input))return;Oe(),O.preventDefault()}},xi=A=>{const O=A.target,q=Tt();let de=-1;for(let Xe=0;Xe<q.length;Xe++)if(O===q[Xe]){de=Xe;break}$n(de,A.shiftKey?-1:1),A.stopPropagation(),A.preventDefault()},ii=A=>{const O=Et(),q=Ct(),de=ln();if(document.activeElement instanceof HTMLElement&&![O,q,de].includes(document.activeElement))return;const zt=ur.includes(A)?"nextElementSibling":"previousElementSibling";let Dn=document.activeElement;for(let jn=0;jn<st().children.length;jn++){if(Dn=Dn[zt],!Dn)return;if(Dn instanceof HTMLButtonElement&&Lt(Dn))break}Dn instanceof HTMLButtonElement&&Dn.focus()},$o=(A,O,q)=>{Me(O.allowEscapeKey)&&(A.preventDefault(),q(xt.esc))};var Xo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const jo=()=>{Array.from(document.body.children).forEach(O=>{O.hasAttribute("data-previous-aria-hidden")?(O.setAttribute("aria-hidden",O.getAttribute("data-previous-aria-hidden")),O.removeAttribute("data-previous-aria-hidden")):O.removeAttribute("aria-hidden")})},oo=()=>{const A=navigator.userAgent,O=!!A.match(/iPad/i)||!!A.match(/iPhone/i),q=!!A.match(/WebKit/i);O&&q&&!A.match(/CriOS/i)&&De().scrollHeight>window.innerHeight-44&&(Dt().style.paddingBottom="44px")},wi=()=>{const A=Dt();let O;A.ontouchstart=q=>{O=la(q)},A.ontouchmove=q=>{O&&(q.preventDefault(),q.stopPropagation())}},la=A=>{const O=A.target,q=Dt();return!Vi(A)&&!Pi(A)&&(O===q||!Fn(q)&&O instanceof HTMLElement&&"INPUT"!==O.tagName&&"TEXTAREA"!==O.tagName&&!(Fn(pt())&&pt().contains(O)))},Vi=A=>A.touches&&A.touches.length&&"stylus"===A.touches[0].touchType,Pi=A=>A.touches&&A.touches.length>1,es=()=>{if(yt(document.body,a.iosfix)){const A=parseInt(document.body.style.top,10);br(document.body,a.iosfix),document.body.style.top="",document.body.scrollTop=-1*A}},Ho=()=>{null===un.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(un.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${un.previousBodyPadding+(()=>{const A=document.createElement("div");A.className=a["scrollbar-measure"],document.body.appendChild(A);const O=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),O})()}px`)},Li=()=>{null!==un.previousBodyPadding&&(document.body.style.paddingRight=`${un.previousBodyPadding}px`,un.previousBodyPadding=null)};function hi(A,O,q,de){$t()?Ys(A,de):(or(q).then(()=>Ys(A,de)),Tn(Ut)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(O.setAttribute("style","display:none !important"),O.removeAttribute("class"),O.innerHTML=""):O.remove(),qt()&&(Li(),es(),jo()),function vo(){br([document.documentElement,document.body],[a.shown,a["height-auto"],a["no-backdrop"],a["toast-shown"]])}()}function Go(A){A=ua(A);const O=Xo.swalPromiseResolve.get(this),q=Cr(this);this.isAwaitingPromise()?A.isDismissed||(so(this),O(A)):q&&O(A)}const Cr=A=>{const O=De();if(!O)return!1;const q=ke.innerParams.get(A);if(!q||yt(O,q.hideClass.popup))return!1;br(O,q.showClass.popup),cn(O,q.hideClass.popup);const de=Dt();return br(de,q.showClass.backdrop),cn(de,q.hideClass.backdrop),ms(A,O,q),!0};const so=A=>{A.isAwaitingPromise()&&(ke.awaitingPromise.delete(A),ke.innerParams.get(A)||A._destroy())},ua=A=>typeof A>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),ms=(A,O,q)=>{const de=Dt(),Xe=nr&&Zn(O);"function"==typeof q.willClose&&q.willClose(O),Xe?ll(A,O,de,q.returnFocus,q.didClose):hi(A,de,q.returnFocus,q.didClose)},ll=(A,O,q,de,Xe)=>{Ut.swalCloseEventFinishedCallback=hi.bind(null,A,q,de,Xe),O.addEventListener(nr,function(zt){zt.target===O&&(Ut.swalCloseEventFinishedCallback(),delete Ut.swalCloseEventFinishedCallback)})},Ys=(A,O)=>{setTimeout(()=>{"function"==typeof O&&O.bind(A.params)(),A._destroy()})};function Ea(A,O,q){const de=ke.domCache.get(A);O.forEach(Xe=>{de[Xe].disabled=q})}function Ia(A,O){if(A)if("radio"===A.type){const de=A.parentNode.parentNode.querySelectorAll("input");for(let Xe=0;Xe<de.length;Xe++)de[Xe].disabled=O}else A.disabled=O}const $i={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ts=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ta={},Yi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],da=A=>Object.prototype.hasOwnProperty.call($i,A),Aa=A=>-1!==ts.indexOf(A),ys=A=>Ta[A],Ga=A=>{da(A)||Fe(`Unknown parameter "${A}"`)},bo=A=>{Yi.includes(A)&&Fe(`The parameter "${A}" is incompatible with toasts`)},ha=A=>{ys(A)&&ve(A,ys(A))};const fa=A=>{const O={};return Object.keys(A).forEach(q=>{Aa(q)?O[q]=A[q]:Fe(`Invalid parameter to update: ${q}`)}),O};const oi=A=>{vs(A),delete A.params,delete Ut.keydownHandler,delete Ut.keydownTarget,delete Ut.currentInstance},vs=A=>{A.isAwaitingPromise()?(rs(ke,A),ke.awaitingPromise.set(A,!0)):(rs(Xo,A),rs(ke,A))},rs=(A,O)=>{for(const q in A)A[q].delete(O)};var li=Object.freeze({__proto__:null,_destroy:function pa(){const A=ke.domCache.get(this),O=ke.innerParams.get(this);O?(A.popup&&Ut.swalCloseEventFinishedCallback&&(Ut.swalCloseEventFinishedCallback(),delete Ut.swalCloseEventFinishedCallback),"function"==typeof O.didDestroy&&O.didDestroy(),oi(this)):vs(this)},close:Go,closeModal:Go,closePopup:Go,closeToast:Go,disableButtons:function Po(){Ea(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function Ha(){Ia(this.getInput(),!0)},disableLoading:Tr,enableButtons:function ca(){Ea(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Bi(){Ia(this.getInput(),!1)},getInput:function Nr(A){const O=ke.innerParams.get(A||this),q=ke.domCache.get(A||this);return q?Jn(q.popup,O.input):null},handleAwaitingPromise:so,hideLoading:Tr,isAwaitingPromise:function Ks(){return!!ke.awaitingPromise.get(this)},rejectPromise:function al(A){const O=Xo.swalPromiseReject.get(this);so(this),O&&O(A)},resetValidationMessage:function ul(){const A=ke.domCache.get(this);A.validationMessage&&Ve(A.validationMessage);const O=this.getInput();O&&(O.removeAttribute("aria-invalid"),O.removeAttribute("aria-describedby"),br(O,a.inputerror))},showValidationMessage:function _s(A){const O=ke.domCache.get(this),q=ke.innerParams.get(this);yn(O.validationMessage,A),O.validationMessage.className=a["validation-message"],q.customClass&&q.customClass.validationMessage&&cn(O.validationMessage,q.customClass.validationMessage),xe(O.validationMessage);const de=this.getInput();de&&(de.setAttribute("aria-invalid",!0),de.setAttribute("aria-describedby",a["validation-message"]),Sr(de),cn(de,a.inputerror))},update:function kl(A){const O=De(),q=ke.innerParams.get(this);if(!O||yt(O,q.hideClass.popup))return void Fe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const de=fa(A),Xe=Object.assign({},q,de);ri(this,Xe),ke.innerParams.set(this,Xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})}});const Ui=A=>{let O=De();O||new ut,O=De();const q=Yt();$t()?Ve(kt()):Si(O,A),xe(q),O.setAttribute("data-loading","true"),O.setAttribute("aria-busy","true"),O.focus()},Si=(A,O)=>{const q=st(),de=Yt();!O&&Lt(Et())&&(O=Et()),xe(q),O&&(Ve(O),de.setAttribute("data-button-to-replace",O.className)),de.parentNode.insertBefore(de,O),cn([A,q],a.loading)},Sa=A=>A.checked?1:0,Er=A=>A.checked?A.value:null,Di=A=>A.files.length?null!==A.getAttribute("multiple")?A.files:A.files[0]:null,Ns=(A,O)=>{const q=De(),de=Xe=>{ou[O.input](q,ji(Xe),O)};Qe(O.inputOptions)||mt(O.inputOptions)?(Ui(Et()),lt(O.inputOptions).then(Xe=>{A.hideLoading(),de(Xe)})):"object"==typeof O.inputOptions?de(O.inputOptions):be("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof O.inputOptions)},ws=(A,O)=>{const q=A.getInput();Ve(q),lt(O.inputValue).then(de=>{q.value="number"===O.input?`${parseFloat(de)||0}`:`${de}`,xe(q),q.focus(),A.hideLoading()}).catch(de=>{be(`Error in inputValue promise: ${de}`),q.value="",xe(q),q.focus(),A.hideLoading()})},ou={select:(A,O,q)=>{const de=Lr(A,a.select),Xe=(zt,Dn,jn)=>{const gt=document.createElement("option");gt.value=jn,yn(gt,Dn),gt.selected=is(jn,q.inputValue),zt.appendChild(gt)};O.forEach(zt=>{const Dn=zt[0],jn=zt[1];if(Array.isArray(jn)){const gt=document.createElement("optgroup");gt.label=Dn,gt.disabled=!1,de.appendChild(gt),jn.forEach(Or=>Xe(gt,Or[1],Or[0]))}else Xe(de,jn,Dn)}),de.focus()},radio:(A,O,q)=>{const de=Lr(A,a.radio);O.forEach(zt=>{const Dn=zt[0],jn=zt[1],gt=document.createElement("input"),Or=document.createElement("label");gt.type="radio",gt.name=a.radio,gt.value=Dn,is(Dn,q.inputValue)&&(gt.checked=!0);const Jr=document.createElement("span");yn(Jr,jn),Jr.className=a.label,Or.appendChild(gt),Or.appendChild(Jr),de.appendChild(Or)});const Xe=de.querySelectorAll("input");Xe.length&&Xe[0].focus()}},ji=A=>{const O=[];return typeof Map<"u"&&A instanceof Map?A.forEach((q,de)=>{let Xe=q;"object"==typeof Xe&&(Xe=ji(Xe)),O.push([de,Xe])}):Object.keys(A).forEach(q=>{let de=A[q];"object"==typeof de&&(de=ji(de)),O.push([q,de])}),O},is=(A,O)=>O&&O.toString()===A.toString(),wo=(A,O)=>{const q=ke.innerParams.get(A);if(!q.input)return void be(`The "input" parameter is needed to be set when using returnInputValueOn${Ne(O)}`);const de=((A,O)=>{const q=A.getInput();if(!q)return null;switch(O.input){case"checkbox":return Sa(q);case"radio":return Er(q);case"file":return Di(q);default:return O.inputAutoTrim?q.value.trim():q.value}})(A,q);q.inputValidator?Ma(A,de,O):A.getInput().checkValidity()?"deny"===O?xs(A,de):za(A,de):(A.enableButtons(),A.showValidationMessage(q.validationMessage))},Ma=(A,O,q)=>{const de=ke.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>lt(de.inputValidator(O,de.validationMessage))).then(zt=>{A.enableButtons(),A.enableInput(),zt?A.showValidationMessage(zt):"deny"===q?xs(A,O):za(A,O)})},xs=(A,O)=>{const q=ke.innerParams.get(A||void 0);q.showLoaderOnDeny&&Ui(Ct()),q.preDeny?(ke.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>lt(q.preDeny(O,q.validationMessage))).then(Xe=>{!1===Xe?(A.hideLoading(),so(A)):A.close({isDenied:!0,value:typeof Xe>"u"?O:Xe})}).catch(Xe=>ga(A||void 0,Xe))):A.close({isDenied:!0,value:O})},Na=(A,O)=>{A.close({isConfirmed:!0,value:O})},ga=(A,O)=>{A.rejectPromise(O)},za=(A,O)=>{const q=ke.innerParams.get(A||void 0);q.showLoaderOnConfirm&&Ui(),q.preConfirm?(A.resetValidationMessage(),ke.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>lt(q.preConfirm(O,q.validationMessage))).then(Xe=>{Lt(Be())||!1===Xe?(A.hideLoading(),so(A)):Na(A,typeof Xe>"u"?O:Xe)}).catch(Xe=>ga(A||void 0,Xe))):Na(A,O)},ht=(A,O,q)=>{O.popup.onclick=()=>{const de=ke.innerParams.get(A);de&&(Wn(de)||de.timer||de.input)||q(xt.close)}},Wn=A=>A.showConfirmButton||A.showDenyButton||A.showCancelButton||A.showCloseButton;let zo=!1;const ki=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(O){A.container.onmouseup=void 0,O.target===A.container&&(zo=!0)}}},zr=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(O){A.popup.onmouseup=void 0,(O.target===A.popup||A.popup.contains(O.target))&&(zo=!0)}}},Ps=(A,O,q)=>{O.container.onclick=de=>{const Xe=ke.innerParams.get(A);zo?zo=!1:de.target===O.container&&Me(Xe.allowOutsideClick)&&q(xt.backdrop)}},Do=A=>A instanceof Element||(A=>"object"==typeof A&&A.jquery)(A);const Ds=()=>{if(Ut.timeout)return(()=>{const A=ft(),O=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const q=parseInt(window.getComputedStyle(A).width);A.style.width=O/q*100+"%"})(),Ut.timeout.stop()},vi=()=>{if(Ut.timeout){const A=Ut.timeout.start();return Mn(A),A}};let Co=!1;const Fs={};const Qi=A=>{for(let O=A.target;O&&O!==document;O=O.parentNode)for(const q in Fs){const de=O.getAttribute(q);if(de)return void Fs[q].fire({template:de})}};var su=Object.freeze({__proto__:null,argsToParams:A=>{const O={};return"object"!=typeof A[0]||Do(A[0])?["title","html","icon"].forEach((q,de)=>{const Xe=A[de];"string"==typeof Xe||Do(Xe)?O[q]=Xe:void 0!==Xe&&be(`Unexpected type of ${q}! Expected "string" or "Element", got ${typeof Xe}`)}):Object.assign(O,A[0]),O},bindClickHandler:function ao(){Fs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Co||(document.body.addEventListener("click",Qi),Co=!0)},clickCancel:()=>ln()&&ln().click(),clickConfirm:Oe,clickDeny:()=>Ct()&&Ct().click(),enableLoading:Ui,fire:function Wa(){for(var O=arguments.length,q=new Array(O),de=0;de<O;de++)q[de]=arguments[de];return new this(...q)},getActions:st,getCancelButton:ln,getCloseButton:It,getConfirmButton:Et,getContainer:Dt,getDenyButton:Ct,getFocusableElements:Tt,getFooter:ot,getHtmlContainer:pt,getIcon:kt,getIconContent:()=>_t(a["icon-content"]),getImage:Rt,getInputLabel:()=>_t(a["input-label"]),getLoader:Yt,getPopup:De,getProgressSteps:St,getTimerLeft:()=>Ut.timeout&&Ut.timeout.getTimerLeft(),getTimerProgressBar:ft,getTitle:Ge,getValidationMessage:Be,increaseTimer:A=>{if(Ut.timeout){const O=Ut.timeout.increase(A);return Mn(O,!0),O}},isDeprecatedParameter:ys,isLoading:()=>De().hasAttribute("data-loading"),isTimerRunning:()=>Ut.timeout&&Ut.timeout.isRunning(),isUpdatableParameter:Aa,isValidParameter:da,isVisible:()=>Lt(De()),mixin:function cl(A){return class O extends(this){_main(de,Xe){return super._main(de,Object.assign({},A,Xe))}}},resumeTimer:vi,showLoading:Ui,stopTimer:Ds,toggleTimer:()=>{const A=Ut.timeout;return A&&(A.running?Ds():vi())}});class si{constructor(O,q){this.callback=O,this.remaining=q,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(O){const q=this.running;return q&&this.stop(),this.remaining+=O,q&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yr=["swal-title","swal-html","swal-footer"],Xi=A=>{const O={};return Array.from(A.querySelectorAll("swal-param")).forEach(de=>{Eo(de,["name","value"]);const Xe=de.getAttribute("name"),zt=de.getAttribute("value");O[Xe]="boolean"==typeof $i[Xe]?"false"!==zt:"object"==typeof $i[Xe]?JSON.parse(zt):zt}),O},ss=A=>{const O={};return Array.from(A.querySelectorAll("swal-function-param")).forEach(de=>{const Xe=de.getAttribute("name"),zt=de.getAttribute("value");O[Xe]=new Function(`return ${zt}`)()}),O},Rr=A=>{const O={};return Array.from(A.querySelectorAll("swal-button")).forEach(de=>{Eo(de,["type","color","aria-label"]);const Xe=de.getAttribute("type");O[`${Xe}ButtonText`]=de.innerHTML,O[`show${Ne(Xe)}Button`]=!0,de.hasAttribute("color")&&(O[`${Xe}ButtonColor`]=de.getAttribute("color")),de.hasAttribute("aria-label")&&(O[`${Xe}ButtonAriaLabel`]=de.getAttribute("aria-label"))}),O},qo=A=>{const O={},q=A.querySelector("swal-image");return q&&(Eo(q,["src","width","height","alt"]),q.hasAttribute("src")&&(O.imageUrl=q.getAttribute("src")),q.hasAttribute("width")&&(O.imageWidth=q.getAttribute("width")),q.hasAttribute("height")&&(O.imageHeight=q.getAttribute("height")),q.hasAttribute("alt")&&(O.imageAlt=q.getAttribute("alt"))),O},Cs=A=>{const O={},q=A.querySelector("swal-icon");return q&&(Eo(q,["type","color"]),q.hasAttribute("type")&&(O.icon=q.getAttribute("type")),q.hasAttribute("color")&&(O.iconColor=q.getAttribute("color")),O.iconHtml=q.innerHTML),O},Mi=A=>{const O={},q=A.querySelector("swal-input");q&&(Eo(q,["type","label","placeholder","value"]),O.input=q.getAttribute("type")||"text",q.hasAttribute("label")&&(O.inputLabel=q.getAttribute("label")),q.hasAttribute("placeholder")&&(O.inputPlaceholder=q.getAttribute("placeholder")),q.hasAttribute("value")&&(O.inputValue=q.getAttribute("value")));const de=Array.from(A.querySelectorAll("swal-input-option"));return de.length&&(O.inputOptions={},de.forEach(Xe=>{Eo(Xe,["value"]);const zt=Xe.getAttribute("value");O.inputOptions[zt]=Xe.innerHTML})),O},Ra=(A,O)=>{const q={};for(const de in O){const Xe=O[de],zt=A.querySelector(Xe);zt&&(Eo(zt,[]),q[Xe.replace(/^swal-/,"")]=zt.innerHTML.trim())}return q},_a=A=>{const O=Yr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(A.children).forEach(q=>{const de=q.tagName.toLowerCase();O.includes(de)||Fe(`Unrecognized element <${de}>`)})},Eo=(A,O)=>{Array.from(A.attributes).forEach(q=>{-1===O.indexOf(q.name)&&Fe([`Unrecognized attribute "${q.name}" on <${A.tagName.toLowerCase()}>.`,O.length?`Allowed attributes are: ${O.join(", ")}`:"To set the value, use HTML within the element."])})},dl=A=>{const O=Dt(),q=De();"function"==typeof A.willOpen&&A.willOpen(q);const Xe=window.getComputedStyle(document.body).overflowY;Oa(O,q,A),setTimeout(()=>{Ci(O,q)},10),qt()&&(yr(O,A.scrollbarPadding,Xe),Array.from(document.body.children).forEach(O=>{O===Dt()||O.contains(Dt())||(O.hasAttribute("aria-hidden")&&O.setAttribute("data-previous-aria-hidden",O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))})),!$t()&&!Ut.previousActiveElement&&(Ut.previousActiveElement=document.activeElement),"function"==typeof A.didOpen&&setTimeout(()=>A.didOpen(q)),br(O,a["no-transition"])},ai=A=>{const O=De();if(A.target!==O)return;const q=Dt();O.removeEventListener(nr,ai),q.style.overflowY="auto"},Ci=(A,O)=>{nr&&Zn(O)?(A.style.overflowY="hidden",O.addEventListener(nr,ai)):A.style.overflowY="auto"},yr=(A,O,q)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!yt(document.body,a.iosfix)){const O=document.body.scrollTop;document.body.style.top=-1*O+"px",cn(document.body,a.iosfix),wi(),oo()}})(),O&&"hidden"!==q&&Ho(),setTimeout(()=>{A.scrollTop=0})},Oa=(A,O,q)=>{cn(A,q.showClass.backdrop),O.style.setProperty("opacity","0","important"),xe(O,"grid"),setTimeout(()=>{cn(O,q.showClass.popup),O.style.removeProperty("opacity")},10),cn([document.documentElement,document.body],a.shown),q.heightAuto&&q.backdrop&&!q.toast&&cn([document.documentElement,document.body],a["height-auto"])};var Es={email:(A,O)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(O||"Invalid email address"),url:(A,O)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(O||"Invalid URL")};function hl(A){(function Js(A){A.inputValidator||Object.keys(Es).forEach(O=>{A.input===O&&(A.inputValidator=Es[O])})})(A),A.showLoaderOnConfirm&&!A.preConfirm&&Fe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ll(A){(!A.target||"string"==typeof A.target&&!document.querySelector(A.target)||"string"!=typeof A.target&&!A.target.appendChild)&&(Fe('Target parameter is not valid, defaulting to "body"'),A.target="body")}(A),"string"==typeof A.title&&(A.title=A.title.split("\n").join("<br />")),Bn(A)}let lo;class Zo{constructor(){if(typeof window>"u")return;lo=this;for(var O=arguments.length,q=new Array(O),de=0;de<O;de++)q[de]=arguments[de];const Xe=Object.freeze(this.constructor.argsToParams(q));Object.defineProperties(this,{params:{value:Xe,writable:!1,enumerable:!0,configurable:!0}});const zt=lo._main(lo.params);ke.promise.set(this,zt)}_main(O){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(A=>{!1===A.backdrop&&A.allowOutsideClick&&Fe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const O in A)Ga(O),A.toast&&bo(O),ha(O)})(Object.assign({},q,O)),Ut.currentInstance&&(Ut.currentInstance._destroy(),qt()&&jo()),Ut.currentInstance=lo;const de=qa(O,q);hl(de),Object.freeze(de),Ut.timeout&&(Ut.timeout.stop(),delete Ut.timeout),clearTimeout(Ut.restoreFocusTimeout);const Xe=k(lo);return ri(lo,de),ke.innerParams.set(lo,de),fl(lo,Xe,de)}then(O){return ke.promise.get(this).then(O)}finally(O){return ke.promise.get(this).finally(O)}}const fl=(A,O,q)=>new Promise((de,Xe)=>{const zt=Dn=>{A.close({isDismissed:!0,dismiss:Dn})};Xo.swalPromiseResolve.set(A,de),Xo.swalPromiseReject.set(A,Xe),O.confirmButton.onclick=()=>{(A=>{const O=ke.innerParams.get(A);A.disableButtons(),O.input?wo(A,"confirm"):za(A,!0)})(A)},O.denyButton.onclick=()=>{(A=>{const O=ke.innerParams.get(A);A.disableButtons(),O.returnInputValueOnDeny?wo(A,"deny"):xs(A,!1)})(A)},O.cancelButton.onclick=()=>{((A,O)=>{A.disableButtons(),O(xt.cancel)})(A,zt)},O.closeButton.onclick=()=>{zt(xt.close)},((A,O,q)=>{ke.innerParams.get(A).toast?ht(A,O,q):(ki(O),zr(O),Ps(A,O,q))})(A,O,zt),((A,O,q,de)=>{Tn(O),q.toast||(O.keydownHandler=Xe=>Oi(A,Xe,de),O.keydownTarget=q.keydownListenerCapture?window:De(),O.keydownListenerCapture=q.keydownListenerCapture,O.keydownTarget.addEventListener("keydown",O.keydownHandler,{capture:O.keydownListenerCapture}),O.keydownHandlerAdded=!0)})(A,Ut,q,zt),((A,O)=>{"select"===O.input||"radio"===O.input?Ns(A,O):["text","email","number","tel","textarea"].includes(O.input)&&(Qe(O.inputValue)||mt(O.inputValue))&&(Ui(Et()),ws(A,O))})(A,q),dl(q),G(Ut,q,zt),B(O,q),setTimeout(()=>{O.container.scrollTop=0})}),qa=(A,O)=>{const q=(A=>{const O="string"==typeof A.template?document.querySelector(A.template):A.template;if(!O)return{};const q=O.content;return _a(q),Object.assign(Xi(q),ss(q),Rr(q),qo(q),Cs(q),Mi(q),Ra(q,Yr))})(A),de=Object.assign({},$i,O,q,A);return de.showClass=Object.assign({},$i.showClass,de.showClass),de.hideClass=Object.assign({},$i.hideClass,de.hideClass),de},k=A=>{const O={popup:De(),container:Dt(),actions:st(),confirmButton:Et(),denyButton:Ct(),cancelButton:ln(),loader:Yt(),closeButton:It(),validationMessage:Be(),progressSteps:St()};return ke.domCache.set(A,O),O},G=(A,O,q)=>{const de=ft();Ve(de),O.timer&&(A.timeout=new si(()=>{q("timer"),delete A.timeout},O.timer),O.timerProgressBar&&(xe(de),ir(de,O,"timerProgressBar"),setTimeout(()=>{A.timeout&&A.timeout.running&&Mn(O.timer)})))},B=(A,O)=>{if(!O.toast){if(!Me(O.allowEnterKey))return void we();ee(A,O)||$n(-1,1)}},ee=(A,O)=>O.focusDeny&&Lt(A.denyButton)?(A.denyButton.focus(),!0):O.focusCancel&&Lt(A.cancelButton)?(A.cancelButton.focus(),!0):!(!O.focusConfirm||!Lt(A.confirmButton)||(A.confirmButton.focus(),0)),we=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const A=new Date,O=localStorage.getItem("swal-initiation");O?(A.getTime()-Date.parse(O))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const q=document.createElement("audio");q.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",q.loop=!0,document.body.appendChild(q),setTimeout(()=>{q.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${A}`)}Object.assign(Zo.prototype,li),Object.assign(Zo,su),Object.keys(li).forEach(A=>{Zo[A]=function(){if(lo)return lo[A](...arguments)}}),Zo.DismissReason=xt,Zo.version="11.7.3";const ut=Zo;return ut.default=ut,ut}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ke,j){var D=ke.createElement("style");if(ke.getElementsByTagName("head")[0].appendChild(D),D.styleSheet)D.styleSheet.disabled||(D.styleSheet.cssText=j);else try{D.innerHTML=j}catch{D.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(en,ke,j)=>{"use strict";function Ce(st,ot){var ft={};for(var It in st)Object.prototype.hasOwnProperty.call(st,It)&&ot.indexOf(It)<0&&(ft[It]=st[It]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var jt=0;for(It=Object.getOwnPropertySymbols(st);jt<It.length;jt++)ot.indexOf(It[jt])<0&&Object.prototype.propertyIsEnumerable.call(st,It[jt])&&(ft[It[jt]]=st[It[jt]])}return ft}function Me(st,ot,ft,It){return new(ft||(ft=Promise))(function(Tt,qt){function $t(yn){try{un(It.next(yn))}catch(yt){qt(yt)}}function An(yn){try{un(It.throw(yn))}catch(yt){qt(yt)}}function un(yn){yn.done?Tt(yn.value):function jt(Tt){return Tt instanceof ft?Tt:new ft(function(qt){qt(Tt)})}(yn.value).then($t,An)}un((It=It.apply(st,ot||[])).next())})}function rt(st){return this instanceof rt?(this.v=st,this):new rt(st)}function Ge(st,ot,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var jt,It=ft.apply(st,ot||[]),Tt=[];return jt={},qt("next"),qt("throw"),qt("return"),jt[Symbol.asyncIterator]=function(){return this},jt;function qt(Nn){It[Nn]&&(jt[Nn]=function(ir){return new Promise(function(Jn,Sr){Tt.push([Nn,ir,Jn,Sr])>1||$t(Nn,ir)})})}function $t(Nn,ir){try{!function An(Nn){Nn.value instanceof rt?Promise.resolve(Nn.value.v).then(un,yn):yt(Tt[0][2],Nn)}(It[Nn](ir))}catch(Jn){yt(Tt[0][3],Jn)}}function un(Nn){$t("next",Nn)}function yn(Nn){$t("throw",Nn)}function yt(Nn,ir){Nn(ir),Tt.shift(),Tt.length&&$t(Tt[0][0],Tt[0][1])}}function Rt(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,ot=st[Symbol.asyncIterator];return ot?ot.call(st):(st=function Dt(st){var ot="function"==typeof Symbol&&Symbol.iterator,ft=ot&&st[ot],It=0;if(ft)return ft.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&It>=st.length&&(st=void 0),{value:st&&st[It++],done:!st}}};throw new TypeError(ot?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),ft={},It("next"),It("throw"),It("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function It(Tt){ft[Tt]=st[Tt]&&function(qt){return new Promise(function($t,An){!function jt(Tt,qt,$t,An){Promise.resolve(An).then(function(un){Tt({value:un,done:$t})},qt)}($t,An,(qt=st[Tt](qt)).done,qt.value)})}}}j.d(ke,{FC:()=>Ge,KL:()=>Rt,_T:()=>Ce,mG:()=>Me,qq:()=>rt})},6895:(en,ke,j)=>{"use strict";j.d(ke,{Do:()=>De,EM:()=>ys,HT:()=>Ce,JF:()=>kl,K0:()=>Ne,Mn:()=>It,Mx:()=>yi,NF:()=>ts,O5:()=>Oe,PM:()=>Ta,S$:()=>Dt,Tn:()=>Ct,UT:()=>jt,V_:()=>Ye,Ye:()=>kt,Zx:()=>ll,ax:()=>Zi,b0:()=>_t,bD:()=>Ha,ez:()=>Bi,ol:()=>ft,p6:()=>dr,q:()=>$,sg:()=>Zi,tP:()=>xi,w_:()=>ye,x:()=>ln});var D=j(4650);let a=null;function $(){return a}function Ce(k){a||(a=k)}class ye{}const Ne=new D.OlP("DocumentToken");let Fe=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=D.Yz7({token:k,factory:function(){return function be(){return(0,D.LFG)(he)}()},providedIn:"platform"}),k})();const Ye=new D.OlP("Location Initialized");let he=(()=>{class k extends Fe{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(B){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",B,!1),()=>ee.removeEventListener("popstate",B)}onHashChange(B){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",B,!1),()=>ee.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,ee,we){ve()?this._history.pushState(B,ee,we):this._location.hash=we}replaceState(B,ee,we){ve()?this._history.replaceState(B,ee,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(D.LFG(Ne))},k.\u0275prov=D.Yz7({token:k,factory:function(){return function Me(){return new he((0,D.LFG)(Ne))}()},providedIn:"platform"}),k})();function ve(){return!!window.history.pushState}function Qe(k,G){if(0==k.length)return G;if(0==G.length)return k;let B=0;return k.endsWith("/")&&B++,G.startsWith("/")&&B++,2==B?k+G.substring(1):1==B?k+G:k+"/"+G}function lt(k){const G=k.match(/#|\?|$/),B=G&&G.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function mt(k){return k&&"?"!==k[0]?"?"+k:k}let Dt=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=D.Yz7({token:k,factory:function(){return(0,D.f3M)(_t)},providedIn:"root"}),k})();const Je=new D.OlP("appBaseHref");let _t=(()=>{class k extends Dt{constructor(B,ee){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,D.f3M)(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Qe(this._baseHref,B)}path(B=!1){const ee=this._platformLocation.pathname+mt(this._platformLocation.search),we=this._platformLocation.hash;return we&&B?`${ee}${we}`:ee}pushState(B,ee,we,ut){const A=this.prepareExternalUrl(we+mt(ut));this._platformLocation.pushState(B,ee,A)}replaceState(B,ee,we,ut){const A=this.prepareExternalUrl(we+mt(ut));this._platformLocation.replaceState(B,ee,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(D.LFG(Fe),D.LFG(Je,8))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),De=(()=>{class k extends Dt{constructor(B,ee){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(B){const ee=Qe(this._baseHref,B);return ee.length>0?"#"+ee:ee}pushState(B,ee,we,ut){let A=this.prepareExternalUrl(we+mt(ut));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.pushState(B,ee,A)}replaceState(B,ee,we,ut){let A=this.prepareExternalUrl(we+mt(ut));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.replaceState(B,ee,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(D.LFG(Fe),D.LFG(Je,8))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac}),k})(),kt=(()=>{class k{constructor(B){this._subject=new D.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ee=this._locationStrategy.getBaseHref();this._basePath=function Rt(k){if(new RegExp("^(https?:)?//").test(k)){const[,B]=k.split(/\/\/[^\/]+/);return B}return k}(lt(pt(ee))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ee=""){return this.path()==this.normalize(B+mt(ee))}normalize(B){return k.stripTrailingSlash(function Ge(k,G){if(!k||!G.startsWith(k))return G;const B=G.substring(k.length);return""===B||["/",";","?","#"].includes(B[0])?B:G}(this._basePath,pt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ee="",we=null){this._locationStrategy.pushState(we,"",B,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+mt(ee)),we)}replaceState(B,ee="",we=null){this._locationStrategy.replaceState(we,"",B,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+mt(ee)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ee){this._urlChangeListeners.forEach(we=>we(B,ee))}subscribe(B,ee,we){return this._subject.subscribe({next:B,error:ee,complete:we})}}return k.normalizeQueryParams=mt,k.joinWithSlash=Qe,k.stripTrailingSlash=lt,k.\u0275fac=function(B){return new(B||k)(D.LFG(Dt))},k.\u0275prov=D.Yz7({token:k,factory:function(){return function rt(){return new kt((0,D.LFG)(Dt))}()},providedIn:"root"}),k})();function pt(k){return k.replace(/\/index.html$/,"")}var Be=(()=>((Be=Be||{})[Be.Decimal=0]="Decimal",Be[Be.Percent=1]="Percent",Be[Be.Currency=2]="Currency",Be[Be.Scientific=3]="Scientific",Be))(),ln=(()=>((ln=ln||{})[ln.Format=0]="Format",ln[ln.Standalone=1]="Standalone",ln))(),Ct=(()=>((Ct=Ct||{})[Ct.Narrow=0]="Narrow",Ct[Ct.Abbreviated=1]="Abbreviated",Ct[Ct.Wide=2]="Wide",Ct[Ct.Short=3]="Short",Ct))(),_n=(()=>((_n=_n||{})[_n.Short=0]="Short",_n[_n.Medium=1]="Medium",_n[_n.Long=2]="Long",_n[_n.Full=3]="Full",_n))(),Yt=(()=>((Yt=Yt||{})[Yt.Decimal=0]="Decimal",Yt[Yt.Group=1]="Group",Yt[Yt.List=2]="List",Yt[Yt.PercentSign=3]="PercentSign",Yt[Yt.PlusSign=4]="PlusSign",Yt[Yt.MinusSign=5]="MinusSign",Yt[Yt.Exponential=6]="Exponential",Yt[Yt.SuperscriptingExponent=7]="SuperscriptingExponent",Yt[Yt.PerMille=8]="PerMille",Yt[Yt.Infinity=9]="Infinity",Yt[Yt.NaN=10]="NaN",Yt[Yt.TimeSeparator=11]="TimeSeparator",Yt[Yt.CurrencyDecimal=12]="CurrencyDecimal",Yt[Yt.CurrencyGroup=13]="CurrencyGroup",Yt))();function ft(k,G,B){const ee=(0,D.cg1)(k),ut=Ve([ee[D.wAp.DayPeriodsFormat],ee[D.wAp.DayPeriodsStandalone]],G);return Ve(ut,B)}function It(k,G,B){const ee=(0,D.cg1)(k),ut=Ve([ee[D.wAp.DaysFormat],ee[D.wAp.DaysStandalone]],G);return Ve(ut,B)}function jt(k,G,B){const ee=(0,D.cg1)(k),ut=Ve([ee[D.wAp.MonthsFormat],ee[D.wAp.MonthsStandalone]],G);return Ve(ut,B)}function An(k,G){return Ve((0,D.cg1)(k)[D.wAp.DateFormat],G)}function un(k,G){return Ve((0,D.cg1)(k)[D.wAp.TimeFormat],G)}function yn(k,G){return Ve((0,D.cg1)(k)[D.wAp.DateTimeFormat],G)}function yt(k,G){const B=(0,D.cg1)(k),ee=B[D.wAp.NumberSymbols][G];if(typeof ee>"u"){if(G===Yt.CurrencyDecimal)return B[D.wAp.NumberSymbols][Yt.Decimal];if(G===Yt.CurrencyGroup)return B[D.wAp.NumberSymbols][Yt.Group]}return ee}function br(k){if(!k[D.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[D.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ve(k,G){for(let B=G;B>-1;B--)if(typeof k[B]<"u")return k[B];throw new Error("Locale data API: locale data undefined")}function ze(k){const[G,B]=k.split(":");return{hours:+G,minutes:+B}}const Fn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zn={},Mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cn=(()=>((Cn=Cn||{})[Cn.Short=0]="Short",Cn[Cn.ShortGMT=1]="ShortGMT",Cn[Cn.Long=2]="Long",Cn[Cn.Extended=3]="Extended",Cn))(),Jt=(()=>((Jt=Jt||{})[Jt.FullYear=0]="FullYear",Jt[Jt.Month=1]="Month",Jt[Jt.Date=2]="Date",Jt[Jt.Hours=3]="Hours",Jt[Jt.Minutes=4]="Minutes",Jt[Jt.Seconds=5]="Seconds",Jt[Jt.FractionalSeconds=6]="FractionalSeconds",Jt[Jt.Day=7]="Day",Jt))(),Ut=(()=>((Ut=Ut||{})[Ut.DayPeriods=0]="DayPeriods",Ut[Ut.Days=1]="Days",Ut[Ut.Months=2]="Months",Ut[Ut.Eras=3]="Eras",Ut))();function dr(k,G,B,ee){let we=function X(k){if(pe(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[we,ut=1,A=1]=k.split("-").map(O=>+O);return or(we,ut-1,A)}const B=parseFloat(k);if(!isNaN(k-B))return new Date(B);let ee;if(ee=k.match(Fn))return function Se(k){const G=new Date(0);let B=0,ee=0;const we=k[8]?G.setUTCFullYear:G.setFullYear,ut=k[8]?G.setUTCHours:G.setHours;k[9]&&(B=Number(k[9]+k[10]),ee=Number(k[9]+k[11])),we.call(G,Number(k[1]),Number(k[2])-1,Number(k[3]));const A=Number(k[4]||0)-B,O=Number(k[5]||0)-ee,q=Number(k[6]||0),de=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return ut.call(G,A,O,q,de),G}(ee)}const G=new Date(k);if(!pe(G))throw new Error(`Unable to convert "${k}" into a date`);return G}(k);G=rn(B,G)||G;let O,A=[];for(;G;){if(O=Mn.exec(G),!O){A.push(G);break}{A=A.concat(O.slice(1));const Xe=A.pop();if(!Xe)break;G=Xe}}let q=we.getTimezoneOffset();ee&&(q=me(ee,q),we=function se(k,G,B){const ee=B?-1:1,we=k.getTimezoneOffset();return function ie(k,G){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+G),k}(k,ee*(me(G,we)-we))}(we,ee,!0));let de="";return A.forEach(Xe=>{const zt=function Ee(k){if(Kr[k])return Kr[k];let G;switch(k){case"G":case"GG":case"GGG":G=er(Ut.Eras,Ct.Abbreviated);break;case"GGGG":G=er(Ut.Eras,Ct.Wide);break;case"GGGGG":G=er(Ut.Eras,Ct.Narrow);break;case"y":G=Ln(Jt.FullYear,1,0,!1,!0);break;case"yy":G=Ln(Jt.FullYear,2,0,!0,!0);break;case"yyy":G=Ln(Jt.FullYear,3,0,!1,!0);break;case"yyyy":G=Ln(Jt.FullYear,4,0,!1,!0);break;case"Y":G=Vr(1);break;case"YY":G=Vr(2,!0);break;case"YYY":G=Vr(3);break;case"YYYY":G=Vr(4);break;case"M":case"L":G=Ln(Jt.Month,1,1);break;case"MM":case"LL":G=Ln(Jt.Month,2,1);break;case"MMM":G=er(Ut.Months,Ct.Abbreviated);break;case"MMMM":G=er(Ut.Months,Ct.Wide);break;case"MMMMM":G=er(Ut.Months,Ct.Narrow);break;case"LLL":G=er(Ut.Months,Ct.Abbreviated,ln.Standalone);break;case"LLLL":G=er(Ut.Months,Ct.Wide,ln.Standalone);break;case"LLLLL":G=er(Ut.Months,Ct.Narrow,ln.Standalone);break;case"w":G=ni(1);break;case"ww":G=ni(2);break;case"W":G=ni(1,!0);break;case"d":G=Ln(Jt.Date,1);break;case"dd":G=Ln(Jt.Date,2);break;case"c":case"cc":G=Ln(Jt.Day,1);break;case"ccc":G=er(Ut.Days,Ct.Abbreviated,ln.Standalone);break;case"cccc":G=er(Ut.Days,Ct.Wide,ln.Standalone);break;case"ccccc":G=er(Ut.Days,Ct.Narrow,ln.Standalone);break;case"cccccc":G=er(Ut.Days,Ct.Short,ln.Standalone);break;case"E":case"EE":case"EEE":G=er(Ut.Days,Ct.Abbreviated);break;case"EEEE":G=er(Ut.Days,Ct.Wide);break;case"EEEEE":G=er(Ut.Days,Ct.Narrow);break;case"EEEEEE":G=er(Ut.Days,Ct.Short);break;case"a":case"aa":case"aaa":G=er(Ut.DayPeriods,Ct.Abbreviated);break;case"aaaa":G=er(Ut.DayPeriods,Ct.Wide);break;case"aaaaa":G=er(Ut.DayPeriods,Ct.Narrow);break;case"b":case"bb":case"bbb":G=er(Ut.DayPeriods,Ct.Abbreviated,ln.Standalone,!0);break;case"bbbb":G=er(Ut.DayPeriods,Ct.Wide,ln.Standalone,!0);break;case"bbbbb":G=er(Ut.DayPeriods,Ct.Narrow,ln.Standalone,!0);break;case"B":case"BB":case"BBB":G=er(Ut.DayPeriods,Ct.Abbreviated,ln.Format,!0);break;case"BBBB":G=er(Ut.DayPeriods,Ct.Wide,ln.Format,!0);break;case"BBBBB":G=er(Ut.DayPeriods,Ct.Narrow,ln.Format,!0);break;case"h":G=Ln(Jt.Hours,1,-12);break;case"hh":G=Ln(Jt.Hours,2,-12);break;case"H":G=Ln(Jt.Hours,1);break;case"HH":G=Ln(Jt.Hours,2);break;case"m":G=Ln(Jt.Minutes,1);break;case"mm":G=Ln(Jt.Minutes,2);break;case"s":G=Ln(Jt.Seconds,1);break;case"ss":G=Ln(Jt.Seconds,2);break;case"S":G=Ln(Jt.FractionalSeconds,1);break;case"SS":G=Ln(Jt.FractionalSeconds,2);break;case"SSS":G=Ln(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=Bn(Cn.Short);break;case"ZZZZZ":G=Bn(Cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=Bn(Cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=Bn(Cn.Long);break;default:return null}return Kr[k]=G,G}(Xe);de+=zt?zt(we,B,q):"''"===Xe?"'":Xe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),de}function or(k,G,B){const ee=new Date(0);return ee.setFullYear(k,G,B),ee.setHours(0,0,0),ee}function rn(k,G){const B=function ot(k){return(0,D.cg1)(k)[D.wAp.LocaleId]}(k);if(Zn[B]=Zn[B]||{},Zn[B][G])return Zn[B][G];let ee="";switch(G){case"shortDate":ee=An(k,_n.Short);break;case"mediumDate":ee=An(k,_n.Medium);break;case"longDate":ee=An(k,_n.Long);break;case"fullDate":ee=An(k,_n.Full);break;case"shortTime":ee=un(k,_n.Short);break;case"mediumTime":ee=un(k,_n.Medium);break;case"longTime":ee=un(k,_n.Long);break;case"fullTime":ee=un(k,_n.Full);break;case"short":const we=rn(k,"shortTime"),ut=rn(k,"shortDate");ee=Xn(yn(k,_n.Short),[we,ut]);break;case"medium":const A=rn(k,"mediumTime"),O=rn(k,"mediumDate");ee=Xn(yn(k,_n.Medium),[A,O]);break;case"long":const q=rn(k,"longTime"),de=rn(k,"longDate");ee=Xn(yn(k,_n.Long),[q,de]);break;case"full":const Xe=rn(k,"fullTime"),zt=rn(k,"fullDate");ee=Xn(yn(k,_n.Full),[Xe,zt])}return ee&&(Zn[B][G]=ee),ee}function Xn(k,G){return G&&(k=k.replace(/\{([^}]+)}/g,function(B,ee){return null!=G&&ee in G?G[ee]:B})),k}function Pr(k,G,B="-",ee,we){let ut="";(k<0||we&&k<=0)&&(we?k=1-k:(k=-k,ut=B));let A=String(k);for(;A.length<G;)A="0"+A;return ee&&(A=A.slice(A.length-G)),ut+A}function Ln(k,G,B=0,ee=!1,we=!1){return function(ut,A){let O=function ti(k,G){switch(k){case Jt.FullYear:return G.getFullYear();case Jt.Month:return G.getMonth();case Jt.Date:return G.getDate();case Jt.Hours:return G.getHours();case Jt.Minutes:return G.getMinutes();case Jt.Seconds:return G.getSeconds();case Jt.FractionalSeconds:return G.getMilliseconds();case Jt.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,ut);if((B>0||O>-B)&&(O+=B),k===Jt.Hours)0===O&&-12===B&&(O=12);else if(k===Jt.FractionalSeconds)return function _r(k,G){return Pr(k,3).substring(0,G)}(O,G);const q=yt(A,Yt.MinusSign);return Pr(O,G,q,ee,we)}}function er(k,G,B=ln.Format,ee=!1){return function(we,ut){return function Ai(k,G,B,ee,we,ut){switch(B){case Ut.Months:return jt(G,we,ee)[k.getMonth()];case Ut.Days:return It(G,we,ee)[k.getDay()];case Ut.DayPeriods:const A=k.getHours(),O=k.getMinutes();if(ut){const de=function Lr(k){const G=(0,D.cg1)(k);return br(G),(G[D.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?ze(ee):[ze(ee[0]),ze(ee[1])])}(G),Xe=function qe(k,G,B){const ee=(0,D.cg1)(k);br(ee);const ut=Ve([ee[D.wAp.ExtraData][0],ee[D.wAp.ExtraData][1]],G)||[];return Ve(ut,B)||[]}(G,we,ee),zt=de.findIndex(Dn=>{if(Array.isArray(Dn)){const[jn,gt]=Dn,Or=A>=jn.hours&&O>=jn.minutes,Jr=A<gt.hours||A===gt.hours&&O<gt.minutes;if(jn.hours<gt.hours){if(Or&&Jr)return!0}else if(Or||Jr)return!0}else if(Dn.hours===A&&Dn.minutes===O)return!0;return!1});if(-1!==zt)return Xe[zt]}return ft(G,we,ee)[A<12?0:1];case Ut.Eras:return function Tt(k,G){return Ve((0,D.cg1)(k)[D.wAp.Eras],G)}(G,ee)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(we,ut,k,G,B,ee)}}function Bn(k){return function(G,B,ee){const we=-1*ee,ut=yt(B,Yt.MinusSign),A=we>0?Math.floor(we/60):Math.ceil(we/60);switch(k){case Cn.Short:return(we>=0?"+":"")+Pr(A,2,ut)+Pr(Math.abs(we%60),2,ut);case Cn.ShortGMT:return"GMT"+(we>=0?"+":"")+Pr(A,1,ut);case Cn.Long:return"GMT"+(we>=0?"+":"")+Pr(A,2,ut)+":"+Pr(Math.abs(we%60),2,ut);case Cn.Extended:return 0===ee?"Z":(we>=0?"+":"")+Pr(A,2,ut)+":"+Pr(Math.abs(we%60),2,ut);default:throw new Error(`Unknown zone width "${k}"`)}}}const kr=0,Br=4;function nr(k){return or(k.getFullYear(),k.getMonth(),k.getDate()+(Br-k.getDay()))}function ni(k,G=!1){return function(B,ee){let we;if(G){const ut=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,A=B.getDate();we=1+Math.floor((A+ut)/7)}else{const ut=nr(B),A=function lr(k){const G=or(k,kr,1).getDay();return or(k,0,1+(G<=Br?Br:Br+7)-G)}(ut.getFullYear()),O=ut.getTime()-A.getTime();we=1+Math.round(O/6048e5)}return Pr(we,k,yt(ee,Yt.MinusSign))}}function Vr(k,G=!1){return function(B,ee){return Pr(nr(B).getFullYear(),k,yt(ee,Yt.MinusSign),G)}}const Kr={};function me(k,G){k=k.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(B)?G:B}function pe(k){return k instanceof Date&&!isNaN(k.valueOf())}const ge=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ce=22,Pe=".",it="0",vt=";",vn=",",pn="#";function Gn(k){const G=parseInt(k);if(isNaN(G))throw new Error("Invalid integer literal when parsing "+k);return G}function yi(k,G){G=encodeURIComponent(G);for(const B of k.split(";")){const ee=B.indexOf("="),[we,ut]=-1==ee?[B,""]:[B.slice(0,ee),B.slice(ee+1)];if(we.trim()===G)return decodeURIComponent(ut)}return null}class Tr{constructor(G,B,ee,we){this.$implicit=G,this.ngForOf=B,this.index=ee,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class k{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,ee,we){this._viewContainer=B,this._template=ee,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ee=this._viewContainer;B.forEachOperation((we,ut,A)=>{if(null==we.previousIndex)ee.createEmbeddedView(this._template,new Tr(we.item,this._ngForOf,-1,-1),null===A?void 0:A);else if(null==A)ee.remove(null===ut?void 0:ut);else if(null!==ut){const O=ee.get(ut);ee.move(O,A),Nr(O,we)}});for(let we=0,ut=ee.length;we<ut;we++){const O=ee.get(we).context;O.index=we,O.count=ut,O.ngForOf=this._ngForOf}B.forEachIdentityChange(we=>{Nr(ee.get(we.currentIndex),we)})}static ngTemplateContextGuard(B,ee){return!0}}return k.\u0275fac=function(B){return new(B||k)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},k.\u0275dir=D.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Nr(k,G){k.context.$implicit=G.item}let Oe=(()=>{class k{constructor(B,ee){this._viewContainer=B,this._context=new Le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){bt("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){bt("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ee){return!0}}return k.\u0275fac=function(B){return new(B||k)(D.Y36(D.s_b),D.Y36(D.Rgc))},k.\u0275dir=D.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Le{constructor(){this.$implicit=null,this.ngIf=null}}function bt(k,G){if(G&&!G.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,D.AaK)(G)}'.`)}let xi=(()=>{class k{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:ut,ngTemplateOutletInjector:A}=this;this._viewRef=ee.createEmbeddedView(we,ut,A?{injector:A}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(B){return new(B||k)(D.Y36(D.s_b))},k.\u0275dir=D.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[D.TTD]}),k})();let ll=(()=>{class k{constructor(B){this._locale=B}transform(B,ee,we){if(!function Ea(k){return!(null==k||""===k||k!=k)}(B))return null;we=we||this._locale;try{return function Ue(k,G,B){return function Y(k,G,B,ee,we,ut,A=!1){let O="",q=!1;if(isFinite(k)){let de=function Kt(k){let ee,we,ut,A,O,G=Math.abs(k)+"",B=0;for((we=G.indexOf(Pe))>-1&&(G=G.replace(Pe,"")),(ut=G.search(/e/i))>0?(we<0&&(we=ut),we+=+G.slice(ut+1),G=G.substring(0,ut)):we<0&&(we=G.length),ut=0;G.charAt(ut)===it;ut++);if(ut===(O=G.length))ee=[0],we=1;else{for(O--;G.charAt(O)===it;)O--;for(we-=ut,ee=[],A=0;ut<=O;ut++,A++)ee[A]=Number(G.charAt(ut))}return we>ce&&(ee=ee.splice(0,ce-1),B=we-1,we=1),{digits:ee,exponent:B,integerLen:we}}(k);A&&(de=function gn(k){if(0===k.digits[0])return k;const G=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===G?k.digits.push(0,0):1===G&&k.digits.push(0),k.integerLen+=2),k}(de));let Xe=G.minInt,zt=G.minFrac,Dn=G.maxFrac;if(ut){const tn=ut.match(ge);if(null===tn)throw new Error(`${ut} is not a valid digit info`);const En=tn[1],xa=tn[3],on=tn[5];null!=En&&(Xe=Gn(En)),null!=xa&&(zt=Gn(xa)),null!=on?Dn=Gn(on):null!=xa&&zt>Dn&&(Dn=zt)}!function rr(k,G,B){if(G>B)throw new Error(`The minimum number of digits after fraction (${G}) is higher than the maximum (${B}).`);let ee=k.digits,we=ee.length-k.integerLen;const ut=Math.min(Math.max(G,we),B);let A=ut+k.integerLen,O=ee[A];if(A>0){ee.splice(Math.max(k.integerLen,A));for(let zt=A;zt<ee.length;zt++)ee[zt]=0}else{we=Math.max(0,we),k.integerLen=1,ee.length=Math.max(1,A=ut+1),ee[0]=0;for(let zt=1;zt<A;zt++)ee[zt]=0}if(O>=5)if(A-1<0){for(let zt=0;zt>A;zt--)ee.unshift(0),k.integerLen++;ee.unshift(1),k.integerLen++}else ee[A-1]++;for(;we<Math.max(0,ut);we++)ee.push(0);let q=0!==ut;const de=G+k.integerLen,Xe=ee.reduceRight(function(zt,Dn,jn,gt){return gt[jn]=(Dn+=zt)<10?Dn:Dn-10,q&&(0===gt[jn]&&jn>=de?gt.pop():q=!1),Dn>=10?1:0},0);Xe&&(ee.unshift(Xe),k.integerLen++)}(de,zt,Dn);let jn=de.digits,gt=de.integerLen;const Or=de.exponent;let Jr=[];for(q=jn.every(tn=>!tn);gt<Xe;gt++)jn.unshift(0);for(;gt<0;gt++)jn.unshift(0);gt>0?Jr=jn.splice(gt,jn.length):(Jr=jn,jn=[0]);const Io=[];for(jn.length>=G.lgSize&&Io.unshift(jn.splice(-G.lgSize,jn.length).join(""));jn.length>G.gSize;)Io.unshift(jn.splice(-G.gSize,jn.length).join(""));jn.length&&Io.unshift(jn.join("")),O=Io.join(yt(B,ee)),Jr.length&&(O+=yt(B,we)+Jr.join("")),Or&&(O+=yt(B,Yt.Exponential)+"+"+Or)}else O=yt(B,Yt.Infinity);return O=k<0&&!q?G.negPre+O+G.negSuf:G.posPre+O+G.posSuf,O}(k,function Wt(k,G="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ee=k.split(vt),we=ee[0],ut=ee[1],A=-1!==we.indexOf(Pe)?we.split(Pe):[we.substring(0,we.lastIndexOf(it)+1),we.substring(we.lastIndexOf(it)+1)],O=A[0],q=A[1]||"";B.posPre=O.substring(0,O.indexOf(pn));for(let Xe=0;Xe<q.length;Xe++){const zt=q.charAt(Xe);zt===it?B.minFrac=B.maxFrac=Xe+1:zt===pn?B.maxFrac=Xe+1:B.posSuf+=zt}const de=O.split(vn);if(B.gSize=de[1]?de[1].length:0,B.lgSize=de[2]||de[1]?(de[2]||de[1]).length:0,ut){const Xe=we.length-B.posPre.length-B.posSuf.length,zt=ut.indexOf(pn);B.negPre=ut.substring(0,zt).replace(/'/g,""),B.negSuf=ut.slice(zt+Xe).replace(/'/g,"")}else B.negPre=G+B.posPre,B.negSuf=B.posSuf;return B}(function Nn(k,G){return(0,D.cg1)(k)[D.wAp.NumberFormats][G]}(G,Be.Percent),yt(G,Yt.MinusSign)),G,Yt.Group,Yt.Decimal,B,!0).replace(new RegExp("%","g"),yt(G,Yt.PercentSign))}(function Ia(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}(B),we,ee)}catch(ut){throw function $o(k,G){return new D.vHH(2100,!1)}()}}}return k.\u0275fac=function(B){return new(B||k)(D.Y36(D.soG,16))},k.\u0275pipe=D.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})();let Bi=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=D.oAB({type:k}),k.\u0275inj=D.cJS({}),k})();const Ha="browser",_s="server";function ts(k){return k===Ha}function Ta(k){return k===_s}let ys=(()=>{class k{}return k.\u0275prov=(0,D.Yz7)({token:k,providedIn:"root",factory:()=>new Ga((0,D.LFG)(Ne),window)}),k})();class Ga{constructor(G,B){this.document=G,this.window=B,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const B=function ha(k,G){const B=k.getElementById(G)||k.getElementsByName(G)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ee=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let we=ee.currentNode;for(;we;){const ut=we.shadowRoot;if(ut){const A=ut.getElementById(G)||ut.querySelector(`[name="${G}"]`);if(A)return A}we=ee.nextNode()}}return null}(this.document,G);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=G)}}scrollToElement(G){const B=G.getBoundingClientRect(),ee=B.left+this.window.pageXOffset,we=B.top+this.window.pageYOffset,ut=this.offset();this.window.scrollTo(ee-ut[0],we-ut[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bo(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class kl{}},4650:(en,ke,j)=>{"use strict";j.d(ke,{$8M:()=>Ja,$WT:()=>Dr,$Z:()=>am,AFp:()=>hw,ALo:()=>xb,AaK:()=>be,BQk:()=>hc,CHM:()=>zo,CRH:()=>Hb,CZH:()=>t0,CqO:()=>qp,D6c:()=>rD,EJc:()=>ue,EpF:()=>Y_,F$t:()=>Mm,F4k:()=>ei,FYo:()=>jc,FiY:()=>Fa,Gf:()=>$b,GfV:()=>Gg,Gpc:()=>ve,Hsn:()=>J_,Ikx:()=>ug,JOm:()=>na,KtG:()=>ki,LFG:()=>Bn,LMc:()=>oD,LSH:()=>ch,Lbi:()=>n,Lck:()=>_b,MAs:()=>Pf,MGl:()=>Vf,MMx:()=>Hv,MR2:()=>Kl,MT6:()=>sy,NdJ:()=>Uf,O4$:()=>Oa,OlP:()=>Ke,Oqu:()=>qf,P3R:()=>dh,PXZ:()=>pw,Q6J:()=>Rh,QGY:()=>Bf,Qsj:()=>Yl,QtT:()=>Vo,R0b:()=>bi,RDi:()=>My,Rgc:()=>Cy,SBq:()=>ff,SDv:()=>_i,Sil:()=>Ft,Suo:()=>jb,TTD:()=>Aa,TgZ:()=>Oh,Tol:()=>ng,Udp:()=>qs,VKq:()=>H0,W1O:()=>Yv,WLB:()=>G0,X6Q:()=>U1,XFs:()=>ze,Xpm:()=>pn,Xts:()=>Ug,Y36:()=>Pd,YKP:()=>k0,YNc:()=>zp,Yjl:()=>gn,Yz7:()=>yt,Z0I:()=>Sr,ZZ4:()=>Dw,_Bn:()=>P0,_UZ:()=>vu,_Vd:()=>$c,_c5:()=>tD,_uU:()=>Wf,aQg:()=>Cw,c2e:()=>E,cJS:()=>ir,cg1:()=>cy,dDg:()=>Iy,dqk:()=>Mn,eFA:()=>o0,eJc:()=>Qv,ekj:()=>bu,eoX:()=>Ty,f3M:()=>Br,g9A:()=>c,h0i:()=>bg,hGG:()=>nD,hij:()=>wu,iGM:()=>Vb,ifc:()=>se,ip1:()=>dw,jDz:()=>L0,kEZ:()=>z0,kL8:()=>dg,kcU:()=>Js,lG2:()=>Wt,lcZ:()=>Pb,lqb:()=>il,lri:()=>Qm,n5z:()=>Za,oAB:()=>ae,oxw:()=>$d,pQV:()=>Ca,q4F:()=>h_,qLn:()=>Rd,qOj:()=>Ud,qZA:()=>Lf,rWj:()=>Qh,s9C:()=>Nm,sBO:()=>V1,s_b:()=>Kv,soG:()=>le,tb:()=>Xh,tp0:()=>lu,uIk:()=>Am,vHH:()=>Je,vpe:()=>qd,wAp:()=>ar,xp6:()=>b_,ynx:()=>xh,z2F:()=>e_,zSh:()=>pp,zW0:()=>Im,zs3:()=>go});var D=j(7579),a=j(727),$=j(9751),Ce=j(6451),ye=j(3099);function Ne(r){for(let o in r)if(r[o]===Ne)return o;throw Error("Could not find renamed property on target object.")}function Fe(r,o){for(const u in o)o.hasOwnProperty(u)&&!r.hasOwnProperty(u)&&(r[u]=o[u])}function be(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(be).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Ye(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const he=Ne({__forward_ref__:Ne});function ve(r){return r.__forward_ref__=ve,r.toString=function(){return be(this())},r}function Me(r){return Qe(r)?r():r}function Qe(r){return"function"==typeof r&&r.hasOwnProperty(he)&&r.__forward_ref__===ve}function lt(r){return r&&!!r.\u0275providers}const Dt="https://g.co/ng/security#xss";class Je extends Error{constructor(o,u){super(_t(o,u)),this.code=o}}function _t(r,o){return`NG0${Math.abs(r)}${o?": "+o.trim():""}`}function De(r){return"string"==typeof r?r:null==r?"":String(r)}function Rt(r,o){throw new Je(-201,!1)}function $t(r,o,u,f){throw new Error(`ASSERTION ERROR: ${r}`+(null==f?"":` [Expected=> ${u} ${f} ${o} <=Actual]`))}function yt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ir(r){return{providers:r.providers||[],imports:r.imports||[]}}function Jn(r){return Mr(r,Lr)||Mr(r,xe)}function Sr(r){return null!==Jn(r)}function Mr(r,o){return r.hasOwnProperty(o)?r[o]:null}function br(r){return r&&(r.hasOwnProperty(qe)||r.hasOwnProperty(Ve))?r[qe]:null}const Lr=Ne({\u0275prov:Ne}),qe=Ne({\u0275inj:Ne}),xe=Ne({ngInjectableDef:Ne}),Ve=Ne({ngInjectorDef:Ne});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Mt;function xn(r){const o=Mt;return Mt=r,o}function Fn(r,o,u){const f=Jn(r);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&ze.Optional?null:void 0!==o?o:void Rt(be(r))}const Mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dr={},or="__NG_DI_FLAG__",rn="ngTempTokenPath",Xn="ngTokenPath",Pr=/\n/gm,_r="\u0275",Ln="__source";let ti;function er(r){const o=ti;return ti=r,o}function Ai(r,o=ze.Default){if(void 0===ti)throw new Je(-203,!1);return null===ti?Fn(r,void 0,o):ti.get(r,o&ze.Optional?null:void 0,o)}function Bn(r,o=ze.Default){return(function Lt(){return Mt}()||Ai)(Me(r),o)}function Br(r,o=ze.Default){return Bn(r,lr(o))}function lr(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function nr(r){const o=[];for(let u=0;u<r.length;u++){const f=Me(r[u]);if(Array.isArray(f)){if(0===f.length)throw new Je(900,!1);let p,y=ze.Default;for(let C=0;C<f.length;C++){const x=f[C],L=Vr(x);"number"==typeof L?-1===L?p=x.token:y|=L:p=x}o.push(Bn(p,y))}else o.push(Bn(f))}return o}function ni(r,o){return r[or]=o,r.prototype[or]=o,r}function Vr(r){return r[or]}function me(r){return{toString:r}.toString()}var ie=(()=>((ie=ie||{})[ie.OnPush=0]="OnPush",ie[ie.Default=1]="Default",ie))(),se=(()=>{return(r=se||(se={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",se;var r})();const X={},Se=[],pe=Ne({\u0275cmp:Ne}),ge=Ne({\u0275dir:Ne}),ce=Ne({\u0275pipe:Ne}),Pe=Ne({\u0275mod:Ne}),it=Ne({\u0275fac:Ne}),vt=Ne({__NG_ELEMENT_ID__:Ne});let vn=0;function pn(r){return me(()=>{const o=io(r),u={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,data:r.data||{},encapsulation:r.encapsulation||se.Emulated,id:"c"+vn++,styles:r.styles||Se,_:null,schemas:r.schemas||null,tView:null};gs(u);const f=r.dependencies;return u.directiveDefs=yi(f,!1),u.pipeDefs=yi(f,!0),u})}function Q(r){return Kt(r)||rr(r)}function Y(r){return null!==r}function ae(r){return me(()=>({type:r.type,bootstrap:r.bootstrap||Se,declarations:r.declarations||Se,imports:r.imports||Se,exports:r.exports||Se,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function At(r,o){if(null==r)return X;const u={};for(const f in r)if(r.hasOwnProperty(f)){let p=r[f],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),u[p]=f,o&&(o[p]=y)}return u}function Wt(r){return me(()=>{const o=io(r);return gs(o),o})}function gn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Kt(r){return r[pe]||null}function rr(r){return r[ge]||null}function Gn(r){return r[ce]||null}function Dr(r){const o=Kt(r)||rr(r)||Gn(r);return null!==o&&o.standalone}function di(r,o){const u=r[Pe]||null;if(!u&&!0===o)throw new Error(`Type ${be(r)} does not have '\u0275mod' property.`);return u}function io(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,exportAs:r.exportAs||null,standalone:!0===r.standalone,selectors:r.selectors||Se,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:At(r.inputs,o),outputs:At(r.outputs)}}function gs(r){r.features?.forEach(o=>o(r))}function yi(r,o){if(!r)return null;const u=o?Gn:Q;return()=>("function"==typeof r?r():r).map(f=>u(f)).filter(Y)}const $r=0,Ht=1,Qn=2,hr=3,On=4,ri=5,Tr=6,Zi=7,Nr=8,$e=9,Oe=10,Le=11,bt=12,xt=13,Tn=14,fr=15,$n=16,ur=17,Ki=18,Oi=19,Ti=20,xi=21,ii=22,Xo=1,Zs=2,jo=7,xo=8,oo=9,wi=10;function Vi(r){return Array.isArray(r)&&"object"==typeof r[Xo]}function Pi(r){return Array.isArray(r)&&!0===r[Xo]}function es(r){return 0!=(4&r.flags)}function Ho(r){return r.componentOffset>-1}function Li(r){return 1==(1&r.flags)}function hi(r){return!!r.template}function vo(r){return 0!=(256&r[Qn])}function Yi(r,o){return r.hasOwnProperty(it)?r[it]:null}class da{constructor(o,u,f){this.previousValue=o,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Aa(){return ys}function ys(r){return r.type.prototype.ngOnChanges&&(r.setInput=bo),Ga}function Ga(){const r=ns(this),o=r?.current;if(o){const u=r.previous;if(u===X)r.previous=o;else for(let f in o)u[f]=o[f];r.current=null,this.ngOnChanges(o)}}function bo(r,o,u,f){const p=this.declaredInputs[u],y=ns(r)||function kl(r,o){return r[ha]=o}(r,{previous:X,current:null}),C=y.current||(y.current={}),x=y.previous,L=x[p];C[p]=new da(L&&L.currentValue,o,x===X),r[f]=o}Aa.ngInherit=!0;const ha="__ngSimpleChanges__";function ns(r){return r[ha]||null}const oi=function(r,o,u){},vs="svg";function li(r){for(;Array.isArray(r);)r=r[$r];return r}function Si(r,o){return li(o[r])}function pi(r,o){return li(o[r.index])}function Sa(r,o){return r.data[o]}function Er(r,o){return r[o]}function Di(r,o){const u=o[r];return Vi(u)?u:u[$r]}function ws(r){return 64==(64&r[Qn])}function ji(r,o){return null==o?null:r[o]}function is(r){r[Ki]=0}function Rs(r,o){r[ri]+=o;let u=r,f=r[hr];for(;null!==f&&(1===o&&1===u[ri]||-1===o&&0===u[ri]);)f[ri]+=o,u=f,f=f[hr]}const zn={lFrame:Mi(null),bindingsEnabled:!0};function ga(){return zn.bindingsEnabled}function ht(){return zn.lFrame.lView}function Wn(){return zn.lFrame.tView}function zo(r){return zn.lFrame.contextLView=r,r[Nr]}function ki(r){return zn.lFrame.contextLView=null,r}function zr(){let r=Ps();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ps(){return zn.lFrame.currentTNode}function Ji(){const r=zn.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function Do(r,o){const u=zn.lFrame;u.currentTNode=r,u.isParent=o}function ma(){return zn.lFrame.isParent}function Wa(){zn.lFrame.isParent=!1}function vi(){const r=zn.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function Xr(){return zn.lFrame.bindingIndex}function ko(){return zn.lFrame.bindingIndex++}function Co(r){const o=zn.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,u}function ao(r){zn.lFrame.inI18n=r}function Qi(r,o){const u=zn.lFrame;u.bindingIndex=u.bindingRootIndex=r,si(o)}function si(r){zn.lFrame.currentDirectiveIndex=r}function os(){return zn.lFrame.currentQueryIndex}function Xi(r){zn.lFrame.currentQueryIndex=r}function ss(r){const o=r[Ht];return 2===o.type?o.declTNode:1===o.type?r[Tr]:null}function Rr(r,o,u){if(u&ze.SkipSelf){let p=o,y=r;for(;!(p=p.parent,null!==p||u&ze.Host||(p=ss(y),null===p||(y=y[fr],10&p.type))););if(null===p)return!1;o=p,r=y}const f=zn.lFrame=Cs();return f.currentTNode=o,f.lView=r,!0}function qo(r){const o=Cs(),u=r[Ht];zn.lFrame=o,o.currentTNode=u.firstChild,o.lView=r,o.tView=u,o.contextLView=r,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Cs(){const r=zn.lFrame,o=null===r?null:r.child;return null===o?Mi(r):o}function Mi(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Ra(){const r=zn.lFrame;return zn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const _a=Ra;function Eo(){const r=Ra();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ai(){return zn.lFrame.selectedIndex}function Ci(r){zn.lFrame.selectedIndex=r}function yr(){const r=zn.lFrame;return Sa(r.tView,r.selectedIndex)}function Oa(){zn.lFrame.currentNamespace=vs}function Js(){!function Ll(){zn.lFrame.currentNamespace=null}()}function Zo(r,o){for(let u=o.directiveStart,f=o.directiveEnd;u<f;u++){const y=r.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:L,ngAfterViewChecked:z,ngOnDestroy:te}=y;C&&(r.contentHooks??(r.contentHooks=[])).push(-u,C),x&&((r.contentHooks??(r.contentHooks=[])).push(u,x),(r.contentCheckHooks??(r.contentCheckHooks=[])).push(u,x)),L&&(r.viewHooks??(r.viewHooks=[])).push(-u,L),z&&((r.viewHooks??(r.viewHooks=[])).push(u,z),(r.viewCheckHooks??(r.viewCheckHooks=[])).push(u,z)),null!=te&&(r.destroyHooks??(r.destroyHooks=[])).push(u,te)}}function fl(r,o,u){G(r,o,3,u)}function qa(r,o,u,f){(3&r[Qn])===u&&G(r,o,u,f)}function k(r,o){let u=r[Qn];(3&u)===o&&(u&=2047,u+=1,r[Qn]=u)}function G(r,o,u,f){const y=f??-1,C=o.length-1;let x=0;for(let L=void 0!==f?65535&r[Ki]:0;L<C;L++)if("number"==typeof o[L+1]){if(x=o[L],null!=f&&x>=f)break}else o[L]<0&&(r[Ki]+=65536),(x<y||-1==y)&&(B(r,u,o,L),r[Ki]=(4294901760&r[Ki])+L+2),L++}function B(r,o,u,f){const p=u[f]<0,y=u[f+1],x=r[p?-u[f]:u[f]];if(p){if(r[Qn]>>11<r[Ki]>>16&&(3&r[Qn])===o){r[Qn]+=2048,oi(4,x,y);try{y.call(x)}finally{oi(5,x,y)}}}else{oi(4,x,y);try{y.call(x)}finally{oi(5,x,y)}}}const ee=-1;class we{constructor(o,u,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function jn(r,o,u){let f=0;for(;f<u.length;){const p=u[f];if("number"==typeof p){if(0!==p)break;f++;const y=u[f++],C=u[f++],x=u[f++];r.setAttribute(o,C,x,y)}else{const y=p,C=u[++f];Or(y)?r.setProperty(o,y,C):r.setAttribute(o,y,C),f++}}return f}function gt(r){return 3===r||4===r||6===r}function Or(r){return 64===r.charCodeAt(0)}function Jr(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let u=-1;for(let f=0;f<o.length;f++){const p=o[f];"number"==typeof p?u=p:0===u||Io(r,u,p,null,-1===u||2===u?o[++f]:null)}}return r}function Io(r,o,u,f,p){let y=0,C=r.length;if(-1===o)C=-1;else for(;y<r.length;){const x=r[y++];if("number"==typeof x){if(x===o){C=-1;break}if(x>o){C=y-1;break}}}for(;y<r.length;){const x=r[y];if("number"==typeof x)break;if(x===u){if(null===f)return void(null!==p&&(r[y+1]=p));if(f===r[y+1])return void(r[y+2]=p)}y++,null!==f&&y++,null!==p&&y++}-1!==C&&(r.splice(C,0,o),y=C+1),r.splice(y++,0,u),null!==f&&r.splice(y++,0,f),null!==p&&r.splice(y++,0,p)}function tn(r){return r!==ee}function En(r){return 32767&r}function on(r,o){let u=function xa(r){return r>>16}(r),f=o;for(;u>0;)f=f[fr],u--;return f}let ct=!0;function Vt(r){const o=ct;return ct=r,o}const qu=255,To=5;let Ec=0;const ls={};function Bl(r,o){const u=Iu(r,o);if(-1!==u)return u;const f=o[Ht];f.firstCreatePass&&(r.injectorIndex=o.length,ya(f.data,r),ya(o,null),ya(f.blueprint,null));const p=jr(r,o),y=r.injectorIndex;if(tn(p)){const C=En(p),x=on(p,o),L=x[Ht].data;for(let z=0;z<8;z++)o[y+z]=x[C+z]|L[C+z]}return o[y+8]=p,y}function ya(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Iu(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function jr(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let u=0,f=null,p=o;for(;null!==p;){if(f=Ya(p),null===f)return ee;if(u++,p=p[fr],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return ee}function Ni(r,o,u){!function Eu(r,o,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(vt)&&(f=u[vt]),null==f&&(f=u[vt]=Ec++);const p=f&qu;o.data[r+(p>>To)]|=1<<p}(r,o,u)}function Yn(r,o,u){if(u&ze.Optional||void 0!==r)return r;Rt()}function eo(r,o,u,f){if(u&ze.Optional&&void 0===f&&(f=null),!(u&(ze.Self|ze.Host))){const p=r[$e],y=xn(void 0);try{return p?p.get(o,f,u&ze.Optional):Fn(o,f,u&ze.Optional)}finally{xn(y)}}return Yn(f,0,u)}function Au(r,o,u,f=ze.Default,p){if(null!==r){if(1024&o[Qn]){const C=function Xs(r,o,u,f,p){let y=r,C=o;for(;null!==y&&null!==C&&1024&C[Qn]&&!(256&C[Qn]);){const x=ui(y,C,u,f|ze.Self,ls);if(x!==ls)return x;let L=y.parent;if(!L){const z=C[xi];if(z){const te=z.get(u,ls,f);if(te!==ls)return te}L=Ya(C),C=C[fr]}y=L}return p}(r,o,u,f,ls);if(C!==ls)return C}const y=ui(r,o,u,f,ls);if(y!==ls)return y}return eo(o,u,f,p)}function ui(r,o,u,f,p){const y=function Su(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(vt)?r[vt]:void 0;return"number"==typeof o?o>=0?o&qu:Ls:o}(u);if("function"==typeof y){if(!Rr(o,r,f))return f&ze.Host?Yn(p,0,f):eo(o,u,f,p);try{const C=y(f);if(null!=C||f&ze.Optional)return C;Rt()}finally{_a()}}else if("number"==typeof y){let C=null,x=Iu(r,o),L=ee,z=f&ze.Host?o[$n][Tr]:null;for((-1===x||f&ze.SkipSelf)&&(L=-1===x?jr(r,o):o[x+8],L!==ee&&Pt(f,!1)?(C=o[Ht],x=En(L),o=on(L,o)):x=-1);-1!==x;){const te=o[Ht];if(tr(y,x,te.data)){const _e=hn(x,o,u,C,f,z);if(_e!==ls)return _e}L=o[x+8],L!==ee&&Pt(f,o[Ht].data[x+8]===z)&&tr(y,x,o)?(C=te,x=En(L),o=on(L,o)):x=-1}}return p}function hn(r,o,u,f,p,y){const C=o[Ht],x=C.data[r+8],te=pl(x,C,u,null==f?Ho(x)&&ct:f!=C&&0!=(3&x.type),p&ze.Host&&y===x);return null!==te?Un(o,C,te,x):ls}function pl(r,o,u,f,p){const y=r.providerIndexes,C=o.data,x=1048575&y,L=r.directiveStart,te=y>>20,He=p?x+te:r.directiveEnd;for(let at=f?x:x+te;at<He;at++){const Bt=C[at];if(at<L&&u===Bt||at>=L&&Bt.type===u)return at}if(p){const at=C[L];if(at&&hi(at)&&at.type===u)return L}return null}function Un(r,o,u,f){let p=r[u];const y=o.data;if(function ut(r){return r instanceof we}(p)){const C=p;C.resolving&&function rt(r,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new Je(-200,`Circular dependency in DI detected for ${r}${u}`)}(function kt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():De(r)}(y[u]));const x=Vt(C.canSeeViewProviders);C.resolving=!0;const L=C.injectImpl?xn(C.injectImpl):null;Rr(r,f,ze.Default);try{p=r[u]=C.factory(void 0,y,r,f),o.firstCreatePass&&u>=f.directiveStart&&function lo(r,o,u){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:y}=o.type.prototype;if(f){const C=ys(o);(u.preOrderHooks??(u.preOrderHooks=[])).push(r,C),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(r,C)}p&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-r,p),y&&((u.preOrderHooks??(u.preOrderHooks=[])).push(r,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(r,y))}(u,y[u],o)}finally{null!==L&&xn(L),Vt(x),C.resolving=!1,_a()}}return p}function tr(r,o,u){return!!(u[o+(r>>To)]&1<<r)}function Pt(r,o){return!(r&ze.Self||r&ze.Host&&o)}class Qs{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,f){return Au(this._tNode,this._lView,o,lr(f),u)}}function Ls(){return new Qs(zr(),ht())}function Za(r){return me(()=>{const o=r.prototype.constructor,u=o[it]||Ka(o),f=Object.prototype;let p=Object.getPrototypeOf(r.prototype).constructor;for(;p&&p!==f;){const y=p[it]||Ka(p);if(y&&y!==u)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Ka(r){return Qe(r)?()=>{const o=Ka(Me(r));return o&&o()}:Yi(r)}function Ya(r){const o=r[Ht],u=o.type;return 2===u?o.declTNode:1===u?r[Tr]:null}function Ja(r){return function Tu(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const u=r.attrs;if(u){const f=u.length;let p=0;for(;p<f;){const y=u[p];if(gt(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<f&&"string"==typeof u[p];)p++;else{if(y===o)return u[p+1];p+=2}}}return null}(zr(),r)}const ml="__parameters__";function Pa(r,o,u){return me(()=>{const f=function Vl(r){return function(...u){if(r){const f=r(...u);for(const p in f)this[p]=f[p]}}}(o);function p(...y){if(this instanceof p)return f.apply(this,y),this;const C=new p(...y);return x.annotation=C,x;function x(L,z,te){const _e=L.hasOwnProperty(ml)?L[ml]:Object.defineProperty(L,ml,{value:[]})[ml];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(C),L}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=r,p.annotationCls=p,p})}class Ke{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=yt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gi(r,o){r.forEach(u=>Array.isArray(u)?gi(u,o):o(u))}function Vs(r,o,u){o>=r.length?r.push(u):r.splice(o,0,u)}function vl(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function I(r,o){const u=[];for(let f=0;f<r;f++)u.push(o);return u}function J(r,o,u){let f=Ze(r,o);return f>=0?r[1|f]=u:(f=~f,function P(r,o,u,f){let p=r.length;if(p==o)r.push(u,f);else if(1===p)r.push(f,r[0]),r[0]=u;else{for(p--,r.push(r[p-1],r[p]);p>o;)r[p]=r[p-2],p--;r[o]=u,r[o+1]=f}}(r,f,o,u)),f}function oe(r,o){const u=Ze(r,o);if(u>=0)return r[1|u]}function Ze(r,o){return function mn(r,o,u){let f=0,p=r.length>>u;for(;p!==f;){const y=f+(p-f>>1),C=r[y<<u];if(o===C)return y<<u;C>o?p=y:f=y+1}return~(p<<u)}(r,o,1)}const Fa=ni(Pa("Optional"),8),lu=ni(Pa("SkipSelf"),4);var na=(()=>((na=na||{})[na.Important=1]="Important",na[na.DashCase=2]="DashCase",na))();const jl=/^>|^->|<!--|-->|--!>|<!-$/g,zi=/(<|>)/,fd="\u200b$1\u200b";const Il=new Map;let Qd=0;const Re="__ngContext__";function Ae(r,o){Vi(o)?(r[Re]=o[Ti],function Xd(r){Il.set(r[Ti],r)}(o)):r[Re]=o}let ra;function $s(r,o){return ra(r,o)}function gd(r){const o=r[hr];return Pi(o)?o[hr]:o}function Yu(r){return Tl(r[xt])}function Rc(r){return Tl(r[On])}function Tl(r){for(;null!==r&&!Pi(r);)r=r[On];return r}function Al(r,o,u,f,p){if(null!=f){let y,C=!1;Pi(f)?y=f:Vi(f)&&(C=!0,f=f[$r]);const x=li(f);0===r&&null!==u?null==p?js(o,u,x):vr(o,u,x,p||null,!0):1===r&&null!==u?vr(o,u,x,p||null,!0):2===r?rp(o,x,C):3===r&&o.destroyNode(x),null!=y&&function ip(r,o,u,f,p){const y=u[jo];y!==li(u)&&Al(o,r,f,y,p);for(let x=wi;x<u.length;x++){const L=u[x];ih(L[Ht],L,r,o,f,y)}}(o,r,y,u,p)}}function Ju(r,o){return r.createText(o)}function Oc(r,o,u){r.setValue(o,u)}function Ag(r,o){return r.createComment(function Hl(r){return r.replace(jl,o=>o.replace(zi,fd))}(o))}function ef(r,o,u){return r.createElement(o,u)}function N(r,o){const u=r[oo],f=u.indexOf(o),p=o[hr];512&o[Qn]&&(o[Qn]&=-513,Rs(p,-1)),u.splice(f,1)}function K(r,o){if(r.length<=wi)return;const u=wi+o,f=r[u];if(f){const p=f[ur];null!==p&&p!==r&&N(p,f),o>0&&(r[u-1][On]=f[On]);const y=vl(r,wi+o);!function hu(r,o){ih(r,o,o[Le],2,null,null),o[$r]=null,o[Tr]=null}(f[Ht],f);const C=y[Oi];null!==C&&C.detachView(y[Ht]),f[hr]=null,f[On]=null,f[Qn]&=-65}return f}function re(r,o){if(!(128&o[Qn])){const u=o[Le];u.destroyNode&&ih(r,o,u,3,null,null),function T(r){let o=r[xt];if(!o)return je(r[Ht],r);for(;o;){let u=null;if(Vi(o))u=o[xt];else{const f=o[wi];f&&(u=f)}if(!u){for(;o&&!o[On]&&o!==r;)Vi(o)&&je(o[Ht],o),o=o[hr];null===o&&(o=r),Vi(o)&&je(o[Ht],o),u=o&&o[On]}o=u}}(o)}}function je(r,o){if(!(128&o[Qn])){o[Qn]&=-65,o[Qn]|=128,function Qt(r,o){let u;if(null!=r&&null!=(u=r.destroyHooks))for(let f=0;f<u.length;f+=2){const p=o[u[f]];if(!(p instanceof we)){const y=u[f+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const x=p[y[C]],L=y[C+1];oi(4,x,L);try{L.call(x)}finally{oi(5,x,L)}}else{oi(4,p,y);try{y.call(p)}finally{oi(5,p,y)}}}}}(r,o),function dt(r,o){const u=r.cleanup,f=o[Zi];let p=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const C=u[y+3];C>=0?f[p=C]():f[p=-C].unsubscribe(),y+=2}else{const C=f[p=u[y+1]];u[y].call(C)}if(null!==f){for(let y=p+1;y<f.length;y++)(0,f[y])();o[Zi]=null}}(r,o),1===o[Ht].type&&o[Le].destroy();const u=o[ur];if(null!==u&&Pi(o[hr])){u!==o[hr]&&N(u,o);const f=o[Oi];null!==f&&f.detachView(r)}!function rl(r){Il.delete(r[Ti])}(o)}}function wn(r,o,u){return Vn(r,o.parent,u)}function Vn(r,o,u){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return u[$r];{const{componentOffset:p}=f;if(p>-1){const{encapsulation:y}=r.data[f.directiveStart+p];if(y===se.None||y===se.Emulated)return null}return pi(f,u)}}function vr(r,o,u,f,p){r.insertBefore(o,u,f,p)}function js(r,o,u){r.appendChild(o,u)}function Ua(r,o,u,f,p){null!==f?vr(r,o,u,f,p):js(r,o,u)}function wa(r,o){return r.parentNode(o)}function _d(r,o,u){return nh(r,o,u)}function Pu(r,o,u){return 40&r.type?pi(r,u):null}let Va,$a,Dd,Fr,nh=Pu;function yd(r,o){nh=r,Va=o}function fu(r,o,u,f){const p=wn(r,f,o),y=o[Le],x=_d(f.parent||o[Tr],f,o);if(null!=p)if(Array.isArray(u))for(let L=0;L<u.length;L++)Ua(y,p,u[L],x,!1);else Ua(y,p,u,x,!1);void 0!==Va&&Va(y,f,o,u,p)}function Pc(r,o){if(null!==o){const u=o.type;if(3&u)return pi(o,r);if(4&u)return Ir(-1,r[o.index]);if(8&u){const f=o.child;if(null!==f)return Pc(r,f);{const p=r[o.index];return Pi(p)?Ir(-1,p):li(p)}}if(32&u)return $s(o,r)()||li(r[o.index]);{const f=rh(r,o);return null!==f?Array.isArray(f)?f[0]:Pc(gd(r[$n]),f):Pc(r,o.next)}}return null}function rh(r,o){return null!==o?r[$n][Tr].projection[o.projection]:null}function Ir(r,o){const u=wi+r+1;if(u<o.length){const f=o[u],p=f[Ht].firstChild;if(null!==p)return Pc(f,p)}return o[jo]}function rp(r,o,u){const f=wa(r,o);f&&function md(r,o,u,f){r.removeChild(o,u,f)}(r,f,o,u)}function kc(r,o,u,f,p,y,C){for(;null!=u;){const x=f[u.index],L=u.type;if(C&&0===o&&(x&&Ae(li(x),f),u.flags|=2),32!=(32&u.flags))if(8&L)kc(r,o,u.child,f,p,y,!1),Al(o,r,p,x,y);else if(32&L){const z=$s(u,f);let te;for(;te=z();)Al(o,r,p,te,y);Al(o,r,p,x,y)}else 16&L?Sg(r,o,f,u,p,y):Al(o,r,p,x,y);u=C?u.projectionNext:u.next}}function ih(r,o,u,f,p,y){kc(u,f,r.firstChild,o,p,y,!1)}function Sg(r,o,u,f,p,y){const C=u[$n],L=C[Tr].projection[f.projection];if(Array.isArray(L))for(let z=0;z<L.length;z++)Al(o,r,p,L[z],y);else kc(r,o,L,C[hr],p,y,!0)}function Ng(r,o,u){""===u?r.removeAttribute(o,"class"):r.setAttribute(o,"class",u)}function vd(r,o,u){const{mergedAttrs:f,classes:p,styles:y}=u;null!==f&&jn(r,o,f),null!==p&&Ng(r,o,p),null!==y&&function c0(r,o,u){r.setAttribute(o,"style",u)}(r,o,y)}function Sl(r){return function bd(){if(void 0===$a&&($a=null,Mn.trustedTypes))try{$a=Mn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return $a}()?.createHTML(r)||r}function My(r){Dd=r}function o_(r){return function Cd(){if(void 0===Fr&&(Fr=null,Mn.trustedTypes))try{Fr=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Fr}()?.createScriptURL(r)||r}class oh{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function Qu(r){return r instanceof oh?r.changingThisBreaksApplicationSecurity:r}function Wl(r,o){const u=function Ed(r){return r instanceof oh&&r.getTypeName()||null}(r);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${Dt})`)}return u===o}class hs{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Sl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class sr{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Sl(o),u}}const sp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Id(r){return(r=String(r)).match(sp)?r:"unsafe:"+r}function Ml(r){const o={};for(const u of r.split(","))o[u]=!0;return o}function ah(...r){const o={};for(const u of r)for(const f in u)u.hasOwnProperty(f)&&(o[f]=!0);return o}const ap=Ml("area,br,col,hr,img,wbr"),kg=Ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fg=Ml("rp,rt"),Td=ah(ap,ah(kg,Ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ah(Fg,Ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ah(Fg,kg)),Xu=Ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cp=ah(Xu,Ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Bo=(()=>((Bo=Bo||{})[Bo.NONE=0]="NONE",Bo[Bo.HTML=1]="HTML",Bo[Bo.STYLE=2]="STYLE",Bo[Bo.SCRIPT=3]="SCRIPT",Bo[Bo.URL=4]="URL",Bo[Bo.RESOURCE_URL=5]="RESOURCE_URL",Bo))();function ch(r){const o=hh();return o?o.sanitize(Bo.URL,r)||"":Wl(r,"URL")?Qu(r):Id(De(r))}function hp(r){const o=hh();if(o)return o_(o.sanitize(Bo.RESOURCE_URL,r)||"");if(Wl(r,"ResourceURL"))return o_(Qu(r));throw new Je(904,!1)}function dh(r,o,u){return function s_(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?hp:ch}(o,u)(r)}function hh(){const r=ht();return r&&r[bt]}const Ug=new Ke("ENVIRONMENT_INITIALIZER"),a_=new Ke("INJECTOR",-1),zs=new Ke("INJECTOR_DEF_TYPES");class Bu{get(o,u=dr){if(u===dr){const f=new Error(`NullInjectorError: No provider for ${be(o)}!`);throw f.name="NullInjectorError",f}return u}}function Kl(r){return{\u0275providers:r}}function fp(...r){return{\u0275providers:pu(0,r),\u0275fromNgModule:!0}}function pu(r,...o){const u=[],f=new Set;let p;return gi(o,y=>{const C=y;fh(C,u,[],f)&&(p||(p=[]),p.push(C))}),void 0!==p&&tc(p,u),u}function tc(r,o){for(let u=0;u<r.length;u++){const{providers:p}=r[u];lf(p,y=>{o.push(y)})}}function fh(r,o,u,f){if(!(r=Me(r)))return!1;let p=null,y=br(r);const C=!y&&Kt(r);if(y||C){if(C&&!C.standalone)return!1;p=r}else{const L=r.ngModule;if(y=br(L),!y)return!1;p=L}const x=f.has(p);if(C){if(x)return!1;if(f.add(p),C.dependencies){const L="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const z of L)fh(z,o,u,f)}}else{if(!y)return!1;{if(null!=y.imports&&!x){let z;f.add(p);try{gi(y.imports,te=>{fh(te,o,u,f)&&(z||(z=[]),z.push(te))})}finally{}void 0!==z&&tc(z,o)}if(!x){const z=Yi(p)||(()=>new p);o.push({provide:p,useFactory:z,deps:Se},{provide:zs,useValue:p,multi:!0},{provide:Ug,useValue:()=>Bn(p),multi:!0})}const L=y.providers;null==L||x||lf(L,te=>{o.push(te)})}}return p!==r&&void 0!==r.providers}function lf(r,o){for(let u of r)lt(u)&&(u=u.\u0275providers),Array.isArray(u)?lf(u,o):o(u)}const l_=Ne({provide:String,useValue:Ne});function Bc(r){return null!==r&&"object"==typeof r&&l_ in r}function Uc(r){return"function"==typeof r}const pp=new Ke("Set Injector scope."),Jo={},uf={};let cf;function gh(){return void 0===cf&&(cf=new Bu),cf}class il{}class Vc extends il{get destroyed(){return this._destroyed}constructor(o,u,f,p){super(),this.parent=u,this.source=f,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jg(o,C=>this.processProvider(C)),this.records.set(a_,Vu(void 0,this)),p.has("environment")&&this.records.set(il,Vu(void 0,this));const y=this.records.get(pp);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(zs.multi,Se,ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=er(this),f=xn(void 0);try{return o()}finally{er(u),xn(f)}}get(o,u=dr,f=ze.Default){this.assertNotDestroyed(),f=lr(f);const p=er(this),y=xn(void 0);try{if(!(f&ze.SkipSelf)){let x=this.records.get(o);if(void 0===x){const L=function u_(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ke}(o)&&Jn(o);x=L&&this.injectableDefInScope(L)?Vu(Uu(o),Jo):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(f&ze.Self?gh():this.parent).get(o,u=f&ze.Optional&&u===dr?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[rn]=C[rn]||[]).unshift(be(o)),p)throw C;return function Kr(r,o,u,f){const p=r[rn];throw o[Ln]&&p.unshift(o[Ln]),r.message=function Ee(r,o,u,f=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==_r?r.slice(2):r;let p=be(o);if(Array.isArray(o))p=o.map(be).join(" -> ");else if("object"==typeof o){let y=[];for(let C in o)if(o.hasOwnProperty(C)){let x=o[C];y.push(C+":"+("string"==typeof x?JSON.stringify(x):be(x)))}p=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${p}]: ${r.replace(Pr,"\n  ")}`}("\n"+r.message,p,u,f),r[Xn]=p,r[rn]=null,r}(C,o,"R3InjectorError",this.source)}throw C}finally{xn(y),er(p)}}resolveInjectorInitializers(){const o=er(this),u=xn(void 0);try{const f=this.get(Ug.multi,Se,ze.Self);for(const p of f)p()}finally{er(o),xn(u)}}toString(){const o=[],u=this.records;for(const f of u.keys())o.push(be(f));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(o){let u=Uc(o=Me(o))?o:Me(o&&o.provide);const f=function ic(r){return Bc(r)?Vu(void 0,r.useValue):Vu(gp(r),Jo)}(o);if(Uc(o)||!0!==o.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Vu(void 0,Jo,!0),p.factory=()=>nr(p.multi),this.records.set(u,p)),u=o,p.multi.push(o)}this.records.set(u,f)}hydrate(o,u){return u.value===Jo&&(u.value=uf,u.value=u.factory()),"object"==typeof u.value&&u.value&&function $g(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Me(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Uu(r){const o=Jn(r),u=null!==o?o.factory:Yi(r);if(null!==u)return u;if(r instanceof Ke)throw new Je(204,!1);if(r instanceof Function)return function Ad(r){const o=r.length;if(o>0)throw I(o,"?"),new Je(204,!1);const u=function cn(r){return r&&(r[Lr]||r[xe])||null}(r);return null!==u?()=>u.factory(r):()=>new r}(r);throw new Je(204,!1)}function gp(r,o,u){let f;if(Uc(r)){const p=Me(r);return Yi(p)||Uu(p)}if(Bc(r))f=()=>Me(r.useValue);else if(function nc(r){return!(!r||!r.useFactory)}(r))f=()=>r.useFactory(...nr(r.deps||[]));else if(function gu(r){return!(!r||!r.useExisting)}(r))f=()=>Bn(Me(r.useExisting));else{const p=Me(r&&(r.useClass||r.provide));if(!function Vg(r){return!!r.deps}(r))return Yi(p)||Uu(p);f=()=>new p(...nr(r.deps))}return f}function Vu(r,o,u=!1){return{factory:r,value:o,multi:u?[]:void 0}}function jg(r,o){for(const u of r)Array.isArray(u)?jg(u,o):u&&lt(u)?jg(u.\u0275providers,o):o(u)}class Sd{}class df{}class c_{resolveComponentFactory(o){throw function hf(r){const o=Error(`No component factory found for ${be(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let $c=(()=>{class r{}return r.NULL=new c_,r})();function ky(){return mh(zr(),ht())}function mh(r,o){return new ff(pi(r,o))}let ff=(()=>{class r{constructor(u){this.nativeElement=u}}return r.__NG_ELEMENT_ID__=ky,r})();function pf(r){return r instanceof ff?r.nativeElement:r}class jc{}let Yl=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function d_(){const r=ht(),u=Di(zr().index,r);return(Vi(u)?u:r)[Le]}(),r})(),Hg=(()=>{class r{}return r.\u0275prov=yt({token:r,providedIn:"root",factory:()=>null}),r})();class Gg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const h_=new Gg("15.2.8"),gf={},mf="ngOriginalError";function _f(r){return r[mf]}class Rd{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&_f(o);for(;u&&_f(u);)u=_f(u);return u||null}}function mu(r){return r instanceof Function?r():r}function yf(r,o,u){let f=r.length;for(;;){const p=r.indexOf(o,u);if(-1===p)return p;if(0===p||r.charCodeAt(p-1)<=32){const y=o.length;if(p+y===f||r.charCodeAt(p+y)<=32)return p}u=p+1}}const Zg="ng-template";function Hc(r,o,u){let f=0,p=!0;for(;f<r.length;){let y=r[f++];if("string"==typeof y&&p){const C=r[f++];if(u&&"class"===y&&-1!==yf(C.toLowerCase(),o,0))return!0}else{if(1===y){for(;f<r.length&&"string"==typeof(y=r[f++]);)if(y.toLowerCase()===o)return!0;return!1}"number"==typeof y&&(p=!1)}}return!1}function Od(r){return 4===r.type&&r.value!==Zg}function m_(r,o,u){return o===(4!==r.type||u?r.value:Zg)}function Gc(r,o,u){let f=4;const p=r.attrs||[],y=function Uy(r){for(let o=0;o<r.length;o++)if(gt(r[o]))return o;return r.length}(p);let C=!1;for(let x=0;x<o.length;x++){const L=o[x];if("number"!=typeof L){if(!C)if(4&f){if(f=2|1&f,""!==L&&!m_(r,L,u)||""===L&&1===o.length){if(_u(f))return!1;C=!0}}else{const z=8&f?L:o[++x];if(8&f&&null!==r.attrs){if(!Hc(r.attrs,z,u)){if(_u(f))return!1;C=!0}continue}const _e=vh(8&f?"class":L,p,Od(r),u);if(-1===_e){if(_u(f))return!1;C=!0;continue}if(""!==z){let He;He=_e>y?"":p[_e+1].toLowerCase();const at=8&f?He:null;if(at&&-1!==yf(at,z,0)||2&f&&z!==He){if(_u(f))return!1;C=!0}}}}else{if(!C&&!_u(f)&&!_u(L))return!1;if(C&&_u(L))continue;C=!1,f=L|1&f}}return _u(f)||C}function _u(r){return 0==(1&r)}function vh(r,o,u,f){if(null===o)return-1;let p=0;if(f||!u){let y=!1;for(;p<o.length;){const C=o[p];if(C===r)return p;if(3===C||6===C)y=!0;else{if(1===C||2===C){let x=o[++p];for(;"string"==typeof x;)x=o[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=y?1:2}return-1}return function Vy(r,o){let u=r.indexOf(4);if(u>-1)for(u++;u<r.length;){const f=r[u];if("number"==typeof f)return-1;if(f===o)return u;u++}return-1}(o,r)}function Kg(r,o,u=!1){for(let f=0;f<o.length;f++)if(Gc(r,o[f],u))return!0;return!1}function __(r,o){e:for(let u=0;u<o.length;u++){const f=o[u];if(r.length===f.length){for(let p=0;p<r.length;p++)if(r[p]!==f[p])continue e;return!0}}return!1}function y_(r,o){return r?":not("+o.trim()+")":o}function v_(r){let o=r[0],u=1,f=2,p="",y=!1;for(;u<r.length;){let C=r[u];if("string"==typeof C)if(2&f){const x=r[++u];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&f?p+="."+C:4&f&&(p+=" "+C);else""!==p&&!_u(C)&&(o+=y_(y,p),p=""),f=C,y=y||!_u(f);u++}return""!==p&&(o+=y_(y,p)),o}const Ar={};function b_(r){Yg(Wn(),ht(),ai()+r,!1)}function Yg(r,o,u,f){if(!f)if(3==(3&o[Qn])){const y=r.preOrderCheckHooks;null!==y&&fl(o,y,u)}else{const y=r.preOrderHooks;null!==y&&qa(o,y,0,u)}Ci(u)}function I_(r,o=null,u=null,f){const p=bp(r,o,u,f);return p.resolveInjectorInitializers(),p}function bp(r,o=null,u=null,f,p=new Set){const y=[u||Se,fp(r)];return f=f||("object"==typeof r?void 0:be(r)),new Vc(y,o||gh(),f||null,p)}let go=(()=>{class r{static create(u,f){if(Array.isArray(u))return I_({name:""},f,u,"");{const p=u.name??"";return I_({name:p},u.parent,u.providers,p)}}}return r.THROW_IF_NOT_FOUND=dr,r.NULL=new Bu,r.\u0275prov=yt({token:r,providedIn:"any",factory:()=>Bn(a_)}),r.__NG_ELEMENT_ID__=-1,r})();function Pd(r,o=ze.Default){const u=ht();return null===u?Bn(r,o):Au(zr(),u,Me(r),o)}function am(){throw new Error("invalid")}function Cp(r,o){const u=r.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const y=u[f+1];if(-1!==y){const C=r.data[y];Xi(u[f]),C.contentQueries(2,o[y],y)}}}function Cf(r,o,u,f,p,y,C,x,L,z,te){const _e=o.blueprint.slice();return _e[$r]=p,_e[Qn]=76|f,(null!==te||r&&1024&r[Qn])&&(_e[Qn]|=1024),is(_e),_e[hr]=_e[fr]=r,_e[Nr]=u,_e[Oe]=C||r&&r[Oe],_e[Le]=x||r&&r[Le],_e[bt]=L||r&&r[bt]||null,_e[$e]=z||r&&r[$e]||null,_e[Tr]=y,_e[Ti]=function Fo(){return Qd++}(),_e[xi]=te,_e[$n]=2==o.type?r[$n]:_e,_e}function kd(r,o,u,f,p){let y=r.data[o];if(null===y)y=Ef(r,o,u,f,p),function Fs(){return zn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=f,y.attrs=p;const C=Ji();y.injectorIndex=null===C?-1:C.injectorIndex}return Do(y,!0),y}function Ef(r,o,u,f,p){const y=Ps(),C=ma(),L=r.data[o]=function Jy(r,o,u,f,p,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,u,o,f,p);return null===r.firstChild&&(r.firstChild=L),null!==y&&(C?null==y.child&&null!==L.parent&&(y.child=L):null===y.next&&(y.next=L,L.prev=y)),L}function Zc(r,o,u,f){if(0===u)return-1;const p=o.length;for(let y=0;y<u;y++)o.push(f),r.blueprint.push(f),r.data.push(null);return p}function Fd(r,o,u){qo(o);try{const f=r.viewQuery;null!==f&&Ms(1,f,u);const p=r.template;null!==p&&Ep(r,o,p,1,u),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Cp(r,o),r.staticViewQueries&&Ms(2,r.viewQuery,u);const y=r.components;null!==y&&function lm(r,o){for(let u=0;u<o.length;u++)ym(r,o[u])}(o,y)}catch(f){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),f}finally{o[Qn]&=-5,Eo()}}function Ld(r,o,u,f){const p=o[Qn];if(128!=(128&p)){qo(o);try{is(o),function ks(r){return zn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==u&&Ep(r,o,u,2,f);const C=3==(3&p);if(C){const z=r.preOrderCheckHooks;null!==z&&fl(o,z,null)}else{const z=r.preOrderHooks;null!==z&&qa(o,z,0,null),k(o,0)}if(function Xy(r){for(let o=Yu(r);null!==o;o=Rc(o)){if(!o[Zs])continue;const u=o[oo];for(let f=0;f<u.length;f++){const p=u[f];512&p[Qn]||Rs(p[hr],1),p[Qn]|=512}}}(o),function gm(r){for(let o=Yu(r);null!==o;o=Rc(o))for(let u=wi;u<o.length;u++){const f=o[u],p=f[Ht];ws(f)&&Ld(p,f,p.template,f[Nr])}}(o),null!==r.contentQueries&&Cp(r,o),C){const z=r.contentCheckHooks;null!==z&&fl(o,z)}else{const z=r.contentHooks;null!==z&&qa(o,z,1),k(o,1)}!function Ky(r,o){const u=r.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const p=u[f];if(p<0)Ci(~p);else{const y=p,C=u[++f],x=u[++f];Qi(C,y),x(2,o[y])}}}finally{Ci(-1)}}(r,o);const x=r.components;null!==x&&function Yy(r,o){for(let u=0;u<o.length;u++)mm(r,o[u])}(o,x);const L=r.viewQuery;if(null!==L&&Ms(2,L,f),C){const z=r.viewCheckHooks;null!==z&&fl(o,z)}else{const z=r.viewHooks;null!==z&&qa(o,z,2),k(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[Qn]&=-41,512&o[Qn]&&(o[Qn]&=-513,Rs(o[hr],-1))}finally{Eo()}}}function Ep(r,o,u,f,p){const y=ai(),C=2&f;try{Ci(-1),C&&o.length>ii&&Yg(r,o,ii,!1),oi(C?2:0,p),u(f,p)}finally{Ci(y),oi(C?3:1,p)}}function If(r,o,u){if(es(o)){const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const C=r.data[y];C.contentQueries&&C.contentQueries(1,u[y],y)}}}function Tf(r,o,u){ga()&&(function Qy(r,o,u,f){const p=u.directiveStart,y=u.directiveEnd;Ho(u)&&function B_(r,o,u){const f=pi(o,r),p=R_(u),y=r[Oe],C=Rf(r,Cf(r,p,null,u.onPush?32:16,f,o,y,y.createRenderer(f,u),null,null,null));r[o.index]=C}(o,u,r.data[p+u.componentOffset]),r.firstCreatePass||Bl(u,o),Ae(f,o);const C=u.initialInputs;for(let x=p;x<y;x++){const L=r.data[x],z=Un(o,r,x,u);Ae(z,o),null!==C&&Yc(0,x-p,z,L,0,C),hi(L)&&(Di(u.index,o)[Nr]=Un(o,r,x,u))}}(r,o,u,pi(u,o)),64==(64&u.flags)&&L_(r,o,u))}function Ip(r,o,u=pi){const f=o.localNames;if(null!==f){let p=o.index+1;for(let y=0;y<f.length;y+=2){const C=f[y+1],x=-1===C?u(o,r):r[C];r[p++]=x}}}function R_(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Tp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function Tp(r,o,u,f,p,y,C,x,L,z){const te=ii+f,_e=te+p,He=function Ap(r,o){const u=[];for(let f=0;f<o;f++)u.push(f<r?null:Ar);return u}(te,_e),at="function"==typeof z?z():z;return He[Ht]={type:r,blueprint:He,template:u,queries:null,viewQuery:x,declTNode:o,data:He.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:L,consts:at,incompleteFirstPass:!1}}function O_(r,o,u,f){const p=Dh(o);null===u?p.push(f):(p.push(u),r.firstCreatePass&&Jc(r).push(f,p.length-1))}function ia(r,o,u,f){for(let p in r)if(r.hasOwnProperty(p)){u=null===u?{}:u;const y=r[p];null===f?x_(u,o,p,y):f.hasOwnProperty(p)&&x_(u,o,f[p],y)}return u}function x_(r,o,u,f){r.hasOwnProperty(u)?r[u].push(o,f):r[u]=[o,f]}function oa(r,o,u,f,p,y,C,x){const L=pi(o,u);let te,z=o.inputs;!x&&null!=z&&(te=z[f])?(ac(r,u,te,f,p),Ho(o)&&function um(r,o){const u=Di(o,r);16&u[Qn]||(u[Qn]|=32)}(u,o.index)):3&o.type&&(f=function Sp(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(f),p=null!=C?C(p,o.value||"",f):p,y.setProperty(L,f,p))}function cm(r,o,u,f){if(ga()){const p=null===f?null:{"":-1},y=function hm(r,o){const u=r.directiveRegistry;let f=null,p=null;if(u)for(let y=0;y<u.length;y++){const C=u[y];if(Kg(o,C.selectors,!1))if(f||(f=[]),hi(C))if(null!==C.findHostDirectiveDefs){const x=[];p=p||new Map,C.findHostDirectiveDefs(C,x,p),f.unshift(...x,C),Kc(r,o,x.length)}else f.unshift(C),Kc(r,o,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,f,p),f.push(C)}return null===f?null:[f,p]}(r,u);let C,x;null===y?C=x=null:[C,x]=y,null!==C&&F_(r,o,u,C,p,x),p&&function fm(r,o,u){if(o){const f=r.localNames=[];for(let p=0;p<o.length;p+=2){const y=u[o[p+1]];if(null==y)throw new Je(-301,!1);f.push(o[p],y)}}}(u,f,p)}u.mergedAttrs=Jr(u.mergedAttrs,u.attrs)}function F_(r,o,u,f,p,y){for(let z=0;z<f.length;z++)Ni(Bl(u,o),r,f[z].type);!function Mf(r,o,u){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+u,r.providerIndexes=o}(u,r.data.length,f.length);for(let z=0;z<f.length;z++){const te=f[z];te.providersResolver&&te.providersResolver(te)}let C=!1,x=!1,L=Zc(r,o,f.length,null);for(let z=0;z<f.length;z++){const te=f[z];u.mergedAttrs=Jr(u.mergedAttrs,te.hostAttrs),pm(r,u,o,L,te),Mp(L,te,p),null!==te.contentQueries&&(u.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(u.flags|=64);const _e=te.type.prototype;!C&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((r.preOrderHooks??(r.preOrderHooks=[])).push(u.index),C=!0),!x&&(_e.ngOnChanges||_e.ngDoCheck)&&((r.preOrderCheckHooks??(r.preOrderCheckHooks=[])).push(u.index),x=!0),L++}!function P_(r,o,u){const p=o.directiveEnd,y=r.data,C=o.attrs,x=[];let L=null,z=null;for(let te=o.directiveStart;te<p;te++){const _e=y[te],He=u?u.get(_e):null,Bt=He?He.outputs:null;L=ia(_e.inputs,te,L,He?He.inputs:null),z=ia(_e.outputs,te,z,Bt);const an=null===L||null===C||Od(o)?null:U_(L,te,C);x.push(an)}null!==L&&(L.hasOwnProperty("class")&&(o.flags|=8),L.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=x,o.inputs=L,o.outputs=z}(r,u,y)}function L_(r,o,u){const f=u.directiveStart,p=u.directiveEnd,y=u.index,C=function su(){return zn.lFrame.currentDirectiveIndex}();try{Ci(y);for(let x=f;x<p;x++){const L=r.data[x],z=o[x];si(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Sf(L,z)}}finally{Ci(-1),si(C)}}function Sf(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Kc(r,o,u){o.componentOffset=u,(r.components??(r.components=[])).push(o.index)}function Mp(r,o,u){if(u){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)u[o.exportAs[f]]=r;hi(o)&&(u[""]=r)}}function pm(r,o,u,f,p){r.data[f]=p;const y=p.factory||(p.factory=Yi(p.type)),C=new we(y,hi(p),Pd);r.blueprint[f]=C,u[f]=C,function g0(r,o,u,f,p){const y=p.hostBindings;if(y){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const x=~o.index;(function dm(r){let o=r.length;for(;o>0;){const u=r[--o];if("number"==typeof u&&u<0)return u}return 0})(C)!=x&&C.push(x),C.push(u,f,y)}}(r,o,f,Zc(r,u,p.hostVars,Ar),p)}function Nf(r,o,u,f,p,y,C){if(null==y)r.removeAttribute(o,p,u);else{const x=null==C?De(y):C(y,f||"",p);r.setAttribute(o,p,x,u)}}function Yc(r,o,u,f,p,y){const C=y[o];if(null!==C){const x=f.setInput;for(let L=0;L<C.length;){const z=C[L++],te=C[L++],_e=C[L++];null!==x?f.setInput(u,_e,z,te):u[te]=_e}}}function U_(r,o,u){let f=null,p=0;for(;p<u.length;){const y=u[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===f&&(f=[]);const C=r[y];for(let x=0;x<C.length;x+=2)if(C[x]===o){f.push(y,C[x+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return f}function V_(r,o,u,f){return[r,!0,!1,o,null,0,f,u,null,null]}function mm(r,o){const u=Di(o,r);if(ws(u)){const f=u[Ht];48&u[Qn]?Ld(f,u,f.template,u[Nr]):u[ri]>0&&_m(u)}}function _m(r){for(let f=Yu(r);null!==f;f=Rc(f))for(let p=wi;p<f.length;p++){const y=f[p];if(ws(y))if(512&y[Qn]){const C=y[Ht];Ld(C,y,C.template,y[Nr])}else y[ri]>0&&_m(y)}const u=r[Ht].components;if(null!==u)for(let f=0;f<u.length;f++){const p=Di(u[f],r);ws(p)&&p[ri]>0&&_m(p)}}function ym(r,o){const u=Di(o,r),f=u[Ht];(function Np(r,o){for(let u=o.length;u<r.blueprint.length;u++)o.push(r.blueprint[u])})(f,u),Fd(f,u,u[Nr])}function Rf(r,o){return r[xt]?r[Tn][On]=o:r[xt]=o,r[Tn]=o,o}function Of(r){for(;r;){r[Qn]|=32;const o=gd(r);if(vo(r)&&!o)return r;r=o}return null}function sc(r,o,u,f=!0){const p=o[Oe];p.begin&&p.begin();try{Ld(r,o,r.template,u)}catch(C){throw f&&Wi(o,C),C}finally{p.end&&p.end()}}function Ms(r,o,u){Xi(0),o(r,u)}function Dh(r){return r[Zi]||(r[Zi]=[])}function Jc(r){return r.cleanup||(r.cleanup=[])}function Wi(r,o){const u=r[$e],f=u?u.get(Rd,null):null;f&&f.handleError(o)}function ac(r,o,u,f,p){for(let y=0;y<u.length;){const C=u[y++],x=u[y++],L=o[C],z=r.data[C];null!==z.setInput?z.setInput(L,p,f,x):L[x]=p}}function lc(r,o,u){let f=u?r.styles:null,p=u?r.classes:null,y=0;if(null!==o)for(let C=0;C<o.length;C++){const x=o[C];"number"==typeof x?y=x:1==y?p=Ye(p,x):2==y&&(f=Ye(f,x+": "+o[++C]+";"))}u?r.styles=f:r.stylesWithoutHost=f,u?r.classes=p:r.classesWithoutHost=p}function Ch(r,o,u,f,p=!1){for(;null!==u;){const y=o[u.index];if(null!==y&&f.push(li(y)),Pi(y))for(let x=wi;x<y.length;x++){const L=y[x],z=L[Ht].firstChild;null!==z&&Ch(L[Ht],L,z,f)}const C=u.type;if(8&C)Ch(r,o,u.child,f);else if(32&C){const x=$s(u,o);let L;for(;L=x();)f.push(L)}else if(16&C){const x=rh(o,u);if(Array.isArray(x))f.push(...x);else{const L=gd(o[$n]);Ch(L[Ht],L,x,f,!0)}}u=p?u.projectionNext:u.next}return f}class Eh{get rootNodes(){const o=this._lView,u=o[Ht];return Ch(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(o){this._lView[Nr]=o}get destroyed(){return 128==(128&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[hr];if(Pi(o)){const u=o[xo],f=u?u.indexOf(this):-1;f>-1&&(K(o,f),vl(u,f))}this._attachedToViewContainer=!1}re(this._lView[Ht],this._lView)}onDestroy(o){O_(this._lView[Ht],this._lView,null,o)}markForCheck(){Of(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-65}reattach(){this._lView[Qn]|=64}detectChanges(){sc(this._lView[Ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xc(r,o){ih(r,o,o[Le],2,null,null)}(this._lView[Ht],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=o}}class vm extends Eh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;sc(o[Ht],o,o[Nr],!1)}checkNoChanges(){}get context(){return null}}class Qc extends $c{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Kt(o);return new yu(u,this.ngModule)}}function Rp(r){const o=[];for(let u in r)r.hasOwnProperty(u)&&o.push({propName:r[u],templateName:u});return o}class bm{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,f){f=lr(f);const p=this.injector.get(o,gf,f);return p!==gf||u===gf?p:this.parentInjector.get(o,u,f)}}class yu extends df{get inputs(){return Rp(this.componentDef.inputs)}get outputs(){return Rp(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function $y(r){return r.map(v_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,f,p){let y=(p=p||this.ngModule)instanceof il?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new bm(o,y):o,x=C.get(jc,null);if(null===x)throw new Je(407,!1);const L=C.get(Hg,null),z=x.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",_e=f?function Af(r,o,u){return r.selectRootElement(o,u===se.ShadowDom)}(z,f,this.componentDef.encapsulation):ef(z,te,function Op(r){const o=r.toLowerCase();return"svg"===o?vs:"math"===o?"math":null}(te)),He=this.componentDef.onPush?288:272,at=Tp(0,null,null,1,0,null,null,null,null,null),Bt=Cf(null,at,null,He,null,null,x,z,L,C,null);let an,In;qo(Bt);try{const qn=this.componentDef;let wr,Zt=null;qn.findHostDirectiveDefs?(wr=[],Zt=new Map,qn.findHostDirectiveDefs(qn,wr,Zt),wr.push(qn)):wr=[qn];const Gr=function $u(r,o){const u=r[Ht],f=ii;return r[f]=o,kd(u,f,2,"#host",null)}(Bt,_e),ps=function mo(r,o,u,f,p,y,C,x){const L=p[Ht];!function j_(r,o,u,f){for(const p of r)o.mergedAttrs=Jr(o.mergedAttrs,p.hostAttrs);null!==o.mergedAttrs&&(lc(o,o.mergedAttrs,!0),null!==u&&vd(f,u,o))}(f,r,o,C);const z=y.createRenderer(o,u),te=Cf(p,R_(u),null,u.onPush?32:16,p[r.index],r,y,z,x||null,null,null);return L.firstCreatePass&&Kc(L,r,f.length-1),Rf(p,te),p[r.index]=te}(Gr,_e,qn,wr,Bt,x,z);In=Sa(at,ii),_e&&function wm(r,o,u,f){if(f)jn(r,u,["ng-version",h_.full]);else{const{attrs:p,classes:y}=function yp(r){const o=[],u=[];let f=1,p=2;for(;f<r.length;){let y=r[f];if("string"==typeof y)2===p?""!==y&&o.push(y,r[++f]):8===p&&u.push(y);else{if(!_u(p))break;p=y}f++}return{attrs:o,classes:u}}(o.selectors[0]);p&&jn(r,u,p),y&&y.length>0&&Ng(r,u,y.join(" "))}}(z,qn,_e,f),void 0!==u&&function Bd(r,o,u){const f=r.projection=[];for(let p=0;p<o.length;p++){const y=u[p];f.push(null!=y?Array.from(y):null)}}(In,this.ngContentSelectors,u),an=function Ih(r,o,u,f,p,y){const C=zr(),x=p[Ht],L=pi(C,p);F_(x,p,C,u,null,f);for(let te=0;te<u.length;te++)Ae(Un(p,x,C.directiveStart+te,C),p);L_(x,p,C),L&&Ae(L,p);const z=Un(p,x,C.directiveStart+C.componentOffset,C);if(r[Nr]=p[Nr]=z,null!==y)for(const te of y)te(z,o);return If(x,C,r),z}(ps,qn,wr,Zt,Bt,[xp]),Fd(at,Bt,null)}finally{Eo()}return new Xc(this.componentType,an,mh(In,Bt),Bt,In)}}class Xc extends Sd{constructor(o,u,f,p,y){super(),this.location=f,this._rootLView=p,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new vm(p),this.componentType=o}setInput(o,u){const f=this._tNode.inputs;let p;if(null!==f&&(p=f[o])){const y=this._rootLView;ac(y[Ht],y,p,o,u),Of(Di(this._tNode.index,y))}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xp(){const r=zr();Zo(ht()[Ht],r)}function Ud(r){let o=function Pp(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),u=!0;const f=[r];for(;o;){let p;if(hi(r))p=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Je(903,!1);p=o.\u0275dir}if(p){if(u){f.push(p);const C=r;C.inputs=Fp(r.inputs),C.declaredInputs=Fp(r.declaredInputs),C.outputs=Fp(r.outputs);const x=p.hostBindings;x&&Lp(r,x);const L=p.viewQuery,z=p.contentQueries;if(L&&Dm(r,L),z&&Cm(r,z),Fe(r.inputs,p.inputs),Fe(r.declaredInputs,p.declaredInputs),Fe(r.outputs,p.outputs),hi(p)&&p.data.animation){const te=r.data;te.animation=(te.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let C=0;C<y.length;C++){const x=y[C];x&&x.ngInherit&&x(r),x===Ud&&(u=!1)}}o=Object.getPrototypeOf(o)}!function kp(r){let o=0,u=null;for(let f=r.length-1;f>=0;f--){const p=r[f];p.hostVars=o+=p.hostVars,p.hostAttrs=Jr(p.hostAttrs,u=Jr(u,p.hostAttrs))}}(f)}function Fp(r){return r===X?{}:r===Se?[]:r}function Dm(r,o){const u=r.viewQuery;r.viewQuery=u?(f,p)=>{o(f,p),u(f,p)}:o}function Cm(r,o){const u=r.contentQueries;r.contentQueries=u?(f,p,y)=>{o(f,p,y),u(f,p,y)}:o}function Lp(r,o){const u=r.hostBindings;r.hostBindings=u?(f,p)=>{o(f,p),u(f,p)}:o}function Im(r){return o=>{o.findHostDirectiveDefs=Bp,o.hostDirectives=(Array.isArray(r)?r:r()).map(u=>"function"==typeof u?{directive:Me(u),inputs:X,outputs:X}:{directive:Me(u.directive),inputs:Up(u.inputs),outputs:Up(u.outputs)})}}function Bp(r,o,u){if(null!==r.hostDirectives)for(const f of r.hostDirectives){const p=rr(f.directive);Tm(p.declaredInputs,f.inputs),Bp(p,o,u),u.set(p,f),o.push(p)}}function Up(r){if(void 0===r||0===r.length)return X;const o={};for(let u=0;u<r.length;u+=2)o[r[u]]=r[u+1];return o}function Tm(r,o){for(const u in o)o.hasOwnProperty(u)&&(r[o[u]]=r[u])}function Ah(r){return!!xf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function xf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Xl(r,o,u){return r[o]=u}function no(r,o,u){return!Object.is(r[o],u)&&(r[o]=u,!0)}function uc(r,o,u,f){const p=no(r,o,u);return no(r,o+1,f)||p}function Am(r,o,u,f){const p=ht();return no(p,ko(),o)&&(Wn(),function Jl(r,o,u,f,p,y){const C=pi(r,o);Nf(o[Le],C,y,r.value,u,f,p)}(yr(),p,r,o,u,f)),Am}function Mh(r,o,u,f){return no(r,ko(),u)?o+De(u)+f:Ar}function zp(r,o,u,f,p,y,C,x){const L=ht(),z=Wn(),te=r+ii,_e=z.firstCreatePass?function iv(r,o,u,f,p,y,C,x,L){const z=o.consts,te=kd(o,r,4,C||null,ji(z,x));cm(o,u,te,ji(z,L)),Zo(o,te);const _e=te.tView=Tp(2,te,f,p,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,z);return null!==o.queries&&(o.queries.template(o,te),_e.queries=o.queries.embeddedTView(te)),te}(te,z,L,o,u,f,p,y,C):z.data[te];Do(_e,!1);const He=L[Le].createComment("");fu(z,L,He,_e),Ae(He,L),Rf(L,L[te]=V_(He,L,He,_e)),Li(_e)&&Tf(z,L,_e),null!=C&&Ip(L,_e,x)}function Pf(r){return Er(function cl(){return zn.lFrame.contextLView}(),ii+r)}function Rh(r,o,u){const f=ht();return no(f,ko(),o)&&oa(Wn(),yr(),f,r,o,f[Le],u,!1),Rh}function kf(r,o,u,f,p){const C=p?"class":"style";ac(r,u,o.inputs[C],C,f)}function Oh(r,o,u,f){const p=ht(),y=Wn(),C=ii+r,x=p[Le],L=y.firstCreatePass?function Ff(r,o,u,f,p,y){const C=o.consts,L=kd(o,r,2,f,ji(C,p));return cm(o,u,L,ji(C,y)),null!==L.attrs&&lc(L,L.attrs,!1),null!==L.mergedAttrs&&lc(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(C,y,p,o,u,f):y.data[C],z=p[C]=ef(x,o,function hl(){return zn.lFrame.currentNamespace}()),te=Li(L);return Do(L,!0),vd(x,z,L),32!=(32&L.flags)&&fu(y,p,z,L),0===function Ma(){return zn.lFrame.elementDepthCount}()&&Ae(z,p),function xs(){zn.lFrame.elementDepthCount++}(),te&&(Tf(y,p,L),If(y,L,p)),null!==f&&Ip(p,L),Oh}function Lf(){let r=zr();ma()?Wa():(r=r.parent,Do(r,!1));const o=r;!function Na(){zn.lFrame.elementDepthCount--}();const u=Wn();return u.firstCreatePass&&(Zo(u,r),es(r)&&u.queries.elementEnd(r)),null!=o.classesWithoutHost&&function de(r){return 0!=(8&r.flags)}(o)&&kf(u,o,ht(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xe(r){return 0!=(16&r.flags)}(o)&&kf(u,o,ht(),o.stylesWithoutHost,!1),Lf}function vu(r,o,u,f){return Oh(r,o,u,f),Lf(),vu}function xh(r,o,u){const f=ht(),p=Wn(),y=r+ii,C=p.firstCreatePass?function K_(r,o,u,f,p){const y=o.consts,C=ji(y,f),x=kd(o,r,8,"ng-container",C);return null!==C&&lc(x,C,!0),cm(o,u,x,ji(y,p)),null!==o.queries&&o.queries.elementStart(o,x),x}(y,p,f,o,u):p.data[y];Do(C,!0);const x=f[y]=f[Le].createComment("");return fu(p,f,x,C),Ae(x,f),Li(C)&&(Tf(p,f,C),If(p,C,f)),null!=u&&Ip(f,C),xh}function hc(){let r=zr();const o=Wn();return ma()?Wa():(r=r.parent,Do(r,!1)),o.firstCreatePass&&(Zo(o,r),es(r)&&o.queries.elementEnd(r)),hc}function Y_(){return ht()}function Bf(r){return!!r&&"function"==typeof r.then}function ei(r){return!!r&&"function"==typeof r.subscribe}const qp=ei;function Uf(r,o,u,f){const p=ht(),y=Wn(),C=zr();return function Zp(r,o,u,f,p,y,C){const x=Li(f),z=r.firstCreatePass&&Jc(r),te=o[Nr],_e=Dh(o);let He=!0;if(3&f.type||C){const an=pi(f,o),In=C?C(an):an,qn=_e.length,wr=C?Gr=>C(li(Gr[f.index])):f.index;let Zt=null;if(!C&&x&&(Zt=function Sm(r,o,u,f){const p=r.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const C=p[y];if(C===u&&p[y+1]===f){const x=o[Zi],L=p[y+2];return x.length>L?x[L]:null}"string"==typeof C&&(y+=2)}return null}(r,o,p,f.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=y,Zt.__ngLastListenerFn__=y,He=!1;else{y=fc(f,o,te,y,!1);const Gr=u.listen(In,p,y);_e.push(y,Gr),z&&z.push(p,wr,qn,qn+1)}}else y=fc(f,o,te,y,!1);const at=f.outputs;let Bt;if(He&&null!==at&&(Bt=at[p])){const an=Bt.length;if(an)for(let In=0;In<an;In+=2){const ps=o[Bt[In]][Bt[In+1]].subscribe(y),aa=_e.length;_e.push(y,ps),z&&z.push(p,f.index,aa,-(aa+1))}}}(y,p,p[Le],C,r,o,f),Uf}function Kp(r,o,u,f){try{return oi(6,o,u),!1!==u(f)}catch(p){return Wi(r,p),!1}finally{oi(7,o,u)}}function fc(r,o,u,f,p){return function y(C){if(C===Function)return f;Of(r.componentOffset>-1?Di(r.index,o):o);let L=Kp(o,u,f,C),z=y.__ngNextListenerFn__;for(;z;)L=Kp(o,u,z,C)&&L,z=z.__ngNextListenerFn__;return p&&!1===L&&(C.preventDefault(),C.returnValue=!1),L}}function $d(r=1){return function as(r){return(zn.lFrame.contextLView=function dl(r,o){for(;r>0;)o=o[fr],r--;return o}(r,zn.lFrame.contextLView))[Nr]}(r)}function jd(r,o){let u=null;const f=function zc(r){const o=r.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(r);for(let p=0;p<o.length;p++){const y=o[p];if("*"!==y){if(null===f?Kg(r,y,!0):__(f,y))return p}else u=p}return u}function Mm(r){const o=ht()[$n][Tr];if(!o.projection){const f=o.projection=I(r?r.length:1,null),p=f.slice();let y=o.child;for(;null!==y;){const C=r?jd(y,r):0;null!==C&&(p[C]?p[C].projectionNext=y:f[C]=y,p[C]=y),y=y.next}}}function J_(r,o=0,u){const f=ht(),p=Wn(),y=kd(p,ii+r,16,null,u||null);null===y.projection&&(y.projection=o),Wa(),32!=(32&y.flags)&&function r_(r,o,u){Sg(o[Le],0,o,u,wn(r,u,o),_d(u.parent||o[Tr],u,o))}(p,f,y)}function Nm(r,o,u){return Vf(r,"",o,"",u),Nm}function Vf(r,o,u,f,p){const y=ht(),C=Mh(y,o,u,f);return C!==Ar&&oa(Wn(),yr(),y,r,C,y[Le],p,!1),Vf}function Fh(r,o){return r<<17|o<<2}function pc(r){return r>>17&32767}function Gf(r){return 2|r}function gc(r){return(131068&r)>>2}function mc(r,o){return-131069&r|o<<2}function tg(r){return 1|r}function xm(r,o,u,f,p){const y=r[u+1],C=null===o;let x=f?pc(y):gc(y),L=!1;for(;0!==x&&(!1===L||C);){const te=r[x+1];y0(r[x],o)&&(L=!0,r[x+1]=f?tg(te):Gf(te)),x=f?pc(te):gc(te)}L&&(r[u+1]=f?Gf(y):tg(y))}function y0(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Ze(r,o)>=0}const Ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lv(r){return r.substring(Ws.key,Ws.keyEnd)}function Pm(r,o){const u=Ws.textEnd;return u===o?-1:(o=Ws.keyEnd=function ci(r,o,u){for(;o<u&&r.charCodeAt(o)>32;)o++;return o}(r,Ws.key=o,u),rd(r,o,u))}function rd(r,o,u){for(;o<u&&r.charCodeAt(o)<=32;)o++;return o}function qs(r,o,u){return Oo(r,o,u,!1),qs}function bu(r,o){return Oo(r,o,null,!0),bu}function ng(r){fi(ry,yc,r,!0)}function yc(r,o){for(let u=function uv(r){return function ey(r){Ws.key=0,Ws.keyEnd=0,Ws.value=0,Ws.valueEnd=0,Ws.textEnd=r.length}(r),Pm(r,rd(r,0,Ws.textEnd))}(o);u>=0;u=Pm(o,u))J(r,lv(o),!0)}function Oo(r,o,u,f){const p=ht(),y=Wn(),C=Co(2);y.firstUpdatePass&&km(y,r,C,f),o!==Ar&&no(p,C,o)&&iy(y,y.data[ai()],p,p[Le],r,p[C+1]=function Bh(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=be(Qu(r)))),r}(o,u),f,C)}function fi(r,o,u,f){const p=Wn(),y=Co(2);p.firstUpdatePass&&km(p,null,y,f);const C=ht();if(u!==Ar&&no(C,y,u)){const x=p.data[ai()];if(Uh(x,f)&&!Lh(p,y)){let L=f?x.classesWithoutHost:x.stylesWithoutHost;null!==L&&(u=Ye(L,u||"")),kf(p,x,C,u,f)}else!function hv(r,o,u,f,p,y,C,x){p===Ar&&(p=Se);let L=0,z=0,te=0<p.length?p[0]:null,_e=0<y.length?y[0]:null;for(;null!==te||null!==_e;){const He=L<p.length?p[L+1]:void 0,at=z<y.length?y[z+1]:void 0;let an,Bt=null;te===_e?(L+=2,z+=2,He!==at&&(Bt=_e,an=at)):null===_e||null!==te&&te<_e?(L+=2,Bt=te):(z+=2,Bt=_e,an=at),null!==Bt&&iy(r,o,u,f,Bt,an,C,x),te=L<p.length?p[L]:null,_e=z<y.length?y[z]:null}}(p,x,C,C[Le],C[y+1],C[y+1]=function rg(r,o,u){if(null==u||""===u)return Se;const f=[],p=Qu(u);if(Array.isArray(p))for(let y=0;y<p.length;y++)r(f,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&r(f,y,p[y]);else"string"==typeof p&&o(f,p);return f}(r,o,u),f,y)}}function Lh(r,o){return o>=r.expandoStartIndex}function km(r,o,u,f){const p=r.data;if(null===p[u+1]){const y=p[ai()],C=Lh(r,u);Uh(y,f)&&null===o&&!C&&(o=!1),o=function Fm(r,o,u,f){const p=function Yr(r){const o=zn.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let y=f?o.residualClasses:o.residualStyles;if(null===p)0===(f?o.classBindings:o.styleBindings)&&(u=Hu(u=Uo(null,r,o,u,f),o.attrs,f),y=null);else{const C=o.directiveStylingLast;if(-1===C||r[C]!==p)if(u=Uo(p,r,o,u,f),null===y){let L=function ro(r,o,u){const f=u?o.classBindings:o.styleBindings;if(0!==gc(f))return r[pc(f)]}(r,o,f);void 0!==L&&Array.isArray(L)&&(L=Uo(null,r,o,L[1],f),L=Hu(L,o.attrs,f),function w0(r,o,u,f){r[pc(u?o.classBindings:o.styleBindings)]=f}(r,o,f,L))}else y=function Lm(r,o,u){let f;const p=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<p;y++)f=Hu(f,r[y].hostAttrs,u);return Hu(f,o.attrs,u)}(r,o,f)}return void 0!==y&&(f?o.residualClasses=y:o.residualStyles=y),u}(p,y,o,f),function Om(r,o,u,f,p,y){let C=y?o.classBindings:o.styleBindings,x=pc(C),L=gc(C);r[f]=u;let te,z=!1;if(Array.isArray(u)?(te=u[1],(null===te||Ze(u,te)>0)&&(z=!0)):te=u,p)if(0!==L){const He=pc(r[x+1]);r[f+1]=Fh(He,x),0!==He&&(r[He+1]=mc(r[He+1],f)),r[x+1]=function Q_(r,o){return 131071&r|o<<17}(r[x+1],f)}else r[f+1]=Fh(x,0),0!==x&&(r[x+1]=mc(r[x+1],f)),x=f;else r[f+1]=Fh(L,0),0===x?x=f:r[L+1]=mc(r[L+1],f),L=f;z&&(r[f+1]=Gf(r[f+1])),xm(r,te,f,!0),xm(r,te,f,!1),function av(r,o,u,f,p){const y=p?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof o&&Ze(y,o)>=0&&(u[f+1]=tg(u[f+1]))}(o,te,r,f,y),C=Fh(x,L),y?o.classBindings=C:o.styleBindings=C}(p,y,o,u,C,f)}}function Uo(r,o,u,f,p){let y=null;const C=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<C&&(y=o[x],f=Hu(f,y.hostAttrs,p),y!==r);)x++;return null!==r&&(u.directiveStylingLast=x),f}function Hu(r,o,u){const f=u?1:2;let p=-1;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?p=C:p===f&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),J(r,C,!!u||o[++y]))}return void 0===r?null:r}function ry(r,o,u){const f=String(o);""!==f&&!f.includes(" ")&&J(r,f,u)}function iy(r,o,u,f,p,y,C,x){if(!(3&o.type))return;const L=r.data,z=L[x+1],te=function eg(r){return 1==(1&r)}(z)?oy(L,o,u,p,gc(z),C):void 0;vc(te)||(vc(y)||function Xp(r){return 2==(2&r)}(z)&&(y=oy(L,null,u,p,x,C)),function Mg(r,o,u,f,p){if(o)p?r.addClass(u,f):r.removeClass(u,f);else{let y=-1===f.indexOf("-")?void 0:na.DashCase;null==p?r.removeStyle(u,f,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=na.Important),r.setStyle(u,f,p,y))}}(f,C,Si(ai(),u),p,y))}function oy(r,o,u,f,p,y){const C=null===o;let x;for(;p>0;){const L=r[p],z=Array.isArray(L),te=z?L[1]:L,_e=null===te;let He=u[p+1];He===Ar&&(He=_e?Se:void 0);let at=_e?oe(He,f):te===f?He:void 0;if(z&&!vc(at)&&(at=oe(L,f)),vc(at)&&(x=at,C))return x;const Bt=r[p+1];p=C?pc(Bt):gc(Bt)}if(null!==o){let L=y?o.residualClasses:o.residualStyles;null!=L&&(x=oe(L,f))}return x}function vc(r){return void 0!==r}function Uh(r,o){return 0!=(r.flags&(o?8:16))}function Wf(r,o=""){const u=ht(),f=Wn(),p=r+ii,y=f.firstCreatePass?kd(f,p,1,o,null):f.data[p],C=u[p]=Ju(u[Le],o);fu(f,u,C,y),Do(y,!1)}function qf(r){return wu("",r,""),qf}function wu(r,o,u){const f=ht(),p=Mh(f,r,o,u);return p!==Ar&&function Ql(r,o,u){const f=Si(o,r);Oc(r[Le],f,u)}(f,ai(),p),wu}function sy(r,o,u,f,p){fi(J,yc,function td(r,o,u,f,p,y){const x=uc(r,Xr(),u,p);return Co(2),x?o+De(u)+f+De(p)+y:Ar}(ht(),r,o,u,f,p),!0)}function ug(r,o,u){const f=ht();return no(f,ko(),o)&&oa(Wn(),yr(),f,r,o,f[Le],u,!0),ug}const Du=void 0;var Hh=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yv(r){const u=Math.floor(Math.abs(r)),f=r.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Gh={};function cy(r){const o=function vv(r){return r.toLowerCase().replace(/_/g,"-")}(r);let u=Wh(o);if(u)return u;const f=o.split("-")[0];if(u=Wh(f),u)return u;if("en"===f)return Hh;throw new Je(701,!1)}function dg(r){return cy(r)[ar.PluralCase]}function Wh(r){return r in Gh||(Gh[r]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[r]),Gh[r]}var ar=(()=>((ar=ar||{})[ar.LocaleId=0]="LocaleId",ar[ar.DayPeriodsFormat=1]="DayPeriodsFormat",ar[ar.DayPeriodsStandalone=2]="DayPeriodsStandalone",ar[ar.DaysFormat=3]="DaysFormat",ar[ar.DaysStandalone=4]="DaysStandalone",ar[ar.MonthsFormat=5]="MonthsFormat",ar[ar.MonthsStandalone=6]="MonthsStandalone",ar[ar.Eras=7]="Eras",ar[ar.FirstDayOfWeek=8]="FirstDayOfWeek",ar[ar.WeekendRange=9]="WeekendRange",ar[ar.DateFormat=10]="DateFormat",ar[ar.TimeFormat=11]="TimeFormat",ar[ar.DateTimeFormat=12]="DateTimeFormat",ar[ar.NumberSymbols=13]="NumberSymbols",ar[ar.NumberFormats=14]="NumberFormats",ar[ar.CurrencyCode=15]="CurrencyCode",ar[ar.CurrencySymbol=16]="CurrencySymbol",ar[ar.CurrencyName=17]="CurrencyName",ar[ar.Currencies=18]="Currencies",ar[ar.Directionality=19]="Directionality",ar[ar.PluralCase=20]="PluralCase",ar[ar.ExtraData=21]="ExtraData",ar))();const hg=["zero","one","two","few","many"],qh="en-US",Qf={marker:"element"},Hm={marker:"ICU"};var _o=(()=>((_o=_o||{})[_o.SHIFT=2]="SHIFT",_o[_o.APPEND_EAGERLY=1]="APPEND_EAGERLY",_o[_o.COMMENT=2]="COMMENT",_o))();let fg=qh;function pg(r){(function qt(r,o){null==r&&$t(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(fg=r.toLowerCase().replace(/_/g,"-"))}function gg(r,o,u){const f=o.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?Pu(r,0,u):li(u[p])}function Xf(r,o,u,f,p){const y=o.insertBeforeIndex;if(Array.isArray(y)){let C=f,x=null;if(3&o.type||(x=C,C=p),null!==C&&-1===o.componentOffset)for(let L=1;L<y.length;L++)vr(r,C,u[y[L]],x,!1)}}function Kh(r,o){if(r.push(o),r.length>1)for(let u=r.length-2;u>=0;u--){const f=r[u];zm(f)||Dv(f,o)&&null===cb(f)&&dy(f,o.index)}}function zm(r){return!(64&r.type)}function Dv(r,o){return zm(o)||r.index>o.index}function cb(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function dy(r,o){const u=r.insertBeforeIndex;Array.isArray(u)?u[0]=o:(yd(gg,Xf),r.insertBeforeIndex=o)}function mg(r,o){const u=r.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Wd(r,o,u){const f=Ef(r,u,64,null,null);return Kh(o,f),f}function bc(r,o){const u=o[r.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function ld(r){return r>>>17}function Cv(r){return(131070&r)>>>1}let Cu=0,_g=0;function Wm(r,o,u,f){const p=u[Le];let C,y=null;for(let x=0;x<o.length;x++){const L=o[x];if("string"==typeof L){const z=o[++x];null===u[z]&&(u[z]=Ju(p,L))}else if("number"==typeof L)switch(1&L){case 0:const z=ld(L);let te,_e;if(null===y&&(y=z,C=wa(p,f)),z===y?(te=f,_e=C):(te=null,_e=li(u[z])),null!==_e){const an=Cv(L);vr(p,_e,u[an],te,!1);const qn=mg(r,an);if(null!==qn&&"object"==typeof qn){const wr=bc(qn,u);null!==wr&&Wm(r,qn.create[wr],u,u[qn.anchorIdx])}}break;case 1:const at=o[++x],Bt=o[++x];Nf(p,Si(L>>>1,u),null,null,at,Bt,null)}else switch(L){case Hm:const z=o[++x],te=o[++x];null===u[te]&&Ae(u[te]=Ag(p,z),u);break;case Qf:const _e=o[++x],He=o[++x];null===u[He]&&Ae(u[He]=ef(p,_e,null),u)}}}function fy(r,o,u,f,p){for(let y=0;y<u.length;y++){const C=u[y],x=u[++y];if(C&p){let L="";for(let z=y+1;z<=y+x;z++){const te=u[z];if("string"==typeof te)L+=te;else if("number"==typeof te)if(te<0)L+=De(o[f-te]);else{const _e=te>>>2;switch(3&te){case 1:const He=u[++z],at=u[++z],Bt=r.data[_e];"string"==typeof Bt?Nf(o[Le],o[_e],null,Bt,He,L,at):oa(r,Bt,o,He,L,o[Le],at,!1);break;case 0:const an=o[_e];null!==an&&Oc(o[Le],an,L);break;case 2:gy(r,mg(r,_e),o,L);break;case 3:py(r,mg(r,_e),f,o)}}}}else{const L=u[y+1];if(L>0&&3==(3&L)){const te=mg(r,L>>>2);o[te.currentCaseLViewIndex]<0&&py(r,te,f,o)}}y+=x}}function py(r,o,u,f){let p=f[o.currentCaseLViewIndex];if(null!==p){let y=Cu;p<0&&(p=f[o.currentCaseLViewIndex]=~p,y=-1),fy(r,f,o.update[p],u,y)}}function gy(r,o,u,f){const p=function Av(r,o){let u=r.cases.indexOf(o);if(-1===u)switch(r.type){case 1:{const f=function bv(r,o){const u=dg(o)(parseInt(r,10)),f=hg[u];return void 0!==f?f:"other"}(o,function Gm(){return fg}());u=r.cases.indexOf(f),-1===u&&"other"!==f&&(u=r.cases.indexOf("other"));break}case 0:u=r.cases.indexOf("other")}return-1===u?null:u}(o,f);if(bc(o,u)!==p&&(qm(r,o,u),u[o.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=u[o.anchorIdx];C&&Wm(r,o.create[p],u,C)}}function qm(r,o,u){let f=bc(o,u);if(null!==f){const p=o.remove[f];for(let y=0;y<p.length;y++){const C=p[y];if(C>0){const x=Si(C,u);null!==x&&rp(u[Le],x)}else qm(r,mg(r,~C),u)}}}function Sv(){const r=[];let u,f,o=-1;function y(x,L){o=0;const z=bc(x,L);f=null!==z?x.remove[z]:Se}function C(){if(o<f.length){const x=f[o++];return x>0?u[x]:(r.push(o,f),y(u[Ht].data[~x],u),C())}return 0===r.length?null:(f=r.pop(),o=r.pop(),C())}return function p(x,L){for(u=L;r.length;)r.pop();return y(x.value,L),C}}const yg=/\ufffd(\d+):?\d*\ufffd/gi,yy=/\ufffd(\d+)\ufffd/,Rv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,vg="\ufffd",S0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,M0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ov=/\uE500/g;function xv(r,o,u,f,p,y,C){const x=Zc(r,f,1,null);let L=x<<_o.SHIFT,z=Ji();o===z&&(z=null),null===z&&(L|=_o.APPEND_EAGERLY),C&&(L|=_o.COMMENT,function eh(r){void 0===ra&&(ra=r())}(Sv)),p.push(L,null===y?"":y);const te=Ef(r,x,C?32:1,null===y?"":y,null);Kh(u,te);const _e=te.index;return Do(te,!1),null!==z&&o!==z&&function zd(r,o){let u=r.insertBeforeIndex;null===u?(yd(gg,Xf),u=r.insertBeforeIndex=[null,o]):(function Ct(r,o,u){r!=o&&$t(u,r,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(z,_e),te}function Pv(r,o,u,f,p,y,C){const x=C.match(yg),L=xv(r,o,u,y,f,x?null:C,!1);x&&ep(p,C,L.index,null,0,null)}function ep(r,o,u,f,p,y){const C=r.length,x=C+1;r.push(null,null);const L=C+2,z=o.split(yg);let te=0;for(let _e=0;_e<z.length;_e++){const He=z[_e];if(1&_e){const at=p+parseInt(He,10);r.push(-1-at),te|=kv(at)}else""!==He&&r.push(He)}return r.push(u<<2|(f?1:0)),f&&r.push(f,y),r[C]=te,r[x]=r.length-L,te}function kv(r){return 1<<Math.min(r,31)}function by(r){let o,y,u="",f=0,p=!1;for(;null!==(o=S0.exec(r));)p?o[0]===`${vg}/*${y}${vg}`&&(f=o.index,p=!1):(u+=r.substring(f,o.index+o[0].length),y=o[1],p=!0);return u+=r.slice(f),u}function Fv(r,o,u,f,p,y){let C=0;const x={type:p.type,currentCaseLViewIndex:Zc(r,o,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function l(r,o,u){r.push(kv(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,p,y),function T0(r,o,u){const f=r.data[o];null===f?r.data[o]=u:f.value=u}(r,y,x);const L=p.values;for(let z=0;z<L.length;z++){const te=L[z],_e=[];for(let He=0;He<te.length;He++){const at=te[He];if("string"!=typeof at){const Bt=_e.push(at)-1;te[He]=`\x3c!--\ufffd${Bt}\ufffd--\x3e`}}C=Zm(r,x,o,u,f,p.cases[z],te.join(""),_e)|C}C&&function h(r,o,u){r.push(o,1,u<<2|3)}(u,C,y)}function pb(r){const o=[],u=[];let f=1,p=0;const y=Lv(r=r.replace(Rv,function(C,x,L){return f="select"===L?0:1,p=parseInt(x.slice(1),10),""}));for(let C=0;C<y.length;){let x=y[C++].trim();1===f&&(x=x.replace(/\s*(?:=)?(\w+)\s*/,"$1")),x.length&&o.push(x);const L=Lv(y[C++]);o.length>u.length&&u.push(L)}return{type:f,mainBinding:p,cases:o,values:u}}function Lv(r){if(!r)return[];let o=0;const u=[],f=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(r);){const x=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const L=r.substring(o,x);Rv.test(L)?f.push(pb(L)):f.push(L),o=x+1}}else{if(0==u.length){const L=r.substring(o,x);f.push(L),o=x+1}u.push("{")}}const C=r.substring(o);return f.push(C),f}function Zm(r,o,u,f,p,y,C,x){const L=[],z=[],te=[];o.cases.push(y),o.create.push(L),o.remove.push(z),o.update.push(te);const He=function Pg(r){const o=new sr(r);return function ja(){try{return!!(new window.DOMParser).parseFromString(Sl(""),"text/html")}catch{return!1}}()?new hs(o):o}(function i_(){return void 0!==Dd?Dd:typeof document<"u"?document:void 0}()).getInertBodyElement(C),at=function ec(r){return"content"in r&&function uh(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(He)||He;return at?i(r,o,u,f,L,z,te,at,p,x,0):0}function i(r,o,u,f,p,y,C,x,L,z,te){let _e=0,He=x.firstChild;for(;He;){const at=Zc(r,u,1,null);switch(He.nodeType){case Node.ELEMENT_NODE:const Bt=He,an=Bt.tagName.toLowerCase();if(Td.hasOwnProperty(an)){g(p,Qf,an,L,at),r.data[at]=an;const Zt=Bt.attributes;for(let Gr=0;Gr<Zt.length;Gr++){const ps=Zt.item(Gr),aa=ps.name.toLowerCase();ps.value.match(yg)?cp.hasOwnProperty(aa)&&ep(C,ps.value,at,ps.name,0,Xu[aa]?Id:null):v(p,at,ps)}_e=i(r,o,u,f,p,y,C,He,at,z,te+1)|_e,e(y,at,te)}break;case Node.TEXT_NODE:const In=He.textContent||"",qn=In.match(yg);g(p,null,qn?"":In,L,at),e(y,at,te),qn&&(_e=ep(C,In,at,null,0,null)|_e);break;case Node.COMMENT_NODE:const wr=yy.exec(He.textContent||"");if(wr){const Gr=z[parseInt(wr[1],10)];g(p,Hm,"",L,at),Fv(r,u,f,L,Gr,at),t(y,at,te)}}He=He.nextSibling}return _e}function e(r,o,u){0===u&&r.push(o)}function t(r,o,u){0===u&&(r.push(~o),r.push(o))}function g(r,o,u,f,p){null!==o&&r.push(o),r.push(u,p,function A0(r,o,u){return r|o<<17|u<<1}(0,f,p))}function v(r,o,u){r.push(o<<1|1,u.name,u.value)}function Pn(r,o,u=-1){const f=Wn(),p=ht(),y=ii+r,C=ji(f.consts,o),x=Ji();f.firstCreatePass&&function fb(r,o,u,f,p,y){const C=Ji(),x=[],L=[],z=[[]];p=function O0(r,o){if(function R0(r){return-1===r}(o))return by(r);{const u=r.indexOf(`:${o}${vg}`)+2+o.toString().length,f=r.search(new RegExp(`${vg}\\/\\*\\d+:${o}${vg}`));return by(r.substring(u,f))}}(p,y);const te=function vy(r){return r.replace(Ov," ")}(p).split(M0);for(let _e=0;_e<te.length;_e++){let He=te[_e];if(1&_e){const at=47===He.charCodeAt(0),an=(He.charCodeAt(at?1:0),ii+Number.parseInt(He.substring(at?2:1)));if(at)z.shift(),Do(Ji(),!1);else{const In=Wd(r,z[0],an);z.unshift([]),Do(In,!0)}}else{const at=Lv(He);for(let Bt=0;Bt<at.length;Bt++){let an=at[Bt];if(1&Bt){const In=an;if("object"!=typeof In)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Fv(r,u,L,o,In,xv(r,C,z[0],u,x,"",!0).index)}else""!==an&&Pv(r,C,z[0],x,L,u,an)}}}r.data[f]={create:x,update:L}}(f,null===x?0:x.index,p,y,C,u);const L=f.data[y],te=Vn(f,x===p[Tr]?null:x,p);(function Tv(r,o,u,f){const p=r[Le];for(let y=0;y<o.length;y++){const C=o[y++],x=o[y],z=(C&_o.APPEND_EAGERLY)===_o.APPEND_EAGERLY,te=C>>>_o.SHIFT;let _e=r[te];null===_e&&(_e=r[te]=(C&_o.COMMENT)===_o.COMMENT?p.createComment(x):Ju(p,x)),z&&null!==u&&vr(p,u,_e,f,!1)}})(p,L.create,te,x&&8&x.type?p[x.index]:null),ao(!0)}function _i(r,o,u){Pn(r,o,u),function xr(){ao(!1)}()}function Ca(r){return function hy(r){r&&(Cu|=1<<Math.min(_g,31)),_g++}(no(ht(),ko(),r)),Ca}function Vo(r){!function Iv(r,o,u){if(_g>0){const f=r.data[u];fy(r,o,Array.isArray(f)?f:f.update,Xr()-_g-1,Cu)}Cu=0,_g=0}(Wn(),ht(),r+ii)}function Wu(r,o,u,f,p){if(r=Me(r),Array.isArray(r))for(let y=0;y<r.length;y++)Wu(r[y],o,u,f,p);else{const y=Wn(),C=ht();let x=Uc(r)?r:Me(r.provide),L=gp(r);const z=zr(),te=1048575&z.providerIndexes,_e=z.directiveStart,He=z.providerIndexes>>20;if(Uc(r)||!r.multi){const at=new we(L,p,Pd),Bt=Vv(x,o,p?te:te+He,_e);-1===Bt?(Ni(Bl(z,C),y,x),Bv(y,r,o.length),o.push(x),z.directiveStart++,z.directiveEnd++,p&&(z.providerIndexes+=1048576),u.push(at),C.push(at)):(u[Bt]=at,C[Bt]=at)}else{const at=Vv(x,o,te+He,_e),Bt=Vv(x,o,te,te+He),In=Bt>=0&&u[Bt];if(p&&!In||!p&&!(at>=0&&u[at])){Ni(Bl(z,C),y,x);const qn=function mb(r,o,u,f,p){const y=new we(r,u,Pd);return y.multi=[],y.index=o,y.componentProviders=0,Uv(y,p,f&&!u),y}(p?gb:x0,u.length,p,f,L);!p&&In&&(u[Bt].providerFactory=qn),Bv(y,r,o.length,0),o.push(x),z.directiveStart++,z.directiveEnd++,p&&(z.providerIndexes+=1048576),u.push(qn),C.push(qn)}else Bv(y,r,at>-1?at:Bt,Uv(u[p?Bt:at],L,!p&&f));!p&&f&&In&&u[Bt].componentProviders++}}}function Bv(r,o,u,f){const p=Uc(o),y=function rc(r){return!!r.useClass}(o);if(p||y){const L=(y?Me(o.useClass):o).prototype.ngOnDestroy;if(L){const z=r.destroyHooks||(r.destroyHooks=[]);if(!p&&o.multi){const te=z.indexOf(u);-1===te?z.push(u,[f,L]):z[te+1].push(f,L)}else z.push(u,L)}}}function Uv(r,o,u){return u&&r.componentProviders++,r.multi.push(o)-1}function Vv(r,o,u,f){for(let p=u;p<f;p++)if(o[p]===r)return p;return-1}function x0(r,o,u,f){return $v(this.multi,[])}function gb(r,o,u,f){const p=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=Un(u,u[Ht],this.providerFactory.index,f);y=x.slice(0,C),$v(p,y);for(let L=C;L<x.length;L++)y.push(x[L])}else y=[],$v(p,y);return y}function $v(r,o){for(let u=0;u<r.length;u++)o.push((0,r[u])());return o}function P0(r,o=[]){return u=>{u.providersResolver=(f,p)=>function sl(r,o,u){const f=Wn();if(f.firstCreatePass){const p=hi(r);Wu(u,f.data,f.blueprint,p,!0),Wu(o,f.data,f.blueprint,p,!1)}}(f,p?p(r):r,o)}}class bg{}class k0{}function _b(r,o){return new F0(r,o??null)}class F0 extends bg{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qc(this);const f=di(o);this._bootstrapComponents=mu(f.bootstrap),this._r3Injector=bp(o,u,[{provide:bg,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],be(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class jv extends k0{constructor(o){super(),this.moduleType=o}create(o){return new F0(this.moduleType,o)}}class yb extends bg{constructor(o,u,f){super(),this.componentFactoryResolver=new Qc(this),this.instance=null;const p=new Vc([...o,{provide:bg,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],u||gh(),f,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Hv(r,o,u=null){return new yb(r,o,u).injector}let vb=(()=>{class r{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=pu(0,u.type),p=f.length>0?Hv([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=yt({token:r,providedIn:"environment",factory:()=>new r(Bn(il))}),r})();function L0(r){r.getStandaloneInjector=o=>o.get(vb).getOrCreateStandaloneInjector(r)}function H0(r,o,u,f){return Sb(ht(),vi(),r,o,u,f)}function G0(r,o,u,f,p){return function Mb(r,o,u,f,p,y,C){const x=o+u;return uc(r,x,p,y)?Xl(r,x+2,C?f.call(C,p,y):f(p,y)):wy(r,x+2)}(ht(),vi(),r,o,u,f,p)}function z0(r,o,u,f,p,y){return function Nb(r,o,u,f,p,y,C,x){const L=o+u;return function ju(r,o,u,f,p){const y=uc(r,o,u,f);return no(r,o+2,p)||y}(r,L,p,y,C)?Xl(r,L+3,x?f.call(x,p,y,C):f(p,y,C)):wy(r,L+3)}(ht(),vi(),r,o,u,f,p,y)}function wy(r,o){const u=r[o];return u===Ar?void 0:u}function Sb(r,o,u,f,p,y){const C=o+u;return no(r,C,p)?Xl(r,C+1,y?f.call(y,p):f(p)):wy(r,C+1)}function xb(r,o){const u=Wn();let f;const p=r+ii;u.firstCreatePass?(f=function Rw(r,o){if(o)for(let u=o.length-1;u>=0;u--){const f=o[u];if(r===f.name)return f}}(o,u.pipeRegistry),u.data[p]=f,f.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(p,f.onDestroy)):f=u.data[p];const y=f.factory||(f.factory=Yi(f.type)),C=xn(Pd);try{const x=Vt(!1),L=y();return Vt(x),function ov(r,o,u,f){u>=r.data.length&&(r.data[u]=null,r.blueprint[u]=null),o[u]=f}(u,ht(),p,L),L}finally{xn(C)}}function Pb(r,o,u){const f=r+ii,p=ht(),y=Er(p,f);return function Dy(r,o){return r[Ht].data[o].pure}(p,f)?Sb(p,vi(),o,y.transform,u,y):y.transform(u)}function W0(r){return o=>{setTimeout(r,void 0,o)}}const qd=class Lw extends D.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,f){let p=o,y=u||(()=>null),C=f;if(o&&"object"==typeof o){const L=o;p=L.next?.bind(L),y=L.error?.bind(L),C=L.complete?.bind(L)}this.__isAsync&&(y=W0(y),p&&(p=W0(p)),C&&(C=W0(C)));const x=super.subscribe({next:p,error:y,complete:C});return o instanceof a.w0&&o.add(x),x}};function Bw(){return this._results[Symbol.iterator]()}class q0{get changes(){return this._changes||(this._changes=new qd)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=q0.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Bw)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const f=this;f.dirty=!1;const p=function Mo(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Xa(r,o,u){if(r.length!==o.length)return!1;for(let f=0;f<r.length;f++){let p=r[f],y=o[f];if(u&&(p=u(p),y=u(y)),y!==p)return!1}return!0}(f._results,p,u))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cy=(()=>{class r{}return r.__NG_ELEMENT_ID__=$w,r})();const Uw=Cy,Vw=class extends Uw{constructor(o,u,f){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(o,u){const f=this._declarationTContainer.tView,p=Cf(this._declarationLView,f,o,16,null,f.declTNode,null,null,null,null,u||null);p[ur]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Oi];return null!==C&&(p[Oi]=C.createEmbeddedView(f)),Fd(f,p,o),new Eh(p)}};function $w(){return Zv(zr(),ht())}function Zv(r,o){return 4&r.type?new Vw(o,r,mh(r,o)):null}let Kv=(()=>{class r{}return r.__NG_ELEMENT_ID__=jw,r})();function jw(){return Lb(zr(),ht())}const Hw=Kv,kb=class extends Hw{constructor(o,u,f){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=f}get element(){return mh(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const o=jr(this._hostTNode,this._hostLView);if(tn(o)){const u=on(o,this._hostLView),f=En(o);return new Qs(u[Ht].data[f+8],u)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Fb(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-wi}createEmbeddedView(o,u,f){let p,y;"number"==typeof f?p=f:null!=f&&(p=f.index,y=f.injector);const C=o.createEmbeddedView(u||{},y);return this.insert(C,p),C}createComponent(o,u,f,p,y){const C=o&&!function Us(r){return"function"==typeof r}(o);let x;if(C)x=u;else{const _e=u||{};x=_e.index,f=_e.injector,p=_e.projectableNodes,y=_e.environmentInjector||_e.ngModuleRef}const L=C?o:new yu(Kt(o)),z=f||this.parentInjector;if(!y&&null==L.ngModule){const He=(C?z:this.parentInjector).get(il,null);He&&(y=He)}const te=L.create(z,p,void 0,y);return this.insert(te.hostView,x),te}insert(o,u){const f=o._lView,p=f[Ht];if(function ou(r){return Pi(r[hr])}(f)){const te=this.indexOf(o);if(-1!==te)this.detach(te);else{const _e=f[hr],He=new kb(_e,_e[Tr],_e[hr]);He.detach(He.indexOf(o))}}const y=this._adjustIndex(u),C=this._lContainer;!function _(r,o,u,f){const p=wi+f,y=u.length;f>0&&(u[p-1][On]=o),f<y-wi?(o[On]=u[p],Vs(u,wi+f,o)):(u.push(o),o[On]=null),o[hr]=u;const C=o[ur];null!==C&&u!==C&&function b(r,o){const u=r[oo];o[$n]!==o[hr][hr][$n]&&(r[Zs]=!0),null===u?r[oo]=[o]:u.push(o)}(C,o);const x=o[Oi];null!==x&&x.insertView(r),o[Qn]|=64}(p,f,C,y);const x=Ir(y,C),L=f[Le],z=wa(L,C[jo]);return null!==z&&function np(r,o,u,f,p,y){f[$r]=p,f[Tr]=o,ih(r,f,u,1,p,y)}(p,C[Tr],L,f,z,x),o.attachToViewContainerRef(),Vs(Z0(C),y,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Fb(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),f=K(this._lContainer,u);f&&(vl(Z0(this._lContainer),u),re(f[Ht],f))}detach(o){const u=this._adjustIndex(o,-1),f=K(this._lContainer,u);return f&&null!=vl(Z0(this._lContainer),u)?new Eh(f):null}_adjustIndex(o,u=0){return o??this.length+u}};function Fb(r){return r[xo]}function Z0(r){return r[xo]||(r[xo]=[])}function Lb(r,o){let u;const f=o[r.index];if(Pi(f))u=f;else{let p;if(8&r.type)p=li(f);else{const y=o[Le];p=y.createComment("");const C=pi(r,o);vr(y,wa(y,C),p,function Hs(r,o){return r.nextSibling(o)}(y,C),!1)}o[r.index]=u=V_(f,o,p,r),Rf(o,u)}return new kb(u,r,o)}class K0{constructor(o){this.queryList=o,this.matches=null}clone(){return new K0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const f=null!==o.contentQueries?o.contentQueries[0]:u.length,p=[];for(let y=0;y<f;y++){const C=u.getByIndex(y);p.push(this.queries[C.indexInDeclarationView].clone())}return new Y0(p)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Ey(o,u).matches&&this.queries[u].setDirty()}}class Bb{constructor(o,u,f=null){this.predicate=o,this.flags=u,this.read=f}}class J0{constructor(o=[]){this.queries=o}elementStart(o,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let f=0;f<this.length;f++){const p=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(o,p);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new J0(u):null}template(o,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Q0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Q0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const y=f[p];this.matchTNodeWithReadOption(o,u,Gw(u,y)),this.matchTNodeWithReadOption(o,u,pl(u,o,y,!1,!1))}else f===Cy?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,pl(u,o,f,!1,!1))}matchTNodeWithReadOption(o,u,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===ff||p===Kv||p===Cy&&4&u.type)this.addMatch(u.index,-2);else{const y=pl(u,o,p,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Gw(r,o){const u=r.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===o)return u[f+1];return null}function Ww(r,o,u,f){return-1===u?function zw(r,o){return 11&r.type?mh(r,o):4&r.type?Zv(r,o):null}(o,r):-2===u?function qw(r,o,u){return u===ff?mh(o,r):u===Cy?Zv(o,r):u===Kv?Lb(o,r):void 0}(r,o,f):Un(r,r[Ht],u,o)}function Ub(r,o,u,f){const p=o[Oi].queries[f];if(null===p.matches){const y=r.data,C=u.matches,x=[];for(let L=0;L<C.length;L+=2){const z=C[L];x.push(z<0?null:Ww(o,y[z],C[L+1],u.metadata.read))}p.matches=x}return p.matches}function X0(r,o,u,f){const p=r.queries.getByIndex(u),y=p.matches;if(null!==y){const C=Ub(r,o,p,u);for(let x=0;x<y.length;x+=2){const L=y[x];if(L>0)f.push(C[x/2]);else{const z=y[x+1],te=o[-L];for(let _e=wi;_e<te.length;_e++){const He=te[_e];He[ur]===He[hr]&&X0(He[Ht],He,z,f)}if(null!==te[oo]){const _e=te[oo];for(let He=0;He<_e.length;He++){const at=_e[He];X0(at[Ht],at,z,f)}}}}}return f}function Vb(r){const o=ht(),u=Wn(),f=os();Xi(f+1);const p=Ey(u,f);if(r.dirty&&function Ns(r){return 4==(4&r[Qn])}(o)===(2==(2&p.metadata.flags))){if(null===p.matches)r.reset([]);else{const y=p.crossesNgTemplate?X0(u,o,f,[]):Ub(u,o,p,f);r.reset(y,pf),r.notifyOnChanges()}return!0}return!1}function $b(r,o,u){const f=Wn();f.firstCreatePass&&(zb(f,new Bb(r,o,u),-1),2==(2&o)&&(f.staticViewQueries=!0)),Gb(f,ht(),o)}function jb(r,o,u,f){const p=Wn();if(p.firstCreatePass){const y=zr();zb(p,new Bb(o,u,f),y.index),function Wb(r,o){const u=r.contentQueries||(r.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(r.queries.length-1,o)}(p,r),2==(2&u)&&(p.staticContentQueries=!0)}Gb(p,ht(),u)}function Hb(){return function Zw(r,o){return r[Oi].queries[o].queryList}(ht(),os())}function Gb(r,o,u){const f=new q0(4==(4&u));O_(r,o,f,f.destroy),null===o[Oi]&&(o[Oi]=new Y0),o[Oi].queries.push(new K0(f))}function zb(r,o,u){null===r.queries&&(r.queries=new J0),r.queries.track(new Q0(o,u))}function Ey(r,o){return r.queries.getByIndex(o)}function Yv(r,o){return Zv(r,o)}function Qv(r){return!!di(r)}function e0(...r){}const dw=new Ke("Application Initializer");let t0=(()=>{class r{constructor(u){this.appInits=u,this.resolve=e0,this.reject=e0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Bf(y))u.push(y);else if(qp(y)){const C=new Promise((x,L)=>{y.subscribe({complete:x,error:L})});u.push(C)}}Promise.all(u).then(()=>{f()}).catch(p=>{this.reject(p)}),0===u.length&&f(),this.initialized=!0}}return r.\u0275fac=function(u){return new(u||r)(Bn(dw,8))},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hw=new Ke("AppId",{providedIn:"root",factory:function fw(){return`${s()}${s()}${s()}`}});function s(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const c=new Ke("Platform Initializer"),n=new Ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let E=(()=>{class r{log(u){console.log(u)}warn(u){console.warn(u)}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const le=new Ke("LocaleId",{providedIn:"root",factory:()=>Br(le,ze.Optional|ze.SkipSelf)||function H(){return typeof $localize<"u"&&$localize.locale||qh}()}),ue=new Ke("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ot{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Ft=(()=>{class r{compileModuleSync(u){return new jv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=mu(di(u).declarations).reduce((C,x)=>{const L=Kt(x);return L&&C.push(new yu(L)),C},[]);return new Ot(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qr=(()=>Promise.resolve(0))();function Zr(r){typeof Zone>"u"?qr.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class bi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qd(!1),this.onMicrotaskEmpty=new qd(!1),this.onStable=new qd(!1),this.onError=new qd(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&u,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Fi(){let r=Mn.requestAnimationFrame,o=Mn.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function xl(r){const o=()=>{!function Dc(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Mn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Zd(r),r.isCheckStableRunning=!0,Qo(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Zd(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,p,y,C,x)=>{try{return Jh(r),u.invokeTask(p,y,C,x)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&o(),ru(r)}},onInvoke:(u,f,p,y,C,x,L)=>{try{return Jh(r),u.invoke(p,y,C,x,L)}finally{r.shouldCoalesceRunChangeDetection&&o(),ru(r)}},onHasTask:(u,f,p,y)=>{u.hasTask(p,y),f===p&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Zd(r),Qo(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,p,y)=>(u.handleError(p,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bi.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(bi.isInAngularZone())throw new Je(909,!1)}run(o,u,f){return this._inner.run(o,u,f)}runTask(o,u,f,p){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+p,o,sa,e0,e0);try{return y.runTask(C,u,f)}finally{y.cancelTask(C)}}runGuarded(o,u,f){return this._inner.runGuarded(o,u,f)}runOutsideAngular(o){return this._outer.run(o)}}const sa={};function Qo(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Zd(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Jh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ru(r){r._nesting--,Qo(r)}class Cc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qd,this.onMicrotaskEmpty=new qd,this.onStable=new qd,this.onError=new qd}run(o,u,f){return o.apply(u,f)}runGuarded(o,u,f){return o.apply(u,f)}runOutsideAngular(o){return o()}runTask(o,u,f,p){return o.apply(u,f)}}const Qm=new Ke(""),Qh=new Ke("");let Dg,Iy=(()=>{class r{constructor(u,f,p){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dg||(function Xm(r){Dg=r}(p),p.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bi.assertNotInAngularZone(),Zr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zr(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,p){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:p})}whenStable(u,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,p){return[]}}return r.\u0275fac=function(u){return new(u||r)(Bn(bi),Bn(Ty),Bn(Qh))},r.\u0275prov=yt({token:r,factory:r.\u0275fac}),r})(),Ty=(()=>{class r{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return Dg?.findTestabilityInTree(this,u,f)??null}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const iu=!1;let Pl=null;const Cg=new Ke("AllowMultipleToken"),Eg=new Ke("PlatformDestroyListeners"),Xh=new Ke("appBootstrapListener");class pw{constructor(o,u){this.name=o,this.token=u}}function o0(r,o,u=[]){const f=`Platform: ${o}`,p=new Ke(f);return(y=[])=>{let C=Tg();if(!C||C.injector.get(Cg,!1)){const x=[...u,...y,{provide:p,useValue:!0}];r?r(x):function ob(r){if(Pl&&!Pl.get(Cg,!1))throw new Je(400,!1);Pl=r;const o=r.get(s0);(function sb(r){const o=r.get(c,null);o&&o.forEach(u=>u())})(r)}(function ab(r=[],o){return go.create({name:o,providers:[{provide:pp,useValue:"platform"},{provide:Eg,useValue:new Set([()=>Pl=null])},...r]})}(x,f))}return function _w(r){const o=Tg();if(!o)throw new Je(401,!1);return o}()}}function Tg(){return Pl?.get(s0)??null}let s0=(()=>{class r{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const p=function Ay(r,o){let u;return u="noop"===r?new Cc:("zone.js"===r?void 0:r)||new bi(o),u}(f?.ngZone,function a0(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(f)),y=[{provide:bi,useValue:p}];return p.run(()=>{const C=go.create({providers:y,parent:this.injector,name:u.moduleType.name}),x=u.create(C),L=x.injector.get(Rd,null);if(!L)throw new Je(402,!1);return p.runOutsideAngular(()=>{const z=p.onError.subscribe({next:te=>{L.handleError(te)}});x.onDestroy(()=>{t_(this._modules,x),z.unsubscribe()})}),function l0(r,o,u){try{const f=u();return Bf(f)?f.catch(p=>{throw o.runOutsideAngular(()=>r.handleError(p)),p}):f}catch(f){throw o.runOutsideAngular(()=>r.handleError(f)),f}}(L,p,()=>{const z=x.injector.get(t0);return z.runInitializers(),z.donePromise.then(()=>(pg(x.injector.get(le,qh)||qh),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,f=[]){const p=u0({},f);return function n0(r,o,u){const f=new jv(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(u){const f=u.injector.get(e_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Je(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(Eg,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(u){return new(u||r)(Bn(go))},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function u0(r,o){return Array.isArray(o)?o.reduce(u0,r):{...r,...o}}let e_=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,f,p){this._zone=u,this._injector=f,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new $.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),C=new $.y(x=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{bi.assertNotInAngularZone(),Zr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{L.unsubscribe(),z.unsubscribe()}});this.isStable=(0,Ce.T)(y,C.pipe((0,ye.B)()))}bootstrap(u,f){const p=u instanceof df;if(!this._injector.get(t0).done){!p&&Dr(u);throw new Je(405,iu)}let C;C=p?u:this._injector.get($c).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const x=function r0(r){return r.isBoundToModule}(C)?void 0:this._injector.get(bg),z=C.create(go.NULL,[],f||C.selector,x),te=z.location.nativeElement,_e=z.injector.get(Qm,null);return _e?.registerApplication(te),z.onDestroy(()=>{this.detachView(z.hostView),t_(this.components,z),_e?.unregisterApplication(te)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;t_(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(Xh,[]);f.push(...this._bootstrapListeners),f.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>t_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Je(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(u){return new(u||r)(Bn(bi),Bn(il),Bn(Rd))},r.\u0275prov=yt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function t_(r,o){const u=r.indexOf(o);u>-1&&r.splice(u,1)}function U1(){return!1}let V1=(()=>{class r{}return r.__NG_ELEMENT_ID__=$1,r})();function $1(r){return function j1(r,o,u){if(Ho(r)&&!u){const f=Di(r.index,o);return new Eh(f,f)}return 47&r.type?new Eh(o[$n],o):null}(zr(),ht(),16==(16&r))}class v1{constructor(){}supports(o){return Ah(o)}create(o){return new Z1(o)}}const q1=(r,o)=>o;class Z1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||q1}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,f=this._removalsHead,p=0,y=null;for(;u||f;){const C=!f||u&&u.currentIndex<w1(f,p,y)?u:f,x=w1(C,p,y),L=C.currentIndex;if(C===f)p--,f=f._nextRemoved;else if(u=u._next,null==C.previousIndex)p++;else{y||(y=[]);const z=x-p,te=L-p;if(z!=te){for(let He=0;He<z;He++){const at=He<y.length?y[He]:y[He]=0,Bt=at+He;te<=Bt&&Bt<z&&(y[He]=at+1)}y[C.previousIndex]=te-z}}x!==L&&o(C,x,L)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Ah(o))throw new Je(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let p,y,C,u=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let x=0;x<this.length;x++)y=o[x],C=this._trackByFn(x,y),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,y,C,x)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,C,x),f=!0),u=u._next}else p=0,function Vp(r,o){if(Array.isArray(r))for(let u=0;u<r.length;u++)o(r[u]);else{const u=r[Symbol.iterator]();let f;for(;!(f=u.next()).done;)o(f.value)}}(o,x=>{C=this._trackByFn(p,x),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,x,C,p)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,C,p),f=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,f,p){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,y,p)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,y,p)):o=this._addAfter(new K1(u,f),y,p),o}_verifyReinsertion(o,u,f,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?o=this._reinsertAfter(y,o._prev,p):o.currentIndex!=p&&(o.currentIndex=p,this._addToMoves(o,p)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const p=o._prevRemoved,y=o._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(o,u,f),this._addToMoves(o,f),o}_moveAfter(o,u,f){return this._unlink(o),this._insertAfter(o,u,f),this._addToMoves(o,f),o}_addAfter(o,u,f){return this._insertAfter(o,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,f){const p=null===u?this._itHead:u._next;return o._next=p,o._prev=u,null===p?this._itTail=o:p._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new b1),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,f=o._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b1),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class K1{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Y1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const u=o._prevDup,f=o._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class b1{constructor(){this.map=new Map}put(o){const u=o.trackById;let f=this.map.get(u);f||(f=new Y1,this.map.set(u,f)),f.add(o)}get(o,u){const p=this.map.get(o);return p?p.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w1(r,o,u){const f=r.previousIndex;if(null===f)return f;let p=0;return u&&f<u.length&&(p=u[f]),f+o+p}class D1{constructor(){}supports(o){return o instanceof Map||xf(o)}create(){return new J1}}class J1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||xf(o)))throw new Je(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(p,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const f=o._prev;return u._next=o,u._prev=f,o._prev=u,f&&(f._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const p=this._records.get(o);this._maybeAddToChanges(p,u);const y=p._prev,C=p._next;return y&&(y._next=C),C&&(C._prev=y),p._next=null,p._prev=null,p}const f=new Q1(o);return this._records.set(o,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(f=>u(o[f],f))}}class Q1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C1(){return new Dw([new v1])}let Dw=(()=>{class r{constructor(u){this.factories=u}static create(u,f){if(null!=f){const p=f.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:f=>r.create(u,f||C1()),deps:[[r,new lu,new Fa]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(null!=f)return f;throw new Je(901,!1)}}return r.\u0275prov=yt({token:r,providedIn:"root",factory:C1}),r})();function E1(){return new Cw([new D1])}let Cw=(()=>{class r{constructor(u){this.factories=u}static create(u,f){if(f){const p=f.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:f=>r.create(u,f||E1()),deps:[[r,new lu,new Fa]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(f)return f;throw new Je(901,!1)}}return r.\u0275prov=yt({token:r,providedIn:"root",factory:E1}),r})();const tD=o0(null,"core",[]);let nD=(()=>{class r{constructor(u){}}return r.\u0275fac=function(u){return new(u||r)(Bn(e_))},r.\u0275mod=ae({type:r}),r.\u0275inj=ir({}),r})();function rD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function oD(r,o){const u=Kt(r),f=o.elementInjector||gh();return new yu(u).create(f,o.projectableNodes,o.hostElement,o.environmentInjector)}},1321:()=>{"use strict";const en=":";class qt extends Error{constructor(xe){super(`No translation found for ${Nn(xe)}.`),this.parsedMessage=xe,this.type="MissingTranslationError"}}const cn=function(qe,...xe){if(cn.translate){const ze=cn.translate(qe,xe);qe=ze[0],xe=ze[1]}let Ve=Lr(qe[0],qe.raw[0]);for(let ze=1;ze<qe.length;ze++)Ve+=xe[ze-1]+Lr(qe[ze],qe.raw[ze]);return Ve},br=":";function Lr(qe,xe){return xe.charAt(0)===br?qe.substring(function Tt(qe,xe){for(let Ve=1,ze=1;Ve<qe.length;Ve++,ze++)if("\\"===xe[ze])ze++;else if(qe[Ve]===en)return Ve;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(qe,xe)+1):qe}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=cn},1481:(en,ke,j)=>{"use strict";j.d(ke,{Dx:()=>Cn,b2:()=>Lt,q6:()=>xe});var D=j(6895),a=j(4650);class $ extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends ${static makeCurrent(){(0,D.HT)(new Ce)}onAndCancel(ge,ce,Pe){return ge.addEventListener(ce,Pe,!1),()=>{ge.removeEventListener(ce,Pe,!1)}}dispatchEvent(ge,ce){ge.dispatchEvent(ce)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,ce){return(ce=ce||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,ce){return"window"===ce?window:"document"===ce?ge:"body"===ce?ge.body:null}getBaseHref(ge){const ce=function Ne(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==ce?null:function be(pe){Fe=Fe||document.createElement("a"),Fe.setAttribute("href",pe);const ge=Fe.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(ce)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,D.Mx)(document.cookie,ge)}}let Fe,ye=null;const Ye=new a.OlP("TRANSITION_ID"),ve=[{provide:a.ip1,useFactory:function he(pe,ge,ce){return()=>{ce.get(a.CZH).donePromise.then(()=>{const Pe=(0,D.q)(),it=ge.querySelectorAll(`style[ng-transition="${pe}"]`);for(let vt=0;vt<it.length;vt++)Pe.remove(it[vt])})}},deps:[Ye,D.K0,a.zs3],multi:!0}];let Qe=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(ce){return new(ce||pe)},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const lt=new a.OlP("EventManagerPlugins");let mt=(()=>{class pe{constructor(ce,Pe){this._zone=Pe,this._eventNameToPlugin=new Map,ce.forEach(it=>{it.manager=this}),this._plugins=ce.slice().reverse()}addEventListener(ce,Pe,it){return this._findPluginFor(Pe).addEventListener(ce,Pe,it)}addGlobalEventListener(ce,Pe,it){return this._findPluginFor(Pe).addGlobalEventListener(ce,Pe,it)}getZone(){return this._zone}_findPluginFor(ce){const Pe=this._eventNameToPlugin.get(ce);if(Pe)return Pe;const it=this._plugins;for(let vt=0;vt<it.length;vt++){const vn=it[vt];if(vn.supports(ce))return this._eventNameToPlugin.set(ce,vn),vn}throw new Error(`No event manager plugin found for event ${ce}`)}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(lt),a.LFG(a.R0b))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Dt{constructor(ge){this._doc=ge}addGlobalEventListener(ge,ce,Pe){const it=(0,D.q)().getGlobalEventTarget(this._doc,ge);if(!it)throw new Error(`Unsupported event target ${it} for event ${ce}`);return this.addEventListener(it,ce,Pe)}}let Je=(()=>{class pe{constructor(){this.usageCount=new Map}addStyles(ce){for(const Pe of ce)1===this.changeUsageCount(Pe,1)&&this.onStyleAdded(Pe)}removeStyles(ce){for(const Pe of ce)0===this.changeUsageCount(Pe,-1)&&this.onStyleRemoved(Pe)}onStyleRemoved(ce){}onStyleAdded(ce){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ce,Pe){const it=this.usageCount;let vt=it.get(ce)??0;return vt+=Pe,vt>0?it.set(ce,vt):it.delete(ce),vt}ngOnDestroy(){for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.usageCount.clear()}}return pe.\u0275fac=function(ce){return new(ce||pe)},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),_t=(()=>{class pe extends Je{constructor(ce){super(),this.doc=ce,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ce){for(const Pe of this.hostNodes)this.addStyleToHost(Pe,ce)}onStyleRemoved(ce){const Pe=this.styleRef;Pe.get(ce)?.forEach(vt=>vt.remove()),Pe.delete(ce)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ce){this.hostNodes.add(ce);for(const Pe of this.getAllStyles())this.addStyleToHost(ce,Pe)}removeHost(ce){this.hostNodes.delete(ce)}addStyleToHost(ce,Pe){const it=this.doc.createElement("style");it.textContent=Pe,ce.appendChild(it);const vt=this.styleRef.get(Pe);vt?vt.push(it):this.styleRef.set(Pe,[it])}resetHostNodes(){const ce=this.hostNodes;ce.clear(),ce.add(this.doc.head)}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(D.K0))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const De={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,Be=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ct(pe,ge){return ge.flat(100).map(ce=>ce.replace(kt,pe))}function _n(pe){return ge=>{if("__ngUnwrap__"===ge)return pe;!1===pe(ge)&&(ge.preventDefault(),ge.returnValue=!1)}}let Yt=(()=>{class pe{constructor(ce,Pe,it,vt){this.eventManager=ce,this.sharedStylesHost=Pe,this.appId=it,this.removeStylesOnCompDestory=vt,this.rendererByCompId=new Map,this.defaultRenderer=new st(ce)}createRenderer(ce,Pe){if(!ce||!Pe)return this.defaultRenderer;const it=this.getOrCreateRenderer(ce,Pe);return it instanceof qt?it.applyToHost(ce):it instanceof Tt&&it.applyStyles(),it}getOrCreateRenderer(ce,Pe){const it=this.rendererByCompId;let vt=it.get(Pe.id);if(!vt){const vn=this.eventManager,pn=this.sharedStylesHost,nt=this.removeStylesOnCompDestory;switch(Pe.encapsulation){case a.ifc.Emulated:vt=new qt(vn,pn,Pe,this.appId,nt);break;case a.ifc.ShadowDom:return new jt(vn,pn,ce,Pe);default:vt=new Tt(vn,pn,Pe,nt)}vt.onDestroy=()=>it.delete(Pe.id),it.set(Pe.id,vt)}return vt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(mt),a.LFG(_t),a.LFG(a.AFp),a.LFG(Be))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class st{constructor(ge){this.eventManager=ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,ce){return ce?document.createElementNS(De[ce]||ce,ge):document.createElement(ge)}createComment(ge){return document.createComment(ge)}createText(ge){return document.createTextNode(ge)}appendChild(ge,ce){(It(ge)?ge.content:ge).appendChild(ce)}insertBefore(ge,ce,Pe){ge&&(It(ge)?ge.content:ge).insertBefore(ce,Pe)}removeChild(ge,ce){ge&&ge.removeChild(ce)}selectRootElement(ge,ce){let Pe="string"==typeof ge?document.querySelector(ge):ge;if(!Pe)throw new Error(`The selector "${ge}" did not match any elements`);return ce||(Pe.textContent=""),Pe}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,ce,Pe,it){if(it){ce=it+":"+ce;const vt=De[it];vt?ge.setAttributeNS(vt,ce,Pe):ge.setAttribute(ce,Pe)}else ge.setAttribute(ce,Pe)}removeAttribute(ge,ce,Pe){if(Pe){const it=De[Pe];it?ge.removeAttributeNS(it,ce):ge.removeAttribute(`${Pe}:${ce}`)}else ge.removeAttribute(ce)}addClass(ge,ce){ge.classList.add(ce)}removeClass(ge,ce){ge.classList.remove(ce)}setStyle(ge,ce,Pe,it){it&(a.JOm.DashCase|a.JOm.Important)?ge.style.setProperty(ce,Pe,it&a.JOm.Important?"important":""):ge.style[ce]=Pe}removeStyle(ge,ce,Pe){Pe&a.JOm.DashCase?ge.style.removeProperty(ce):ge.style[ce]=""}setProperty(ge,ce,Pe){ge[ce]=Pe}setValue(ge,ce){ge.nodeValue=ce}listen(ge,ce,Pe){return"string"==typeof ge?this.eventManager.addGlobalEventListener(ge,ce,_n(Pe)):this.eventManager.addEventListener(ge,ce,_n(Pe))}}function It(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class jt extends st{constructor(ge,ce,Pe,it){super(ge),this.sharedStylesHost=ce,this.hostEl=Pe,this.shadowRoot=Pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vt=Ct(it.id,it.styles);for(const vn of vt){const pn=document.createElement("style");pn.textContent=vn,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}appendChild(ge,ce){return super.appendChild(this.nodeOrShadowRoot(ge),ce)}insertBefore(ge,ce,Pe){return super.insertBefore(this.nodeOrShadowRoot(ge),ce,Pe)}removeChild(ge,ce){return super.removeChild(this.nodeOrShadowRoot(ge),ce)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tt extends st{constructor(ge,ce,Pe,it,vt=Pe.id){super(ge),this.sharedStylesHost=ce,this.removeStylesOnCompDestory=it,this.rendererUsageCount=0,this.styles=Ct(vt,Pe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class qt extends Tt{constructor(ge,ce,Pe,it,vt){const vn=it+"-"+Pe.id;super(ge,ce,Pe,vt,vn),this.contentAttr=function Et(pe){return"_ngcontent-%COMP%".replace(kt,pe)}(vn),this.hostAttr=function ln(pe){return"_nghost-%COMP%".replace(kt,pe)}(vn)}applyToHost(ge){this.applyStyles(),this.setAttribute(ge,this.hostAttr,"")}createElement(ge,ce){const Pe=super.createElement(ge,ce);return super.setAttribute(Pe,this.contentAttr,""),Pe}}let $t=(()=>{class pe extends Dt{constructor(ce){super(ce)}supports(ce){return!0}addEventListener(ce,Pe,it){return ce.addEventListener(Pe,it,!1),()=>this.removeEventListener(ce,Pe,it)}removeEventListener(ce,Pe,it){return ce.removeEventListener(Pe,it)}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(D.K0))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const An=["alt","control","meta","shift"],un={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yn={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let yt=(()=>{class pe extends Dt{constructor(ce){super(ce)}supports(ce){return null!=pe.parseEventName(ce)}addEventListener(ce,Pe,it){const vt=pe.parseEventName(Pe),vn=pe.eventCallback(vt.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(ce,vt.domEventName,vn))}static parseEventName(ce){const Pe=ce.toLowerCase().split("."),it=Pe.shift();if(0===Pe.length||"keydown"!==it&&"keyup"!==it)return null;const vt=pe._normalizeKey(Pe.pop());let vn="",pn=Pe.indexOf("code");if(pn>-1&&(Pe.splice(pn,1),vn="code."),An.forEach(Q=>{const Y=Pe.indexOf(Q);Y>-1&&(Pe.splice(Y,1),vn+=Q+".")}),vn+=vt,0!=Pe.length||0===vt.length)return null;const nt={};return nt.domEventName=it,nt.fullKey=vn,nt}static matchEventFullKeyCode(ce,Pe){let it=un[ce.key]||ce.key,vt="";return Pe.indexOf("code.")>-1&&(it=ce.code,vt="code."),!(null==it||!it)&&(it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),An.forEach(vn=>{vn!==it&&(0,yn[vn])(ce)&&(vt+=vn+".")}),vt+=it,vt===Pe)}static eventCallback(ce,Pe,it){return vt=>{pe.matchEventFullKeyCode(vt,ce)&&it.runGuarded(()=>Pe(vt))}}static _normalizeKey(ce){return"esc"===ce?"escape":ce}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(D.K0))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const xe=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:D.bD},{provide:a.g9A,useValue:function cn(){Ce.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function Lr(){return(0,a.RDi)(document),document},deps:[]}]),Ve=new a.OlP(""),ze=[{provide:a.rWj,useClass:class Me{addToWindow(ge){a.dqk.getAngularTestability=(Pe,it=!0)=>{const vt=ge.findTestabilityInTree(Pe,it);if(null==vt)throw new Error("Could not find testability for element.");return vt},a.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(Pe=>{const it=a.dqk.getAllAngularTestabilities();let vt=it.length,vn=!1;const pn=function(nt){vn=vn||nt,vt--,0==vt&&Pe(vn)};it.forEach(function(nt){nt.whenStable(pn)})})}findTestabilityInTree(ge,ce,Pe){return null==ce?null:ge.getTestability(ce)??(Pe?(0,D.q)().isShadowRoot(ce)?this.findTestabilityInTree(ge,ce.host,!0):this.findTestabilityInTree(ge,ce.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Mt=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function br(){return new a.qLn},deps:[]},{provide:lt,useClass:$t,multi:!0,deps:[D.K0,a.R0b,a.Lbi]},{provide:lt,useClass:yt,multi:!0,deps:[D.K0]},{provide:Yt,useClass:Yt,deps:[mt,_t,a.AFp,Be]},{provide:a.FYo,useExisting:Yt},{provide:Je,useExisting:_t},{provide:_t,useClass:_t,deps:[D.K0]},{provide:mt,useClass:mt,deps:[lt,a.R0b]},{provide:D.JF,useClass:Qe,deps:[]},[]];let Lt=(()=>{class pe{constructor(ce){}static withServerTransition(ce){return{ngModule:pe,providers:[{provide:a.AFp,useValue:ce.appId},{provide:Ye,useExisting:a.AFp},ve]}}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(Ve,12))},pe.\u0275mod=a.oAB({type:pe}),pe.\u0275inj=a.cJS({providers:[...Mt,...ze],imports:[D.ez,a.hGG]}),pe})(),Cn=(()=>{class pe{constructor(ce){this._doc=ce}getTitle(){return this._doc.title}setTitle(ce){this._doc.title=ce||""}}return pe.\u0275fac=function(ce){return new(ce||pe)(a.LFG(D.K0))},pe.\u0275prov=a.Yz7({token:pe,factory:function(ce){let Pe=null;return Pe=ce?new ce:function Mn(){return new Cn((0,a.LFG)(D.K0))}(),Pe},providedIn:"root"}),pe})();typeof window<"u"&&window},8376:(en,ke,j)=>{"use strict";j.d(ke,{F0:()=>Ni,rH:()=>Yn,Bz:()=>Tc,lC:()=>Aa});var D=j(4650),a=j(8996),$=j(9646),Ce=j(1135),ye=j(6805),Ne=j(9841),Fe=j(7272),be=j(9751),Ye=j(8421);function he(I){return new be.y(S=>{(0,Ye.Xf)(I()).subscribe(S)})}var ve=j(9635),Me=j(576);function Qe(I,S){const w=(0,Me.m)(I)?I:()=>I,P=V=>V.error(w());return new be.y(S?V=>S.schedule(P,0,V):P)}var lt=j(515),mt=j(727),Dt=j(4482),Je=j(5403);function _t(){return(0,Dt.e)((I,S)=>{let w=null;I._refCount++;const P=(0,Je.x)(S,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(w=null);const V=I._connection,J=w;w=null,V&&(!J||V===J)&&V.unsubscribe(),S.unsubscribe()});I.subscribe(P),P.closed||(w=I.connect())})}class De extends be.y{constructor(S,w){super(),this.source=S,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Dt.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new mt.w0;const w=this.getSubject();S.add(this.source.subscribe((0,Je.x)(w,void 0,()=>{this._teardown(),w.complete()},P=>{this._teardown(),w.error(P)},()=>this._teardown()))),S.closed&&(this._connection=null,S=mt.w0.EMPTY)}return S}refCount(){return _t()(this)}}var kt=j(7579),rt=j(6895),Ge=j(4004),pt=j(3900),Rt=j(5698),St=j(8675),Be=j(9300),Et=j(5577),ln=j(590),Ct=j(4351),_n=j(8505);function Yt(I){return(0,Dt.e)((S,w)=>{let J,P=null,V=!1;P=S.subscribe((0,Je.x)(w,void 0,void 0,oe=>{J=(0,Ye.Xf)(I(oe,Yt(I)(S))),P?(P.unsubscribe(),P=null,J.subscribe(w)):V=!0})),V&&(P.unsubscribe(),P=null,J.subscribe(w))})}var st=j(5026);function ot(I){return I<=0?()=>lt.E:(0,Dt.e)((S,w)=>{let P=[];S.subscribe((0,Je.x)(w,V=>{P.push(V),I<P.length&&P.shift()},()=>{for(const V of P)w.next(V);w.complete()},void 0,()=>{P=null}))})}var ft=j(8068),It=j(6590),jt=j(4671);function Tt(I,S){const w=arguments.length>=2;return P=>P.pipe(I?(0,Be.h)((V,J)=>I(V,J,P)):jt.y,ot(1),w?(0,It.d)(S):(0,ft.T)(()=>new ye.K))}var $t=j(9718),An=j(8746),un=j(8189),yn=j(1481);const yt="primary",Nn=Symbol("RouteTitle");class ir{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w[0]:w}return null}getAll(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Jn(I){return new ir(I)}function Sr(I,S,w){const P=w.path.split("/");if(P.length>I.length||"full"===w.pathMatch&&(S.hasChildren()||P.length<I.length))return null;const V={};for(let J=0;J<P.length;J++){const oe=P[J],Ze=I[J];if(oe.startsWith(":"))V[oe.substring(1)]=Ze;else if(oe!==Ze.path)return null}return{consumed:I.slice(0,P.length),posParams:V}}function cn(I,S){const w=I?Object.keys(I):void 0,P=S?Object.keys(S):void 0;if(!w||!P||w.length!=P.length)return!1;let V;for(let J=0;J<w.length;J++)if(V=w[J],!br(I[V],S[V]))return!1;return!0}function br(I,S){if(Array.isArray(I)&&Array.isArray(S)){if(I.length!==S.length)return!1;const w=[...I].sort(),P=[...S].sort();return w.every((V,J)=>P[J]===V)}return I===S}function Lr(I){return Array.prototype.concat.apply([],I)}function qe(I){return I.length>0?I[I.length-1]:null}function Ve(I,S){for(const w in I)I.hasOwnProperty(w)&&S(I[w],w)}function ze(I){return(0,D.CqO)(I)?I:(0,D.QGY)(I)?(0,a.D)(Promise.resolve(I)):(0,$.of)(I)}const Mt=!1,Lt={exact:function Mn(I,S,w){if(!_r(I.segments,S.segments)||!dr(I.segments,S.segments,w)||I.numberOfChildren!==S.numberOfChildren)return!1;for(const P in S.children)if(!I.children[P]||!Mn(I.children[P],S.children[P],w))return!1;return!0},subset:Jt},xn={exact:function Zn(I,S){return cn(I,S)},subset:function Cn(I,S){return Object.keys(S).length<=Object.keys(I).length&&Object.keys(S).every(w=>br(I[w],S[w]))},ignored:()=>!0};function Fn(I,S,w){return Lt[w.paths](I.root,S.root,w.matrixParams)&&xn[w.queryParams](I.queryParams,S.queryParams)&&!("exact"===w.fragment&&I.fragment!==S.fragment)}function Jt(I,S,w){return Ut(I,S,S.segments,w)}function Ut(I,S,w,P){if(I.segments.length>w.length){const V=I.segments.slice(0,w.length);return!(!_r(V,w)||S.hasChildren()||!dr(V,w,P))}if(I.segments.length===w.length){if(!_r(I.segments,w)||!dr(I.segments,w,P))return!1;for(const V in S.children)if(!I.children[V]||!Jt(I.children[V],S.children[V],P))return!1;return!0}{const V=w.slice(0,I.segments.length),J=w.slice(I.segments.length);return!!(_r(I.segments,V)&&dr(I.segments,V,P)&&I.children[yt])&&Ut(I.children[yt],S,J,P)}}function dr(I,S,w){return S.every((P,V)=>xn[w](I[V].parameters,P.parameters))}class or{constructor(S=new rn([],{}),w={},P=null){this.root=S,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return Ai.serialize(this)}}class rn{constructor(S,w){this.segments=S,this.children=w,this.parent=null,Ve(w,(P,V)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bn(this)}}class Xn{constructor(S,w){this.path=S,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return Ee(this)}}function _r(I,S){return I.length===S.length&&I.every((w,P)=>w.path===S[P].path)}let ti=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:function(){return new er},providedIn:"root"}),I})();class er{parse(S){const w=new Pe(S);return new or(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(S){const w=`/${kr(S.root,!0)}`,P=function ie(I){const S=Object.keys(I).map(w=>{const P=I[w];return Array.isArray(P)?P.map(V=>`${lr(w)}=${lr(V)}`).join("&"):`${lr(w)}=${lr(P)}`}).filter(w=>!!w);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${w}${P}${"string"==typeof S.fragment?`#${function nr(I){return encodeURI(I)}(S.fragment)}`:""}`}}const Ai=new er;function Bn(I){return I.segments.map(S=>Ee(S)).join("/")}function kr(I,S){if(!I.hasChildren())return Bn(I);if(S){const w=I.children[yt]?kr(I.children[yt],!1):"",P=[];return Ve(I.children,(V,J)=>{J!==yt&&P.push(`${J}:${kr(V,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function Ln(I,S){let w=[];return Ve(I.children,(P,V)=>{V===yt&&(w=w.concat(S(P,V)))}),Ve(I.children,(P,V)=>{V!==yt&&(w=w.concat(S(P,V)))}),w}(I,(P,V)=>V===yt?[kr(I.children[yt],!1)]:[`${V}:${kr(P,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[yt]?`${Bn(I)}/${w[0]}`:`${Bn(I)}/(${w.join("//")})`}}function Br(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(I){return Br(I).replace(/%3B/gi,";")}function ni(I){return Br(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vr(I){return decodeURIComponent(I)}function Kr(I){return Vr(I.replace(/\+/g,"%20"))}function Ee(I){return`${ni(I.path)}${function me(I){return Object.keys(I).map(S=>`;${ni(S)}=${ni(I[S])}`).join("")}(I.parameters)}`}const se=/^[^\/()?;=#]+/;function X(I){const S=I.match(se);return S?S[0]:""}const Se=/^[^=?&#]+/,ge=/^[^&#]+/;class Pe{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(S.length>0||Object.keys(w).length>0)&&(P[yt]=new rn(S,w)),P}parseSegment(){const S=X(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new D.vHH(4009,Mt);return this.capture(S),new Xn(Vr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const w=X(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const V=X(this.remaining);V&&(P=V,this.capture(P))}S[Vr(w)]=Vr(P)}parseQueryParam(S){const w=function pe(I){const S=I.match(Se);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const oe=function ce(I){const S=I.match(ge);return S?S[0]:""}(this.remaining);oe&&(P=oe,this.capture(P))}const V=Kr(w),J=Kr(P);if(S.hasOwnProperty(V)){let oe=S[V];Array.isArray(oe)||(oe=[oe],S[V]=oe),oe.push(J)}else S[V]=J}parseParens(S){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=X(this.remaining),V=this.remaining[P.length];if("/"!==V&&")"!==V&&";"!==V)throw new D.vHH(4010,Mt);let J;P.indexOf(":")>-1?(J=P.slice(0,P.indexOf(":")),this.capture(J),this.capture(":")):S&&(J=yt);const oe=this.parseChildren();w[J]=1===Object.keys(oe).length?oe[yt]:new rn([],oe),this.consumeOptional("//")}return w}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new D.vHH(4011,Mt)}}function it(I){return I.segments.length>0?new rn([],{[yt]:I}):I}function vt(I){const S={};for(const P of Object.keys(I.children)){const J=vt(I.children[P]);(J.segments.length>0||J.hasChildren())&&(S[P]=J)}return function vn(I){if(1===I.numberOfChildren&&I.children[yt]){const S=I.children[yt];return new rn(I.segments.concat(S.segments),S.children)}return I}(new rn(I.segments,S))}function pn(I){return I instanceof or}const nt=!1;function Ue(I,S,w,P,V){if(0===w.length)return gn(S.root,S.root,S.root,P,V);const J=function Gn(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new rr(!0,0,I);let S=0,w=!1;const P=I.reduce((V,J,oe)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ze={};return Ve(J.outlets,(Nt,mn)=>{Ze[mn]="string"==typeof Nt?Nt.split("/"):Nt}),[...V,{outlets:Ze}]}if(J.segmentPath)return[...V,J.segmentPath]}return"string"!=typeof J?[...V,J]:0===oe?(J.split("/").forEach((Ze,Nt)=>{0==Nt&&"."===Ze||(0==Nt&&""===Ze?w=!0:".."===Ze?S++:""!=Ze&&V.push(Ze))}),V):[...V,J]},[]);return new rr(w,S,P)}(w);return J.toRoot()?gn(S.root,S.root,new rn([],{}),P,V):function oe(Nt){const mn=function io(I,S,w,P){if(I.isAbsolute)return new Dr(S.root,!0,0);if(-1===P)return new Dr(w,w===S.root,0);return function gs(I,S,w){let P=I,V=S,J=w;for(;J>V;){if(J-=V,P=P.parent,!P)throw new D.vHH(4005,nt&&"Invalid number of '../'");V=P.segments.length}return new Dr(P,!1,V-J)}(w,P+(At(I.commands[0])?0:1),I.numberOfDoubleDots)}(J,S,I.snapshot?._urlSegment,Nt),dn=mn.processChildren?Ht(mn.segmentGroup,mn.index,J.commands):$r(mn.segmentGroup,mn.index,J.commands);return gn(S.root,mn.segmentGroup,dn,P,V)}(I.snapshot?._lastPathIndex)}function At(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Wt(I){return"object"==typeof I&&null!=I&&I.outlets}function gn(I,S,w,P,V){let oe,J={};P&&Ve(P,(Nt,mn)=>{J[mn]=Array.isArray(Nt)?Nt.map(dn=>`${dn}`):`${Nt}`}),oe=I===S?w:Kt(I,S,w);const Ze=it(vt(oe));return new or(Ze,J,V)}function Kt(I,S,w){const P={};return Ve(I.children,(V,J)=>{P[J]=V===S?w:Kt(V,S,w)}),new rn(I.segments,P)}class rr{constructor(S,w,P){if(this.isAbsolute=S,this.numberOfDoubleDots=w,this.commands=P,S&&P.length>0&&At(P[0]))throw new D.vHH(4003,nt&&"Root segment cannot have matrix parameters");const V=P.find(Wt);if(V&&V!==qe(P))throw new D.vHH(4004,nt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dr{constructor(S,w,P){this.segmentGroup=S,this.processChildren=w,this.index=P}}function $r(I,S,w){if(I||(I=new rn([],{})),0===I.segments.length&&I.hasChildren())return Ht(I,S,w);const P=function Qn(I,S,w){let P=0,V=S;const J={match:!1,pathIndex:0,commandIndex:0};for(;V<I.segments.length;){if(P>=w.length)return J;const oe=I.segments[V],Ze=w[P];if(Wt(Ze))break;const Nt=`${Ze}`,mn=P<w.length-1?w[P+1]:null;if(V>0&&void 0===Nt)break;if(Nt&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!Tr(Nt,mn,oe))return J;P+=2}else{if(!Tr(Nt,{},oe))return J;P++}V++}return{match:!0,pathIndex:V,commandIndex:P}}(I,S,w),V=w.slice(P.commandIndex);if(P.match&&P.pathIndex<I.segments.length){const J=new rn(I.segments.slice(0,P.pathIndex),{});return J.children[yt]=new rn(I.segments.slice(P.pathIndex),I.children),Ht(J,0,V)}return P.match&&0===V.length?new rn(I.segments,{}):P.match&&!I.hasChildren()?hr(I,S,w):P.match?Ht(I,0,V):hr(I,S,w)}function Ht(I,S,w){if(0===w.length)return new rn(I.segments,{});{const P=function yi(I){return Wt(I[0])?I[0].outlets:{[yt]:I}}(w),V={};if(!P[yt]&&I.children[yt]&&1===I.numberOfChildren&&0===I.children[yt].segments.length){const J=Ht(I.children[yt],S,w);return new rn(I.segments,J.children)}return Ve(P,(J,oe)=>{"string"==typeof J&&(J=[J]),null!==J&&(V[oe]=$r(I.children[oe],S,J))}),Ve(I.children,(J,oe)=>{void 0===P[oe]&&(V[oe]=J)}),new rn(I.segments,V)}}function hr(I,S,w){const P=I.segments.slice(0,S);let V=0;for(;V<w.length;){const J=w[V];if(Wt(J)){const Nt=On(J.outlets);return new rn(P,Nt)}if(0===V&&At(w[0])){P.push(new Xn(I.segments[S].path,ri(w[0]))),V++;continue}const oe=Wt(J)?J.outlets[yt]:`${J}`,Ze=V<w.length-1?w[V+1]:null;oe&&Ze&&At(Ze)?(P.push(new Xn(oe,ri(Ze))),V+=2):(P.push(new Xn(oe,{})),V++)}return new rn(P,{})}function On(I){const S={};return Ve(I,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(S[P]=hr(new rn([],{}),0,w))}),S}function ri(I){const S={};return Ve(I,(w,P)=>S[P]=`${w}`),S}function Tr(I,S,w){return I==w.path&&cn(S,w.parameters)}const Zi="imperative";class Nr{constructor(S,w){this.id=S,this.url=w}}class $e extends Nr{constructor(S,w,P="imperative",V=null){super(S,w),this.type=0,this.navigationTrigger=P,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends Nr{constructor(S,w,P){super(S,w),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Le extends Nr{constructor(S,w,P,V){super(S,w),this.reason=P,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bt extends Nr{constructor(S,w,P,V){super(S,w),this.reason=P,this.code=V,this.type=16}}class xt extends Nr{constructor(S,w,P,V){super(S,w),this.error=P,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends Nr{constructor(S,w,P,V){super(S,w),this.urlAfterRedirects=P,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends Nr{constructor(S,w,P,V){super(S,w),this.urlAfterRedirects=P,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends Nr{constructor(S,w,P,V,J){super(S,w),this.urlAfterRedirects=P,this.state=V,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ur extends Nr{constructor(S,w,P,V){super(S,w),this.urlAfterRedirects=P,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends Nr{constructor(S,w,P,V){super(S,w),this.urlAfterRedirects=P,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xi{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(S,w,P){this.routerEvent=S,this.position=w,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oo=(()=>{class I{createUrlTree(w,P,V,J,oe,Ze){return Ue(w||P.root,V,J,oe,Ze)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac}),I})(),la=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:function(S){return oo.\u0275fac(S)},providedIn:"root"}),I})();class Vi{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const w=this.pathFromRoot(S);return w.length>1?w[w.length-2]:null}children(S){const w=Pi(S,this._root);return w?w.children.map(P=>P.value):[]}firstChild(S){const w=Pi(S,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(S){const w=es(S,this._root);return w.length<2?[]:w[w.length-2].children.map(V=>V.value).filter(V=>V!==S)}pathFromRoot(S){return es(S,this._root).map(w=>w.value)}}function Pi(I,S){if(I===S.value)return S;for(const w of S.children){const P=Pi(I,w);if(P)return P}return null}function es(I,S){if(I===S.value)return[S];for(const w of S.children){const P=es(I,w);if(P.length)return P.unshift(S),P}return[]}class Ho{constructor(S,w){this.value=S,this.children=w}toString(){return`TreeNode(${this.value})`}}function Li(I){const S={};return I&&I.children.forEach(w=>S[w.value.outlet]=w),S}class hi extends Vi{constructor(S,w){super(S),this.snapshot=w,ms(this,S)}toString(){return this.snapshot.toString()}}function vo(I,S){const w=function Go(I,S){const oe=new so([],{},{},"",{},yt,S,null,I.root,-1,{});return new ua("",new Ho(oe,[]))}(I,S),P=new Ce.X([new Xn("",{})]),V=new Ce.X({}),J=new Ce.X({}),oe=new Ce.X({}),Ze=new Ce.X(""),Nt=new Ks(P,V,oe,Ze,J,yt,S,w.root);return Nt.snapshot=w.root,new hi(new Ho(Nt,[]),w)}class Ks{constructor(S,w,P,V,J,oe,Ze,Nt){this.url=S,this.params=w,this.queryParams=P,this.fragment=V,this.data=J,this.outlet=oe,this.component=Ze,this.title=this.data?.pipe((0,Ge.U)(mn=>mn[Nn]))??(0,$.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(S=>Jn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(S=>Jn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cr(I,S="emptyOnly"){const w=I.pathFromRoot;let P=0;if("always"!==S)for(P=w.length-1;P>=1;){const V=w[P],J=w[P-1];if(V.routeConfig&&""===V.routeConfig.path)P--;else{if(J.component)break;P--}}return function al(I){return I.reduce((S,w)=>({params:{...S.params,...w.params},data:{...S.data,...w.data},resolve:{...w.data,...S.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(P))}class so{get title(){return this.data?.[Nn]}constructor(S,w,P,V,J,oe,Ze,Nt,mn,dn,Qr){this.url=S,this.params=w,this.queryParams=P,this.fragment=V,this.data=J,this.outlet=oe,this.component=Ze,this.routeConfig=Nt,this._urlSegment=mn,this._lastPathIndex=dn,this._resolve=Qr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ua extends Vi{constructor(S,w){super(w),this.url=S,ms(this,w)}toString(){return ll(this._root)}}function ms(I,S){S.value._routerState=I,S.children.forEach(w=>ms(I,w))}function ll(I){const S=I.children.length>0?` { ${I.children.map(ll).join(", ")} } `:"";return`${I.value}${S}`}function Ys(I){if(I.snapshot){const S=I.snapshot,w=I._futureSnapshot;I.snapshot=w,cn(S.queryParams,w.queryParams)||I.queryParams.next(w.queryParams),S.fragment!==w.fragment&&I.fragment.next(w.fragment),cn(S.params,w.params)||I.params.next(w.params),function Mr(I,S){if(I.length!==S.length)return!1;for(let w=0;w<I.length;++w)if(!cn(I[w],S[w]))return!1;return!0}(S.url,w.url)||I.url.next(w.url),cn(S.data,w.data)||I.data.next(w.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Ea(I,S){const w=cn(I.params,S.params)&&function Pr(I,S){return _r(I,S)&&I.every((w,P)=>cn(w.parameters,S[P].parameters))}(I.url,S.url);return w&&!(!I.parent!=!S.parent)&&(!I.parent||Ea(I.parent,S.parent))}function ca(I,S,w){if(w&&I.shouldReuseRoute(S.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=S.value;const V=function Po(I,S,w){return S.children.map(P=>{for(const V of w.children)if(I.shouldReuseRoute(P.value,V.value.snapshot))return ca(I,P,V);return ca(I,P)})}(I,S,w);return new Ho(P,V)}{if(I.shouldAttach(S.value)){const J=I.retrieve(S.value);if(null!==J){const oe=J.route;return oe.value._futureSnapshot=S.value,oe.children=S.children.map(Ze=>ca(I,Ze)),oe}}const P=function Bi(I){return new Ks(new Ce.X(I.url),new Ce.X(I.params),new Ce.X(I.queryParams),new Ce.X(I.fragment),new Ce.X(I.data),I.outlet,I.component,I)}(S.value),V=S.children.map(J=>ca(I,J));return new Ho(P,V)}}const Ha="ngNavigationCancelingError";function _s(I,S){const{redirectTo:w,navigationBehaviorOptions:P}=pn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,V=ul(!1,0,S);return V.url=w,V.navigationBehaviorOptions=P,V}function ul(I,S,w){const P=new Error("NavigationCancelingError: "+(I||""));return P[Ha]=!0,P.cancellationCode=S,w&&(P.url=w),P}function $i(I){return ts(I)&&pn(I.url)}function ts(I){return I&&I[Ha]}class Ta{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yi,this.attachRef=null}}let Yi=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(w,P){const V=this.getOrCreateContext(w);V.outlet=P,this.contexts.set(w,V)}onChildOutletDestroyed(w){const P=this.getContext(w);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let P=this.getContext(w);return P||(P=new Ta,this.contexts.set(w,P)),P}getContext(w){return this.contexts.get(w)||null}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const da=!1;let Aa=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new D.vpe,this.deactivateEvents=new D.vpe,this.attachEvents=new D.vpe,this.detachEvents=new D.vpe,this.parentContexts=(0,D.f3M)(Yi),this.location=(0,D.f3M)(D.s_b),this.changeDetector=(0,D.f3M)(D.sBO),this.environmentInjector=(0,D.f3M)(D.lqb)}ngOnChanges(w){if(w.name){const{firstChange:P,previousValue:V}=w.name;if(P)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D.vHH(4012,da);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D.vHH(4012,da);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D.vHH(4012,da);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new D.vHH(4013,da);this._activatedRoute=w;const V=this.location,oe=w.snapshot.component,Ze=this.parentContexts.getOrCreateContext(this.name).children,Nt=new ys(w,Ze,V.injector);if(P&&function Ga(I){return!!I.resolveComponentFactory}(P)){const mn=P.resolveComponentFactory(oe);this.activated=V.createComponent(mn,V.length,Nt)}else this.activated=V.createComponent(oe,{index:V.length,injector:Nt,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275dir=D.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[D.TTD]}),I})();class ys{constructor(S,w,P){this.route=S,this.childContexts=w,this.parent=P}get(S,w){return S===Ks?this.route:S===Yi?this.childContexts:this.parent.get(S,w)}}let bo=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275cmp=D.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[D.jDz],decls:1,vars:0,template:function(w,P){1&w&&D._UZ(0,"router-outlet")},dependencies:[Aa],encapsulation:2}),I})();function ha(I,S){return I.providers&&!I._injector&&(I._injector=(0,D.MMx)(I.providers,S,`Route: ${I.path}`)),I._injector??S}function Ui(I){const S=I.children&&I.children.map(Ui),w=S?{...I,children:S}:{...I};return!w.component&&!w.loadComponent&&(S||w.loadChildren)&&w.outlet&&w.outlet!==yt&&(w.component=bo),w}function Si(I){return I.outlet||yt}function pi(I,S){const w=I.filter(P=>Si(P)===S);return w.push(...I.filter(P=>Si(P)!==S)),w}function bs(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let S=I.parent;S;S=S.parent){const w=S.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Er{constructor(S,w,P,V){this.routeReuseStrategy=S,this.futureState=w,this.currState=P,this.forwardEvent=V}activate(S){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,S),Ys(this.futureState.root),this.activateChildRoutes(w,P,S)}deactivateChildRoutes(S,w,P){const V=Li(w);S.children.forEach(J=>{const oe=J.value.outlet;this.deactivateRoutes(J,V[oe],P),delete V[oe]}),Ve(V,(J,oe)=>{this.deactivateRouteAndItsChildren(J,P)})}deactivateRoutes(S,w,P){const V=S.value,J=w?w.value:null;if(V===J)if(V.component){const oe=P.getContext(V.outlet);oe&&this.deactivateChildRoutes(S,w,oe.children)}else this.deactivateChildRoutes(S,w,P);else J&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(S,w){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,w):this.deactivateRouteAndOutlet(S,w)}detachAndStoreRouteSubtree(S,w){const P=w.getContext(S.value.outlet),V=P&&S.value.component?P.children:w,J=Li(S);for(const oe of Object.keys(J))this.deactivateRouteAndItsChildren(J[oe],V);if(P&&P.outlet){const oe=P.outlet.detach(),Ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:oe,route:S,contexts:Ze})}}deactivateRouteAndOutlet(S,w){const P=w.getContext(S.value.outlet),V=P&&S.value.component?P.children:w,J=Li(S);for(const oe of Object.keys(J))this.deactivateRouteAndItsChildren(J[oe],V);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(S,w,P){const V=Li(w);S.children.forEach(J=>{this.activateRoutes(J,V[J.value.outlet],P),this.forwardEvent(new Xo(J.value.snapshot))}),S.children.length&&this.forwardEvent(new ii(S.value.snapshot))}activateRoutes(S,w,P){const V=S.value,J=w?w.value:null;if(Ys(V),V===J)if(V.component){const oe=P.getOrCreateContext(V.outlet);this.activateChildRoutes(S,w,oe.children)}else this.activateChildRoutes(S,w,P);else if(V.component){const oe=P.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Ze=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),oe.children.onOutletReAttached(Ze.contexts),oe.attachRef=Ze.componentRef,oe.route=Ze.route.value,oe.outlet&&oe.outlet.attach(Ze.componentRef,Ze.route.value),Ys(Ze.route.value),this.activateChildRoutes(S,null,oe.children)}else{const Ze=bs(V.snapshot),Nt=Ze?.get(D._Vd)??null;oe.attachRef=null,oe.route=V,oe.resolver=Nt,oe.injector=Ze,oe.outlet&&oe.outlet.activateWith(V,oe.injector),this.activateChildRoutes(S,null,oe.children)}}else this.activateChildRoutes(S,null,P)}}class Di{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ns{constructor(S,w){this.component=S,this.route=w}}function ws(I,S,w){const P=I._root;return is(P,S?S._root:null,w,[P.value])}function ji(I,S){const w=Symbol(),P=S.get(I,w);return P===w?"function"!=typeof I||(0,D.Z0I)(I)?S.get(I):I:P}function is(I,S,w,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const J=Li(S);return I.children.forEach(oe=>{(function Rs(I,S,w,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const J=I.value,oe=S?S.value:null,Ze=w?w.getContext(I.value.outlet):null;if(oe&&J.routeConfig===oe.routeConfig){const Nt=function zn(I,S,w){if("function"==typeof w)return w(I,S);switch(w){case"pathParamsChange":return!_r(I.url,S.url);case"pathParamsOrQueryParamsChange":return!_r(I.url,S.url)||!cn(I.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ea(I,S)||!cn(I.queryParams,S.queryParams);default:return!Ea(I,S)}}(oe,J,J.routeConfig.runGuardsAndResolvers);Nt?V.canActivateChecks.push(new Di(P)):(J.data=oe.data,J._resolvedData=oe._resolvedData),is(I,S,J.component?Ze?Ze.children:null:w,P,V),Nt&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&V.canDeactivateChecks.push(new Ns(Ze.outlet.component,oe))}else oe&&Os(S,Ze,V),V.canActivateChecks.push(new Di(P)),is(I,null,J.component?Ze?Ze.children:null:w,P,V)})(oe,J[oe.value.outlet],w,P.concat([oe.value]),V),delete J[oe.value.outlet]}),Ve(J,(oe,Ze)=>Os(oe,w.getContext(Ze),V)),V}function Os(I,S,w){const P=Li(I),V=I.value;Ve(P,(J,oe)=>{Os(J,V.component?S?S.children.getContext(oe):null:S,w)}),w.canDeactivateChecks.push(new Ns(V.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,V))}function wo(I){return"function"==typeof I}function zo(I){return I instanceof ye.K||"EmptyError"===I?.name}const ki=Symbol("INITIAL_VALUE");function zr(){return(0,pt.w)(I=>(0,Ne.a)(I.map(S=>S.pipe((0,Rt.q)(1),(0,St.O)(ki)))).pipe((0,Ge.U)(S=>{for(const w of S)if(!0!==w){if(w===ki)return ki;if(!1===w||w instanceof or)return w}return!0}),(0,Be.h)(S=>S!==ki),(0,Rt.q)(1)))}function Xr(I){return(0,ve.z)((0,_n.b)(S=>{if(pn(S))throw _s(0,S)}),(0,Ge.U)(S=>!0===S))}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Co(I,S,w,P,V){const J=Fs(I,S,w);return J.matched?function ks(I,S,w,P){const V=S.canMatch;if(!V||0===V.length)return(0,$.of)(!0);const J=V.map(oe=>{const Ze=ji(oe,I);return ze(function Fl(I){return I&&wo(I.canMatch)}(Ze)?Ze.canMatch(S,w):I.runInContext(()=>Ze(S,w)))});return(0,$.of)(J).pipe(zr(),Xr())}(P=ha(S,P),S,w).pipe((0,Ge.U)(oe=>!0===oe?J:{...ko})):(0,$.of)(J)}function Fs(I,S,w){if(""===S.path)return"full"===S.pathMatch&&(I.hasChildren()||w.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const V=(S.matcher||Sr)(w,I,S);if(!V)return{...ko};const J={};Ve(V.posParams,(Ze,Nt)=>{J[Nt]=Ze.path});const oe=V.consumed.length>0?{...J,...V.consumed[V.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:V.consumed,remainingSegments:w.slice(V.consumed.length),parameters:oe,positionalParamSegments:V.posParams??{}}}function ao(I,S,w,P){if(w.length>0&&function si(I,S,w){return w.some(P=>os(I,S,P)&&Si(P)!==yt)}(I,w,P)){const J=new rn(S,function su(I,S,w,P){const V={};V[yt]=P,P._sourceSegment=I,P._segmentIndexShift=S.length;for(const J of w)if(""===J.path&&Si(J)!==yt){const oe=new rn([],{});oe._sourceSegment=I,oe._segmentIndexShift=S.length,V[Si(J)]=oe}return V}(I,S,P,new rn(w,I.children)));return J._sourceSegment=I,J._segmentIndexShift=S.length,{segmentGroup:J,slicedSegments:[]}}if(0===w.length&&function Yr(I,S,w){return w.some(P=>os(I,S,P))}(I,w,P)){const J=new rn(I.segments,function Qi(I,S,w,P,V){const J={};for(const oe of P)if(os(I,w,oe)&&!V[Si(oe)]){const Ze=new rn([],{});Ze._sourceSegment=I,Ze._segmentIndexShift=S.length,J[Si(oe)]=Ze}return{...V,...J}}(I,S,w,P,I.children));return J._sourceSegment=I,J._segmentIndexShift=S.length,{segmentGroup:J,slicedSegments:w}}const V=new rn(I.segments,I.children);return V._sourceSegment=I,V._segmentIndexShift=S.length,{segmentGroup:V,slicedSegments:w}}function os(I,S,w){return(!(I.hasChildren()||S.length>0)||"full"!==w.pathMatch)&&""===w.path}function Xi(I,S,w,P){return!!(Si(I)===P||P!==yt&&os(S,w,I))&&("**"===I.path||Fs(S,I,w).matched)}function ss(I,S,w){return 0===S.length&&!I.children[w]}const Rr=!1;class qo{constructor(S){this.segmentGroup=S||null}}class Cs{constructor(S){this.urlTree=S}}function Mi(I){return Qe(new qo(I))}function Ra(I){return Qe(new Cs(I))}class dl{constructor(S,w,P,V,J){this.injector=S,this.configLoader=w,this.urlSerializer=P,this.urlTree=V,this.config=J,this.allowRedirects=!0}apply(){const S=ao(this.urlTree.root,[],[],this.config).segmentGroup,w=new rn(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,w,yt).pipe((0,Ge.U)(J=>this.createUrlTree(vt(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yt(J=>{if(J instanceof Cs)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof qo?this.noMatchError(J):J}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,yt).pipe((0,Ge.U)(V=>this.createUrlTree(vt(V),S.queryParams,S.fragment))).pipe(Yt(V=>{throw V instanceof qo?this.noMatchError(V):V}))}noMatchError(S){return new D.vHH(4002,Rr)}createUrlTree(S,w,P){const V=it(S);return new or(V,w,P)}expandSegmentGroup(S,w,P,V){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(S,w,P).pipe((0,Ge.U)(J=>new rn([],J))):this.expandSegment(S,P,w,P.segments,V,!0)}expandChildren(S,w,P){const V=[];for(const J of Object.keys(P.children))"primary"===J?V.unshift(J):V.push(J);return(0,a.D)(V).pipe((0,Ct.b)(J=>{const oe=P.children[J],Ze=pi(w,J);return this.expandSegmentGroup(S,Ze,oe,J).pipe((0,Ge.U)(Nt=>({segment:Nt,outlet:J})))}),(0,st.R)((J,oe)=>(J[oe.outlet]=oe.segment,J),{}),Tt())}expandSegment(S,w,P,V,J,oe){return(0,a.D)(P).pipe((0,Ct.b)(Ze=>this.expandSegmentAgainstRoute(S,w,P,Ze,V,J,oe).pipe(Yt(mn=>{if(mn instanceof qo)return(0,$.of)(null);throw mn}))),(0,ln.P)(Ze=>!!Ze),Yt((Ze,Nt)=>{if(zo(Ze))return ss(w,V,J)?(0,$.of)(new rn([],{})):Mi(w);throw Ze}))}expandSegmentAgainstRoute(S,w,P,V,J,oe,Ze){return Xi(V,w,J,oe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(S,w,V,J,oe):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,w,P,V,J,oe):Mi(w):Mi(w)}expandSegmentAgainstRouteUsingRedirect(S,w,P,V,J,oe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,P,V,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,w,P,V,J,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,w,P,V){const J=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ra(J):this.lineralizeSegments(P,J).pipe((0,Et.z)(oe=>{const Ze=new rn(oe,{});return this.expandSegment(S,Ze,w,oe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,w,P,V,J,oe){const{matched:Ze,consumedSegments:Nt,remainingSegments:mn,positionalParamSegments:dn}=Fs(w,V,J);if(!Ze)return Mi(w);const Qr=this.applyRedirectCommands(Nt,V.redirectTo,dn);return V.redirectTo.startsWith("/")?Ra(Qr):this.lineralizeSegments(V,Qr).pipe((0,Et.z)(to=>this.expandSegment(S,w,P,to.concat(mn),oe,!1)))}matchSegmentAgainstRoute(S,w,P,V,J){return"**"===P.path?(S=ha(P,S),P.loadChildren?(P._loadedRoutes?(0,$.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(S,P)).pipe((0,Ge.U)(Ze=>(P._loadedRoutes=Ze.routes,P._loadedInjector=Ze.injector,new rn(V,{})))):(0,$.of)(new rn(V,{}))):Co(w,P,V,S).pipe((0,pt.w)(({matched:oe,consumedSegments:Ze,remainingSegments:Nt})=>oe?this.getChildConfig(S=P._injector??S,P,V).pipe((0,Et.z)(dn=>{const Qr=dn.injector??S,to=dn.routes,{segmentGroup:Ei,slicedSegments:Is}=ao(w,Ze,Nt,to),va=new rn(Ei.segments,Ei.children);if(0===Is.length&&va.hasChildren())return this.expandChildren(Qr,to,va).pipe((0,Ge.U)(Fa=>new rn(Ze,Fa)));if(0===to.length&&0===Is.length)return(0,$.of)(new rn(Ze,{}));const Ri=Si(P)===J;return this.expandSegment(Qr,va,to,Is,Ri?yt:J,!0).pipe((0,Ge.U)(au=>new rn(Ze.concat(au.segments),au.children)))})):Mi(w)))}getChildConfig(S,w,P){return w.children?(0,$.of)({routes:w.children,injector:S}):w.loadChildren?void 0!==w._loadedRoutes?(0,$.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function vi(I,S,w,P){const V=S.canLoad;if(void 0===V||0===V.length)return(0,$.of)(!0);const J=V.map(oe=>{const Ze=ji(oe,I);return ze(function xs(I){return I&&wo(I.canLoad)}(Ze)?Ze.canLoad(S,w):I.runInContext(()=>Ze(S,w)))});return(0,$.of)(J).pipe(zr(),Xr())}(S,w,P).pipe((0,Et.z)(V=>V?this.configLoader.loadChildren(S,w).pipe((0,_n.b)(J=>{w._loadedRoutes=J.routes,w._loadedInjector=J.injector})):function Eo(I){return Qe(ul(Rr,3))}())):(0,$.of)({routes:[],injector:S})}lineralizeSegments(S,w){let P=[],V=w.root;for(;;){if(P=P.concat(V.segments),0===V.numberOfChildren)return(0,$.of)(P);if(V.numberOfChildren>1||!V.children[yt])return S.redirectTo,Qe(new D.vHH(4e3,Rr));V=V.children[yt]}}applyRedirectCommands(S,w,P){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),S,P)}applyRedirectCreateUrlTree(S,w,P,V){const J=this.createSegmentGroup(S,w.root,P,V);return new or(J,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(S,w){const P={};return Ve(S,(V,J)=>{if("string"==typeof V&&V.startsWith(":")){const Ze=V.substring(1);P[J]=w[Ze]}else P[J]=V}),P}createSegmentGroup(S,w,P,V){const J=this.createSegments(S,w.segments,P,V);let oe={};return Ve(w.children,(Ze,Nt)=>{oe[Nt]=this.createSegmentGroup(S,Ze,P,V)}),new rn(J,oe)}createSegments(S,w,P,V){return w.map(J=>J.path.startsWith(":")?this.findPosParam(S,J,V):this.findOrReturn(J,P))}findPosParam(S,w,P){const V=P[w.path.substring(1)];if(!V)throw new D.vHH(4001,Rr);return V}findOrReturn(S,w){let P=0;for(const V of w){if(V.path===S.path)return w.splice(P),V;P++}return S}}class yr{}class Js{constructor(S,w,P,V,J,oe,Ze){this.injector=S,this.rootComponentType=w,this.config=P,this.urlTree=V,this.url=J,this.paramsInheritanceStrategy=oe,this.urlSerializer=Ze}recognize(){const S=ao(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,yt).pipe((0,Ge.U)(w=>{if(null===w)return null;const P=new so([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Ho(P,w),J=new ua(this.url,V);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(S){const w=S.value,P=Cr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),S.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(S,w,P,V){return 0===P.segments.length&&P.hasChildren()?this.processChildren(S,w,P):this.processSegment(S,w,P,P.segments,V)}processChildren(S,w,P){return(0,a.D)(Object.keys(P.children)).pipe((0,Ct.b)(V=>{const J=P.children[V],oe=pi(w,V);return this.processSegmentGroup(S,oe,J,V)}),(0,st.R)((V,J)=>V&&J?(V.push(...J),V):null),function qt(I,S=!1){return(0,Dt.e)((w,P)=>{let V=0;w.subscribe((0,Je.x)(P,J=>{const oe=I(J,V++);(oe||S)&&P.next(J),!oe&&P.complete()}))})}(V=>null!==V),(0,It.d)(null),Tt(),(0,Ge.U)(V=>{if(null===V)return null;const J=Zo(V);return function Ll(I){I.sort((S,w)=>S.value.outlet===yt?-1:w.value.outlet===yt?1:S.value.outlet.localeCompare(w.value.outlet))}(J),J}))}processSegment(S,w,P,V,J){return(0,a.D)(w).pipe((0,Ct.b)(oe=>this.processSegmentAgainstRoute(oe._injector??S,oe,P,V,J)),(0,ln.P)(oe=>!!oe),Yt(oe=>{if(zo(oe))return ss(P,V,J)?(0,$.of)([]):(0,$.of)(null);throw oe}))}processSegmentAgainstRoute(S,w,P,V,J){if(w.redirectTo||!Xi(w,P,V,J))return(0,$.of)(null);let oe;if("**"===w.path){const Ze=V.length>0?qe(V).parameters:{},Nt=k(P)+V.length,mn=new so(V,Ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(w),Si(w),w.component??w._loadedComponent??null,w,qa(P),Nt,ee(w));oe=(0,$.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]})}else oe=Co(P,w,V,S).pipe((0,Ge.U)(({matched:Ze,consumedSegments:Nt,remainingSegments:mn,parameters:dn})=>{if(!Ze)return null;const Qr=k(P)+Nt.length;return{snapshot:new so(Nt,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(w),Si(w),w.component??w._loadedComponent??null,w,qa(P),Qr,ee(w)),consumedSegments:Nt,remainingSegments:mn}}));return oe.pipe((0,pt.w)(Ze=>{if(null===Ze)return(0,$.of)(null);const{snapshot:Nt,consumedSegments:mn,remainingSegments:dn}=Ze;S=w._injector??S;const Qr=w._loadedInjector??S,to=function hl(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(w),{segmentGroup:Ei,slicedSegments:Is}=ao(P,mn,dn,to.filter(Ri=>void 0===Ri.redirectTo));if(0===Is.length&&Ei.hasChildren())return this.processChildren(Qr,to,Ei).pipe((0,Ge.U)(Ri=>null===Ri?null:[new Ho(Nt,Ri)]));if(0===to.length&&0===Is.length)return(0,$.of)([new Ho(Nt,[])]);const va=Si(w)===J;return this.processSegment(Qr,to,Ei,Is,va?yt:J).pipe((0,Ge.U)(Ri=>null===Ri?null:[new Ho(Nt,Ri)]))}))}}function lo(I){const S=I.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Zo(I){const S=[],w=new Set;for(const P of I){if(!lo(P)){S.push(P);continue}const V=S.find(J=>P.value.routeConfig===J.value.routeConfig);void 0!==V?(V.children.push(...P.children),w.add(V)):S.push(P)}for(const P of w){const V=Zo(P.children);S.push(new Ho(P.value,V))}return S.filter(P=>!w.has(P))}function qa(I){let S=I;for(;S._sourceSegment;)S=S._sourceSegment;return S}function k(I){let S=I,w=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,w+=S._segmentIndexShift??0;return w-1}function B(I){return I.data||{}}function ee(I){return I.resolve||{}}function Xe(I){return"string"==typeof I.title||null===I.title}function zt(I){return(0,pt.w)(S=>{const w=I(S);return w?(0,a.D)(w).pipe((0,Ge.U)(()=>S)):(0,$.of)(S)})}const jn=new D.OlP("ROUTES");let gt=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,D.f3M)(D.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,$.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const P=ze(w.loadComponent()).pipe((0,Ge.U)(Jr),(0,_n.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=J}),(0,An.x)(()=>{this.componentLoaders.delete(w)})),V=new De(P,()=>new kt.x).pipe(_t());return this.componentLoaders.set(w,V),V}loadChildren(w,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,$.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const J=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Ge.U)(Ze=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Nt,mn,dn=!1;Array.isArray(Ze)?mn=Ze:(Nt=Ze.create(w).injector,mn=Lr(Nt.get(jn,[],D.XFs.Self|D.XFs.Optional)));return{routes:mn.map(Ui),injector:Nt}}),(0,An.x)(()=>{this.childrenLoaders.delete(P)})),oe=new De(J,()=>new kt.x).pipe(_t());return this.childrenLoaders.set(P,oe),oe}loadModuleFactoryOrRoutes(w){return ze(w()).pipe((0,Ge.U)(Jr),(0,Et.z)(P=>P instanceof D.YKP||Array.isArray(P)?(0,$.of)(P):(0,a.D)(this.compiler.compileModuleAsync(P))))}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Jr(I){return function Or(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let tn=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kt.x,this.configLoader=(0,D.f3M)(gt),this.environmentInjector=(0,D.f3M)(D.lqb),this.urlSerializer=(0,D.f3M)(ti),this.rootContexts=(0,D.f3M)(Yi),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new Ti(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new Oi(V))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:P})}setupNavigations(w){return this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Be.h)(P=>0!==P.id),(0,Ge.U)(P=>({...P,extractedUrl:w.urlHandlingStrategy.extract(P.rawUrl)})),(0,pt.w)(P=>{let V=!1,J=!1;return(0,$.of)(P).pipe((0,_n.b)(oe=>{this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(oe=>{const Ze=w.browserUrlTree.toString(),Nt=!w.navigated||oe.extractedUrl.toString()!==Ze||Ze!==w.currentUrlTree.toString();if(!Nt&&"reload"!==(oe.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const dn="";return this.events.next(new bt(oe.id,w.serializeUrl(P.rawUrl),dn,0)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),lt.E}if(w.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return En(oe.source)&&(w.browserUrlTree=oe.extractedUrl),(0,$.of)(oe).pipe((0,pt.w)(dn=>{const Qr=this.transitions?.getValue();return this.events.next(new $e(dn.id,this.urlSerializer.serialize(dn.extractedUrl),dn.source,dn.restoredState)),Qr!==this.transitions?.getValue()?lt.E:Promise.resolve(dn)}),function ai(I,S,w,P){return(0,pt.w)(V=>function as(I,S,w,P,V){return new dl(I,S,w,P,V).apply()}(I,S,w,V.extractedUrl,P).pipe((0,Ge.U)(J=>({...V,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,_n.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects},P.urlAfterRedirects=dn.urlAfterRedirects}),function we(I,S,w,P,V){return(0,Et.z)(J=>function Es(I,S,w,P,V,J,oe="emptyOnly"){return new Js(I,S,w,P,V,oe,J).recognize().pipe((0,pt.w)(Ze=>null===Ze?function Oa(I){return new be.y(S=>S.error(I))}(new yr):(0,$.of)(Ze)))}(I,S,w,J.urlAfterRedirects,P.serialize(J.urlAfterRedirects),P,V).pipe((0,Ge.U)(oe=>({...J,targetSnapshot:oe}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,_n.b)(dn=>{if(P.targetSnapshot=dn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const to=w.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);w.setBrowserUrl(to,dn)}w.browserUrlTree=dn.urlAfterRedirects}const Qr=new Tn(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Qr)}));if(Nt&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:dn,extractedUrl:Qr,source:to,restoredState:Ei,extras:Is}=oe,va=new $e(dn,this.urlSerializer.serialize(Qr),to,Ei);this.events.next(va);const Ri=vo(Qr,this.rootComponentType).snapshot;return P={...oe,targetSnapshot:Ri,urlAfterRedirects:Qr,extras:{...Is,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(P)}{const dn="";return this.events.next(new bt(oe.id,w.serializeUrl(P.extractedUrl),dn,1)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),lt.E}}),(0,_n.b)(oe=>{const Ze=new fr(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Ze)}),(0,Ge.U)(oe=>P={...oe,guards:ws(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)}),function Ps(I,S){return(0,Et.z)(w=>{const{targetSnapshot:P,currentSnapshot:V,guards:{canActivateChecks:J,canDeactivateChecks:oe}}=w;return 0===oe.length&&0===J.length?(0,$.of)({...w,guardsResult:!0}):function Ji(I,S,w,P){return(0,a.D)(I).pipe((0,Et.z)(V=>function Ds(I,S,w,P,V){const J=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,$.of)(!0);const oe=J.map(Ze=>{const Nt=bs(S)??V,mn=ji(Ze,Nt);return ze(function za(I){return I&&wo(I.canDeactivate)}(mn)?mn.canDeactivate(I,S,w,P):Nt.runInContext(()=>mn(I,S,w,P))).pipe((0,ln.P)())});return(0,$.of)(oe).pipe(zr())}(V.component,V.route,w,S,P)),(0,ln.P)(V=>!0!==V,!0))}(oe,P,V,I).pipe((0,Et.z)(Ze=>Ze&&function Ma(I){return"boolean"==typeof I}(Ze)?function Do(I,S,w,P){return(0,a.D)(S).pipe((0,Ct.b)(V=>(0,Fe.z)(function Wa(I,S){return null!==I&&S&&S(new xi(I)),(0,$.of)(!0)}(V.route.parent,P),function ma(I,S){return null!==I&&S&&S(new $o(I)),(0,$.of)(!0)}(V.route,P),function Wo(I,S,w){const P=S[S.length-1],J=S.slice(0,S.length-1).reverse().map(oe=>function ou(I){const S=I.routeConfig?I.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:I,guards:S}:null}(oe)).filter(oe=>null!==oe).map(oe=>he(()=>{const Ze=oe.guards.map(Nt=>{const mn=bs(oe.node)??w,dn=ji(Nt,mn);return ze(function ga(I){return I&&wo(I.canActivateChild)}(dn)?dn.canActivateChild(P,I):mn.runInContext(()=>dn(P,I))).pipe((0,ln.P)())});return(0,$.of)(Ze).pipe(zr())}));return(0,$.of)(J).pipe(zr())}(I,V.path,w),function cl(I,S,w){const P=S.routeConfig?S.routeConfig.canActivate:null;if(!P||0===P.length)return(0,$.of)(!0);const V=P.map(J=>he(()=>{const oe=bs(S)??w,Ze=ji(J,oe);return ze(function Na(I){return I&&wo(I.canActivate)}(Ze)?Ze.canActivate(S,I):oe.runInContext(()=>Ze(S,I))).pipe((0,ln.P)())}));return(0,$.of)(V).pipe(zr())}(I,V.route,w))),(0,ln.P)(V=>!0!==V,!0))}(P,J,I,S):(0,$.of)(Ze)),(0,Ge.U)(Ze=>({...w,guardsResult:Ze})))})}(this.environmentInjector,oe=>this.events.next(oe)),(0,_n.b)(oe=>{if(P.guardsResult=oe.guardsResult,pn(oe.guardsResult))throw _s(0,oe.guardsResult);const Ze=new $n(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.events.next(Ze)}),(0,Be.h)(oe=>!!oe.guardsResult||(w.restoreHistory(oe),this.cancelNavigationTransition(oe,"",3),!1)),zt(oe=>{if(oe.guards.canActivateChecks.length)return(0,$.of)(oe).pipe((0,_n.b)(Ze=>{const Nt=new ur(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(Nt)}),(0,pt.w)(Ze=>{let Nt=!1;return(0,$.of)(Ze).pipe(function ut(I,S){return(0,Et.z)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:V}}=w;if(!V.length)return(0,$.of)(w);let J=0;return(0,a.D)(V).pipe((0,Ct.b)(oe=>function A(I,S,w,P){const V=I.routeConfig,J=I._resolve;return void 0!==V?.title&&!Xe(V)&&(J[Nn]=V.title),function O(I,S,w,P){const V=function q(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===V.length)return(0,$.of)({});const J={};return(0,a.D)(V).pipe((0,Et.z)(oe=>function de(I,S,w,P){const V=bs(S)??P,J=ji(I,V);return ze(J.resolve?J.resolve(S,w):V.runInContext(()=>J(S,w)))}(I[oe],S,w,P).pipe((0,ln.P)(),(0,_n.b)(Ze=>{J[oe]=Ze}))),ot(1),(0,$t.h)(J),Yt(oe=>zo(oe)?lt.E:Qe(oe)))}(J,I,S,P).pipe((0,Ge.U)(oe=>(I._resolvedData=oe,I.data=Cr(I,w).resolve,V&&Xe(V)&&(I.data[Nn]=V.title),null)))}(oe.route,P,I,S)),(0,_n.b)(()=>J++),ot(1),(0,Et.z)(oe=>J===V.length?(0,$.of)(w):lt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,_n.b)({next:()=>Nt=!0,complete:()=>{Nt||(w.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,_n.b)(Ze=>{const Nt=new Ki(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(Nt)}))}),zt(oe=>{const Ze=Nt=>{const mn=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&mn.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,_n.b)(dn=>{Nt.component=dn}),(0,Ge.U)(()=>{})));for(const dn of Nt.children)mn.push(...Ze(dn));return mn};return(0,Ne.a)(Ze(oe.targetSnapshot.root)).pipe((0,It.d)(),(0,Rt.q)(1))}),zt(()=>this.afterPreactivation()),(0,Ge.U)(oe=>{const Ze=function Ia(I,S,w){const P=ca(I,S._root,w?w._root:void 0);return new hi(P,S)}(w.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return P={...oe,targetRouterState:Ze}}),(0,_n.b)(oe=>{w.currentUrlTree=oe.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),w.routerState=oe.targetRouterState,"deferred"===w.urlUpdateStrategy&&(oe.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,oe),w.browserUrlTree=oe.urlAfterRedirects)}),((I,S,w)=>(0,Ge.U)(P=>(new Er(S,P.targetRouterState,P.currentRouterState,w).activate(I),P)))(this.rootContexts,w.routeReuseStrategy,oe=>this.events.next(oe)),(0,Rt.q)(1),(0,_n.b)({next:oe=>{V=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Oe(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),w.titleStrategy?.updateTitle(oe.targetRouterState.snapshot),oe.resolve(!0)},complete:()=>{V=!0}}),(0,An.x)(()=>{V||J||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),Yt(oe=>{if(J=!0,ts(oe)){$i(oe)||(w.navigated=!0,w.restoreHistory(P,!0));const Ze=new Le(P.id,this.urlSerializer.serialize(P.extractedUrl),oe.message,oe.cancellationCode);if(this.events.next(Ze),$i(oe)){const Nt=w.urlHandlingStrategy.merge(oe.url,w.rawUrlTree),mn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||En(P.source)};w.scheduleNavigation(Nt,Zi,null,mn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{w.restoreHistory(P,!0);const Ze=new xt(P.id,this.urlSerializer.serialize(P.extractedUrl),oe,P.targetSnapshot??void 0);this.events.next(Ze);try{P.resolve(w.errorHandler(oe))}catch(Nt){P.reject(Nt)}}return lt.E}))}))}cancelNavigationTransition(w,P,V){const J=new Le(w.id,this.urlSerializer.serialize(w.extractedUrl),P,V);this.events.next(J),w.resolve(!1)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function En(I){return I!==Zi}let xa=(()=>{class I{buildTitle(w){let P,V=w.root;for(;void 0!==V;)P=this.getResolvedTitleForRoute(V)??P,V=V.children.find(J=>J.outlet===yt);return P}getResolvedTitleForRoute(w){return w.data[Nn]}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:function(){return(0,D.f3M)(on)},providedIn:"root"}),I})(),on=(()=>{class I extends xa{constructor(w){super(),this.title=w}updateTitle(w){const P=this.buildTitle(w);void 0!==P&&this.title.setTitle(P)}}return I.\u0275fac=function(w){return new(w||I)(D.LFG(yn.Dx))},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ct=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:function(){return(0,D.f3M)(uo)},providedIn:"root"}),I})();class Vt{shouldDetach(S){return!1}store(S,w){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,w){return S.routeConfig===w.routeConfig}}let uo=(()=>{class I extends Vt{}return I.\u0275fac=function(){let S;return function(P){return(S||(S=D.n5z(I)))(P||I)}}(),I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const To=new D.OlP("",{providedIn:"root",factory:()=>({})});let Ec=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:function(){return(0,D.f3M)(ls)},providedIn:"root"}),I})(),ls=(()=>{class I{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,P){return w}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Bl(I){throw I}function ya(I,S,w){return S.parse("/")}const Iu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,D.f3M)(D.c2e),this.isNgZoneEnabled=!1,this.options=(0,D.f3M)(To,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Bl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ya,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,D.f3M)(Ec),this.routeReuseStrategy=(0,D.f3M)(ct),this.urlCreationStrategy=(0,D.f3M)(la),this.titleStrategy=(0,D.f3M)(xa),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Lr((0,D.f3M)(jn,{optional:!0})??[]),this.navigationTransitions=(0,D.f3M)(tn),this.urlSerializer=(0,D.f3M)(ti),this.location=(0,D.f3M)(rt.Ye),this.isNgZoneEnabled=(0,D.f3M)(D.R0b)instanceof D.R0b&&D.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId??0},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,P,w.state)},0)}))}navigateToSyncWithBrowser(w,P,V){const J={replaceUrl:!0},oe=V?.navigationId?V:null;if(V){const Nt={...V};delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&(J.state=Nt)}const Ze=this.parseUrl(w);this.scheduleNavigation(Ze,P,oe,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:V,queryParams:J,fragment:oe,queryParamsHandling:Ze,preserveFragment:Nt}=P,mn=Nt?this.currentUrlTree.fragment:oe;let dn=null;switch(Ze){case"merge":dn={...this.currentUrlTree.queryParams,...J};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=J||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),this.urlCreationStrategy.createUrlTree(V,this.routerState,this.currentUrlTree,w,dn,mn??null)}navigateByUrl(w,P={skipLocationChange:!1}){const V=pn(w)?w:this.parseUrl(w),J=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(J,Zi,null,P)}navigate(w,P={skipLocationChange:!1}){return function Tu(I){for(let S=0;S<I.length;S++){const w=I[S];if(null==w)throw new D.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch(V){P=this.malformedUriErrorHandler(V,this.urlSerializer,w)}return P}isActive(w,P){let V;if(V=!0===P?{...Iu}:!1===P?{...jr}:P,pn(w))return Fn(this.currentUrlTree,w,V);const J=this.parseUrl(w);return Fn(this.currentUrlTree,J,V)}removeEmptyProps(w){return Object.keys(w).reduce((P,V)=>{const J=w[V];return null!=J&&(P[V]=J),P},{})}scheduleNavigation(w,P,V,J,oe){if(this.disposed)return Promise.resolve(!1);let Ze,Nt,mn,dn;return oe?(Ze=oe.resolve,Nt=oe.reject,mn=oe.promise):mn=new Promise((Qr,to)=>{Ze=Qr,Nt=to}),dn="computed"===this.canceledNavigationResolution?V&&V.\u0275routerPageId?V.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:dn,source:P,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:J,resolve:Ze,reject:Nt,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch(Qr=>Promise.reject(Qr))}setBrowserUrl(w,P){const V=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(V)||P.extras.replaceUrl){const oe={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(V,"",oe)}else{const J={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.go(V,"",J)}}restoreHistory(w,P=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Yn=(()=>{class I{constructor(w,P,V,J,oe,Ze){this.router=w,this.route=P,this.tabIndexAttribute=V,this.renderer=J,this.el=oe,this.locationStrategy=Ze,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kt.x;const Nt=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Nt||"area"===Nt,this.isAnchorElement?this.subscription=w.events.subscribe(mn=>{mn instanceof Oe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,D.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,D.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,D.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,P,V,J,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||P||V||J||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,D.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,P){const V=this.renderer,J=this.el.nativeElement;null!==P?V.setAttribute(J,w,P):V.removeAttribute(J,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(w){return new(w||I)(D.Y36(Ni),D.Y36(Ks),D.$8M("tabindex"),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(rt.S$))},I.\u0275dir=D.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,P){1&w&&D.NdJ("click",function(J){return P.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&w&&D.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[D.TTD]}),I})();class ui{}let Un=(()=>{class I{constructor(w,P,V,J,oe){this.router=w,this.injector=V,this.preloadingStrategy=J,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(w=>w instanceof Oe),(0,Ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const V=[];for(const J of P){J.providers&&!J._injector&&(J._injector=(0,D.MMx)(J.providers,w,`Route: ${J.path}`));const oe=J._injector??w,Ze=J._loadedInjector??oe;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&V.push(this.preloadConfig(oe,J)),(J.children||J._loadedRoutes)&&V.push(this.processRoutes(Ze,J.children??J._loadedRoutes))}return(0,a.D)(V).pipe((0,un.J)())}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>{let V;V=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(w,P):(0,$.of)(null);const J=V.pipe((0,Et.z)(oe=>null===oe?(0,$.of)(void 0):(P._loadedRoutes=oe.routes,P._loadedInjector=oe.injector,this.processRoutes(oe.injector??w,oe.routes))));if(P.loadComponent&&!P._loadedComponent){const oe=this.loader.loadComponent(P);return(0,a.D)([J,oe]).pipe((0,un.J)())}return J})}}return I.\u0275fac=function(w){return new(w||I)(D.LFG(Ni),D.LFG(D.Sil),D.LFG(D.lqb),D.LFG(ui),D.LFG(gt))},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Su=new D.OlP("");let tr=(()=>{class I{constructor(w,P,V,J,oe={}){this.urlSerializer=w,this.transitions=P,this.viewportScroller=V,this.zone=J,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof $e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Oe&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Zs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return I.\u0275fac=function(w){D.$Z()},I.\u0275prov=D.Yz7({token:I,factory:I.\u0275fac}),I})();var Pt=(()=>((Pt=Pt||{})[Pt.COMPLETE=0]="COMPLETE",Pt[Pt.FAILED=1]="FAILED",Pt[Pt.REDIRECTING=2]="REDIRECTING",Pt))();const Ls=!1;function Xs(I,S){return{\u0275kind:I,\u0275providers:S}}const Ya=new D.OlP("",{providedIn:"root",factory:()=>!1});function co(){const I=(0,D.f3M)(D.zs3);return S=>{const w=I.get(D.z2F);if(S!==w.components[0])return;const P=I.get(Ni),V=I.get(Ul);1===I.get(Vl)&&P.initialNavigation(),I.get(Ke,null,D.XFs.Optional)?.setUpPreloading(),I.get(Su,null,D.XFs.Optional)?.init(),P.resetRootComponentType(w.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const Ul=new D.OlP(Ls?"bootstrap done indicator":"",{factory:()=>new kt.x}),Vl=new D.OlP(Ls?"initial navigation":"",{providedIn:"root",factory:()=>1});function Zu(){let I=[];return I=Ls?[{provide:D.Xts,multi:!0,useFactory:()=>{const S=(0,D.f3M)(Ni);return()=>S.events.subscribe(w=>{console.group?.(`Router Event: ${w.constructor.name}`),console.log(function jo(I){if(!("type"in I))return`Unknown Router Event: ${I.constructor.name}`;switch(I.type){case 14:return`ActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state}, shouldActivate: ${I.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 2:return`NavigationCancel(id: ${I.id}, url: '${I.url}')`;case 16:return`NavigationSkipped(id: ${I.id}, url: '${I.url}')`;case 1:return`NavigationEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${I.id}, url: '${I.url}', error: ${I.error})`;case 0:return`NavigationStart(id: ${I.id}, url: '${I.url}')`;case 6:return`ResolveEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 5:return`ResolveStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 10:return`RouteConfigLoadEnd(path: ${I.route.path})`;case 9:return`RouteConfigLoadStart(path: ${I.route.path})`;case 4:return`RoutesRecognized(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 15:return`Scroll(anchor: '${I.anchor}', position: '${I.position?`${I.position[0]}, ${I.position[1]}`:null}')`}}(w)),console.log(w),console.groupEnd?.()})}}]:[],Xs(1,I)}const Ke=new D.OlP(Ls?"router preloader":"");function ea(I){return Xs(0,[{provide:Ke,useExisting:Un},{provide:ui,useExisting:I}])}const Ao=!1,yl=new D.OlP(Ao?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Qa=[rt.Ye,{provide:ti,useClass:er},Ni,Yi,{provide:Ks,useFactory:function Ka(I){return I.routerState.root},deps:[Ni]},gt,Ao?{provide:Ya,useValue:!0}:[]];function Ic(){return new D.PXZ("Router",Ni)}let Tc=(()=>{class I{constructor(w){}static forRoot(w,P){return{ngModule:I,providers:[Qa,Ao&&P?.enableTracing?Zu().\u0275providers:[],{provide:jn,multi:!0,useValue:w},{provide:yl,useFactory:Xa,deps:[[Ni,new D.FiY,new D.tp0]]},{provide:To,useValue:P||{}},P?.useHash?{provide:rt.S$,useClass:rt.Do}:{provide:rt.S$,useClass:rt.b0},{provide:Su,useFactory:()=>{const I=(0,D.f3M)(rt.EM),S=(0,D.f3M)(D.R0b),w=(0,D.f3M)(To),P=(0,D.f3M)(tn),V=(0,D.f3M)(ti);return w.scrollOffset&&I.setOffset(w.scrollOffset),new tr(V,P,I,S,w)}},P?.preloadingStrategy?ea(P.preloadingStrategy).\u0275providers:[],{provide:D.PXZ,multi:!0,useFactory:Ic},P?.initialNavigation?Mo(P):[],[{provide:gi,useFactory:co},{provide:D.tb,multi:!0,useExisting:gi}]]}}static forChild(w){return{ngModule:I,providers:[{provide:jn,multi:!0,useValue:w}]}}}return I.\u0275fac=function(w){return new(w||I)(D.LFG(yl,8))},I.\u0275mod=D.oAB({type:I}),I.\u0275inj=D.cJS({imports:[bo]}),I})();function Xa(I){if(Ao&&I)throw new D.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mo(I){return["disabled"===I.initialNavigation?Xs(3,[{provide:D.ip1,multi:!0,useFactory:()=>{const S=(0,D.f3M)(Ni);return()=>{S.setUpLocationChangeListener()}}},{provide:Vl,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Xs(2,[{provide:Vl,useValue:0},{provide:D.ip1,multi:!0,deps:[D.zs3],useFactory:S=>{const w=S.get(rt.V_,Promise.resolve());return()=>w.then(()=>new Promise(P=>{const V=S.get(Ni),J=S.get(Ul);(function Qs(I,S){I.events.pipe((0,Be.h)(w=>w instanceof Oe||w instanceof Le||w instanceof xt||w instanceof bt),(0,Ge.U)(w=>w instanceof Oe||w instanceof bt?Pt.COMPLETE:w instanceof Le&&(0===w.code||1===w.code)?Pt.REDIRECTING:Pt.FAILED),(0,Be.h)(w=>w!==Pt.REDIRECTING),(0,Rt.q)(1)).subscribe(()=>{S()})})(V,()=>{P(!0)}),S.get(tn).afterPreactivation=()=>(P(!0),J.closed?(0,$.of)(void 0):J),V.initialNavigation()}))}}]).\u0275providers:[]]}const gi=new D.OlP(Ao?"Router Initializer":"")},3942:(en,ke,j)=>{"use strict";j.d(ke,{Z:()=>mt});var D=j(2090),a=j(4859),$=j(6881),Ce=j(1877);class ye{constructor(Je,_t){this._delegate=Je,this.firebase=_t,(0,$._addComponent)(Je,new a.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Je,_t=$._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const kt=this._delegate.container.getProvider(Je);return!kt.isInitialized()&&"EXPLICIT"===(null===(De=kt.getComponent())||void 0===De?void 0:De.instantiationMode)&&kt.initialize(),kt.getImmediate({identifier:_t})}_removeServiceInstance(Je,_t=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(_t)}_addComponent(Je){(0,$._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,$._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ye(){const Dt=function be(Dt){const Je={},_t={__esModule:!0,initializeApp:function rt(St,Be={}){const Et=$.initializeApp(St,Be);if((0,D.r3)(Je,Et.name))return Je[Et.name];const ln=new Dt(Et,_t);return Je[Et.name]=ln,ln},app:kt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function pt(St){const Be=St.name,Et=Be.replace("-compat","");if($._registerComponent(St)&&"PUBLIC"===St.type){const ln=(Ct=kt())=>{if("function"!=typeof Ct[Et])throw Fe.create("invalid-app-argument",{appName:Be});return Ct[Et]()};void 0!==St.serviceProps&&(0,D.ZB)(ln,St.serviceProps),_t[Et]=ln,Dt.prototype[Et]=function(...Ct){return this._getService.bind(this,Be).apply(this,St.multipleInstances?Ct:[])}}return"PUBLIC"===St.type?_t[Et]:null},removeApp:function De(St){delete Je[St]},useAsService:function Rt(St,Be){return"serverAuth"===Be?null:Be},modularAPIs:$}};function kt(St){if(!(0,D.r3)(Je,St=St||$._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:St});return Je[St]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function Ge(){return Object.keys(Je).map(St=>Je[St])}}),kt.App=Dt,_t}(ye);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function Je(_t){(0,D.ZB)(Dt,_t)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),Dt}(),ve=new Ce.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const mt=he;!function lt(Dt){(0,$.registerVersion)("@firebase/app-compat","0.2.9",Dt)}()},6881:(en,ke,j)=>{"use strict";j.r(ke),j.d(ke,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>Ut,_apps:()=>Mn,_clearComponents:()=>Xn,_components:()=>Cn,_getProvider:()=>or,_registerComponent:()=>dr,_removeServiceInstance:()=>rn,deleteApp:()=>kr,getApp:()=>Ai,getApps:()=>Bn,initializeApp:()=>er,onLog:()=>nr,registerVersion:()=>lr,setLogLevel:()=>ni});var D=j(5861),a=j(4859),$=j(1877),Ce=j(2090);const ye=(Y,ae)=>ae.some(Ue=>Y instanceof Ue);let Ne,Fe;const he=new WeakMap,ve=new WeakMap,Me=new WeakMap,Qe=new WeakMap,lt=new WeakMap;let Je={get(Y,ae,Ue){if(Y instanceof IDBTransaction){if("done"===ae)return ve.get(Y);if("objectStoreNames"===ae)return Y.objectStoreNames||Me.get(Y);if("store"===ae)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return rt(Y[ae])},set:(Y,ae,Ue)=>(Y[ae]=Ue,!0),has:(Y,ae)=>Y instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in Y};function kt(Y){return"function"==typeof Y?function De(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...ae){return Y.apply(Ge(this),ae),rt(he.get(this))}:function(...ae){return rt(Y.apply(Ge(this),ae))}:function(ae,...Ue){const At=Y.call(Ge(this),ae,...Ue);return Me.set(At,ae.sort?ae.sort():[ae]),rt(At)}}(Y):(Y instanceof IDBTransaction&&function Dt(Y){if(ve.has(Y))return;const ae=new Promise((Ue,At)=>{const Wt=()=>{Y.removeEventListener("complete",gn),Y.removeEventListener("error",Kt),Y.removeEventListener("abort",Kt)},gn=()=>{Ue(),Wt()},Kt=()=>{At(Y.error||new DOMException("AbortError","AbortError")),Wt()};Y.addEventListener("complete",gn),Y.addEventListener("error",Kt),Y.addEventListener("abort",Kt)});ve.set(Y,ae)}(Y),ye(Y,function be(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,Je):Y)}function rt(Y){if(Y instanceof IDBRequest)return function mt(Y){const ae=new Promise((Ue,At)=>{const Wt=()=>{Y.removeEventListener("success",gn),Y.removeEventListener("error",Kt)},gn=()=>{Ue(rt(Y.result)),Wt()},Kt=()=>{At(Y.error),Wt()};Y.addEventListener("success",gn),Y.addEventListener("error",Kt)});return ae.then(Ue=>{Ue instanceof IDBCursor&&he.set(Ue,Y)}).catch(()=>{}),lt.set(ae,Y),ae}(Y);if(Qe.has(Y))return Qe.get(Y);const ae=kt(Y);return ae!==Y&&(Qe.set(Y,ae),lt.set(ae,Y)),ae}const Ge=Y=>lt.get(Y),St=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],Et=new Map;function ln(Y,ae){if(!(Y instanceof IDBDatabase)||ae in Y||"string"!=typeof ae)return;if(Et.get(ae))return Et.get(ae);const Ue=ae.replace(/FromIndex$/,""),At=ae!==Ue,Wt=Be.includes(Ue);if(!(Ue in(At?IDBIndex:IDBObjectStore).prototype)||!Wt&&!St.includes(Ue))return;const gn=function(){var Kt=(0,D.Z)(function*(rr,...Gn){const Dr=this.transaction(rr,Wt?"readwrite":"readonly");let di=Dr.store;return At&&(di=di.index(Gn.shift())),(yield Promise.all([di[Ue](...Gn),Wt&&Dr.done]))[0]});return function(Gn){return Kt.apply(this,arguments)}}();return Et.set(ae,gn),gn}!function _t(Y){Je=Y(Je)}(Y=>({...Y,get:(ae,Ue,At)=>ln(ae,Ue)||Y.get(ae,Ue,At),has:(ae,Ue)=>!!ln(ae,Ue)||Y.has(ae,Ue)}));class Ct{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function _n(Y){return"VERSION"===Y.getComponent()?.type}(Ue)){const At=Ue.getImmediate();return`${At.library}/${At.version}`}return null}).filter(Ue=>Ue).join(" ")}}const Yt="@firebase/app",ot=new $.Yd("@firebase/app"),Fn="[DEFAULT]",Zn={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,Cn=new Map;function Jt(Y,ae){try{Y.container.addComponent(ae)}catch(Ue){ot.debug(`Component ${ae.name} failed to register with FirebaseApp ${Y.name}`,Ue)}}function Ut(Y,ae){Y.container.addOrOverwriteComponent(ae)}function dr(Y){const ae=Y.name;if(Cn.has(ae))return ot.debug(`There were multiple attempts to register component ${ae}.`),!1;Cn.set(ae,Y);for(const Ue of Mn.values())Jt(Ue,Y);return!0}function or(Y,ae){const Ue=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Y.container.getProvider(ae)}function rn(Y,ae,Ue=Fn){or(Y,ae).clearInstance(Ue)}function Xn(){Cn.clear()}const _r=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(ae,Ue,At){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const ti="9.21.0";function er(Y,ae={}){let Ue=Y;"object"!=typeof ae&&(ae={name:ae});const At=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},ae),Wt=At.name;if("string"!=typeof Wt||!Wt)throw _r.create("bad-app-name",{appName:String(Wt)});if(Ue||(Ue=(0,Ce.aH)()),!Ue)throw _r.create("no-options");const gn=Mn.get(Wt);if(gn){if((0,Ce.vZ)(Ue,gn.options)&&(0,Ce.vZ)(At,gn.config))return gn;throw _r.create("duplicate-app",{appName:Wt})}const Kt=new a.H0(Wt);for(const Gn of Cn.values())Kt.addComponent(Gn);const rr=new Ln(Ue,At,Kt);return Mn.set(Wt,rr),rr}function Ai(Y=Fn){const ae=Mn.get(Y);if(!ae&&Y===Fn)return er();if(!ae)throw _r.create("no-app",{appName:Y});return ae}function Bn(){return Array.from(Mn.values())}function kr(Y){return Br.apply(this,arguments)}function Br(){return(Br=(0,D.Z)(function*(Y){const ae=Y.name;Mn.has(ae)&&(Mn.delete(ae),yield Promise.all(Y.container.getProviders().map(Ue=>Ue.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function lr(Y,ae,Ue){var At;let Wt=null!==(At=Zn[Y])&&void 0!==At?At:Y;Ue&&(Wt+=`-${Ue}`);const gn=Wt.match(/\s|\//),Kt=ae.match(/\s|\//);if(gn||Kt){const rr=[`Unable to register library "${Wt}" with version "${ae}":`];return gn&&rr.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),gn&&Kt&&rr.push("and"),Kt&&rr.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void ot.warn(rr.join(" "))}dr(new a.wA(`${Wt}-version`,()=>({library:Wt,version:ae}),"VERSION"))}function nr(Y,ae){if(null!==Y&&"function"!=typeof Y)throw _r.create("invalid-log-argument");(0,$.Am)(Y,ae)}function ni(Y){(0,$.Ub)(Y)}const Vr="firebase-heartbeat-database",Kr=1,Ee="firebase-heartbeat-store";let me=null;function ie(){return me||(me=function pt(Y,ae,{blocked:Ue,upgrade:At,blocking:Wt,terminated:gn}={}){const Kt=indexedDB.open(Y,ae),rr=rt(Kt);return At&&Kt.addEventListener("upgradeneeded",Gn=>{At(rt(Kt.result),Gn.oldVersion,Gn.newVersion,rt(Kt.transaction),Gn)}),Ue&&Kt.addEventListener("blocked",Gn=>Ue(Gn.oldVersion,Gn.newVersion,Gn)),rr.then(Gn=>{gn&&Gn.addEventListener("close",()=>gn()),Wt&&Gn.addEventListener("versionchange",Dr=>Wt(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),rr}(Vr,Kr,{upgrade:(Y,ae)=>{0===ae&&Y.createObjectStore(Ee)}}).catch(Y=>{throw _r.create("idb-open",{originalErrorMessage:Y.message})})),me}function X(){return(X=(0,D.Z)(function*(Y){try{return(yield ie()).transaction(Ee).objectStore(Ee).get(ge(Y))}catch(ae){if(ae instanceof Ce.ZR)ot.warn(ae.message);else{const Ue=_r.create("idb-get",{originalErrorMessage:ae?.message});ot.warn(Ue.message)}}})).apply(this,arguments)}function Se(Y,ae){return pe.apply(this,arguments)}function pe(){return(pe=(0,D.Z)(function*(Y,ae){try{const At=(yield ie()).transaction(Ee,"readwrite");return yield At.objectStore(Ee).put(ae,ge(Y)),At.done}catch(Ue){if(Ue instanceof Ce.ZR)ot.warn(Ue.message);else{const At=_r.create("idb-set",{originalErrorMessage:Ue?.message});ot.warn(At.message)}}})).apply(this,arguments)}function ge(Y){return`${Y.name}!${Y.options.appId}`}class it{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new pn(Ue),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var ae=this;return(0,D.Z)(function*(){const At=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=vt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!ae._heartbeatsCache.heartbeats.some(gn=>gn.date===Wt))return ae._heartbeatsCache.heartbeats.push({date:Wt,agent:At}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(gn=>{const Kt=new Date(gn.date).valueOf();return Date.now()-Kt<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,D.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Ue=vt(),{heartbeatsToSend:At,unsentEntries:Wt}=function vn(Y,ae=1024){const Ue=[];let At=Y.slice();for(const Wt of Y){const gn=Ue.find(Kt=>Kt.agent===Wt.agent);if(gn){if(gn.dates.push(Wt.date),nt(Ue)>ae){gn.dates.pop();break}}else if(Ue.push({agent:Wt.agent,dates:[Wt.date]}),nt(Ue)>ae){Ue.pop();break}At=At.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:At}}(ae._heartbeatsCache.heartbeats),gn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:At}));return ae._heartbeatsCache.lastSentHeartbeatDate=Ue,Wt.length>0?(ae._heartbeatsCache.heartbeats=Wt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),gn})()}}function vt(){return(new Date).toISOString().substring(0,10)}class pn{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,D.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function se(Y){return X.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Ue=this;return(0,D.Z)(function*(){var At;if(yield Ue._canUseIndexedDBPromise){const gn=yield Ue.read();return Se(Ue.app,{lastSentHeartbeatDate:null!==(At=ae.lastSentHeartbeatDate)&&void 0!==At?At:gn.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Ue=this;return(0,D.Z)(function*(){var At;if(yield Ue._canUseIndexedDBPromise){const gn=yield Ue.read();return Se(Ue.app,{lastSentHeartbeatDate:null!==(At=ae.lastSentHeartbeatDate)&&void 0!==At?At:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...ae.heartbeats]})}})()}}function nt(Y){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function Q(Y){dr(new a.wA("platform-logger",ae=>new Ct(ae),"PRIVATE")),dr(new a.wA("heartbeat",ae=>new it(ae),"PRIVATE")),lr(Yt,"0.9.9",Y),lr(Yt,"0.9.9","esm2017"),lr("fire-js","")}("")},4859:(en,ke,j)=>{"use strict";j.d(ke,{H0:()=>be,wA:()=>$});var D=j(5861),a=j(2090);class ${constructor(he,ve,Me){this.name=he,this.instanceFactory=ve,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ce="[DEFAULT]";class ye{constructor(he,ve){this.name=he,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ve=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ve)){const Me=new a.BH;if(this.instancesDeferred.set(ve,Me),this.isInitialized(ve)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ve});Qe&&Me.resolve(Qe)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(he){var ve;const Me=this.normalizeInstanceIdentifier(he?.identifier),Qe=null!==(ve=he?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(lt){if(Qe)return null;throw lt}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Fe(Ye){return"EAGER"===Ye.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ve,Me]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ve);try{const lt=this.getOrInitializeService({instanceIdentifier:Qe});Me.resolve(lt)}catch{}}}}clearInstance(he=Ce){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,D.Z)(function*(){const ve=Array.from(he.instances.values());yield Promise.all([...ve.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ve.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ce){return this.instances.has(he)}getOptions(he=Ce){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ve={}}=he,Me=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:Me,options:ve});for(const[lt,mt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(lt)&&mt.resolve(Qe);return Qe}onInit(he,ve){var Me;const Qe=this.normalizeInstanceIdentifier(ve),lt=null!==(Me=this.onInitCallbacks.get(Qe))&&void 0!==Me?Me:new Set;lt.add(he),this.onInitCallbacks.set(Qe,lt);const mt=this.instances.get(Qe);return mt&&he(mt,Qe),()=>{lt.delete(he)}}invokeOnInitCallbacks(he,ve){const Me=this.onInitCallbacks.get(ve);if(Me)for(const Qe of Me)try{Qe(he,ve)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ve={}}){let Me=this.instances.get(he);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=he,Ye===Ce?void 0:Ye),options:ve}),this.instances.set(he,Me),this.instancesOptions.set(he,ve),this.invokeOnInitCallbacks(Me,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Me)}catch{}var Ye;return Me||null}normalizeInstanceIdentifier(he=Ce){return this.component?this.component.multipleInstances?he:Ce:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ve=this.getProvider(he.name);if(ve.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ve.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ve=new ye(he,this);return this.providers.set(he,ve),ve}getProviders(){return Array.from(this.providers.values())}}},1877:(en,ke,j)=>{"use strict";j.d(ke,{Am:()=>Ye,Ub:()=>be,Yd:()=>Fe,in:()=>a});const D=[];var a=(()=>{return(he=a||(a={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",a;var he})();const $={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},Ce=a.INFO,ye={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},Ne=(he,ve,...Me)=>{if(ve<he.logLevel)return;const Qe=(new Date).toISOString(),lt=ye[ve];if(!lt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[lt](`[${Qe}]  ${he.name}:`,...Me)};class Fe{constructor(ve){this.name=ve,this._logLevel=Ce,this._logHandler=Ne,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in a))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?$[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...ve),this._logHandler(this,a.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...ve),this._logHandler(this,a.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,a.INFO,...ve),this._logHandler(this,a.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,a.WARN,...ve),this._logHandler(this,a.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...ve),this._logHandler(this,a.ERROR,...ve)}}function be(he){D.forEach(ve=>{ve.setLogLevel(he)})}function Ye(he,ve){for(const Me of D){let Qe=null;ve&&ve.level&&(Qe=$[ve.level]),Me.userLogHandler=null===he?null:(lt,mt,...Dt)=>{const Je=Dt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");mt>=(Qe??lt.logLevel)&&he({level:a[mt].toLowerCase(),message:Je,args:Dt,type:lt.name})}}}},259:(en,ke,j)=>{"use strict";j.d(ke,{C6:()=>D.getApps,KN:()=>D.registerVersion,Mq:()=>D.getApp,ZF:()=>D.initializeApp});var D=j(6881);(0,D.registerVersion)("firebase","9.21.0","app")},9260:(en,ke,j)=>{"use strict";j.d(ke,{Z:()=>D.Z});var D=j(3942);D.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(en,ke,j)=>{"use strict";j.r(ke);var D=j(5861),a=j(3942),$=j(8502),Ce=j(2090),Fe=(j(6881),j(1877),j(4859));function be(){return window}const Ye=2e3;function ve(){return ve=(0,D.Z)(function*(ie,se,X){var Se;const{BuildInfo:pe}=be();(0,$.as)(se.sessionId,"AuthEvent did not contain a session ID");const ge=yield function _t(ie){return De.apply(this,arguments)}(se.sessionId),ce={};return(0,$.at)()?ce.ibi=pe.packageName:(0,$.au)()?ce.apn=pe.packageName:(0,$.av)(ie,"operation-not-supported-in-this-environment"),pe.displayName&&(ce.appDisplayName=pe.displayName),ce.sessionId=ge,(0,$.aw)(ie,X,se.type,void 0,null!==(Se=se.eventId)&&void 0!==Se?Se:void 0,ce)}),ve.apply(this,arguments)}function Qe(){return(Qe=(0,D.Z)(function*(ie){const{BuildInfo:se}=be(),X={};(0,$.at)()?X.iosBundleId=se.packageName:(0,$.au)()?X.androidPackageName=se.packageName:(0,$.av)(ie,"operation-not-supported-in-this-environment"),yield(0,$.ax)(ie,X)})).apply(this,arguments)}function Dt(){return(Dt=(0,D.Z)(function*(ie,se,X){const{cordova:Se}=be();let pe=()=>{};try{yield new Promise((ge,ce)=>{let Pe=null;function it(){var pn;ge();const nt=null===(pn=Se.plugins.browsertab)||void 0===pn?void 0:pn.close;"function"==typeof nt&&nt(),"function"==typeof X?.close&&X.close()}function vt(){Pe||(Pe=window.setTimeout(()=>{ce((0,$.az)(ie,"redirect-cancelled-by-user"))},Ye))}function vn(){"visible"===document?.visibilityState&&vt()}se.addPassiveListener(it),document.addEventListener("resume",vt,!1),(0,$.au)()&&document.addEventListener("visibilitychange",vn,!1),pe=()=>{se.removePassiveListener(it),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",vn,!1),Pe&&window.clearTimeout(Pe)}})}finally{pe()}})).apply(this,arguments)}function De(){return(De=(0,D.Z)(function*(ie){const se=function kt(ie){if((0,$.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ie);const se=new ArrayBuffer(ie.length),X=new Uint8Array(se);for(let Se=0;Se<ie.length;Se++)X[Se]=ie.charCodeAt(Se);return X}(ie),X=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(X)).map(pe=>pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const rt=20;class Ge extends $.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(se)),super.onEvent(se)}initialized(){var se=this;return(0,D.Z)(function*(){yield se.initPromise})()}}function St(ie){return Be.apply(this,arguments)}function Be(){return(Be=(0,D.Z)(function*(ie){const se=yield Ct()._get(_n(ie));return se&&(yield Ct()._remove(_n(ie))),se})).apply(this,arguments)}function ln(){const ie=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<rt;X++){const Se=Math.floor(Math.random()*se.length);ie.push(se.charAt(Se))}return ie.join("")}function Ct(){return(0,$.aC)($.b)}function _n(ie){return(0,$.aD)("authEvent",ie.config.apiKey,ie.name)}function ot(ie){if(!ie?.includes("?"))return{};const[se,...X]=ie.split("?");return(0,Ce.zd)(X.join("?"))}const jt=class It{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(se){var X=this;return(0,D.Z)(function*(){const Se=se._key();let pe=X.eventManagers.get(Se);return pe||(pe=new Ge(se),X.eventManagers.set(Se,pe),X.attachCallbackListeners(se,pe)),pe})()}_openPopup(se){(0,$.av)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,X,Se,pe){var ge=this;return(0,D.Z)(function*(){!function Je(ie){var se,X,Se,pe,ge,ce,Pe,it,vt,vn;const pn=be();(0,$.aA)("function"==typeof(null===(se=pn?.universalLinks)||void 0===se?void 0:se.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aA)(typeof(null===(X=pn?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aA)("function"==typeof(null===(ge=null===(pe=null===(Se=pn?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===ge?void 0:ge.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(it=null===(Pe=null===(ce=pn?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===it?void 0:it.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(vn=null===(vt=pn?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===vn?void 0:vn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const ce=yield ge._initialize(se);yield ce.initialized(),ce.resetRedirect(),(0,$.aG)(),yield ge._originValidation(se);const Pe=function pt(ie,se,X=null){return{type:se,eventId:X,urlResponse:null,sessionId:ln(),postBody:null,tenantId:ie.tenantId,error:(0,$.az)(ie,"no-auth-event")}}(se,Se,pe);yield function Rt(ie,se){return Ct()._set(_n(ie),se)}(se,Pe);const it=yield function he(ie,se,X){return ve.apply(this,arguments)}(se,Pe,X),vt=yield function lt(ie){const{cordova:se}=be();return new Promise(X=>{se.plugins.browsertab.isAvailable(Se=>{let pe=null;Se?se.plugins.browsertab.openUrl(ie):pe=se.InAppBrowser.open(ie,(0,$.ay)()?"_blank":"_system","location=yes"),X(pe)})})}(it);return function mt(ie,se,X){return Dt.apply(this,arguments)}(se,ce,vt)})()}_isIframeWebStorageSupported(se,X){throw new Error("Method not implemented.")}_originValidation(se){const X=se._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function Me(ie){return Qe.apply(this,arguments)}(se)),this.originValidationPromises[X]}attachCallbackListeners(se,X){const{universalLinks:Se,handleOpenURL:pe,BuildInfo:ge}=be(),ce=setTimeout((0,D.Z)(function*(){yield St(se),X.onEvent(Tt())}),500),Pe=function(){var vn=(0,D.Z)(function*(pn){clearTimeout(ce);const nt=yield St(se);let Q=null;nt&&pn?.url&&(Q=function Et(ie,se){var X,Se;const pe=function st(ie){const se=ot(ie),X=se.link?decodeURIComponent(se.link):void 0,Se=ot(X).link,pe=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return ot(pe).link||pe||Se||X||ie}(se);if(pe.includes("/__/auth/callback")){const ge=ot(pe),ce=ge.firebaseError?function Yt(ie){try{return JSON.parse(ie)}catch{return null}}(decodeURIComponent(ge.firebaseError)):null,Pe=null===(Se=null===(X=ce?.code)||void 0===X?void 0:X.split("auth/"))||void 0===Se?void 0:Se[1],it=Pe?(0,$.az)(Pe):null;return it?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:pe,postBody:null}}return null}(nt,pn.url)),X.onEvent(Q||Tt())});return function(nt){return vn.apply(this,arguments)}}();typeof Se<"u"&&"function"==typeof Se.subscribe&&Se.subscribe(null,Pe);const it=pe,vt=`${ge.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var vn=(0,D.Z)(function*(pn){if(pn.toLowerCase().startsWith(vt)&&Pe({url:pn}),"function"==typeof it)try{it(pn)}catch(nt){console.error(nt)}});return function(pn){return vn.apply(this,arguments)}}()}};function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.az)("no-auth-event")}}const un=1e3;function yn(){var ie;return(null===(ie=self?.location)||void 0===ie?void 0:ie.protocol)||null}function Nn(ie=(0,Ce.z$)()){return!("file:"!==yn()&&"ionic:"!==yn()&&"capacitor:"!==yn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const ie=self.localStorage,se=$.aL();if(ie)return ie.setItem(se,"1"),ie.removeItem(se),!function Mr(ie=(0,Ce.z$)()){return function Jn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function Sr(ie=(0,Ce.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,Ce.hl)()}catch{return br()&&(0,Ce.hl)()}return!1}function br(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lr(){return(function yt(){return"http:"===yn()||"https:"===yn()}()||(0,Ce.ru)()||Nn())&&!function ir(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&cn()&&!br()}function qe(){return Nn()&&typeof document<"u"}function Ve(){return(Ve=(0,D.Z)(function*(){return!!qe()&&new Promise(ie=>{const se=setTimeout(()=>{ie(!1)},un);document.addEventListener("deviceready",()=>{clearTimeout(se),ie(!0)})})})).apply(this,arguments)}const Mt={LOCAL:"local",NONE:"none",SESSION:"session"},Lt=$.aA,xn="persistence";function Zn(ie){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,D.Z)(function*(ie){yield ie._initializationPromise;const se=Jt(),X=$.aD(xn,ie.config.apiKey,ie.name);se&&se.setItem(X,ie._getPersistence())})).apply(this,arguments)}function Jt(){var ie;try{return(null===(ie=function ze(){return typeof window<"u"?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch{return null}}const Ut=$.aA;class dr{constructor(){this.browserResolver=$.aC($.k),this.cordovaResolver=$.aC(jt),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(se){var X=this;return(0,D.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,X,Se,pe){var ge=this;return(0,D.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openPopup(se,X,Se,pe)})()}_openRedirect(se,X,Se,pe){var ge=this;return(0,D.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openRedirect(se,X,Se,pe)})()}_isIframeWebStorageSupported(se,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,X)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return qe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,D.Z)(function*(){if(se.underlyingResolver)return;const X=yield function xe(){return Ve.apply(this,arguments)}();se.underlyingResolver=X?se.cordovaResolver:se.browserResolver})()}}function or(ie){return ie.unwrap()}function Xn(ie){return _r(ie)}function _r(ie){const{_tokenResponse:se}=ie instanceof Ce.ZR?ie.customData:ie;if(!se)return null;if(!(ie instanceof Ce.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return $.P.credentialFromResult(ie);const X=se.providerId;if(!X||X===$.p.PASSWORD)return null;let Se;switch(X){case $.p.GOOGLE:Se=$.V;break;case $.p.FACEBOOK:Se=$.U;break;case $.p.GITHUB:Se=$.W;break;case $.p.TWITTER:Se=$.Z;break;default:const{oauthIdToken:pe,oauthAccessToken:ge,oauthTokenSecret:ce,pendingToken:Pe,nonce:it}=se;return ge||ce||pe||Pe?Pe?X.startsWith("saml.")?$.aO._create(X,Pe):$.L._fromParams({providerId:X,signInMethod:X,pendingToken:Pe,idToken:pe,accessToken:ge}):new $.X(X).credential({idToken:pe,accessToken:ge,rawNonce:it}):null}return ie instanceof Ce.ZR?Se.credentialFromError(ie):Se.credentialFromResult(ie)}function Ln(ie,se){return se.catch(X=>{throw X instanceof Ce.ZR&&function Pr(ie,se){var X;const Se=null===(X=se.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===se?.code)se.resolver=new Ai(ie,$.aq(ie,se));else if(Se){const pe=_r(se),ge=se;pe&&(ge.credential=pe,ge.tenantId=Se.tenantId||void 0,ge.email=Se.email||void 0,ge.phoneNumber=Se.phoneNumber||void 0)}}(ie,X),X}).then(X=>{const pe=X.user;return{operationType:X.operationType,credential:Xn(X),additionalUserInfo:$.ao(X),user:Bn.getOrCreate(pe)}})}function ti(ie,se){return er.apply(this,arguments)}function er(){return(er=(0,D.Z)(function*(ie,se){const X=yield se;return{verificationId:X.verificationId,confirm:Se=>Ln(ie,X.confirm(Se))}})).apply(this,arguments)}class Ai{constructor(se,X){this.resolver=X,this.auth=function rn(ie){return ie.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return Ln(or(this.auth),this.resolver.resolveSignIn(se))}}class Bn{constructor(se){this._delegate=se,this.multiFactor=$.ar(se)}static getOrCreate(se){return Bn.USER_MAP.has(se)||Bn.USER_MAP.set(se,new Bn(se)),Bn.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var X=this;return(0,D.Z)(function*(){return Ln(X.auth,$.a0(X._delegate,se))})()}linkWithPhoneNumber(se,X){var Se=this;return(0,D.Z)(function*(){return ti(Se.auth,$.l(Se._delegate,se,X))})()}linkWithPopup(se){var X=this;return(0,D.Z)(function*(){return Ln(X.auth,$.d(X._delegate,se,dr))})()}linkWithRedirect(se){var X=this;return(0,D.Z)(function*(){return yield Zn($.aH(X.auth)),$.g(X._delegate,se,dr)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var X=this;return(0,D.Z)(function*(){return Ln(X.auth,$.a1(X._delegate,se))})()}reauthenticateWithPhoneNumber(se,X){return ti(this.auth,$.r(this._delegate,se,X))}reauthenticateWithPopup(se){return Ln(this.auth,$.e(this._delegate,se,dr))}reauthenticateWithRedirect(se){var X=this;return(0,D.Z)(function*(){return yield Zn($.aH(X.auth)),$.h(X._delegate,se,dr)})()}sendEmailVerification(se){return $.ae(this._delegate,se)}unlink(se){var X=this;return(0,D.Z)(function*(){return yield $.an(X._delegate,se),X})()}updateEmail(se){return $.aj(this._delegate,se)}updatePassword(se){return $.ak(this._delegate,se)}updatePhoneNumber(se){return $.u(this._delegate,se)}updateProfile(se){return $.ai(this._delegate,se)}verifyBeforeUpdateEmail(se,X){return $.af(this._delegate,se,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const kr=$.aA;let Br=(()=>{class ie{constructor(X,Se){if(this.app=X,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pe}=X.options;kr(pe,"invalid-api-key",{appName:X.name}),kr(pe,"invalid-api-key",{appName:X.name});const ge=typeof window<"u"?dr:void 0;this._delegate=Se.initialize({options:{persistence:nr(pe,X.name),popupRedirectResolver:ge}}),this._delegate._updateErrorMap($.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,Se){$.I(this._delegate,X,Se)}applyActionCode(X){return $.a5(this._delegate,X)}checkActionCode(X){return $.a6(this._delegate,X)}confirmPasswordReset(X,Se){return $.a4(this._delegate,X,Se)}createUserWithEmailAndPassword(X,Se){var pe=this;return(0,D.Z)(function*(){return Ln(pe._delegate,$.a8(pe._delegate,X,Se))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return $.ad(this._delegate,X)}isSignInWithEmailLink(X){return $.ab(this._delegate,X)}getRedirectResult(){var X=this;return(0,D.Z)(function*(){kr(Lr(),X._delegate,"operation-not-supported-in-this-environment");const Se=yield $.j(X._delegate,dr);return Se?Ln(X._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function qt(ie,se){(0,$.aH)(ie)._logFramework(se)}(this._delegate,X)}onAuthStateChanged(X,Se,pe){const{next:ge,error:ce,complete:Pe}=lr(X,Se,pe);return this._delegate.onAuthStateChanged(ge,ce,Pe)}onIdTokenChanged(X,Se,pe){const{next:ge,error:ce,complete:Pe}=lr(X,Se,pe);return this._delegate.onIdTokenChanged(ge,ce,Pe)}sendSignInLinkToEmail(X,Se){return $.aa(this._delegate,X,Se)}sendPasswordResetEmail(X,Se){return $.a3(this._delegate,X,Se||void 0)}setPersistence(X){var Se=this;return(0,D.Z)(function*(){let pe;switch(function Fn(ie,se){Lt(Object.values(Mt).includes(se),ie,"invalid-persistence-type"),(0,Ce.b$)()?Lt(se!==Mt.SESSION,ie,"unsupported-persistence-type"):(0,Ce.UG)()?Lt(se===Mt.NONE,ie,"unsupported-persistence-type"):br()?Lt(se===Mt.NONE||se===Mt.LOCAL&&(0,Ce.hl)(),ie,"unsupported-persistence-type"):Lt(se===Mt.NONE||cn(),ie,"unsupported-persistence-type")}(Se._delegate,X),X){case Mt.SESSION:pe=$.a;break;case Mt.LOCAL:pe=(yield $.aC($.i)._isAvailable())?$.i:$.b;break;case Mt.NONE:pe=$.N;break;default:return $.av("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(pe)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Ln(this._delegate,$._(this._delegate))}signInWithCredential(X){return Ln(this._delegate,$.$(this._delegate,X))}signInWithCustomToken(X){return Ln(this._delegate,$.a2(this._delegate,X))}signInWithEmailAndPassword(X,Se){return Ln(this._delegate,$.a9(this._delegate,X,Se))}signInWithEmailLink(X,Se){return Ln(this._delegate,$.ac(this._delegate,X,Se))}signInWithPhoneNumber(X,Se){return ti(this._delegate,$.s(this._delegate,X,Se))}signInWithPopup(X){var Se=this;return(0,D.Z)(function*(){return kr(Lr(),Se._delegate,"operation-not-supported-in-this-environment"),Ln(Se._delegate,$.c(Se._delegate,X,dr))})()}signInWithRedirect(X){var Se=this;return(0,D.Z)(function*(){return kr(Lr(),Se._delegate,"operation-not-supported-in-this-environment"),yield Zn(Se._delegate),$.f(Se._delegate,X,dr)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return $.a7(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Mt,ie})();function lr(ie,se,X){let Se=ie;"function"!=typeof ie&&({next:Se,error:se,complete:X}=ie);const pe=Se;return{next:ce=>pe(ce&&Bn.getOrCreate(ce)),error:se,complete:X}}function nr(ie,se){const X=function Cn(ie,se){const X=Jt();if(!X)return[];const Se=$.aD(xn,ie,se);switch(X.getItem(Se)){case Mt.NONE:return[$.N];case Mt.LOCAL:return[$.i,$.a];case Mt.SESSION:return[$.a];default:return[]}}(ie,se);if(typeof self<"u"&&!X.includes($.i)&&X.push($.i),typeof window<"u")for(const Se of[$.b,$.a])X.includes(Se)||X.push(Se);return X.includes($.N)||X.push($.N),X}class ni{constructor(){this.providerId="phone",this._delegate=new $.P(or(a.Z.auth()))}static credential(se,X){return $.P.credential(se,X)}verifyPhoneNumber(se,X){return this._delegate.verifyPhoneNumber(se,X)}unwrap(){return this._delegate}}ni.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,ni.PROVIDER_ID=$.P.PROVIDER_ID;const Vr=$.aA;class Kr{constructor(se,X,Se=a.Z.app()){var pe;Vr(null===(pe=Se.options)||void 0===pe?void 0:pe.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new $.R(se,X,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function me(ie){ie.INTERNAL.registerComponent(new Fe.wA("auth-compat",se=>{const X=se.getProvider("app-compat").getImmediate(),Se=se.getProvider("auth");return new Br(X,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.Q,FacebookAuthProvider:$.U,GithubAuthProvider:$.W,GoogleAuthProvider:$.V,OAuthProvider:$.X,SAMLAuthProvider:$.Y,PhoneAuthProvider:ni,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:Kr,TwitterAuthProvider:$.Z,Auth:Br,AuthCredential:$.J,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.1")}(a.Z)},5861:(en,ke,j)=>{"use strict";function D($,Ce,ye,Ne,Fe,be,Ye){try{var he=$[be](Ye),ve=he.value}catch(Me){return void ye(Me)}he.done?Ce(ve):Promise.resolve(ve).then(Ne,Fe)}function a($){return function(){var Ce=this,ye=arguments;return new Promise(function(Ne,Fe){var be=$.apply(Ce,ye);function Ye(ve){D(be,Ne,Fe,Ye,he,"next",ve)}function he(ve){D(be,Ne,Fe,Ye,he,"throw",ve)}Ye(void 0)})}}j.d(ke,{Z:()=>a})}},en=>{var ke=D=>en(en.s=D);ke(1321),ke(2731)}]);