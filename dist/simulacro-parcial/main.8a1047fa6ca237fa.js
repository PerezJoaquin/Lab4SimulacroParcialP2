(self.webpackChunksimulacroParcial=self.webpackChunksimulacroParcial||[]).push([[179],{2011:(Tt,ue,$)=>{"use strict";$.d(ue,{Dh:()=>Pe,GT:()=>Te,cc:()=>qe,on:()=>He,pX:()=>he,xv:()=>Me});var l=$(4650),x=$(9260);Tt=$.hmd(Tt);const V=["ngOnDestroy"],he=(le,Ne,me,Ge={})=>new Proxy(le,{get:(Oe,De)=>me.runOutsideAngular(()=>{var xe;if(le[De])return!(null===(xe=Ge?.spy)||void 0===xe)&&xe.get&&Ge.spy.get(De,le[De]),le[De];if(V.indexOf(De)>-1)return()=>{};const Ze=Ne.toPromise().then($e=>{const se=$e&&$e[De];return"function"==typeof se?se.bind($e):se&&se.then?se.then(tt=>me.run(()=>tt)):me.run(()=>se)});return new Proxy(()=>{},{get:($e,se)=>Ze[se],apply:($e,se,tt)=>Ze.then(yt=>{var Qe;const tn=yt&&yt(...tt);return!(null===(Qe=Ge?.spy)||void 0===Qe)&&Qe.apply&&Ge.spy.apply(De,tt,tn),tn})})})}),Te=(le,Ne)=>{Ne.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Ge=>{Object.defineProperty(le.prototype,Ge,Object.getOwnPropertyDescriptor(me.prototype||me,Ge))})})};class ye{constructor(Ne){return Ne}}const Pe=new l.OlP("angularfire2.app.options"),Me=new l.OlP("angularfire2.app.name");function He(le,Ne,me){const Oe="object"==typeof me&&me||{};Oe.name=Oe.name||"string"==typeof me&&me||"[DEFAULT]";const xe=x.Z.apps.filter(Ze=>Ze&&Ze.name===Oe.name)[0]||Ne.runOutsideAngular(()=>x.Z.initializeApp(le,Oe));try{JSON.stringify(le)!==JSON.stringify(xe.options)&&W("error",`${xe.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(xe)}const W=(le,...Ne)=>{(0,l.X6Q)()&&typeof console<"u"&&console[le](...Ne)};function qe(le,Ne,me,Ge,Oe){const[,De,xe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===le)||[];if(De)return function Fe(le,Ne){try{return le.toString()===Ne.toString()}catch{return le===Ne}}(Oe,xe)||(et("error",`${Ne} was already initialized on the ${me} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),et("warn",{is:Oe,was:xe})),De;{const Ze=Ge();return globalThis.\u0275AngularfireInstanceCache.push([le,Ze,Oe]),Ze}}const rt=!!Tt.hot,et=(le,...Ne)=>{(0,l.X6Q)()&&typeof console<"u"&&console[le](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8502:(Tt,ue,$)=>{"use strict";$.d(ue,{$:()=>$t,A:()=>z,D:()=>Fe,I:()=>Bn,J:()=>Ir,L:()=>Ji,N:()=>Ci,P:()=>Jn,Q:()=>qs,R:()=>Su,U:()=>ph,V:()=>ql,W:()=>La,X:()=>Qi,Y:()=>Ba,Z:()=>hu,_:()=>Ua,a:()=>Ai,a0:()=>_h,a1:()=>za,a2:()=>yh,a3:()=>vh,a4:()=>Vi,a5:()=>pu,a6:()=>mu,a7:()=>Or,a8:()=>Io,a9:()=>us,aA:()=>se,aB:()=>rg,aC:()=>Ln,aD:()=>ci,aE:()=>Uh,aF:()=>ll,aG:()=>dc,aH:()=>yn,aL:()=>To,aO:()=>Zs,aa:()=>Ka,ab:()=>Vp,ac:()=>Up,ad:()=>_u,ae:()=>bh,af:()=>wh,ai:()=>Ns,aj:()=>$p,ak:()=>Rr,an:()=>mh,ao:()=>ec,aq:()=>At,ar:()=>rc,as:()=>yt,at:()=>Ot,au:()=>Ce,av:()=>Oe,aw:()=>zh,ax:()=>ig,ay:()=>Yt,az:()=>De,b:()=>Cu,c:()=>Vn,d:()=>Nu,e:()=>kh,f:()=>tg,g:()=>Vh,h:()=>B_,i:()=>Mh,j:()=>V_,k:()=>Uu,l:()=>Oh,m:()=>hl,o:()=>Fb,p:()=>Me,r:()=>Ob,s:()=>sl,u:()=>Xi});var l=$(5861),x=$(2090),V=$(6881),he=$(655),Te=$(1877),ye=$(4859);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new Te.Yd("@firebase/auth");function Ge(b,...p){Ne.logLevel<=Te.in.ERROR&&Ne.error(`Auth (${V.SDK_VERSION}): ${b}`,...p)}function Oe(b,...p){throw $e(b,...p)}function De(b,...p){return $e(b,...p)}function xe(b,p,_){const w=Object.assign(Object.assign({},rt()),{[p]:_});return new x.LL("auth","Firebase",w).create(p,{appName:b.name})}function Ze(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Oe(b,"argument-error"),xe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(b,...p){if("string"!=typeof b){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return et.create(b,...p)}function se(b,p,..._){if(!b)throw $e(p,..._)}function tt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ge(p),new Error(p)}function yt(b,p){b||tt(p)}function Qe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function tn(){return"http:"===dt()||"https:"===dt()}function dt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ie{constructor(p,_){this.shortDelay=p,this.longDelay=_,yt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tn()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(b,p){yt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Ke{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ht=new Ie(3e4,6e4);function ze(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Bt(b,p,_,w){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(b,p,_,w,M={}){return kt(b,M,(0,l.Z)(function*(){let P={},Y={};w&&("GET"===p?Y=w:P={body:JSON.stringify(w)});const ce=(0,x.xO)(Object.assign({key:b.config.apiKey},Y)).slice(1),We=yield b._getAdditionalHeaders();return We["Content-Type"]="application/json",b.languageCode&&(We["X-Firebase-Locale"]=b.languageCode),Ke.fetch()(On(b,b.config.apiHost,_,ce),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function kt(b,p,_){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},je),p);try{const M=new wr(b),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw jn(b,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const ce=P.ok?Y.errorMessage:Y.error.message,[We,it]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw jn(b,"credential-already-in-use",Y);if("EMAIL_EXISTS"===We)throw jn(b,"email-already-in-use",Y);if("USER_DISABLED"===We)throw jn(b,"user-disabled",Y);const It=w[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw xe(b,It,it);Oe(b,It)}}catch(M){if(M instanceof x.ZR)throw M;Oe(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function qt(b,p,_,w){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(b,p,_,w,M={}){const P=yield Bt(b,p,_,w,M);return"mfaPendingCredential"in P&&Oe(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function On(b,p,_,w){const M=`${p}${_}?${w}`;return b.config.emulator?Se(b.config,M):`${b.config.apiScheme}://${M}`}class wr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(De(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(b,p,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=De(b,p,w);return M.customData._tokenResponse=_,M}function Fn(){return(Fn=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function re(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function sn(){return(sn=(0,l.Z)(function*(b,p=!1){const _=(0,x.m9)(b),w=yield _.getIdToken(p),M=Ht(w);se(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,Y=P?.sign_in_provider;return{claims:M,token:w,authTime:re(zt(M.auth_time)),issuedAtTime:re(zt(M.iat)),expirationTime:re(zt(M.exp)),signInProvider:Y||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(b){return 1e3*Number(b)}function Ht(b){const[p,_,w]=b.split(".");if(void 0===p||void 0===_||void 0===w)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,x.tV)(_);return M?JSON.parse(M):(Ge("Failed to decode base64 JWT payload"),null)}catch(M){return Ge("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Gt(b,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof x.ZR&&function Je({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class xn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class In{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=re(this.lastLoginAt),this.creationTime=re(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(b){return gn.apply(this,arguments)}function gn(){return gn=(0,l.Z)(function*(b){var p;const _=b.auth,w=yield b.getIdToken(),M=yield Gt(b,function K(b,p){return ie.apply(this,arguments)}(_,{idToken:w}));se(M?.users.length,_,"internal-error");const P=M.users[0];b._notifyReloadListener(P);const Y=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function ri(b){return b.map(p=>{var{providerId:_}=p,w=(0,he._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(P.providerUserInfo):[],ce=function Zt(b,p){return[...b.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}(b.providerData,Y),It=!!b.isAnonymous&&!(b.email&&P.passwordHash||ce?.length),Wt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ce,metadata:new In(P.createdAt,P.lastLoginAt),isAnonymous:It};Object.assign(b,Wt)}),gn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(b){const p=(0,x.m9)(b);yield Sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,p){const _=yield kt(b,{},(0,l.Z)(function*(){const w=(0,x.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:P}=b.config,Y=On(b,M,"/v1/token",`key=${P}`),ce=yield b._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Y,{method:"POST",headers:ce,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(typeof p.idToken<"u","internal-error"),se(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function xt(b){const p=Ht(b);return se(p,"internal-error"),se(typeof p.exp<"u","internal-error"),se(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return se(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:Y}=yield function on(b,p){return Es.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(M,P,Number(Y))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:M,expirationTime:P}=_,Y=new Kt;return w&&(se("string"==typeof w,"internal-error",{appName:p}),Y.refreshToken=w),M&&(se("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),P&&(se("number"==typeof P,"internal-error",{appName:p}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return tt("not implemented")}}function Kn(b,p){se("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class tr{constructor(p){var{uid:_,auth:w,stsTokenManager:M}=p,P=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new In(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield Gt(_,_.stsTokenManager.getToken(_.auth,p));return se(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function Ye(b){return sn.apply(this,arguments)}(this,p)}reload(){return function Gn(b){return Rn.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new tr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield Sn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield Gt(p,function Rt(b,p){return Fn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,M,P,Y,ce,We,it,It;const Wt=null!==(w=_.displayName)&&void 0!==w?w:void 0,pi=null!==(M=_.email)&&void 0!==M?M:void 0,ks=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,Hu=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,Lb=null!==(ce=_.tenantId)&&void 0!==ce?ce:void 0,pl=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,Gu=null!==(it=_.createdAt)&&void 0!==it?it:void 0,dg=null!==(It=_.lastLoginAt)&&void 0!==It?It:void 0,{uid:Wh,emailVerified:Ic,isAnonymous:zu,providerData:Ec,stsTokenManager:ga}=_;se(Wh&&ga,p,"internal-error");const Wu=Kt.fromJSON(this.name,ga);se("string"==typeof Wh,p,"internal-error"),Kn(Wt,p.name),Kn(pi,p.name),se("boolean"==typeof Ic,p,"internal-error"),se("boolean"==typeof zu,p,"internal-error"),Kn(ks,p.name),Kn(Hu,p.name),Kn(Lb,p.name),Kn(pl,p.name),Kn(Gu,p.name),Kn(dg,p.name);const qh=new tr({uid:Wh,auth:p,email:pi,emailVerified:Ic,displayName:Wt,isAnonymous:zu,photoURL:Hu,phoneNumber:ks,tenantId:Lb,stsTokenManager:Wu,createdAt:Gu,lastLoginAt:dg});return Ec&&Array.isArray(Ec)&&(qh.providerData=Ec.map(Zh=>Object.assign({},Zh))),pl&&(qh._redirectEventId=pl),qh}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const M=new Kt;M.updateFromServerResponse(_);const P=new tr({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Sn(P),P})()}}const Wr=new Map;function Ln(b){yt(b instanceof Function,"Expected a class definition");let p=Wr.get(b);return p?(yt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Wr.set(b,p),p)}const Ci=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,l.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function ci(b,p,_){return`firebase:${b}:${p}:${_}`}class G{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:M,name:P}=this.auth;this.fullUserKey=ci(this.userKey,M.apiKey,P),this.fullPersistenceKey=ci("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?tr._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new G(Ln(Ci),p,w);const M=(yield Promise.all(_.map(function(){var it=(0,l.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return it.apply(this,arguments)}}()))).filter(it=>it);let P=M[0]||Ln(Ci);const Y=ci(w,p.config.apiKey,p.name);let ce=null;for(const it of _)try{const It=yield it._get(Y);if(It){const Wt=tr._fromJSON(p,It);it!==P&&(ce=Wt),P=it;break}}catch{}const We=M.filter(it=>it._shouldAllowMigration);return P._shouldAllowMigration&&We.length?(P=We[0],ce&&(yield P._set(Y,ce.toJSON())),yield Promise.all(_.map(function(){var it=(0,l.Z)(function*(It){if(It!==P)try{yield It._remove(Y)}catch{}});return function(It){return it.apply(this,arguments)}}())),new G(P,p,w)):new G(P,p,w)})()}}function H(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ut(p))return"Blackberry";if(Pt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(Ce(p))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function k(b=(0,x.z$)()){return/firefox\//i.test(b)}function L(b=(0,x.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(b=(0,x.z$)()){return/crios\//i.test(b)}function q(b=(0,x.z$)()){return/iemobile/i.test(b)}function Ce(b=(0,x.z$)()){return/android/i.test(b)}function ut(b=(0,x.z$)()){return/blackberry/i.test(b)}function Pt(b=(0,x.z$)()){return/webos/i.test(b)}function Ot(b=(0,x.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Yt(b=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function jt(b=(0,x.z$)()){return Ot(b)||Ce(b)||Pt(b)||ut(b)||/windows phone/i.test(b)||q(b)}function Ts(b,p=[]){let _;switch(b){case"Browser":_=H((0,x.z$)());break;case"Worker":_=`${H((0,x.z$)())}-${b}`;break;default:_=b}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${V.SDK_VERSION}/${w}`}function ee(){return(ee=(0,l.Z)(function*(b){return(yield Bt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Be(b,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(b,p){return Bt(b,"GET","/v2/recaptchaConfig",ze(b,p))})).apply(this,arguments)}function Vt(b){return void 0!==b&&void 0!==b.getResponse}function nn(b){return void 0!==b&&void 0!==b.enterprise}class Ct{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function un(b){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=p,w.onerror=M=>{const P=De("internal-error");P.customData=M,_(P)},w.type="text/javascript",w.charset="UTF-8",function _n(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(w)})}function Dr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const oh="NO_RECAPTCHA";class po{constructor(p){this.type="recaptcha-enterprise",this.auth=yn(p)}verify(p="verify",_=!1){var w=this;return(0,l.Z)(function*(){function P(){return P=(0,l.Z)(function*(ce){if(!_){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var We=(0,l.Z)(function*(it,It){Be(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wt=>{if(void 0!==Wt.recaptchaKey){const pi=new Ct(Wt);return null==ce.tenantId?ce._agentRecaptchaConfig=pi:ce._tenantRecaptchaConfigs[ce.tenantId]=pi,it(pi.siteKey)}It(new Error("recaptcha Enterprise site key undefined"))}).catch(Wt=>{It(Wt)})});return function(it,It){return We.apply(this,arguments)}}())}),P.apply(this,arguments)}function Y(ce,We,it){const It=window.grecaptcha;nn(It)?It.enterprise.ready(()=>{It.enterprise.execute(ce,{action:p}).then(Wt=>{We(Wt)}).catch(()=>{We(oh)})}):it(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,We)=>{(function M(ce){return P.apply(this,arguments)})(w.auth).then(it=>{if(!_&&nn(window.grecaptcha))Y(it,ce,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));un("https://www.google.com/recaptcha/enterprise.js?render="+it).then(()=>{Y(it,ce,We)}).catch(It=>{We(It)})}}).catch(it=>{We(it)})})})()}}function gr(b,p,_){return at.apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(b,p,_,w=!1){const M=new po(b);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const Y=Object.assign({},p);return Object.assign(Y,w?{captchaResp:P}:{captchaResponse:P}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class Jt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=P=>new Promise((Y,ce)=>{try{Y(p(P))}catch(We){ce(We)}});w.onAbort=_,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const M of _.queue)yield M(p),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const P of w)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class zn{constructor(p,_,w,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new Jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=Ln(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,P;if(!w._deleted&&(w.persistenceManager=yield G.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const M=yield _.assertedPersistence.getCurrentUser();let P=M,Y=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ce=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,We=P?._redirectEventId,it=yield _.tryRedirectSignIn(p);(!ce||ce===We)&&it?.user&&(P=it.user,Y=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(P)}catch(ce){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ce))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield Sn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,x.m9)(p):null;return w&&se(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&se(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Ln(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield Be(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ct(_);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new po(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new x.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&Ln(p)||_._popupRedirectResolver;se(w,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[Ln(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return se(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof _?p.addObserver(_,w,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ts(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(w["X-Firebase-Client"]=M);const P=yield p._getAppCheckToken();return P&&(w["X-Firebase-AppCheck"]=P),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const w=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function me(b,...p){Ne.logLevel<=Te.in.WARN&&Ne.warn(`Auth (${V.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function yn(b){return(0,x.m9)(b)}class Yi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,x.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bn(b,p,_){const w=yn(b);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=Zo(p),{host:Y,port:ce}=function _r(b){const p=Zo(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const P=M[1];return{host:P,port:Qt(w.substr(P.length+1))}}{const[P,Y]=w.split(":");return{host:P,port:Qt(Y)}}}(p);w.config.emulator={url:`${P}//${Y}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Y,port:ce,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ka(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Zo(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Qt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Ir{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return tt("not implemented")}_getIdTokenResponse(p){return tt("not implemented")}_linkToIdToken(p,_){return tt("not implemented")}_getReauthenticationResolver(p){return tt("not implemented")}}function go(b,p){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:resetPassword",ze(b,p))})).apply(this,arguments)}function cr(b,p){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",ze(b,p))})).apply(this,arguments)}function Gs(b,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithPassword",ze(b,p))})).apply(this,arguments)}function Mn(b,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:sendOobCode",ze(b,p))})).apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(b,p){return Mn(b,p)})).apply(this,arguments)}function Ws(b,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(b,p){return Mn(b,p)})).apply(this,arguments)}function Ss(b,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(b,p){return Mn(b,p)})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(b,p){return Mn(b,p)})).apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,p))})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,p))})).apply(this,arguments)}class Nr extends Ir{constructor(p,_,w,M=null){super("password",w),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Nr(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Nr(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var w;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const P=yield gr(p,M,"signInWithPassword");return Gs(p,P)}return Gs(p,M).catch(function(){var P=(0,l.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ce=yield gr(p,M,"signInWithPassword");return Gs(p,ce)}return Promise.reject(Y)});return function(Y){return P.apply(this,arguments)}}());case"emailLink":return function Li(b,p){return Ko.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Oe(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return cr(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Yo(b,p){return _o.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Oe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function cs(b,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithIdp",ze(b,p))})).apply(this,arguments)}class Ji extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ji(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=_,P=(0,he._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const Y=new Ji(w,M);return Y.idToken=P.idToken||void 0,Y.accessToken=P.accessToken||void 0,Y.secret=P.secret,Y.nonce=P.nonce,Y.pendingToken=P.pendingToken||null,Y}_getIdTokenResponse(p){return cs(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,cs(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,cs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,x.xO)(_)}return p}}function yo(){return(yo=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:sendVerificationCode",ze(b,p))})).apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,p))})).apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(b,p){const _=yield qt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,p));if(_.temporaryProof)throw jn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const zl={USER_NOT_FOUND:"user-not-found"};function uh(){return(uh=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zl)})).apply(this,arguments)}class Qo extends Ir{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Qo({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Qo({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function lh(b,p){return uu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ch(b,p){return Gl.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Wl(b,p){return uh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:P}=p;return w||_||M||P?new Qo({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:P}):null}}class vo{constructor(p){var _,w,M,P,Y,ce;const We=(0,x.zd)((0,x.pd)(p)),it=null!==(_=We.apiKey)&&void 0!==_?_:null,It=null!==(w=We.oobCode)&&void 0!==w?w:null,Wt=function dh(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=We.mode)&&void 0!==M?M:null);se(it&&It&&Wt,"argument-error"),this.apiKey=it,this.operation=Wt,this.code=It,this.continueUrl=null!==(P=We.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=We.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ce=We.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const _=function hh(b){const p=(0,x.zd)((0,x.pd)(b)).link,_=p?(0,x.zd)((0,x.pd)(p)).deep_link_id:null,w=(0,x.zd)((0,x.pd)(b)).deep_link_id;return(w?(0,x.zd)((0,x.pd)(w)).link:null)||w||_||p||b}(p);try{return new vo(_)}catch{return null}}}let qs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Nr._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=vo.parseLink(w);return se(M,"argument-error"),Nr._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ms{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class bo extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Qi extends bo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return se("providerId"in _&&"signInMethod"in _,"argument-error"),Ji._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Qi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Qi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:P,nonce:Y,providerId:ce}=p;if(!w&&!M&&!_&&!P||!ce)return null;try{return new Qi(ce)._credential({idToken:_,accessToken:w,nonce:Y,pendingToken:P})}catch{return null}}}let ph=(()=>{class b extends bo{constructor(){super("facebook.com")}static credential(_){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ql=(()=>{class b extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return b.credential(w,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),La=(()=>{class b extends bo{constructor(){super("github.com")}static credential(_){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Zs extends Ir{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return cs(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,cs(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,cs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:P}=_;return w&&M&&P&&w===M?new Zs(w,P):null}static _create(p,_){return new Zs(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ba extends Ms{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ba.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ba.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Zs.fromJSON(p);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Zs._create(w,_)}catch{return null}}}let hu=(()=>{class b extends bo{constructor(){super("twitter.com")}static credential(_,w){return Ji._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return b.credential(w,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Xo(b,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signUp",ze(b,p))})).apply(this,arguments)}class Wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,M=!1){return(0,l.Z)(function*(){const P=yield tr._fromIdTokenResponse(p,w,M),Y=Va(w);return new Wn({user:P,providerId:Y,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Va(w);return new Wn({user:p,providerId:M,_tokenResponse:w,operationType:_})})()}}function Va(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ua(b){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(b){var p;const _=yn(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Wn({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Xo(_,{returnSecureToken:!0}),M=yield Wn._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ti extends x.ZR{constructor(p,_,w,M){var P;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Ti.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,M){return new Ti(p,_,w,M)}}function ta(b,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ti._fromErrorAndOperation(b,P,p,w):P})}function Tr(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function mh(b,p){return $a.apply(this,arguments)}function $a(){return $a=(0,l.Z)(function*(b,p){const _=(0,x.m9)(b);yield ja(!0,_,p);const{providerUserInfo:w}=yield function Hn(b,p){return te.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Tr(w||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),$a.apply(this,arguments)}function Ks(b,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(b,p,_=!1){const w=yield Gt(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Wn._forOperation(b,"link",w)})).apply(this,arguments)}function ja(b,p,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(b,p,_){yield Sn(p);const M=!1===b?"provider-already-linked":"no-such-provider";se(Tr(p.providerData).has(_)===b,p.auth,M)})).apply(this,arguments)}function fu(b,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(b,p,_=!1){const{auth:w}=b,M="reauthenticate";try{const P=yield Gt(b,ta(w,M,p,b),_);se(P.idToken,w,"internal-error");const Y=Ht(P.idToken);se(Y,w,"internal-error");const{sub:ce}=Y;return se(b.uid===ce,w,"user-mismatch"),Wn._forOperation(b,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Oe(w,"user-mismatch"),P}})).apply(this,arguments)}function Ha(b,p){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(b,p,_=!1){const w="signIn",M=yield ta(b,w,p),P=yield Wn._fromIdTokenResponse(b,w,M);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function $t(b,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(b,p){return Ha(yn(b),p)})).apply(this,arguments)}function _h(b,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(b,p){const _=(0,x.m9)(b);return yield ja(!1,_,p.providerId),Ks(_,p)})).apply(this,arguments)}function za(b,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(b,p){return fu((0,x.m9)(b),p)})).apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(b,p){return qt(b,"POST","/v1/accounts:signInWithCustomToken",ze(b,p))})).apply(this,arguments)}function yh(b,p){return we.apply(this,arguments)}function we(){return we=(0,l.Z)(function*(b,p){const _=yn(b),w=yield function Kl(b,p){return qa.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Wn._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M}),we.apply(this,arguments)}class cn{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Do._fromServerResponse(p,_):"totpInfo"in _?Yl._fromServerResponse(p,_):Oe(p,"internal-error")}}class Do extends cn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Do(_)}}class Yl extends cn{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Yl(_)}}function Yn(b,p,_){var w;se((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),se(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function vh(b,p,_){return Co.apply(this,arguments)}function Co(){return Co=(0,l.Z)(function*(b,p,_){var w;const M=yn(b),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield gr(M,P,"getOobCode",!0);_&&Yn(M,Y,_),yield Ws(M,Y)}else _&&Yn(M,P,_),yield Ws(M,P).catch(function(){var Y=(0,l.Z)(function*(ce){if("auth/missing-recaptcha-token"!==ce.code)return Promise.reject(ce);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const We=yield gr(M,P,"getOobCode",!0);_&&Yn(M,We,_),yield Ws(M,We)}});return function(ce){return Y.apply(this,arguments)}}())}),Co.apply(this,arguments)}function Vi(b,p,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(b,p,_){yield go((0,x.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function pu(b,p){return gu.apply(this,arguments)}function gu(){return gu=(0,l.Z)(function*(b,p){yield function Hs(b,p){return Ii.apply(this,arguments)}((0,x.m9)(b),{oobCode:p})}),gu.apply(this,arguments)}function mu(b,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(b,p){const _=(0,x.m9)(b),w=yield go(_,{oobCode:p}),M=w.requestType;switch(se(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,_,"internal-error");default:se(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=cn._fromServerResponse(yn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function Or(b,p){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b,p){const{data:_}=yield mu((0,x.m9)(b),p);return _.email})).apply(this,arguments)}function Io(b,p,_){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,l.Z)(function*(b,p,_){var w;const M=yn(b),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const it=yield gr(M,P,"signUpPassword");Y=Xo(M,it)}else Y=Xo(M,P).catch(function(){var it=(0,l.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wt=yield gr(M,P,"signUpPassword");return Xo(M,Wt)}return Promise.reject(It)});return function(It){return it.apply(this,arguments)}}());const ce=yield Y.catch(it=>Promise.reject(it)),We=yield Wn._fromIdTokenResponse(M,"signIn",ce);return yield M._updateCurrentUser(We.user),We}),Ys.apply(this,arguments)}function us(b,p,_){return $t((0,x.m9)(b),qs.credential(p,_))}function Ka(b,p,_){return ia.apply(this,arguments)}function ia(){return ia=(0,l.Z)(function*(b,p,_){var w;const M=yn(b),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Y(ce,We){se(We.handleCodeInApp,M,"argument-error"),We&&Yn(M,ce,We)}if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ce=yield gr(M,P,"getOobCode",!0);Y(ce,_),yield Ss(M,ce)}else Y(P,_),yield Ss(M,P).catch(function(){var ce=(0,l.Z)(function*(We){if("auth/missing-recaptcha-token"!==We.code)return Promise.reject(We);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield gr(M,P,"getOobCode",!0);Y(it,_),yield Ss(M,it)}});return function(We){return ce.apply(this,arguments)}}())}),ia.apply(this,arguments)}function Vp(b,p){return"EMAIL_SIGNIN"===vo.parseLink(p)?.operation}function Up(b,p,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b),M=qs.credentialWithLink(p,_||Qe());return se(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),$t(w,M)})).apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:createAuthUri",ze(b,p))})).apply(this,arguments)}function _u(b,p){return yu.apply(this,arguments)}function yu(){return yu=(0,l.Z)(function*(b,p){const w={identifier:p,continueUri:tn()?Qe():"http://localhost"},{signinMethods:M}=yield function oa(b,p){return Jl.apply(this,arguments)}((0,x.m9)(b),w);return M||[]}),yu.apply(this,arguments)}function bh(b,p){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,l.Z)(function*(b,p){const _=(0,x.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Yn(_.auth,M,p);const{email:P}=yield function zs(b,p){return Fa.apply(this,arguments)}(_.auth,M);P!==b.email&&(yield b.reload())}),Ya.apply(this,arguments)}function wh(b,p,_){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Yn(w.auth,P,_);const{email:Y}=yield function Lp(b,p){return qr.apply(this,arguments)}(w.auth,P);Y!==b.email&&(yield b.reload())}),Ql.apply(this,arguments)}function Xl(){return(Xl=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ns(b,p){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,x.m9)(b),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Y=yield Gt(w,function Dh(b,p){return Xl.apply(this,arguments)}(w.auth,P));w.displayName=Y.displayName||null,w.photoURL=Y.photoUrl||null;const ce=w.providerData.find(({providerId:We})=>"password"===We);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Y)}),Ja.apply(this,arguments)}function $p(b,p){return xs((0,x.m9)(b),p,null)}function Rr(b,p){return xs((0,x.m9)(b),null,p)}function xs(b,p,_){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(b,p,_){const{auth:w}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const Y=yield Gt(b,cr(w,P));yield b._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Eo{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class vu extends Eo{constructor(p,_,w,M){super(p,_,w),this.username=M}}class jp extends Eo{constructor(p,_){super(p,"facebook.com",_)}}class Hp extends vu{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ds extends Eo{constructor(p,_){super(p,"google.com",_)}}class Os extends vu{constructor(p,_,w){super(p,"twitter.com",_,w)}}function ec(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ch(b){var p,_;if(!b)return null;const{providerId:w}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const Y=null===(_=null===(p=Ht(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new Eo(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!w)return null;switch(w){case"facebook.com":return new jp(P,M);case"github.com":return new Hp(P,M);case"google.com":return new ds(P,M);case"twitter.com":return new Os(P,M,b.screenName||null);case"custom":case"anonymous":return new Eo(P,null);default:return new Eo(P,w,M)}}(_)}class j{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new j("enroll",p,_)}static _fromMfaPendingCredential(p){return new j("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return j._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return j._fromIdtoken(p.multiFactorSession.idToken)}return null}}class be{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=yn(p),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(ce=>cn._fromServerResponse(w,ce));se(M.mfaPendingCredential,w,"internal-error");const Y=j._fromMfaPendingCredential(M.mfaPendingCredential);return new be(Y,P,function(){var ce=(0,l.Z)(function*(We){const it=yield We._process(w,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const It=Object.assign(Object.assign({},M),{idToken:it.idToken,refreshToken:it.refreshToken});switch(_.operationType){case"signIn":const Wt=yield Wn._fromIdTokenResponse(w,_.operationType,It);return yield w._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return se(_.user,w,"internal-error"),Wn._forOperation(_.user,_.operationType,It);default:Oe(w,"internal-error")}});return function(We){return ce.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function At(b,p){var _;const w=(0,x.m9)(b),M=p;return se(p.customData.operationType,w,"argument-error"),se(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),be._fromError(w,M)}class Xa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>cn._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Xa(p)}getSession(){var p=this;return(0,l.Z)(function*(){return j._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const M=p,P=yield w.getSession(),Y=yield Gt(w.user,M._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(Y),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const P=yield Gt(_.user,function hs(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(b,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==w),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const nc=new WeakMap;function rc(b){const p=(0,x.m9)(b);return nc.has(p)||nc.set(p,Xa._fromUser(p)),nc.get(p)}const Du="__sak";class ic{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cu=(()=>{class b extends ic{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ih(){const b=(0,x.z$)();return L(b)||Ot(b)}()&&function nr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),P=this.localCache[w];M!==P&&_(w,P,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ce,We,it)=>{this.notifyListeners(ce,it)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(M);if(_.newValue!==ce)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const P=()=>{const ce=this.storage.getItem(M);!w&&this.localCache[M]===ce||this.notifyListeners(M,ce)},Y=this.storage.getItem(M);!function Pn(){return(0,x.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,P=this;return(0,l.Z)(function*(){yield M().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const P=yield w().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Ai=(()=>{class b extends ic{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Iu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const M=_,{eventId:P,eventType:Y,data:ce}=M.data,We=w.handlersMap[Y];if(!We?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const it=Array.from(We).map(function(){var Wt=(0,l.Z)(function*(pi){return pi(M.origin,ce)});return function(pi){return Wt.apply(this,arguments)}}()),It=yield function Eh(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(it);M.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:It})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function To(b="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return b+_}class Th{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var M=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,ce;return new Promise((We,it)=>{const It=To("",20);P.port1.start();const Wt=setTimeout(()=>{it(new Error("unsupported_event"))},w);ce={messageChannel:P,onMessage(pi){const ks=pi;if(ks.data.eventId===It)switch(ks.data.status){case"ack":clearTimeout(Wt),Y=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),We(ks.data.response);break;default:clearTimeout(Wt),clearTimeout(Y),it(new Error("invalid_response"))}}},M.handlers.add(ce),P.port1.addEventListener("message",ce.onMessage),M.target.postMessage({eventType:p,eventId:It,data:_},[P.port2])}).finally(()=>{ce&&M.removeMessageHandler(ce)})})()}}function ir(){return window}function Eu(){return typeof ir().WorkerGlobalScope<"u"&&"function"==typeof ir().importScripts}function ac(){return(ac=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qp="firebaseLocalStorageDb",el=1,Qs="firebaseLocalStorage",S_="fbase_key";class ca{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Tu(b,p){return b.transaction([Qs],p?"readwrite":"readonly").objectStore(Qs)}function Ah(){const b=indexedDB.open(qp,el);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Qs,{keyPath:S_})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Qs)?p(w):(w.close(),yield function tl(){const b=indexedDB.deleteDatabase(qp);return new ca(b).toPromise()}(),p(yield Ah()))}))})}function Sh(b,p,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(b,p,_){const w=Tu(b,!0).put({[S_]:p,value:_});return new ca(w).toPromise()})).apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(b,p){const _=Tu(b,!1).get(p),w=yield new ca(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function cc(b,p){const _=Tu(b,!0).delete(p);return new ca(_).toPromise()}const Mh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Ah()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(M++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Eu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Iu._getInstance(function Wp(){return Eu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function Gp(){return ac.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Th(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);P&&null!==(w=P[0])&&void 0!==w&&w.fulfilled&&null!==(M=P[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function zp(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ah();return yield Sh(_,Du,"1"),yield cc(_,Du),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(P=>Sh(P,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(P=>function M_(b,p){return lc.apply(this,arguments)}(P,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>cc(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(Y=>{const ce=Tu(Y,!1).getAll();return new ca(ce).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:Y,value:ce}of w)P.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(ce)&&(_.notifyListeners(Y,ce),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!P.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Nh=1e12;class xb{constructor(p){this.auth=p,this.counter=Nh,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new Yp(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||Nh;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Nh))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||Nh))||void 0===w||w.execute(),""})()}}class Yp{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;se(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function x_(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const O_=Dr("rcb"),ME=new Ie(3e4,6e4);class uc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ir().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return se(function xE(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Vt(ir().grecaptcha)?Promise.resolve(ir().grecaptcha):new Promise((w,M)=>{const P=ir().setTimeout(()=>{M(De(p,"network-request-failed"))},ME.get());ir()[O_]=()=>{ir().clearTimeout(P),delete ir()[O_];const ce=ir().grecaptcha;if(!ce||!Vt(ce))return void M(De(p,"internal-error"));const We=ce.render;ce.render=(it,It)=>{const Wt=We(it,It);return this.counter++,Wt},this.hostLanguage=_,w(ce)},un(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:O_,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=ir().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class OE{load(p){return(0,l.Z)(function*(){return new xb(p)})()}clearedOneInstance(){}}const Ar="recaptcha",Jp={theme:"light",type:"image"};class Su{constructor(p,_=Object.assign({},Jp),w){this.parameters=_,this.type=Ar,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;se(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OE:new uc,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const Y=ce=>{ce&&(p.tokenChangeListeners.delete(Y),P(ce))};p.tokenChangeListeners.add(Y),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=ir()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){se(tn()&&!Eu(),p.auth,"internal-error"),yield function R_(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function pe(b){return ee.apply(this,arguments)}(p.auth);se(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Qo._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function sl(b,p,_){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(b,p,_){const w=yn(b),M=yield Rh(w,p,(0,x.m9)(_));return new $i(M,P=>$t(w,P))})).apply(this,arguments)}function Oh(b,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b);yield ja(!1,w,"phone");const M=yield Rh(w.auth,p,(0,x.m9)(_));return new $i(M,P=>_h(w,P))})).apply(this,arguments)}function Ob(b,p,_){return P_.apply(this,arguments)}function P_(){return(P_=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b),M=yield Rh(w.auth,p,(0,x.m9)(_));return new $i(M,P=>za(w,P))})).apply(this,arguments)}function Rh(b,p,_){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,l.Z)(function*(b,p,_){var w;const M=yield _.verify();try{let P;if(se("string"==typeof M,b,"argument-error"),se(_.type===Ar,b,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Y=P.session;if("phoneNumber"in P)return se("enroll"===Y.type,b,"internal-error"),(yield function En(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:start",ze(b,p))}(b,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{se("signin"===Y.type,b,"internal-error");const ce=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return se(ce,b,"missing-multi-factor-info"),(yield function Zp(b,p){return Bt(b,"POST","/v2/accounts/mfaSignIn:start",ze(b,p))}(b,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function Bp(b,p){return yo.apply(this,arguments)}(b,{phoneNumber:P.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}}),Qp.apply(this,arguments)}function Xi(b,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(b,p){yield Ks((0,x.m9)(b),p)})).apply(this,arguments)}let Jn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yn(_)}verifyPhoneNumber(_,w){return Rh(this.auth,_,(0,x.m9)(w))}static credential(_,w){return Qo._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?Qo._fromTokenResponse(w,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function al(b,p){return p?Ln(p):(se(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Mu extends Ir{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return cs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return cs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return cs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function k_(b){return Ha(b.auth,new Mu(b),b.bypassAuthState)}function F_(b){const{auth:p,user:_}=b;return se(_,p,"internal-error"),fu(_,new Mu(b),b.bypassAuthState)}function Xp(b){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return se(_,p,"internal-error"),Ks(_,new Mu(b),b.bypassAuthState)})).apply(this,arguments)}class es{constructor(p,_,w,M,P=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:P,tenantId:Y,error:ce,type:We}=p;if(ce)return void _.reject(ce);const it={auth:_.auth,requestUri:w,sessionId:M,tenantId:Y||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(it))}catch(It){_.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return k_;case"linkViaPopup":case"linkViaRedirect":return Xp;case"reauthViaPopup":case"reauthViaRedirect":return F_;default:Oe(this.auth,"internal-error")}}resolve(p){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ao=new Ie(2e3,1e4);function Vn(b,p,_){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(b,p,_){const w=yn(b);Ze(b,p,Ms);const M=al(w,_);return new Fh(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function kh(b,p,_){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b);Ze(w.auth,p,Ms);const M=al(w.auth,_);return new Fh(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function Nu(b,p,_){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b);Ze(w.auth,p,Ms);const M=al(w.auth,_);return new Fh(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Fh=(()=>{class b extends es{constructor(_,w,M,P,Y){super(_,w,P,Y),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return se(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){yt(1===_.filter.length,"Popup operations only handle one event");const w=To();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Ao.get())};_()}}return b.currentPopupAction=null,b})();const Lh="pendingRedirect",hi=new Map;class Zr extends es{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=hi.get(_.auth._key());if(!w){try{const P=(yield function eg(b,p){return xu.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(P)}catch(M){w=()=>Promise.reject(M)}hi.set(_.auth._key(),w)}return _.bypassAuthState||hi.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function xu(){return(xu=(0,l.Z)(function*(b,p){const _=Rs(p),w=L_(b);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function Bh(b,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(b,p){return L_(b)._set(Rs(p),"true")})).apply(this,arguments)}function dc(){hi.clear()}function ll(b,p){hi.set(b._key(),p)}function L_(b){return Ln(b._redirectPersistence)}function Rs(b){return ci(Lh,b.config.apiKey,b.name)}function tg(b,p,_){return function ii(b,p,_){return Ps.apply(this,arguments)}(b,p,_)}function Ps(){return(Ps=(0,l.Z)(function*(b,p,_){const w=yn(b);Ze(b,p,Ms),yield w._initializationPromise;const M=al(w,_);return yield Bh(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function B_(b,p,_){return function hc(b,p,_){return ha.apply(this,arguments)}(b,p,_)}function ha(){return(ha=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b);Ze(w.auth,p,Ms),yield w.auth._initializationPromise;const M=al(w.auth,_);yield Bh(M,w.auth);const P=yield gc(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Vh(b,p,_){return function ng(b,p,_){return fc.apply(this,arguments)}(b,p,_)}function fc(){return(fc=(0,l.Z)(function*(b,p,_){const w=(0,x.m9)(b);Ze(w.auth,p,Ms),yield w.auth._initializationPromise;const M=al(w.auth,_);yield ja(!1,w,p.providerId),yield Bh(M,w.auth);const P=yield gc(w);return M._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function V_(b,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(b,p){return yield yn(b)._initializationPromise,Uh(b,p,!1)})).apply(this,arguments)}function Uh(b,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(b,p,_=!1){const w=yn(b),M=al(w,p),Y=yield new Zr(w,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield w._persistUserIfCurrent(Y.user),yield w._setRedirectUser(null,p)),Y})).apply(this,arguments)}function gc(b){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(b){const p=To(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class rg{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function j_(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $_(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!$_(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(De(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mc(p))}saveEventToCache(p){this.cachedEventUids.add(mc(p)),this.lastProcessedEventTime=Date.now()}}function mc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function $_({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function ig(b){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(b,p={}){return Bt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const H_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$h=/^https?/;function ul(){return(ul=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield ig(b);for(const _ of p)try{if(Hh(_))return}catch{}Oe(b,"unauthorized-domain")})).apply(this,arguments)}function Hh(b){const p=Qe(),{protocol:_,hostname:w}=new URL(p);if(b.startsWith("chrome-extension://")){const Y=new URL(b);return""===Y.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===w}if(!$h.test(_))return!1;if(H_.test(b))return w===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Pu=new Ie(3e4,6e4);function dl(){const b=ir().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let _c=null;const fi=new Ie(5e3,15e3),Xs="__/auth/iframe",ku="emulator/auth/iframe",Rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gh(b){const p=b.config;se(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?Se(p,ku):`https://${b.config.authDomain}/${Xs}`,w={apiKey:p.apiKey,appName:b.name,v:V.SDK_VERSION},M=Pb.get(b.config.apiHost);M&&(w.eid=M);const P=b._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,x.xO)(w).slice(1)}`}function yc(){return yc=(0,l.Z)(function*(b){const p=yield function sg(b){return _c=_c||function fs(b){return new Promise((p,_)=>{var w,M,P;function Y(){dl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{dl(),_(De(b,"network-request-failed"))},timeout:Pu.get()})}if(null!==(M=null===(w=ir().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(P=ir().gapi)||void 0===P||!P.load){const ce=Dr("iframefcb");return ir()[ce]=()=>{gapi.load?Y():_(De(b,"network-request-failed"))},un(`https://apis.google.com/js/api.js?onload=${ce}`).catch(We=>_(We))}Y()}}).catch(p=>{throw _c=null,p})}(b),_c}(b),_=ir().gapi;return se(_,b,"internal-error"),p.open({where:document.body,url:Gh(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rb,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(P,Y){yield w.restyle({setHideOnLeave:!1});const ce=De(b,"network-request-failed"),We=ir().setTimeout(()=>{Y(ce)},fi.get());function it(){ir().clearTimeout(We),P(w)}w.ping(it).then(it,()=>{Y(ce)})});return function(P,Y){return M.apply(this,arguments)}}()))}),yc.apply(this,arguments)}const Lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Si=500,vc=600,og="_blank",ag="http://localhost";class si{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const z_="__/auth/handler",kb="emulator/auth/handler",W_=encodeURIComponent("fac");function zh(b,p,_,w,M,P){return bc.apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(b,p,_,w,M,P){se(b.config.authDomain,b,"auth-domain-config-required"),se(b.config.apiKey,b,"invalid-api-key");const Y={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:V.SDK_VERSION,eventId:M};if(p instanceof Ms){p.setDefaultLanguage(b.languageCode),Y.providerId=p.providerId||"",(0,x.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[It,Wt]of Object.entries(P||{}))Y[It]=Wt}if(p instanceof bo){const It=p.getScopes().filter(Wt=>""!==Wt);It.length>0&&(Y.scopes=It.join(","))}b.tenantId&&(Y.tid=b.tenantId);const ce=Y;for(const It of Object.keys(ce))void 0===ce[It]&&delete ce[It];const We=yield b._getAppCheckToken(),it=We?`#${W_}=${encodeURIComponent(We)}`:"";return`${function q_({config:b}){return b.emulator?Se(b,kb):`https://${b.authDomain}/${z_}`}(b)}?${(0,x.xO)(ce).slice(1)}${it}`})).apply(this,arguments)}const Vu="webStorageSupport",Uu=class Z_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ai,this._completeRedirectFn=Uh,this._overrideRedirectResult=ll}_openPopup(p,_,w,M){var P=this;return(0,l.Z)(function*(){var Y;yt(null===(Y=P.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ce=yield zh(p,_,w,Qe(),M);return function Bu(b,p,_,w=Si,M=vc){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const We=Object.assign(Object.assign({},Lu),{width:w.toString(),height:M.toString(),top:P,left:Y}),it=(0,x.z$)().toLowerCase();_&&(ce=O(it)?og:_),k(it)&&(p=p||ag,We.scrollbars="yes");const It=Object.entries(We).reduce((pi,[ks,Hu])=>`${pi}${ks}=${Hu},`,"");if(function Ft(b=(0,x.z$)()){var p;return Ot(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(it)&&"_self"!==ce)return function G_(b,p){const _=document.createElement("a");_.href=b,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",ce),new si(null);const Wt=window.open(p||"",ce,It);se(Wt,b,"popup-blocked");try{Wt.focus()}catch{}return new si(Wt)}(p,ce,To())})()}_openRedirect(p,_,w,M){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(p),function oc(b){ir().location.href=b}(yield zh(p,_,w,Qe(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(yt(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function Fu(b){return yc.apply(this,arguments)}(p),M=new rg(p);return w.register("authEvent",P=>(se(P?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Vu,{type:Vu},M=>{var P;const Y=null===(P=M?.[0])||void 0===P?void 0:P[Vu];void 0!==Y&&_(!!Y),Oe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function jh(b){return ul.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return jt()||L()||Ot()}};class fa{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return tt("unexpected MultiFactorSessionType")}}}class No extends fa{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new No(p)}_finalizeEnroll(p,_,w){return function Pr(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ze(b,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function il(b,p){return Bt(b,"POST","/v2/accounts/mfaSignIn:finalize",ze(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hl=(()=>{class b{constructor(){}static assertion(_){return No._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var $u="@firebase/auth";class pa{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cg=(0,x.Pz)("authIdTokenMaxAge")||300;let K_=null;const ug=b=>function(){var p=(0,l.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),M=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(M&&M>cg)return;const P=w?.token;K_!==P&&(K_=P,yield fetch(b,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Fb(b=(0,V.getApp)()){const p=(0,V._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function Cr(b,p){const _=(0,V._getProvider)(b,"auth");if(_.isInitialized()){const M=_.getImmediate(),P=_.getOptions();if((0,x.vZ)(P,p??{}))return M;Oe(M,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Uu,persistence:[Mh,Cu,Ai]}),w=(0,x.Pz)("authTokenSyncURL");if(w){const P=ug(w);(function aa(b,p,_){(0,x.m9)(b).beforeAuthStateChanged(p,_)})(_,P,()=>P(_.currentUser)),function Qa(b,p,_,w){(0,x.m9)(b).onIdTokenChanged(p,_,w)}(_,Y=>P(Y))}const M=(0,x.q4)("auth");return M&&Bn(_,`http://${M}`),_}!function Dc(b){(0,V._registerComponent)(new ye.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:Y,authDomain:ce}=w.options;se(Y&&!Y.includes(":"),"invalid-api-key",{appName:w.name}),se(!ce?.includes(":"),"argument-error",{appName:w.name});const We={apiKey:Y,authDomain:ce,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ts(b)},it=new zn(w,M,P,We);return function mr(b,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Ln);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(w,p?.popupRedirectResolver)}(it,_),it},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new ye.wA("auth-internal",p=>{const _=yn(p.getProvider("auth").getImmediate());return new pa(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)($u,"0.23.1",function ju(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,V.registerVersion)($u,"0.23.1","esm2017")}("Browser")},2090:(Tt,ue,$)=>{"use strict";$.d(ue,{$s:()=>Ln,BH:()=>xe,G6:()=>Se,L:()=>He,LL:()=>vt,P0:()=>Ge,Pz:()=>De,Sg:()=>Ze,UG:()=>tt,US:()=>ye,ZB:()=>Q,ZR:()=>Bt,aH:()=>Oe,b$:()=>tn,eu:()=>je,hl:()=>Ke,jU:()=>yt,m9:()=>ci,ne:()=>Gt,pd:()=>Ht,q4:()=>me,r3:()=>Hn,ru:()=>Qe,tV:()=>W,uI:()=>se,vZ:()=>re,w1:()=>ge,xO:()=>sn,xb:()=>K,z$:()=>$e,zI:()=>ht,zd:()=>zt});const he=function(G){const H=[];let k=0;for(let L=0;L<G.length;L++){let O=G.charCodeAt(L);O<128?H[k++]=O:O<2048?(H[k++]=O>>6|192,H[k++]=63&O|128):55296==(64512&O)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(O=65536+((1023&O)<<10)+(1023&G.charCodeAt(++L)),H[k++]=O>>18|240,H[k++]=O>>12&63|128,H[k++]=O>>6&63|128,H[k++]=63&O|128):(H[k++]=O>>12|224,H[k++]=O>>6&63|128,H[k++]=63&O|128)}return H},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let O=0;O<G.length;O+=3){const q=G[O],Ce=O+1<G.length,ut=Ce?G[O+1]:0,Pt=O+2<G.length,Ot=Pt?G[O+2]:0;let Pn=(15&ut)<<2|Ot>>6,jt=63&Ot;Pt||(jt=64,Ce||(Pn=64)),L.push(k[q>>2],k[(3&q)<<4|ut>>4],k[Pn],k[jt])}return L.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(he(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let k=0,L=0;for(;k<G.length;){const O=G[k++];if(O<128)H[L++]=String.fromCharCode(O);else if(O>191&&O<224){const q=G[k++];H[L++]=String.fromCharCode((31&O)<<6|63&q)}else if(O>239&&O<365){const Pt=((7&O)<<18|(63&G[k++])<<12|(63&G[k++])<<6|63&G[k++])-65536;H[L++]=String.fromCharCode(55296+(Pt>>10)),H[L++]=String.fromCharCode(56320+(1023&Pt))}else{const q=G[k++],Ce=G[k++];H[L++]=String.fromCharCode((15&O)<<12|(63&q)<<6|63&Ce)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const k=H?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let O=0;O<G.length;){const q=k[G.charAt(O++)],ut=O<G.length?k[G.charAt(O)]:0;++O;const Ot=O<G.length?k[G.charAt(O)]:64;++O;const Ft=O<G.length?k[G.charAt(O)]:64;if(++O,null==q||null==ut||null==Ot||null==Ft)throw new Pe;L.push(q<<2|ut>>4),64!==Ot&&(L.push(ut<<4&240|Ot>>2),64!==Ft&&L.push(Ot<<6&192|Ft))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(G){return function(G){const H=he(G);return ye.encodeByteArray(H,!0)}(G).replace(/\./g,"")},W=function(G){try{return ye.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Q(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const k in H)!H.hasOwnProperty(k)||!qe(k)||(G[k]=Q(G[k],H[k]));return G}function qe(G){return"__proto__"!==G}const Ne=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&W(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},me=G=>{var H,k;return null===(k=null===(H=Ne())||void 0===H?void 0:H.emulatorHosts)||void 0===k?void 0:k[G]},Ge=G=>{const H=me(G);if(!H)return;const k=H.lastIndexOf(":");if(k<=0||k+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const L=parseInt(H.substring(k+1),10);return"["===H[0]?[H.substring(1,k-1),L]:[H.substring(0,k),L]},Oe=()=>{var G;return null===(G=Ne())||void 0===G?void 0:G.config},De=G=>{var H;return null===(H=Ne())||void 0===H?void 0:H[`_${G}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,k)=>{this.resolve=H,this.reject=k})}wrapCallback(H){return(k,L)=>{k?this.reject(k):this.resolve(L),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(k):H(k,L))}}}function Ze(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=H||"demo-project",O=G.iat||0,q=G.sub||G.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:O,exp:O+3600,auth_time:O,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},G);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Ce)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function tt(){var G;const H=null===(G=Ne())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){return"object"==typeof self&&self.self===self}function Qe(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const G=$e();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Se(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((G,H)=>{try{let k=!0;const L="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(L);O.onsuccess=()=>{O.result.close(),k||self.indexedDB.deleteDatabase(L),G(!0)},O.onupgradeneeded=()=>{k=!1},O.onerror=()=>{var q;H((null===(q=O.error)||void 0===q?void 0:q.message)||"")}}catch(k){H(k)}})}function ht(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(H,k,L){super(k),this.code=H,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(H,k,L){this.service=H,this.serviceName=k,this.errors=L}create(H,...k){const L=k[0]||{},O=`${this.service}/${H}`,q=this.errors[H],Ce=q?function kt(G,H){return G.replace(gt,(k,L)=>{const O=H[L];return null!=O?String(O):`<${L}?>`})}(q,L):"Error";return new Bt(O,`${this.serviceName}: ${Ce} (${O}).`,L)}}const gt=/\{\$([^}]+)}/g;function Hn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function K(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function re(G,H){if(G===H)return!0;const k=Object.keys(G),L=Object.keys(H);for(const O of k){if(!L.includes(O))return!1;const q=G[O],Ce=H[O];if(Le(q)&&Le(Ce)){if(!re(q,Ce))return!1}else if(q!==Ce)return!1}for(const O of L)if(!k.includes(O))return!1;return!0}function Le(G){return null!==G&&"object"==typeof G}function sn(G){const H=[];for(const[k,L]of Object.entries(G))Array.isArray(L)?L.forEach(O=>{H.push(encodeURIComponent(k)+"="+encodeURIComponent(O))}):H.push(encodeURIComponent(k)+"="+encodeURIComponent(L));return H.length?"&"+H.join("&"):""}function zt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[O,q]=L.split("=");H[decodeURIComponent(O)]=decodeURIComponent(q)}}),H}function Ht(G){const H=G.indexOf("?");if(!H)return"";const k=G.indexOf("#",H);return G.substring(H,k>0?k:void 0)}function Gt(G,H){const k=new pt(G,H);return k.subscribe.bind(k)}class pt{constructor(H,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{H(this)}).catch(L=>{this.error(L)})}next(H){this.forEachObserver(k=>{k.next(H)})}error(H){this.forEachObserver(k=>{k.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,k,L){let O;if(void 0===H&&void 0===k&&void 0===L)throw new Error("Missing Observer.");O=function xn(G,H){if("object"!=typeof G||null===G)return!1;for(const k of H)if(k in G&&"function"==typeof G[k])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:k,complete:L},void 0===O.next&&(O.next=In),void 0===O.error&&(O.error=In),void 0===O.complete&&(O.complete=In);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),q}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,H)}sendOne(H,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{k(this.observers[H])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const Kt=1e3,Kn=2,tr=144e5,Wr=.5;function Ln(G,H=Kt,k=Kn){const L=H*Math.pow(k,G),O=Math.round(Wr*L*(Math.random()-.5)*2);return Math.min(tr,L+O)}function ci(G){return G&&G._delegate?G._delegate:G}},4932:(Tt,ue,$)=>{"use strict";var l=$(4650);let x=null;function V(){return x}class Te{}const ye=new l.OlP("DocumentToken");let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Me(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const He=new l.OlP("Location Initialized");let W=(()=>{class n extends Pe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){z()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){z()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Q(){return new W((0,l.LFG)(ye))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let et=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ne)},providedIn:"root"}),n})();const le=new l.OlP("appBaseHref");let Ne=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const u=this.prepareExternalUrl(i+rt(o));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){const u=this.prepareExternalUrl(i+rt(o));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(le,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let u=this.prepareExternalUrl(i+rt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){let u=this.prepareExternalUrl(i+rt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(le,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Fe(xe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=qe,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(l.LFG(et))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Oe(){return new Ge((0,l.LFG)(et))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),yt=(()=>((yt=yt||{})[yt.Format=0]="Format",yt[yt.Standalone=1]="Standalone",yt))(),Qe=(()=>((Qe=Qe||{})[Qe.Narrow=0]="Narrow",Qe[Qe.Abbreviated=1]="Abbreviated",Qe[Qe.Wide=2]="Wide",Qe[Qe.Short=3]="Short",Qe))(),tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.Medium=1]="Medium",tn[tn.Long=2]="Long",tn[tn.Full=3]="Full",tn))(),dt=(()=>((dt=dt||{})[dt.Decimal=0]="Decimal",dt[dt.Group=1]="Group",dt[dt.List=2]="List",dt[dt.PercentSign=3]="PercentSign",dt[dt.PlusSign=4]="PlusSign",dt[dt.MinusSign=5]="MinusSign",dt[dt.Exponential=6]="Exponential",dt[dt.SuperscriptingExponent=7]="SuperscriptingExponent",dt[dt.PerMille=8]="PerMille",dt[dt.Infinity=9]="Infinity",dt[dt.NaN=10]="NaN",dt[dt.TimeSeparator=11]="TimeSeparator",dt[dt.CurrencyDecimal=12]="CurrencyDecimal",dt[dt.CurrencyGroup=13]="CurrencyGroup",dt))();function Ie(n,e,t){const r=(0,l.cg1)(n),o=ie([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return ie(o,t)}function Se(n,e,t){const r=(0,l.cg1)(n),o=ie([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return ie(o,t)}function Ke(n,e,t){const r=(0,l.cg1)(n),o=ie([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return ie(o,t)}function Bt(n,e){return ie((0,l.cg1)(n)[l.wAp.DateFormat],e)}function vt(n,e){return ie((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function kt(n,e){return ie((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function gt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===dt.CurrencyDecimal)return t[l.wAp.NumberSymbols][dt.Decimal];if(e===dt.CurrencyGroup)return t[l.wAp.NumberSymbols][dt.Group]}return r}function Fn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ie(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function re(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const zt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},xt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gt=(()=>((Gt=Gt||{})[Gt.Short=0]="Short",Gt[Gt.ShortGMT=1]="ShortGMT",Gt[Gt.Long=2]="Long",Gt[Gt.Extended=3]="Extended",Gt))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),Je=(()=>((Je=Je||{})[Je.DayPeriods=0]="DayPeriods",Je[Je.Days=1]="Days",Je[Je.Months=2]="Months",Je[Je.Eras=3]="Eras",Je))();function xn(n,e,t,r){let i=function O(n){if(Ce(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,u=1]=n.split("-").map(f=>+f);return In(i,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(zt))return function q(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,f,m,v),e}(r)}const e=new Date(n);if(!Ce(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Sn(t,e)||e;let f,u=[];for(;e;){if(f=xt.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const C=u.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=H(r,m),i=function L(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function k(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(H(e,i)-i))}(i,r,!0));let v="";return u.forEach(C=>{const S=function G(n){if(ci[n])return ci[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(Je.Eras,Qe.Abbreviated);break;case"GGGG":e=on(Je.Eras,Qe.Wide);break;case"GGGGG":e=on(Je.Eras,Qe.Narrow);break;case"y":e=Zt(pt.FullYear,1,0,!1,!0);break;case"yy":e=Zt(pt.FullYear,2,0,!0,!0);break;case"yyy":e=Zt(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=Zt(pt.FullYear,4,0,!1,!0);break;case"Y":e=Ci(1);break;case"YY":e=Ci(2,!0);break;case"YYY":e=Ci(3);break;case"YYYY":e=Ci(4);break;case"M":case"L":e=Zt(pt.Month,1,1);break;case"MM":case"LL":e=Zt(pt.Month,2,1);break;case"MMM":e=on(Je.Months,Qe.Abbreviated);break;case"MMMM":e=on(Je.Months,Qe.Wide);break;case"MMMMM":e=on(Je.Months,Qe.Narrow);break;case"LLL":e=on(Je.Months,Qe.Abbreviated,yt.Standalone);break;case"LLLL":e=on(Je.Months,Qe.Wide,yt.Standalone);break;case"LLLLL":e=on(Je.Months,Qe.Narrow,yt.Standalone);break;case"w":e=li(1);break;case"ww":e=li(2);break;case"W":e=li(1,!0);break;case"d":e=Zt(pt.Date,1);break;case"dd":e=Zt(pt.Date,2);break;case"c":case"cc":e=Zt(pt.Day,1);break;case"ccc":e=on(Je.Days,Qe.Abbreviated,yt.Standalone);break;case"cccc":e=on(Je.Days,Qe.Wide,yt.Standalone);break;case"ccccc":e=on(Je.Days,Qe.Narrow,yt.Standalone);break;case"cccccc":e=on(Je.Days,Qe.Short,yt.Standalone);break;case"E":case"EE":case"EEE":e=on(Je.Days,Qe.Abbreviated);break;case"EEEE":e=on(Je.Days,Qe.Wide);break;case"EEEEE":e=on(Je.Days,Qe.Narrow);break;case"EEEEEE":e=on(Je.Days,Qe.Short);break;case"a":case"aa":case"aaa":e=on(Je.DayPeriods,Qe.Abbreviated);break;case"aaaa":e=on(Je.DayPeriods,Qe.Wide);break;case"aaaaa":e=on(Je.DayPeriods,Qe.Narrow);break;case"b":case"bb":case"bbb":e=on(Je.DayPeriods,Qe.Abbreviated,yt.Standalone,!0);break;case"bbbb":e=on(Je.DayPeriods,Qe.Wide,yt.Standalone,!0);break;case"bbbbb":e=on(Je.DayPeriods,Qe.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(Je.DayPeriods,Qe.Abbreviated,yt.Format,!0);break;case"BBBB":e=on(Je.DayPeriods,Qe.Wide,yt.Format,!0);break;case"BBBBB":e=on(Je.DayPeriods,Qe.Narrow,yt.Format,!0);break;case"h":e=Zt(pt.Hours,1,-12);break;case"hh":e=Zt(pt.Hours,2,-12);break;case"H":e=Zt(pt.Hours,1);break;case"HH":e=Zt(pt.Hours,2);break;case"m":e=Zt(pt.Minutes,1);break;case"mm":e=Zt(pt.Minutes,2);break;case"s":e=Zt(pt.Seconds,1);break;case"ss":e=Zt(pt.Seconds,2);break;case"S":e=Zt(pt.FractionalSeconds,1);break;case"SS":e=Zt(pt.FractionalSeconds,2);break;case"SSS":e=Zt(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Kt(Gt.Short);break;case"ZZZZZ":e=Kt(Gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Kt(Gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Kt(Gt.Long);break;default:return null}return ci[n]=e,e}(C);v+=S?S(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function In(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Sn(n,e){const t=function _e(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Ht[t]=Ht[t]||{},Ht[t][e])return Ht[t][e];let r="";switch(e){case"shortDate":r=Bt(n,tn.Short);break;case"mediumDate":r=Bt(n,tn.Medium);break;case"longDate":r=Bt(n,tn.Long);break;case"fullDate":r=Bt(n,tn.Full);break;case"shortTime":r=vt(n,tn.Short);break;case"mediumTime":r=vt(n,tn.Medium);break;case"longTime":r=vt(n,tn.Long);break;case"fullTime":r=vt(n,tn.Full);break;case"short":const i=Sn(n,"shortTime"),o=Sn(n,"shortDate");r=gn(kt(n,tn.Short),[i,o]);break;case"medium":const u=Sn(n,"mediumTime"),f=Sn(n,"mediumDate");r=gn(kt(n,tn.Medium),[u,f]);break;case"long":const m=Sn(n,"longTime"),v=Sn(n,"longDate");r=gn(kt(n,tn.Long),[m,v]);break;case"full":const C=Sn(n,"fullTime"),S=Sn(n,"fullDate");r=gn(kt(n,tn.Full),[C,S])}return r&&(Ht[t][e]=r),r}function gn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Gn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.slice(u.length-e)),o+u}function Zt(n,e,t=0,r=!1,i=!1){return function(o,u){let f=function ri(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||f>-t)&&(f+=t),n===pt.Hours)0===f&&-12===t&&(f=12);else if(n===pt.FractionalSeconds)return function Rn(n,e){return Gn(n,3).substring(0,e)}(f,e);const m=gt(u,dt.MinusSign);return Gn(f,e,m,r,i)}}function on(n,e,t=yt.Format,r=!1){return function(i,o){return function Es(n,e,t,r,i,o){switch(t){case Je.Months:return Ke(e,i,r)[n.getMonth()];case Je.Days:return Se(e,i,r)[n.getDay()];case Je.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(o){const v=function Hn(n){const e=(0,l.cg1)(n);return Fn(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?re(r):[re(r[0]),re(r[1])])}(e),C=function te(n,e,t){const r=(0,l.cg1)(n);Fn(r);const o=ie([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return ie(o,t)||[]}(e,i,r),S=v.findIndex(F=>{if(Array.isArray(F)){const[B,J]=F,ne=u>=B.hours&&f>=B.minutes,de=u<J.hours||u===J.hours&&f<J.minutes;if(B.hours<J.hours){if(ne&&de)return!0}else if(ne||de)return!0}else if(F.hours===u&&F.minutes===f)return!0;return!1});if(-1!==S)return C[S]}return Ie(e,i,r)[u<12?0:1];case Je.Eras:return function je(n,e){return ie((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Kt(n){return function(e,t,r){const i=-1*r,o=gt(t,dt.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Gt.Short:return(i>=0?"+":"")+Gn(u,2,o)+Gn(Math.abs(i%60),2,o);case Gt.ShortGMT:return"GMT"+(i>=0?"+":"")+Gn(u,1,o);case Gt.Long:return"GMT"+(i>=0?"+":"")+Gn(u,2,o)+":"+Gn(Math.abs(i%60),2,o);case Gt.Extended:return 0===r?"Z":(i>=0?"+":"")+Gn(u,2,o)+":"+Gn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Kn=0,tr=4;function Ln(n){return In(n.getFullYear(),n.getMonth(),n.getDate()+(tr-n.getDay()))}function li(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();i=1+Math.floor((u+o)/7)}else{const o=Ln(t),u=function Wr(n){const e=In(n,Kn,1).getDay();return In(n,0,1+(e<=tr?tr:tr+7)-e)}(o.getFullYear()),f=o.getTime()-u.getTime();i=1+Math.round(f/6048e5)}return Gn(i,n,gt(r,dt.MinusSign))}}function Ci(n,e=!1){return function(t,r){return Gn(Ln(t).getFullYear(),n,gt(r,dt.MinusSign),e)}}const ci={};function H(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ce(n){return n instanceof Date&&!isNaN(n.valueOf())}const ut=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Pt=22,Ot=".",Yt="0",Ft=";",Pn=",",jt="#";function un(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function po(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class Cr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cr(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,u),Bn(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Bn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Bn(n,e){n.context.$implicit=e.item}let _r=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ka("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ka("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function ka(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let ui=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();let ch=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function zl(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Be(n,e,t){return function pe(n,e,t,r,i,o,u=!1){let f="",m=!1;if(isFinite(n)){let v=function Ct(n){let r,i,o,u,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Ot))>-1&&(e=e.replace(Ot,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Yt;o++);if(o===(f=e.length))r=[0],i=1;else{for(f--;e.charAt(f)===Yt;)f--;for(i-=o,r=[],u=0;o<=f;o++,u++)r[u]=Number(e.charAt(o))}return i>Pt&&(r=r.splice(0,Pt-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(v=function nn(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let C=e.minInt,S=e.minFrac,F=e.maxFrac;if(o){const Ve=o.match(ut);if(null===Ve)throw new Error(`${o} is not a valid digit info`);const Xe=Ve[1],ot=Ve[3],ct=Ve[5];null!=Xe&&(C=un(Xe)),null!=ot&&(S=un(ot)),null!=ct?F=un(ct):null!=ot&&S>F&&(F=S)}!function _n(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let u=o+n.integerLen,f=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let S=u;S<r.length;S++)r[S]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=o+1),r[0]=0;for(let S=1;S<u;S++)r[S]=0}if(f>=5)if(u-1<0){for(let S=0;S>u;S--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,o);i++)r.push(0);let m=0!==o;const v=e+n.integerLen,C=r.reduceRight(function(S,F,B,J){return J[B]=(F+=S)<10?F:F-10,m&&(0===J[B]&&B>=v?J.pop():m=!1),F>=10?1:0},0);C&&(r.unshift(C),n.integerLen++)}(v,S,F);let B=v.digits,J=v.integerLen;const ne=v.exponent;let de=[];for(m=B.every(Ve=>!Ve);J<C;J++)B.unshift(0);for(;J<0;J++)B.unshift(0);J>0?de=B.splice(J,B.length):(de=B,B=[0]);const Ee=[];for(B.length>=e.lgSize&&Ee.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)Ee.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&Ee.unshift(B.join("")),f=Ee.join(gt(t,r)),de.length&&(f+=gt(t,i)+de.join("")),ne&&(f+=gt(t,dt.Exponential)+"+"+ne)}else f=gt(t,dt.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Vt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Ft),i=r[0],o=r[1],u=-1!==i.indexOf(Ot)?i.split(Ot):[i.substring(0,i.lastIndexOf(Yt)+1),i.substring(i.lastIndexOf(Yt)+1)],f=u[0],m=u[1]||"";t.posPre=f.substring(0,f.indexOf(jt));for(let C=0;C<m.length;C++){const S=m.charAt(C);S===Yt?t.minFrac=t.maxFrac=C+1:S===jt?t.maxFrac=C+1:t.posSuf+=S}const v=f.split(Pn);if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const C=i.length-t.posPre.length-t.posSuf.length,S=o.indexOf(jt);t.negPre=o.substring(0,S).replace(/'/g,""),t.negSuf=o.slice(S+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function qt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,se.Percent),gt(e,dt.MinusSign)),e,dt.Group,dt.Decimal,t,!0).replace(new RegExp("%","g"),gt(e,dt.PercentSign))}(function Wl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw function Ei(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hh="browser",vo="server";function bo(n){return n===vo}let La=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new gh((0,l.LFG)(ye),window)}),n})();class gh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function du(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hu{}class wu extends Te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qa extends wu{static makeCurrent(){!function he(n){x||(x=n)}(new Qa)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function la(){return aa=aa||document.querySelector("base"),aa?aa.getAttribute("href"):null}();return null==t?null:function tc(n){Js=Js||document.createElement("a"),Js.setAttribute("href",n);const e=Js.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return po(document.cookie,e)}}let Js,aa=null;const I=new l.OlP("TRANSITION_ID"),N=[{provide:l.ip1,useFactory:function E(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=V(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[I,ye,l.zs3],multi:!0}];let be=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const At=new l.OlP("EventManagerPlugins");let En=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(At),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Pr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=V().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let kr=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ui=(()=>{class n extends kr{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xa=/%COMP%/g,sc=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Cu(n,e){return e.flat(100).map(t=>t.replace(Xa,n))}function A_(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ai=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Eh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Eu?i.applyToHost(t):i instanceof oc&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:o=new Eu(u,f,r,this.appId,m);break;case l.ifc.ShadowDom:return new ir(u,f,t,r);default:o=new oc(u,f,r,m)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(En),l.LFG(Ui),l.LFG(l.AFp),l.LFG(sc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Eh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Th(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Th(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=hs[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=hs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,A_(r)):this.eventManager.addEventListener(e,t,A_(r))}}function Th(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ir extends Eh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Cu(i.id,i.styles);for(const u of o){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oc extends Eh{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Cu(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Eu extends oc{constructor(e,t,r,i,o){const u=i+"-"+r.id;super(e,t,r,o,u),this.contentAttr=function Nb(n){return"_ngcontent-%COMP%".replace(Xa,n)}(u),this.hostAttr=function T_(n){return"_nghost-%COMP%".replace(Xa,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Gp=(()=>{class n extends Pr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ac=["alt","control","meta","shift"],zp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qp=(()=>{class n extends Pr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),ac.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),u+=v+".")}),u+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(t,r){let i=zp[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ac.forEach(u=>{u!==i&&(0,Wp[u])(t)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const M_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:hh},{provide:l.g9A,useValue:function tl(){Qa.makeCurrent()},multi:!0},{provide:ye,useFactory:function Sh(){return(0,l.RDi)(document),document},deps:[]}]),lc=new l.OlP(""),cc=[{provide:l.rWj,useClass:class j{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,u=!1;const f=function(m){u=u||m,o--,0==o&&r(u)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ua=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ah(){return new l.qLn},deps:[]},{provide:At,useClass:Gp,multi:!0,deps:[ye,l.R0b,l.Lbi]},{provide:At,useClass:qp,multi:!0,deps:[ye]},{provide:Ai,useClass:Ai,deps:[En,Ui,l.AFp,sc]},{provide:l.FYo,useExisting:Ai},{provide:kr,useExisting:Ui},{provide:Ui,useClass:Ui,deps:[ye]},{provide:En,useClass:En,deps:[At,l.R0b]},{provide:hu,useClass:be,deps:[]},[]];let rl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:I,useExisting:l.AFp},N]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lc,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ua,...cc],imports:[dh,l.hGG]}),n})(),N_=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function il(){return new N_((0,l.LFG)(ye))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Nn=$(8996),Jn=$(9751);const{isArray:al}=Array,{getPrototypeOf:Mu,prototype:k_,keys:F_}=Object;function Xp(n){if(1===n.length){const e=n[0];if(al(e))return{args:e,keys:null};if(function Ph(n){return n&&"object"==typeof n&&Mu(n)===k_}(e)){const t=F_(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var es=$(8421),Ao=$(3269),Vn=$(5403),mt=$(4004);const{isArray:kh}=Array;function Nu(n){return(0,mt.U)(e=>function da(n,e){return kh(e)?n(...e):n(e)}(n,e))}function So(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Lh=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),hi=(()=>{class n extends Lh{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Zr=new l.OlP("NgValueAccessor"),Bh={provide:Zr,useExisting:(0,l.Gpc)(()=>ll),multi:!0},dc=new l.OlP("CompositionEventMode");let ll=(()=>{class n extends Lh{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mo(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(dc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([Bh]),l.qOj]}),n})();const L_=!1;function Rs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tg(n){return null!=n&&"number"==typeof n.length}const ii=new l.OlP("NgValidators"),Ps=new l.OlP("NgAsyncValidators"),B_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hc{static min(e){return function ha(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Vh(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function ng(n){return Rs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function fc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function V_(n){return Rs(n.value)||B_.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pc(n){return e=>Rs(e.value)||!tg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Uh(n){return e=>tg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ou(n){if(!n)return gc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ig(e)}static composeAsync(e){return H_(e)}}function gc(n){return null}function cl(n){return null!=n}function U_(n){const e=(0,l.QGY)(n)?(0,Nn.D)(n):n;if(L_&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function rg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function mc(n,e){return e.map(t=>t(n))}function j_(n){return n.map(e=>function $_(n){return!n.validate}(e)?e:t=>e.validate(t))}function ig(n){if(!n)return null;const e=n.filter(cl);return 0==e.length?null:function(t){return rg(mc(t,e))}}function Ru(n){return null!=n?ig(j_(n)):null}function H_(n){if(!n)return null;const e=n.filter(cl);return 0==e.length?null:function(t){return function Fh(...n){const e=(0,Ao.jO)(n),{args:t,keys:r}=Xp(n),i=new Jn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const f=new Array(u);let m=u,v=u;for(let C=0;C<u;C++){let S=!1;(0,es.Xf)(t[C]).subscribe((0,Vn.x)(o,F=>{S||(S=!0,v--),f[C]=F},()=>m--,void 0,()=>{(!m||!S)&&(v||o.next(r?So(r,f):f),o.complete())}))}});return e?i.pipe(Nu(e)):i}(mc(t,e).map(U_)).pipe((0,mt.U)(rg))}}function $h(n){return null!=n?H_(j_(n)):null}function jh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ul(n){return n._rawValidators}function Hh(n){return n._rawAsyncValidators}function Pu(n){return n?Array.isArray(n)?n:[n]:[]}function dl(n,e){return Array.isArray(n)?n.includes(e):n===e}function fs(n,e){const t=Pu(e);return Pu(n).forEach(i=>{dl(t,i)||t.push(i)}),t}function _c(n,e){return Pu(e).filter(t=>!dl(n,t))}class sg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ru(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$h(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fi extends sg{get formDirective(){return null}get path(){return null}}class Xs extends sg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ku{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gh=(()=>{class n extends ku{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xs,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Fu=(()=>{class n extends ku{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();function bc(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Uu=!1,fa="VALID",No="INVALID",hl="PENDING",xo="DISABLED";function wc(n){return(fl(n)?n.validators:n)||null}function Oo(n,e){return(fl(e)?e.asyncValidators:n)||null}function fl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function pa(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,Uu?function q_(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new l.vHH(1001,Uu?function Vu(n,e){return`Cannot find form control ${bc(n,e)}`}(e,t):"")}function ju(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,Uu?function Z_(n,e){return`Must supply a value for form control ${bc(n,e)}`}(e,i):"")})}class Dc{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fa}get invalid(){return this.status===No}get pending(){return this.status==hl}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_c(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_c(e,this._rawAsyncValidators))}hasValidator(e){return dl(this._rawValidators,e)}hasAsyncValidator(e){return dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xo,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fa||this.status===hl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator=!0;const t=U_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?No:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(No)?No:fa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lg(n){return Array.isArray(n)?Ru(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $u(n){return Array.isArray(n)?$h(n):n||null}(this._rawAsyncValidators)}}class Cc extends Dc{constructor(e,t,r){super(wc(t),Oo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ju(this,!0,e),Object.keys(e).forEach(r=>{pa(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ug extends Cc{}const b=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>p}),p="always";function _(n,e){return[...e.path,n]}function w(n,e,t=p){ce(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function it(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wt(n,e)})}(n,e),function pi(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function It(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wt(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Y(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function M(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),We(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function P(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ce(n,e){const t=ul(n);null!==e.validator?n.setValidators(jh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Hh(n);null!==e.asyncValidator?n.setAsyncValidators(jh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();P(e._rawValidators,i),P(e._rawAsyncValidators,i)}function We(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ul(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=Hh(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return P(e._rawValidators,r),P(e._rawAsyncValidators,r),t}function Wt(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ks(n,e){ce(n,e)}function Ic(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ec(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ga(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ll?t=o:function zu(n){return Object.getPrototypeOf(n.constructor)===hi}(o)?r=o:i=o}),i||r||t||null}const Zh={provide:fi,useExisting:(0,l.Gpc)(()=>qu)},Tc=(()=>Promise.resolve())();let qu=(()=>{class n extends fi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Cc({},Ru(t),$h(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),w(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tc.then(()=>{const r=this._findContainer(t.path),i=new Cc({});ks(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ec(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii,10),l.Y36(Ps,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Zh]),l.qOj]}),n})();function Zu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ac=class extends Dc{constructor(e=null,t,r){super(wc(t),Oo(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Bb(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Bb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},FE={provide:Xs,useExisting:(0,l.Gpc)(()=>J_)},LE=(()=>Promise.resolve())();let J_=(()=>{class n extends Xs{constructor(t,r,i,o,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new Ac,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ga(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ic(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){w(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);LE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fi,9),l.Y36(ii,10),l.Y36(Ps,10),l.Y36(Zr,10),l.Y36(l.sBO,8),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([FE]),l.qOj,l.TTD]}),n})(),Kh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const BE={provide:Zr,useExisting:(0,l.Gpc)(()=>hg),multi:!0};let hg=(()=>{class n extends hi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([BE]),l.qOj]}),n})(),Q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ey=new l.OlP("NgModelWithFormControlWarning"),UE={provide:fi,useExisting:(0,l.Gpc)(()=>eo)};let eo=(()=>{class n extends fi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(We(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return w(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){M(t.control||null,t,!1),function Wu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Ec(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(M(r||null,t),(n=>n instanceof Ac)(i)&&(w(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ks(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Hu(n,e){return We(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ce(this.form,this),this._oldForm&&We(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii,10),l.Y36(Ps,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([UE]),l.qOj,l.TTD]}),n})();const ZP={provide:Xs,useExisting:(0,l.Gpc)(()=>Zb)};let Zb=(()=>{class n extends Xs{set isDisabled(t){}constructor(t,r,i,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ga(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Ic(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(fi,13),l.Y36(ii,10),l.Y36(Ps,10),l.Y36(Zr,10),l.Y36(ey,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([ZP]),l.qOj,l.TTD]}),n})(),iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Q_]}),n})();class sw extends Dc{constructor(e,t,r){super(wc(t),Oo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ju(this,!1,e),e.forEach((r,i)=>{pa(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ly(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let XP=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return ly(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Cc(i,o)}record(t,r=null){const i=this._reduceControls(t);return new ug(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ly(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ac(t,{...o,nonNullable:!0})):new Ac(t,r,i)}array(t,r,i){const o=t.map(u=>this._createControl(u));return new sw(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ac||t instanceof Dc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[iw]}),n})(),lw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ey,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[iw]}),n})();function Et(...n){const e=(0,Ao.yG)(n);return(0,Nn.D)(n,e)}var gi=$(5577),to=$(576);function ma(n,e){return(0,to.m)(e)?(0,gi.z)(n,e,1):(0,gi.z)(n,1)}var Lr=$(4482);function sr(n,e){return(0,Lr.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}class cy{}class Qh{}class _a{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _a;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _a?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===o.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class uw{encodeKey(e){return yg(e)}encodeValue(e){return yg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Sc=/%(\d[a-f0-9])/gi,JE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yg(n){return encodeURIComponent(n).replace(Sc,(e,t)=>JE[t]??e)}function Mc(n){return`${n}`}class gl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new uw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,f]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],m=t.get(u)||[];m.push(f),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Mc):[Mc(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Mc(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Mc(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function uy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bg(n){return typeof Blob<"u"&&n instanceof Blob}function fw(n){return typeof FormData<"u"&&n instanceof FormData}class Ju{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Nc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new _a),this.context||(this.context=new vg),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new gl,this.urlWithParams=t}serializeBody(){return null===this.body?null:uy(this.body)||bg(this.body)||fw(this.body)||function QE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fw(this.body)?null:bg(this.body)?this.body.type||null:uy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((S,F)=>S.set(F,e.setHeaders[F]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,F)=>S.set(F,e.setParams[F]),v)),new Ju(t,r,o,{params:v,headers:m,context:C,reportProgress:f,responseType:i,withCredentials:u})}}var Qn=(()=>((Qn=Qn||{})[Qn.Sent=0]="Sent",Qn[Qn.UploadProgress=1]="UploadProgress",Qn[Qn.ResponseHeader=2]="ResponseHeader",Qn[Qn.DownloadProgress=3]="DownloadProgress",Qn[Qn.Response=4]="Response",Qn[Qn.User=5]="User",Qn))();class dy{constructor(e,t=200,r="OK"){this.headers=e.headers||new _a,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hy extends dy{constructor(e={}){super(e),this.type=Qn.ResponseHeader}clone(e={}){return new hy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wg extends dy{constructor(e={}){super(e),this.type=Qn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Dg extends dy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ju)o=t;else{let m,v;m=i.headers instanceof _a?i.headers:new _a(i.headers),i.params&&(v=i.params instanceof gl?i.params:new gl({fromObject:i.params})),o=new Ju(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Et(o).pipe(ma(m=>this.handler.handle(m)));if(t instanceof Ju||"events"===i.observe)return u;const f=u.pipe(sr(m=>m instanceof wg));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,mt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,mt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,mt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,mt.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new gl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,fy(i,r))}post(t,r,i={}){return this.request("POST",t,fy(i,r))}put(t,r,i={}){return this.request("PUT",t,fy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pw(n,e){return e(n)}function gw(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const XE=new l.OlP("HTTP_INTERCEPTORS"),ya=new l.OlP("HTTP_INTERCEPTOR_FNS");function eT(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(XE,{optional:!0})??[]).reduceRight(gw,pw)),n(e,t))}let xc=(()=>{class n extends cy{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(ya)));this.chain=r.reduceRight((i,o)=>function ek(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),pw)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qh),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gy=/^\)\]\}',?\n/;let yw=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,J)=>i.setRequestHeader(B,J.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const o=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=i.statusText||"OK",J=new _a(i.getAllResponseHeaders()),ne=function Xh(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new hy({headers:J,status:i.status,statusText:B,url:ne}),u},m=()=>{let{headers:B,status:J,statusText:ne,url:de}=f(),Ee=null;204!==J&&(Ee=typeof i.response>"u"?i.responseText:i.response),0===J&&(J=Ee?200:0);let Ve=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof Ee){const Xe=Ee;Ee=Ee.replace(gy,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch(ot){Ee=Xe,Ve&&(Ve=!1,Ee={error:ot,text:Ee})}}Ve?(r.next(new wg({body:Ee,headers:B,status:J,statusText:ne,url:de||void 0})),r.complete()):r.error(new Dg({error:Ee,headers:B,status:J,statusText:ne,url:de||void 0}))},v=B=>{const{url:J}=f(),ne=new Dg({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:J||void 0});r.error(ne)};let C=!1;const S=B=>{C||(r.next(f()),C=!0);let J={type:Qn.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(J.total=B.total),"text"===t.responseType&&i.responseText&&(J.partialText=i.responseText),r.next(J)},F=B=>{let J={type:Qn.UploadProgress,loaded:B.loaded};B.lengthComputable&&(J.total=B.total),r.next(J)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",S),null!==o&&i.upload&&i.upload.addEventListener("progress",F)),i.send(o),r.next({type:Qn.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",S),null!==o&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const my=new l.OlP("XSRF_ENABLED"),vw=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bw=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ww{}let Qu=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=po(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(l.Lbi),l.LFG(vw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function va(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(my)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(ww).getToken(),i=(0,l.f3M)(bw);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Sr=(()=>((Sr=Sr||{})[Sr.Interceptors=0]="Interceptors",Sr[Sr.LegacyInterceptors=1]="LegacyInterceptors",Sr[Sr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Sr[Sr.NoXsrfProtection=3]="NoXsrfProtection",Sr[Sr.JsonpSupport=4]="JsonpSupport",Sr[Sr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Sr))();function ef(n,e){return{\u0275kind:n,\u0275providers:e}}function ak(...n){const e=[Cg,yw,xc,{provide:cy,useExisting:xc},{provide:Qh,useExisting:yw},{provide:ya,useValue:va,multi:!0},{provide:my,useValue:!0},{provide:ww,useClass:Qu}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const sT=new l.OlP("LEGACY_INTERCEPTOR_FN");let no=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ak(ef(Sr.LegacyInterceptors,[{provide:sT,useFactory:eT},{provide:ya,useExisting:sT,multi:!0}]))]}),n})();var Xn=$(7579);class oi extends Xn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Tg=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ml=$(4671),uT=$(9672);function Ag(...n){const e=(0,Ao.yG)(n),t=(0,Ao.jO)(n),{args:r,keys:i}=Xp(n);if(0===r.length)return(0,Nn.D)([],e);const o=new Jn.y(function dT(n,e,t=ml.y){return r=>{Xt(e,()=>{const{length:i}=n,o=new Array(i);let u=i,f=i;for(let m=0;m<i;m++)Xt(e,()=>{const v=(0,Nn.D)(n[m],e);let C=!1;v.subscribe((0,Vn.x)(r,S=>{o[m]=S,C||(C=!0,f--),f||r.next(t(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>So(i,u):ml.y));return t?o.pipe(Nu(t)):o}function Xt(n,e,t){n?(0,uT.f)(t,n,e):e()}var Xu=$(8189);function ed(...n){return function Cw(){return(0,Xu.J)(1)}()((0,Nn.D)(n,(0,Ao.yG)(n)))}function Iw(n){return new Jn.y(e=>{(0,es.Xf)(n()).subscribe(e)})}var hT=$(9635);function td(n,e){const t=(0,to.m)(n)?n:()=>n,r=i=>i.error(t());return new Jn.y(e?i=>e.schedule(r,0,i):r)}var Po=$(515),Sg=$(727);function _y(){return(0,Lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ew extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sg.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sg.w0.EMPTY)}return e}refCount(){return _y()(this)}}function Kr(n,e){return(0,Lr.e)((t,r)=>{let i=null,o=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,Vn.x)(r,m=>{i?.unsubscribe();let v=0;const C=o++;(0,es.Xf)(n(m,C)).subscribe(i=(0,Vn.x)(r,S=>r.next(e?e(m,S,C,v++):S),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function Mr(n){return n<=0?()=>Po.E:(0,Lr.e)((e,t)=>{let r=0;e.subscribe((0,Vn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _l(...n){const e=(0,Ao.yG)(n);return(0,Lr.e)((t,r)=>{(e?ed(n,t,e):ed(n,t)).subscribe(r)})}function ko(n){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tw(n=yy){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yy(){return new Tg}function ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?sr((i,o)=>n(i,o,r)):ml.y,Mr(1),t?ko(e):Tw(()=>new Tg))}function Yr(n,e,t){const r=(0,to.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Lr.e)((i,o)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let f=!0;i.subscribe((0,Vn.x)(o,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),o.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),o.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),o.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):ml.y}function Oc(n){return(0,Lr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,Vn.x)(t,void 0,void 0,u=>{o=(0,es.Xf)(n(u,Oc(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Mg(n,e){return(0,Lr.e)(function hk(n,e,t,r,i){return(o,u)=>{let f=t,m=e,v=0;o.subscribe((0,Vn.x)(u,C=>{const S=v++;m=f?n(m,C,S):(f=!0,C),r&&u.next(m)},i&&(()=>{f&&u.next(m),u.complete()})))}}(n,e,arguments.length>=2,!0))}function vy(n){return n<=0?()=>Po.E:(0,Lr.e)((e,t)=>{let r=[];e.subscribe((0,Vn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function by(n,e){const t=arguments.length>=2;return r=>r.pipe(n?sr((i,o)=>n(i,o,r)):ml.y,vy(1),t?ko(e):Tw(()=>new Tg))}function yl(n){return(0,Lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const an="primary",nd=Symbol("RouteTitle");class Ng{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function rd(n){return new Ng(n)}function Sw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],f=n[o];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Mw(n[i],e[i]))return!1;return!0}function Mw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Nw(n){return Array.prototype.concat.apply([],n)}function xw(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ba(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):Et(n)}const tf=!1,wy={exact:function _T(n,e,t){if(!wa(n.segments,e.segments)||!nf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_T(n.children[r],e.children[r],t))return!1;return!0},subset:Dy},gT={exact:function mT(n,e){return Fo(n,e)},subset:function id(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Mw(n[t],e[t]))},ignored:()=>!0};function xg(n,e,t){return wy[t.paths](n.root,e.root,t.matrixParams)&&gT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Dy(n,e,t){return Ow(n,e,e.segments,t)}function Ow(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wa(i,t)||e.hasChildren()||!nf(i,t,r))}if(n.segments.length===t.length){if(!wa(n.segments,t)||!nf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Dy(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(wa(n.segments,i)&&nf(n.segments,i,r)&&n.children[an])&&Ow(n.children[an],e,o,r)}}function nf(n,e,t){return e.every((r,i)=>gT[t](n[i].parameters,r.parameters))}class vl{constructor(e=new fn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rd(this.queryParams)),this._queryParamMap}toString(){return Rw.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ad(this)}}class bl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=rd(this.parameters)),this._parameterMap}toString(){return Pw(this)}}function wa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new od},providedIn:"root"}),n})();class od{parse(e){const t=new Ty(e);return new vl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pc(e.root,!0)}`,r=function Fw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${sf(t)}=${sf(i)}`).join("&"):`${sf(t)}=${sf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Rw=new od;function ad(n){return n.segments.map(e=>Pw(e)).join("/")}function Pc(n,e){if(!n.hasChildren())return ad(n);if(e){const t=n.children[an]?Pc(n.children[an],!1):"",r=[];return mi(n.children,(i,o)=>{o!==an&&r.push(`${o}:${Pc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function rf(n,e){let t=[];return mi(n.children,(r,i)=>{i===an&&(t=t.concat(e(r,i)))}),mi(n.children,(r,i)=>{i!==an&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===an?[Pc(n.children[an],!1)]:[`${i}:${Pc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${ad(n)}/${t[0]}`:`${ad(n)}/(${t.join("//")})`}}function Og(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(n){return Og(n).replace(/%3B/gi,";")}function Iy(n){return Og(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rg(n){return decodeURIComponent(n)}function Ey(n){return Rg(n.replace(/\+/g,"%20"))}function Pw(n){return`${Iy(n.path)}${function kw(n){return Object.keys(n).map(e=>`;${Iy(e)}=${Iy(n[e])}`).join("")}(n.parameters)}`}const yT=/^[^\/()?;=#]+/;function Pg(n){const e=n.match(yT);return e?e[0]:""}const ps=/^[^=?&#]+/,bT=/^[^&#]+/;class Ty{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[an]=new fn(e,t)),r}parseSegment(){const e=Pg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,tf);return this.capture(e),new bl(Rg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Pg(this.remaining);i&&(r=i,this.capture(r))}e[Rg(t)]=Rg(r)}parseQueryParam(e){const t=function vT(n){const e=n.match(ps);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function pk(n){const e=n.match(bT);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Ey(t),o=Ey(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,tf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=an);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[an]:new fn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,tf)}}function kg(n){return n.segments.length>0?new fn([],{[an]:n}):n}function Fg(n){const e={};for(const r of Object.keys(n.children)){const o=Fg(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function wT(n){if(1===n.numberOfChildren&&n.children[an]){const e=n.children[an];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}function kc(n){return n instanceof vl}const Lg=!1;function DT(n,e,t,r,i){if(0===t.length)return ld(e.root,e.root,e.root,r,i);const o=function Vg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new io(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return mi(o.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new io(t,e,r)}(t);return o.toRoot()?ld(e.root,e.root,new fn([],{}),r,i):function u(m){const v=function Vw(n,e,t,r){if(n.isAbsolute)return new cd(e.root,!0,0);if(-1===r)return new cd(t,t===e.root,0);return function Uw(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,Lg&&"Invalid number of '../'");i=r.segments.length}return new cd(r,!1,i-o)}(t,r+(af(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),C=v.processChildren?wl(v.segmentGroup,v.index,o.commands):Ay(v.segmentGroup,v.index,o.commands);return ld(e.root,v.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function af(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lf(n){return"object"==typeof n&&null!=n&&n.outlets}function ld(n,e,t,r,i){let u,o={};r&&mi(r,(m,v)=>{o[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),u=n===e?t:Bw(n,e,t);const f=kg(Fg(u));return new vl(f,o,i)}function Bw(n,e,t){const r={};return mi(n.children,(i,o)=>{r[o]=i===e?t:Bw(i,e,t)}),new fn(n.segments,r)}class io{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&af(r[0]))throw new l.vHH(4003,Lg&&"Root segment cannot have matrix parameters");const i=r.find(lf);if(i&&i!==xw(r))throw new l.vHH(4004,Lg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ay(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return wl(n,e,t);const r=function ET(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const u=n.segments[i],f=t[r];if(lf(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!uf(m,v,u))return o;r+=2}else{if(!uf(m,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,r.pathIndex),{});return o.children[an]=new fn(n.segments.slice(r.pathIndex),n.children),wl(o,0,i)}return r.match&&0===i.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?Sy(n,e,t):r.match?wl(n,0,i):Sy(n,e,t)}function wl(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function IT(n){return lf(n[0])?n[0].outlets:{[an]:n}}(t),i={};if(!r[an]&&n.children[an]&&1===n.numberOfChildren&&0===n.children[an].segments.length){const o=wl(n.children[an],e,t);return new fn(n.segments,o.children)}return mi(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=Ay(n.children[u],e,o))}),mi(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new fn(n.segments,i)}}function Sy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(lf(o)){const m=Ug(o.outlets);return new fn(r,m)}if(0===i&&af(t[0])){r.push(new bl(n.segments[e].path,cf(t[0]))),i++;continue}const u=lf(o)?o.outlets[an]:`${o}`,f=i<t.length-1?t[i+1]:null;u&&f&&af(f)?(r.push(new bl(u,cf(f))),i+=2):(r.push(new bl(u,{})),i++)}return new fn(r,{})}function Ug(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sy(new fn([],{}),0,t))}),e}function cf(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function uf(n,e,t){return n==t.path&&Fo(e,t.parameters)}const $g="imperative";class Fs{constructor(e,t){this.id=e,this.url=t}}class $w extends Fs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dl extends Fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class df extends Fs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hf extends Fs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class jg extends Fs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class My extends Fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da extends Fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hg extends Fs{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gg extends Fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ff extends Fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pf{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let NT=(()=>{class n{createUrlTree(t,r,i,o,u,f){return DT(t||r.root,i,o,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),OT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return NT.\u0275fac(e)},providedIn:"root"}),n})();class zw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ny(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ny(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xy(e,this._root).map(t=>t.value)}}function Ny(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ny(n,t);if(r)return r}return null}function xy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xy(n,t);if(r.length)return r.unshift(e),r}return[]}class Lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ww extends zw{constructor(e,t){super(e),this.snapshot=t,qg(this,e)}toString(){return this.snapshot.toString()}}function zg(n,e){const t=function RT(n,e){const u=new Wg([],{},{},"",{},an,e,null,n.root,-1,{});return new Zw("",new Lo(u,[]))}(n,e),r=new oi([new bl("",{})]),i=new oi({}),o=new oi({}),u=new oi({}),f=new oi(""),m=new ud(r,i,u,f,o,an,e,t.root);return m.snapshot=t.root,new Ww(new Lo(m,[]),t)}class ud{constructor(e,t,r,i,o,u,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,mt.U)(v=>v[nd]))??Et(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>rd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>rd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function PT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wg{get title(){return this.data?.[nd]}constructor(e,t,r,i,o,u,f,m,v,C,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zw extends zw{constructor(e,t){super(t),this.url=e,qg(this,t)}toString(){return Oy(this._root)}}function qg(n,e){e.value._routerState=n,e.children.forEach(t=>qg(n,t))}function Oy(n){const e=n.children.length>0?` { ${n.children.map(Oy).join(", ")} } `:"";return`${n.value}${e}`}function Zg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fo(e.params,t.params)||n.params.next(t.params),function fT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ry(n,e){const t=Fo(n.params,e.params)&&function sd(n,e){return wa(n,e)&&n.every((t,r)=>Fo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ry(n.parent,e.parent))}function dd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function yk(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dd(n,r,i);return dd(n,r)})}(n,e,t);return new Lo(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>dd(n,f)),u}}const r=function Kg(n){return new ud(new oi(n.url),new oi(n.params),new oi(n.queryParams),new oi(n.fragment),new oi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>dd(n,o));return new Lo(r,i)}}const Py="ngNavigationCancelingError";function Kw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=kc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yg(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Yg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Py]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Yw(n){return so(n)&&kc(n.url)}function so(n){return n&&n[Py]}class gf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gf,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bo=!1;let hd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Br),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Bo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Bo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Bo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Bo);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Ls(t,f,i.injector);if(r&&function ky(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class Ls{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ud?this.route:e===Br?this.childContexts:this.parent.get(e,t)}}let Il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[hd],encapsulation:2}),n})();function Fc(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jg(n){const e=n.children&&n.children.map(Jg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=Il),t}function gs(n){return n.outlet||an}function Fy(n,e){const t=n.filter(r=>gs(r)===e);return t.push(...n.filter(r=>gs(r)!==e)),t}function gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Cl(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),mi(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cl(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cl(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Cl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new AT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Zg(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Zg(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=gd(i.snapshot),m=f?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=m,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Ly{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bf{constructor(e,t){this.component=e,this.route=t}}function kT(n,e,t){const r=n._root;return wf(r,e?e._root:null,t,[r.value])}function Lc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function wf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cl(e);return n.children.forEach(u=>{(function e1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function By(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!Fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(n,e)||!Fo(n.queryParams,e.queryParams);default:return!Ry(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Ly(r)):(o.data=u.data,o._resolvedData=u._resolvedData),wf(n,e,o.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bf(f.outlet.component,u))}else u&&Bc(e,f,i),i.canActivateChecks.push(new Ly(r)),wf(n,null,o.component?f?f.children:null:t,r,i)})(u,o[u.value.outlet],t,r.concat([u.value]),i),delete o[u.value.outlet]}),mi(o,(u,f)=>Bc(u,t.getContext(f),i)),i}function Bc(n,e,t){const r=Cl(n),i=n.value;mi(r,(o,u)=>{Bc(o,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new bf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Df(n){return"function"==typeof n}function Cf(n){return n instanceof Tg||"EmptyError"===n?.name}const If=Symbol("INITIAL_VALUE");function Vc(){return Kr(n=>Ag(n.map(e=>e.pipe(Mr(1),_l(If)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===If)return If;if(!1===t||t instanceof vl)return t}return!0}),sr(e=>e!==If),Mr(1)))}function $y(n){return(0,hT.z)(Yr(e=>{if(kc(e))throw Kw(0,e)}),(0,mt.U)(e=>!0===e))}const md={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hy(n,e,t,r,i){const o=nm(n,e,t);return o.matched?function jy(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Et(i.map(u=>{const f=Lc(u,n);return ba(function tm(n){return n&&Df(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vc(),$y()):Et(!0)}(r=Fc(e,r),e,t).pipe((0,mt.U)(u=>!0===u?o:{...md})):Et(o)}function nm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...md}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Sw)(t,n,e);if(!i)return{...md};const o={};mi(i.posParams,(f,m)=>{o[m]=f.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Ef(n,e,t,r){if(t.length>0&&function u1(n,e,t){return t.some(r=>Tf(n,e,r)&&gs(r)!==an)}(n,t,r)){const o=new fn(e,function c1(n,e,t,r){const i={};i[an]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&gs(o)!==an){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[gs(o)]=u}return i}(n,e,r,new fn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function d1(n,e,t){return t.some(r=>Tf(n,e,r))}(n,t,r)){const o=new fn(n.segments,function l1(n,e,t,r,i){const o={};for(const u of r)if(Tf(n,t,u)&&!i[gs(u)]){const f=new fn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[gs(u)]=f}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new fn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Tf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Af(n,e,t,r){return!!(gs(n)===r||r!==an&&Tf(e,t,n))&&("**"===n.path||nm(e,n,t).matched)}function Ca(n,e,t){return 0===e.length&&!n.children[t]}const rm=!1;class im{constructor(e){this.segmentGroup=e||null}}class sm{constructor(e){this.urlTree=e}}function oo(n){return td(new im(n))}function om(n){return td(new sm(n))}class bk{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Ef(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,an).pipe((0,mt.U)(o=>this.createUrlTree(Fg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oc(o=>{if(o instanceof sm)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof im?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,an).pipe((0,mt.U)(i=>this.createUrlTree(Fg(i),e.queryParams,e.fragment))).pipe(Oc(i=>{throw i instanceof im?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,rm)}createUrlTree(e,t,r){const i=kg(e);return new vl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(o=>new fn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,Nn.D)(i).pipe(ma(o=>{const u=r.children[o],f=Fy(t,o);return this.expandSegmentGroup(e,f,u,o).pipe((0,mt.U)(m=>({segment:m,outlet:o})))}),Mg((o,u)=>(o[u.outlet]=u.segment,o),{}),by())}expandSegment(e,t,r,i,o,u){return(0,Nn.D)(r).pipe(ma(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,o,u).pipe(Oc(v=>{if(v instanceof im)return Et(null);throw v}))),ro(f=>!!f),Oc((f,m)=>{if(Cf(f))return Ca(t,i,o)?Et(new fn([],{})):oo(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,o,u,f){return Af(i,t,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u):oo(t):oo(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?om(o):this.lineralizeSegments(r,o).pipe((0,gi.z)(u=>{const f=new fn(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=nm(t,i,o);if(!f)return oo(t);const S=this.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?om(S):this.lineralizeSegments(i,S).pipe((0,gi.z)(F=>this.expandSegment(e,t,r,F.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=Fc(r,e),r.loadChildren?(r._loadedRoutes?Et({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new fn(i,{})))):Et(new fn(i,{}))):Hy(t,r,i,e).pipe(Kr(({matched:u,consumedSegments:f,remainingSegments:m})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,gi.z)(C=>{const S=C.injector??e,F=C.routes,{segmentGroup:B,slicedSegments:J}=Ef(t,f,m,F),ne=new fn(B.segments,B.children);if(0===J.length&&ne.hasChildren())return this.expandChildren(S,F,ne).pipe((0,mt.U)(Xe=>new fn(f,Xe)));if(0===F.length&&0===J.length)return Et(new fn(f,{}));const de=gs(r)===o;return this.expandSegment(S,ne,F,J,de?an:o,!0).pipe((0,mt.U)(Ve=>new fn(f.concat(Ve.segments),Ve.children)))})):oo(t)))}getChildConfig(e,t,r){return t.children?Et({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Et({routes:t._loadedRoutes,injector:t._loadedInjector}):function a1(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Et(!0):Et(i.map(u=>{const f=Lc(u,n);return ba(function Xg(n){return n&&Df(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vc(),$y())}(e,t,r).pipe((0,gi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Yr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Gy(n){return td(Yg(rm,3))}())):Et({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Et(r);if(i.numberOfChildren>1||!i.children[an])return e.redirectTo,td(new l.vHH(4e3,rm));i=i.children[an]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new vl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=t[f]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let u={};return mi(t.children,(f,m)=>{u[m]=this.createSegmentGroup(e,f,r,i)}),new fn(o,u)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,rm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class f1{}class p1{constructor(e,t,r,i,o,u,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=Ef(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,an).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new Wg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Lo(r,t),o=new Zw(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=qw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Nn.D)(Object.keys(r.children)).pipe(ma(i=>{const o=r.children[i],u=Fy(t,i);return this.processSegmentGroup(e,u,o,i)}),Mg((i,o)=>i&&o?(i.push(...o),i):null),function fk(n,e=!1){return(0,Lr.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,o=>{const u=n(o,i++);(u||e)&&r.next(o),!u&&r.complete()}))})}(i=>null!==i),ko(null),by(),(0,mt.U)(i=>{if(null===i)return null;const o=m1(i);return function GT(n){n.sort((e,t)=>e.value.outlet===an?-1:t.value.outlet===an?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,Nn.D)(t).pipe(ma(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,o)),ro(u=>!!u),Oc(u=>{if(Cf(u))return Ca(r,i,o)?Et([]):Et(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!Af(t,r,i,o))return Et(null);let u;if("**"===t.path){const f=i.length>0?xw(i).parameters:{},m=Uc(r)+i.length;u=Et({snapshot:new Wg(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y1(t),gs(t),t.component??t._loadedComponent??null,t,zy(r),m,Wy(t)),consumedSegments:[],remainingSegments:[]})}else u=Hy(r,t,i,e).pipe((0,mt.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:C})=>{if(!f)return null;const S=Uc(r)+m.length;return{snapshot:new Wg(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y1(t),gs(t),t.component??t._loadedComponent??null,t,zy(r),S,Wy(t)),consumedSegments:m,remainingSegments:v}}));return u.pipe(Kr(f=>{if(null===f)return Et(null);const{snapshot:m,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const S=t._loadedInjector??e,F=function zT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:J}=Ef(r,v,C,F.filter(de=>void 0===de.redirectTo));if(0===J.length&&B.hasChildren())return this.processChildren(S,F,B).pipe((0,mt.U)(de=>null===de?null:[new Lo(m,de)]));if(0===F.length&&0===J.length)return Et([new Lo(m,[])]);const ne=gs(t)===o;return this.processSegment(S,F,B,J,ne?an:o).pipe((0,mt.U)(de=>null===de?null:[new Lo(m,de)]))}))}}function g1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function m1(n){const e=[],t=new Set;for(const r of n){if(!g1(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=m1(r.children);e.push(new Lo(r.value,i))}return e.filter(r=>!t.has(r))}function zy(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uc(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function y1(n){return n.data||{}}function Wy(n){return n.resolve||{}}function v1(n,e){return(0,gi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Et(t);let o=0;return(0,Nn.D)(i).pipe(ma(u=>function Dk(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!b1(i)&&(o[nd]=i.title),function qy(n,e,t,r){const i=function Zy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Et({});const o={};return(0,Nn.D)(i).pipe((0,gi.z)(u=>function Vo(n,e,t,r){const i=gd(e)??r,o=Lc(n,i);return ba(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[u],e,t,r).pipe(ro(),Yr(f=>{o[u]=f}))),vy(1),function Aw(n){return(0,mt.U)(()=>n)}(o),Oc(u=>Cf(u)?Po.E:td(u)))}(o,n,e,r).pipe((0,mt.U)(u=>(n._resolvedData=u,n.data=qw(n,t).resolve,i&&b1(i)&&(n.data[nd]=i.title),null)))}(u.route,r,n,e)),Yr(()=>o++),vy(1),(0,gi.z)(u=>o===i.length?Et(t):Po.E))})}function b1(n){return"string"==typeof n.title||null===n.title}function am(n){return Kr(e=>{const t=n(e);return t?(0,Nn.D)(t).pipe((0,mt.U)(()=>e)):Et(e)})}const Mi=new l.OlP("ROUTES");let ms=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ba(t.loadComponent()).pipe((0,mt.U)(Ky),Yr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),yl(()=>{this.componentLoaders.delete(t)})),i=new Ew(r,()=>new Xn.x).pipe(_y());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,C=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=Nw(m.get(Mi,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(Jg),injector:m}}),yl(()=>{this.childrenLoaders.delete(r)})),u=new Ew(o,()=>new Xn.x).pipe(_y());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ba(t()).pipe((0,mt.U)(Ky),(0,gi.z)(r=>r instanceof l.YKP||Array.isArray(r)?Et(r):(0,Nn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ky(n){return function w1(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xn.x,this.configLoader=(0,l.f3M)(ms),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Rc),this.rootContexts=(0,l.f3M)(Br),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new TT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$g,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sr(r=>0!==r.id),(0,mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Kr(r=>{let i=!1,o=!1;return Et(r).pipe(Yr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kr(u=>{const f=t.browserUrlTree.toString(),m=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new hf(u.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Po.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return D1(u.source)&&(t.browserUrlTree=u.extractedUrl),Et(u).pipe(Kr(C=>{const S=this.transitions?.getValue();return this.events.next(new $w(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions?.getValue()?Po.E:Promise.resolve(C)}),function jT(n,e,t,r){return Kr(i=>function vk(n,e,t,r,i){return new bk(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Yr(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function WT(n,e,t,r,i){return(0,gi.z)(o=>function Jr(n,e,t,r,i,o,u="emptyOnly"){return new p1(n,e,t,r,i,u,o).recognize().pipe(Kr(f=>null===f?function HT(n){return new Jn.y(e=>e.error(n))}(new f1):Et(f)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,mt.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yr(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(F,C)}t.browserUrlTree=C.urlAfterRedirects}const S=new My(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(S)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:S,source:F,restoredState:B,extras:J}=u,ne=new $w(C,this.urlSerializer.serialize(S),F,B);this.events.next(ne);const de=zg(S,this.rootComponentType).snapshot;return Et(r={...u,targetSnapshot:de,urlAfterRedirects:S,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new hf(u.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Po.E}}),Yr(u=>{const f=new Da(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,mt.U)(u=>r={...u,guards:kT(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Uy(n,e){return(0,gi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?Et({...t,guardsResult:!0}):function n1(n,e,t,r){return(0,Nn.D)(n).pipe((0,gi.z)(i=>function UT(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Et(o.map(f=>{const m=gd(e)??i,v=Lc(f,m);return ba(function em(n){return n&&Df(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(ro())})).pipe(Vc()):Et(!0)}(i.component,i.route,t,e,r)),ro(i=>!0!==i,!0))}(u,r,i,n).pipe((0,gi.z)(f=>f&&function Qg(n){return"boolean"==typeof n}(f)?function VT(n,e,t,r){return(0,Nn.D)(e).pipe(ma(i=>ed(function i1(n,e){return null!==n&&e&&e(new Hw(n)),Et(!0)}(i.route.parent,r),function r1(n,e){return null!==n&&e&&e(new ST(n)),Et(!0)}(i.route,r),function o1(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function FT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Iw(()=>Et(u.guards.map(m=>{const v=gd(u.node)??t,C=Lc(m,v);return ba(function LT(n){return n&&Df(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(ro())})).pipe(Vc())));return Et(o).pipe(Vc())}(n,i.path,t),function s1(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Et(!0);const i=r.map(o=>Iw(()=>{const u=gd(e)??t,f=Lc(o,u);return ba(function Vy(n){return n&&Df(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(ro())}));return Et(i).pipe(Vc())}(n,i.route,t))),ro(i=>!0!==i,!0))}(r,o,n,e):Et(f)),(0,mt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),Yr(u=>{if(r.guardsResult=u.guardsResult,kc(u.guardsResult))throw Kw(0,u.guardsResult);const f=new Hg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),sr(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),am(u=>{if(u.guards.canActivateChecks.length)return Et(u).pipe(Yr(f=>{const m=new Gg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Kr(f=>{let m=!1;return Et(f).pipe(v1(t.paramsInheritanceStrategy,this.environmentInjector),Yr({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Yr(f=>{const m=new ff(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),am(u=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Yr(C=>{m.component=C}),(0,mt.U)(()=>{})));for(const C of m.children)v.push(...f(C));return v};return Ag(f(u.targetSnapshot.root)).pipe(ko(),Mr(1))}),am(()=>this.afterPreactivation()),(0,mt.U)(u=>{const f=function _k(n,e,t){const r=dd(n,e._root,t?t._root:void 0);return new Ww(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),Yr(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new Xw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),Mr(1),Yr({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Dl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),yl(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Oc(u=>{if(o=!0,so(u)){Yw(u)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new df(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Yw(u)){const m=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||D1(r.source)};t.scheduleNavigation(m,$g,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new jg(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(u))}catch(m){r.reject(m)}}return Po.E}))}))}cancelNavigationTransition(t,r,i){const o=new df(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D1(n){return n!==$g}let C1=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===an);return r}getResolvedTitleForRoute(t){return t.data[nd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Yy)},providedIn:"root"}),n})(),Yy=(()=>{class n extends C1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(N_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(I1)},providedIn:"root"}),n})();class qT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let I1=(()=>{class n extends qT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const um=new l.OlP("",{providedIn:"root",factory:()=>({})});let E1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(T1)},providedIn:"root"}),n})(),T1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KT(n){throw n}function A1(n,e,t){return e.parse("/")}const S1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(um,{optional:!0})||{},this.errorHandler=this.options.errorHandler||KT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||A1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(E1),this.routeReuseStrategy=(0,l.f3M)(Sf),this.urlCreationStrategy=(0,l.f3M)(OT),this.titleStrategy=(0,l.f3M)(C1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nw((0,l.f3M)(Mi,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(cm),this.urlSerializer=(0,l.f3M)(Rc),this.location=(0,l.f3M)(Ge),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zg(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$g,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Jg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:u;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...o};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=o||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=kc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$g,null,r)}navigate(t,r={skipLocationChange:!1}){return function M1(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...S1}:!1===r?{...Jy}:r,kc(t))return xg(this.currentUrlTree,t,i);const o=this.parseUrl(t);return xg(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let f,m,v,C;return u?(f=u.resolve,m=u.reject,v=u.promise):v=new Promise((S,F)=>{f=S,m=F}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mf=(()=>{class n{constructor(t,r,i,o,u,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xn.x;const m=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Dl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ni),l.Y36(ud),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(et))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Qy{}let O1=(()=>{class n{constructor(t,r,i,o,u){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(sr(t=>t instanceof Dl),ma(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,f=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,Nn.D)(i).pipe((0,Xu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Et(null);const o=i.pipe((0,gi.z)(u=>null===u?Et(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Nn.D)([o,u]).pipe((0,Xu.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ni),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Qy),l.LFG(ms))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xy=new l.OlP("");let ev=(()=>{class n{constructor(t,r,i,o,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var _s=(()=>((_s=_s||{})[_s.COMPLETE=0]="COMPLETE",_s[_s.FAILED=1]="FAILED",_s[_s.REDIRECTING=2]="REDIRECTING",_s))();const yd=!1;function Tl(n,e){return{\u0275kind:n,\u0275providers:e}}const tv=new l.OlP("",{providedIn:"root",factory:()=>!1});function P1(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Ni),i=n.get(k1);1===n.get(nv)&&r.initialNavigation(),n.get(rv,null,l.XFs.Optional)?.setUpPreloading(),n.get(Xy,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const k1=new l.OlP(yd?"bootstrap done indicator":"",{factory:()=>new Xn.x}),nv=new l.OlP(yd?"initial navigation":"",{providedIn:"root",factory:()=>1});function nA(){let n=[];return n=yd?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ni);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function mk(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Tl(1,n)}const rv=new l.OlP(yd?"router preloader":"");function F1(n){return Tl(0,[{provide:rv,useExisting:O1},{provide:Qy,useExisting:n}])}const vd=!1,iv=new l.OlP(vd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),L1=[Ge,{provide:Rc,useClass:od},Ni,Br,{provide:ud,useFactory:function R1(n){return n.routerState.root},deps:[Ni]},ms,vd?{provide:tv,useValue:!0}:[]];function sv(){return new l.PXZ("Router",Ni)}let ov=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[L1,vd&&r?.enableTracing?nA().\u0275providers:[],{provide:Mi,multi:!0,useValue:t},{provide:iv,useFactory:bd,deps:[[Ni,new l.FiY,new l.tp0]]},{provide:um,useValue:r||{}},r?.useHash?{provide:et,useClass:me}:{provide:et,useClass:Ne},{provide:Xy,useFactory:()=>{const n=(0,l.f3M)(La),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(um),r=(0,l.f3M)(cm),i=(0,l.f3M)(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ev(i,r,n,e,t)}},r?.preloadingStrategy?F1(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:sv},r?.initialNavigation?Tk(r):[],[{provide:dm,useFactory:P1},{provide:l.tb,multi:!0,useExisting:dm}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Mi,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iv,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Il]}),n})();function bd(n){if(vd&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Tk(n){return["disabled"===n.initialNavigation?Tl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ni);return()=>{e.setUpLocationChangeListener()}}},{provide:nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Tl(2,[{provide:nv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(He,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ni),o=e.get(k1);(function QT(n,e){n.events.pipe(sr(t=>t instanceof Dl||t instanceof df||t instanceof jg||t instanceof hf),(0,mt.U)(t=>t instanceof Dl||t instanceof hf?_s.COMPLETE:t instanceof df&&(0===t.code||1===t.code)?_s.REDIRECTING:_s.FAILED),sr(t=>t!==_s.REDIRECTING),Mr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(cm).afterPreactivation=()=>(r(!0),o.closed?Et(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const dm=new l.OlP(vd?"Router Initializer":"");var B1=$(1144);const Sk=["addListener","removeListener"],Ut=["addEventListener","removeEventListener"],uA=["on","off"];function _i(n,e,t,r){if((0,to.m)(t)&&(r=t,t=void 0),r)return _i(n,e,t).pipe(Nu(r));const[i,o]=function hm(n){return(0,to.m)(n.addEventListener)&&(0,to.m)(n.removeEventListener)}(n)?Ut.map(u=>f=>n[u](e,f,t)):function wd(n){return(0,to.m)(n.addListener)&&(0,to.m)(n.removeListener)}(n)?Sk.map(V1(n,e)):function dA(n){return(0,to.m)(n.on)&&(0,to.m)(n.off)}(n)?uA.map(V1(n,e)):[];if(!i&&(0,B1.z)(n))return(0,gi.z)(u=>_i(u,e,t))((0,es.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Jn.y(u=>{const f=(...m)=>u.next(1<m.length?m:m[0]);return i(f),()=>o(f)})}function V1(n,e){return t=>r=>n[t](e,r)}class fm extends Sg.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const er={setInterval(n,e,...t){const{delegate:r}=er;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=er;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Mk=$(8737);class av extends fm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return er.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&er.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Mk.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const pm={now:()=>(pm.delegate||Date).now(),delegate:void 0};class Nf{constructor(e,t=Nf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Nf.now=pm.now;class lv extends Nf{constructor(e,t=Nf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xf=new lv(av),U1=xf;var $1=$(3532);function cv(n=0,e,t=U1){let r=-1;return null!=e&&((0,$1.K)(e)?t=e:r=e),new Jn.y(i=>{let o=function hA(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:fA}=Array;function Dd(n){return 1===n.length&&fA(n[0])?n[0]:n}var gm=$(5032);const Of=new Jn.y(gm.Z);function Rf(...n){const e=(0,Ao.jO)(n),t=Dd(n);return t.length?new Jn.y(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let u=0;!r.closed&&u<t.length;u++)(0,es.Xf)(t[u]).subscribe((0,Vn.x)(r,f=>{if(i[u].push(f),i.every(m=>m.length)){const m=i.map(v=>v.shift());r.next(e?e(...m):m),i.some((v,C)=>!v.length&&o[C])&&r.complete()}},()=>{o[u]=!0,!i[u].length&&r.complete()}));return()=>{i=o=null}}):Po.E}var uv=$(6451);function qn(n){return(0,Lr.e)((e,t)=>{(0,es.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),gm.Z)),!t.closed&&e.subscribe(t)})}function Al(n,e=ml.y){return n=n??_A,(0,Lr.e)((t,r)=>{let i,o=!0;t.subscribe((0,Vn.x)(r,u=>{const f=e(u);(o||!n(i,f))&&(o=!1,i=f,r.next(u))}))})}function _A(n,e){return n===e}function dv(...n){const e=(0,Ao.jO)(n);return(0,Lr.e)((t,r)=>{const i=n.length,o=new Array(i);let u=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,es.Xf)(n[m]).subscribe((0,Vn.x)(r,v=>{o[m]=v,!f&&!u[m]&&(u[m]=!0,(f=u.every(ml.y))&&(u=null))},gm.Z));t.subscribe((0,Vn.x)(r,m=>{if(f){const v=[m,...o];r.next(e?e(...v):v)}}))})}function KA(n,e){}function YA(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,KA,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function JA(n,e){}function QA(n,e){}function jf(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.KtG(o.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,QA,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const XA=function(n,e){return{$implicit:n,opened:e}};function Av(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,JA,0,0,"ng-template",6),l.qZA(),l.YNc(3,jf,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,XA,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const Go=["ngbAccordionBody",""];function eS(n,e){}function Sv(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const xl=["*"];function tS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return u.focus(),l.KtG(u.select(o.id,u.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function nS(n,e){}function rS(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,nS,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function Dm(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Cm(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const iS=["ngbDatepickerDayView",""],sS=["month"],bD=["year"];function wD(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function Mv(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function DD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Nv(n,e){1&n&&l._UZ(0,"div",0)}function xv(n,e){1&n&&l._UZ(0,"div",0)}function CD(n,e){if(1&n&&(l.YNc(0,Nv,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,xv,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function Ov(n,e){if(1&n&&l.YNc(0,CD,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function Rv(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function oS(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function aS(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Rv,2,1,"div",3),l.YNc(2,oS,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function lS(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function cS(n,e){}function ID(n,e){if(1&n&&l.YNc(0,cS,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Pv(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const u=l.CHM(t).$implicit;return l.oxw(3).doSelect(u),l.KtG(i.preventDefault())}),l.YNc(1,ID,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function ED(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,lS,2,1,"div",9),l.YNc(2,Pv,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function TD(n,e){1&n&&l.YNc(0,ED,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const AD=["defaultDayTemplate"],SD=["content"];function uS(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,o=e.disabled,u=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",o)("focused",u)}}function MD(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function ND(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,MD,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function dS(n,e){if(1&n&&l.YNc(0,ND,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function xD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateEvent(i))})("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function OD(n,e){}function ji(n,e){}const Md=["dialog"],hS=["ngbNavOutlet",""];function fS(n,e){}const Pk=function(n){return{$implicit:n}};function kk(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,fS,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,Pk,t.active||r.isPanelTransitioning(t)))}}function RD(n,e){if(1&n&&l.YNc(0,kk,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function kv(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function Hf(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function pS(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function Fv(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function gS(n,e){1&n&&l._uU(0,"...")}function PD(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function mS(n,e){if(1&n&&(l._uU(0),l.YNc(1,PD,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function _S(n,e){}const yS=function(n){return{disabled:!0,currentPage:n}};function Lv(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,_S,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,yS,t))}}function kD(n,e){}const FD=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function Im(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.oxw(2).selectPage(o),l.KtG(i.preventDefault())}),l.YNc(1,kD,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,o=r.$implicit,u=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==u.tplNumber?null:u.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,FD,i,t,o))}}function Bv(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,Lv,2,4,"a",18),l.YNc(2,Im,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,o=r.disabled,u=l.oxw();l.ekj("active",t===i)("disabled",u.isEllipsis(t)||o),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",u.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!u.isEllipsis(t))}}function Fk(n,e){1&n&&l.YNc(0,Bv,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function LD(n,e){}const Vv=function(n,e){return{disabled:n,currentPage:e}};function BD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,LD,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,Vv,t.previousDisabled(),t.page))}}function Nd(n,e){}const vS=function(n){return{disabled:n}};function VD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page-1),l.KtG(i.preventDefault())}),l.YNc(2,Nd,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,vS,t.previousDisabled()))}}function Uv(n,e){}function Lk(n,e){}function bS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page+1),l.KtG(i.preventDefault())}),l.YNc(2,Lk,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,Vv,t.nextDisabled(),t.page))}}function Bk(n,e){}function wS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,Bk,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,Vv,t.nextDisabled(),t.page))}}const DS=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function ES(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function $D(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function jD(n,e){}function TS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const o=l.CHM(t).index,u=l.oxw();return l.KtG(u.enter(o+1))})("click",function(){const o=l.CHM(t).index,u=l.oxw();return l.KtG(u.handleClick(o+1))}),l.YNc(3,jD,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function AS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function HD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function SS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function GD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function zD(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function WD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function qD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function MS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,WD,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(o.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(-o.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,qD,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function NS(n,e){1&n&&l._UZ(0,"div",5)}function Vk(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function ZD(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function Uk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,Vk,2,1,"ng-container",25),l.YNc(3,ZD,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function $k(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function jk(n,e){}function Hk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,jk,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function Gk(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function zk(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function Wk(n,e){if(1&n&&(l.YNc(0,Gk,2,3,"span",1),l.YNc(1,zk,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function Vr(n){return parseInt(`${n}`,10)}function $v(n){return null!=n?`${n}`:""}function Gf(n,e,t=0){return Math.max(Math.min(n,e),t)}function zf(n){return"string"==typeof n}function or(n){return!isNaN(Vr(n))}function ar(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Gc(n){return null!=n}function Wf(n){return or(n)?`0${n}`.slice(-2):""}function KD(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function xd(n){return(n||document.body).getBoundingClientRect()}function PS(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const YD={animation:!0,transitionTimerDelayMs:5},kS=()=>{},{transitionTimerDelayMs:FS}=YD,Am=new Map,Qr=(n,e,t,r)=>{let i=r.context||{};const o=Am.get(e);if(o)switch(r.runningTransition){case"continue":return Po.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Am.delete(e)}const u=t(e,r.animation,i)||kS;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),Et(void 0).pipe(function Zk(n){return e=>new Jn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Xn.x,m=new Xn.x,v=f.pipe(function mA(...n){return e=>ed(e,Et(...n))}(!0));Am.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const C=function Kk(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=_i(e,"transitionend").pipe(qn(v),sr(({target:B})=>B===e));(function j1(...n){return 1===(n=Dd(n)).length?(0,es.Xf)(n[0]):new Jn.y(function pA(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,es.Xf)(n[r]).subscribe((0,Vn.x)(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(cv(C+FS).pipe(qn(v)),S,m).pipe(qn(v)).subscribe(()=>{Am.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()},XD=(n,e,t)=>{let{direction:r,maxSize:i,dimension:o}=t;const{classList:u}=n;function f(){u.add("collapse"),"show"===r?u.add("show"):u.remove("show")}if(e)return i||(i=function QD(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,o),t.maxSize=i,n.style[o]="show"!==r?i:"0px",u.remove("collapse"),u.remove("collapsing"),u.remove("show"),xd(n),u.add("collapsing")),n.style[o]="show"===r?i:"0px",()=>{f(),u.remove("collapsing"),n.style[o]=""};f()};let yi=(()=>{class n{constructor(){this.animation=YD.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eC=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jv=0,Hv=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),LS=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),ys=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),Gv=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+jv++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,LS,4),l.Suo(i,Hv,4),l.Suo(i,ys,4)),2&t){let o;l.iGM(o=l.CRH())&&(r.titleTpls=o),l.iGM(o=l.CRH())&&(r.headerTpls=o),l.iGM(o=l.CRH())&&(r.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),zv=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),tC=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>Wv)),l.Y36(Gv,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),Wv=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){zf(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Mr(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Qr(this._ngZone,r,XD,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Qr(this._ngZone,r.panelDiv,XD,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:o}=r;r.isOpen?(r.shown.emit(),this.shown.emit(o)):(r.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eC),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Gv,4),2&t){let o;l.iGM(o=l.CRH())&&(r.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,YA,3,3,"ng-template",0,1,l.W1O),l.YNc(2,Av,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[mr,ui,tC,zv,Hv,_r],encapsulation:2}),n})(),qv=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zv=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Qr(this._zone,this._element.nativeElement,XD,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(qv),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),nC=0,rC=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>zc)))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,7),2&t){let o;l.iGM(o=l.CRH())&&(r._bodyTpl=o.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion-body",!0)},standalone:!0,features:[l.jDz],attrs:Go,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&l.YNc(0,eS,0,0,"ng-template",0),2&t&&l.Q6J("ngTemplateOutlet",r.template())},dependencies:[ui],encapsulation:2}),n})(),Kv=(()=>{class n{constructor(t,r){this.item=t,this.ngbCollapse=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>zc)),l.Y36(Zv))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.collapseId),l.uIk("aria-labelledby",r.item.toggleId),l.ekj("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[l.zW0([Zv])]}),n})(),zc=(()=>{class n{constructor(t,r){this._accordion=t,this._cd=r,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+nC++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new l.vpe,this.hidden=new l.vpe}set id(t){zf(t)&&""!==t&&(this._id=t)}set collapsed(t){this.collapsed!==t&&(this._collapsed=t,this._cd.markForCheck(),this._collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=t)}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>qf)),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Kv,7),2&t){let o;l.iGM(o=l.CRH())&&(r._collapse=o.first)}},hostVars:3,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.id),l.ekj("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),qf=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){const r=this._getItem(t);if(r){const i=r.collapsed;this._items.forEach(o=>{o===r?o.toggle():this.closeOthers&&i&&(o.collapsed=!0)})}}expand(t){const r=this._getItem(t);r&&this._items.forEach(i=>{i===r?r.collapsed=!1:this.closeOthers&&(i.collapsed=!0)})}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||(this._items.get(0).collapsed=!1):this._items.forEach(t=>{t.collapsed=!1})}collapse(t){const r=this._getItem(t);r&&(r.collapsed=!0)}collapseAll(){this._items.forEach(t=>t.collapsed=!0)}isExpanded(t){const r=this._getItem(t);return!!r&&!r.collapsed}_getItem(t){return this._items.find(r=>r.id===t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eC))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,zc,4),2&t){let o;l.iGM(o=l.CRH())&&(r._items=o)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),Ta=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wv,rC]}),n})();const sC=({classList:n})=>{n.remove("show")};let Jv=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oC=(()=>{class n{constructor(t,r,i,o){this._renderer=r,this._element=i,this._zone=o,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Qr(this._zone,this._element.nativeElement,sC,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jv),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:xl,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,Sv,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[_r],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),aC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oC]}),n})();var Wc=(()=>{return(n=Wc||(Wc={})).START="start",n.END="end",Wc;var n})();const lC=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Zf=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},Sm=n=>{Zf(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},VS=(n,e,{direction:t})=>{const{classList:r}=n;return e?(lC(n)?Zf(r):(r.add("carousel-item-"+(t===Wc.START?"next":"prev")),xd(n),r.add("carousel-item-"+t)),()=>{Sm(r),r.add("active")}):(Zf(r),Sm(r),void r.add("active"))},cC=(n,e,{direction:t})=>{const{classList:r}=n;return e?(lC(n)?Zf(r):r.add("carousel-item-"+t),()=>{Sm(r),r.remove("active")}):(Zf(r),Sm(r),void r.remove("active"))};let Yk=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uC=0,US=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+uC++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),dC=(()=>{class n{constructor(t,r,i,o,u){this._platformId=r,this._ngZone=i,this._cd=o,this._container=u,this.NgbSlideEventSource=Od,this._destroy$=new Xn.x,this._interval$=new oi(0),this._mouseHover$=new oi(!1),this._focused$=new oi(!1),this._pauseOnHover$=new oi(!1),this._pauseOnFocus$=new oi(!1),this._pause$=new oi(!1),this._wrap$=new oi(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Od.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Od.ARROW_RIGHT)}ngAfterContentInit(){(function Ms(n){return n===hh})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ag([this.slide.pipe((0,mt.U)(r=>r.current),_l(this.activeId)),this._wrap$,this.slides.changes.pipe(_l(null))]).pipe((0,mt.U)(([r,i])=>{const o=this.slides.toArray(),u=this._getSlideIdxById(r);return i?o.length>1:u<o.length-1}),Al());Ag([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,mt.U)(([r,i,o,u,f,m,v])=>r||i&&o||u&&f||!v?0:m),Al(),Kr(r=>r>0?cv(r,r):Of),qn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Od.TIMER)))}),this.slides.changes.pipe(qn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Am.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Mr(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Wc.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Wc.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let u=this._getSlideById(t);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:u.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],v=this._getSlideById(this.activeId);if(v){const B=Qr(this._ngZone,this._getSlideElement(v.id),cC,f);B.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),m.push(B)}const C=this.activeId;this.activeId=u.id;const S=this._getSlideById(this.activeId),F=Qr(this._ngZone,this._getSlideElement(u.id),VS,f);F.subscribe(()=>{S?.slid.emit({isShown:!0,direction:r,source:i})}),m.push(F),Rf(...m).pipe(Mr(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:C,current:u.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Wc.END:Wc.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yk),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,US,4),2&t){let o;l.iGM(o=l.CRH())&&(r.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,tS,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,rS,4,4,"div",3),l.qZA(),l.YNc(4,Dm,4,0,"button",4),l.YNc(5,Cm,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[mr,ui,_r],encapsulation:2,changeDetection:0}),n})();var Od=(()=>{return(n=Od||(Od={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Od;var n})();let Mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dC]}),n})(),Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ur{constructor(e,t,r){this.year=ar(e)?e:null,this.month=ar(t)?t:null,this.day=ar(r)?r:null}static from(e){return e instanceof Ur?e:e?new Ur(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function qc(n,e){return!function hC(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function Xv(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function Zc(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function xm(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==n||i||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function pC(n){return new Ur(n.getFullYear(),n.getMonth()+1,n.getDate())}function Om(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let e0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function e2(){return new t2}()},providedIn:"root"}),n})(),t2=(()=>{class n extends e0{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let o=Om(t),u=!0,f=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":f+=i,o.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":o.setDate(o.getDate()+i),u=!1;break;default:return t}return u&&o.getMonth()!==f&&o.setDate(0),pC(o)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=Om(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const u=Om(t[(11-r)%7]);u.setDate(u.getDate()+4-(u.getDay()||7));const f=u.getTime();return u.setMonth(0),u.setDate(1),Math.floor(Math.round((f-u.getTime())/864e5)/7)+1}getToday(){return pC(new Date)}isValid(t){if(!(t&&ar(t.year)&&ar(t.month)&&ar(t.day)&&0!==t.year))return!1;const r=Om(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Rd=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function n2(n){return new GS(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),GS=(()=>{class n extends Rd{constructor(t){super(),this._locale=t,this._monthsShort=Ke(t,yt.Standalone,Qe.Abbreviated),this._monthsFull=Ke(t,yt.Standalone,Qe.Wide)}getWeekdayLabel(t,r){const i=Se(this._locale,yt.Standalone,void 0===r?Qe.Short:r);return i.map((u,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return xn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pd=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(ar(i=Vr(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(ar(i=Vr(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(qc(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(qc(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?Qe.Short:i,u=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==u)return{weekdayWidth:o,weekdaysVisible:u}}},this._model$=new Xn.x,this._dateSelect$=new Xn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Qe.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(sr(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(sr(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&qc(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){xm(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||Xv(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(qc(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&xm(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Ur.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:o,focusDate:u,focusVisible:f,disabled:m,outsideDays:v}=t;t.months.forEach(C=>{C.weeks.forEach(S=>{S.days.forEach(F=>{u&&(F.context.focused=u.equals(F.date)&&f),F.tabindex=!m&&u&&F.date.equals(u)&&u.month===C.number?0:-1,!0===m&&(F.context.disabled=!0),void 0!==o&&(F.context.selected=null!==o&&o.equals(F.date)),C.number!==F.date.month&&(F.hidden="hidden"===v||"collapsed"===v||i>1&&F.date.after(r[0].firstDate)&&F.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Nm(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=Zc(r.focusDate,r.minDate,r.maxDate),r.firstDate=Zc(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=Zc(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=Zc(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const u=function Xk(n,e,t,r,i){const{displayMonths:o,months:u}=t,f=u.splice(0,u.length);return Array.from({length:o},(v,C)=>{const S=Object.assign(n.getNext(e,"m",C),{day:1});if(u[C]=null,!i){const F=f.findIndex(B=>B.firstDate.equals(S));-1!==F&&(u[C]=f.splice(F,1)[0])}return S}).forEach((v,C)=>{null===u[C]&&(u[C]=function fC(n,e,t,r,i={}){const{dayTemplateData:o,minDate:u,maxDate:f,firstDayOfWeek:m,markDisabled:v,outsideDays:C,weekdayWidth:S,weekdaysVisible:F}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function HS(n,e,t){const r=n.getDaysPerWeek(),i=new Ur(e.year,e.month,1),o=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+o-t)%r)}(n,e,m),F||(i.weekdays.length=0);for(let J=0;J<n.getWeeksPerMonth();J++){let ne=i.weeks[J];ne||(ne=i.weeks[J]={number:0,days:[],collapsed:!0});const de=ne.days;for(let Ee=0;Ee<n.getDaysPerWeek();Ee++){0===J&&F&&(i.weekdays[Ee]=r.getWeekdayLabel(n.getWeekday(e),S));const Ve=new Ur(e.year,e.month,e.day),Xe=n.getNext(Ve),ot=r.getDayAriaLabel(Ve);let ct=!!(u&&Ve.before(u)||f&&Ve.after(f));!ct&&v&&(ct=v(Ve,{month:i.number,year:i.year}));let wt=Ve.equals(B),hn=o?o(Ve,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Ve.month===i.number&&(i.firstDate=Ve),Ve.month===i.number&&Xe.month!==i.number&&(i.lastDate=Ve);let wn=de[Ee];wn||(wn=de[Ee]={}),wn.date=Ve,wn.context=Object.assign(wn.context||{},{$implicit:Ve,date:Ve,data:hn,currentMonth:i.number,currentYear:i.year,disabled:ct,focused:!1,selected:!1,today:wt}),wn.tabindex=-1,wn.ariaLabel=ot,wn.hidden=!1,e=Xe}ne.number=n.getWeekNumber(de.map(Ee=>Ee.date),m),ne.collapsed="collapsed"===C&&de[0].date.month!==i.number&&de[de.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),u}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=u,r.firstDate=u[0].firstDate,r.lastDate=u[u.length-1].lastDate,"selectedDate"in t&&!xm(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function jS(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,u=Array(o);for(let f=0;f<o;f++)u[f]=r+f;return u}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function $S(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const o=i.findIndex(u=>u===t.month);i=i.slice(o)}if(r&&e.year===r.year){const o=i.findIndex(u=>u===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function Qk(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function Jk(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(e0),l.LFG(Rd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var kd=(()=>{return(n=kd||(kd={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",kd;var n})();let zS=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:iS,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),gC=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ur(this.date.year,Vr(t),1))}changeYear(t){this.select.emit(new Ur(Vr(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rd),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(sS,7,l.SBq),l.Gf(bD,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(o){return r.changeMonth(o.target.value)}),l.YNc(2,wD,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(o){return r.changeYear(o.target.value)}),l.YNc(5,Mv,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[mr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),Kc=(()=>{class n{constructor(t){this.i18n=t,this.navigation=kd,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(o){return r.onClickPrev(o)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,DD,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,Ov,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(o){return r.onClickNext(o)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[_r,mr,gC],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var mn=(()=>{return(n=mn||(mn={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",mn;var n})();let t0=(()=>{class n{processKey(t,r){const{state:i,calendar:o}=r;switch(t.which){case mn.PageUp:r.focusDate(o.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case mn.PageDown:r.focusDate(o.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case mn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case mn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case mn.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case mn.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case mn.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case mn.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case mn.Enter:case mn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kf=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Qe.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function WS(){return new n0}()},providedIn:"root"}),n})(),n0=(()=>{class n extends Yf{fromModel(t){return t&&ar(t.year)&&ar(t.month)&&ar(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&ar(t.year)&&ar(t.month)&&ar(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Jf=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),mC=(()=>{class n{constructor(t,r,i,o){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rd),l.Y36((0,l.Gpc)(()=>r0)),l.Y36(t0),l.Y36(Pd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,aS,3,2,"div",0),l.YNc(1,TD,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[_r,mr,ui],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),r0=(()=>{class n{constructor(t,r,i,o,u,f,m,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=v,this._controlValue=null,this._destroyed$=new Xn.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=C=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(C=>this[C]=o[C]),t.dateSelect$.pipe(qn(this._destroyed$)).subscribe(C=>{this.dateSelect.emit(C)}),t.model$.pipe(qn(this._destroyed$)).subscribe(C=>{const S=C.firstDate,F=this.model?this.model.firstDate:null;this._publicState={maxDate:C.maxDate,minDate:C.minDate,firstDate:C.firstDate,lastDate:C.lastDate,focusedDate:C.focusDate,months:C.months.map(Ee=>Ee.firstDate)};let B=!1;if(!S.equals(F)&&(this.navigate.emit({current:F?{year:F.year,month:F.month}:null,next:{year:S.year,month:S.month},preventDefault:()=>B=!0}),B&&null!==F))return void this._service.open(F);const J=C.selectedDate,ne=C.focusDate,de=this.model?this.model.focusDate:null;this.model=C,qc(J,this._controlValue)&&(this._controlValue=J,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(J))),qc(ne,de)&&de&&C.focusVisible&&this.focus(),u.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ur.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Mr(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ur.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=_i(this._contentEl.nativeElement,"focusin"),r=_i(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,uv.T)(t,r).pipe(sr(({target:o,relatedTarget:u})=>!(KD(o,"ngb-dp-day")&&KD(u,"ngb-dp-day")&&i.contains(o)&&i.contains(u))),qn(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:o}=t.startDate;Xv(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case kd.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case kd.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ur.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Pd),l.Y36(e0),l.Y36(Rd),l.Y36(Kf),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Yf),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Jf,7),2&t){let o;l.iGM(o=l.CRH())&&(r.contentTemplate=o.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(AD,7),l.Gf(SD,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0},Pd]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,uS,1,5,"ng-template",null,0,l.W1O),l.YNc(2,dS,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,xD,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,OD,0,0,"ng-template",6),l.qZA(),l.YNc(9,ji,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[_r,mr,ui,zS,mC,Kc],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vC=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bC(n){const e=Array.from(n.querySelectorAll(vC)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let d2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[r0,mC]}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class ep{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Jj=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Mr(1)).subscribe(()=>{Qr(this._zone,this._el.nativeElement,(t,r)=>{r&&xd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class g2{close(e){}dismiss(e){}}class Qj{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Xn.x,this._dismissed=new Xn.x,this._hidden=new Xn.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function OS(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Et(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Rf(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var u0=(()=>{return(n=u0||(u0={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",u0;var n})();let Xj=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Xn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Xn.x,this.hidden=new Xn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Mr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=Rf(Qr(this._zone,t,()=>t.classList.remove("show"),r),Qr(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};Rf(Qr(this._zone,this._elRef.nativeElement,(o,u)=>{u&&xd(o),o.classList.add("show")},t),Qr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{_i(t,"keydown").pipe(qn(this._closed$),sr(i=>i.which===mn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(u0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;_i(this._dialogEl.nativeElement,"mousedown").pipe(qn(this._closed$),Yr(()=>r=!1),Kr(()=>_i(t,"mouseup").pipe(qn(this._closed$),Mr(1))),sr(({target:i})=>t===i)).subscribe(()=>{r=!0}),_i(t,"click").pipe(qn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(u0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=bC(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ye),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(Md,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:xl,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),eH=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:u}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tH=(()=>{class n{constructor(t,r,i,o,u,f,m){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=u,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new Xn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=_i(e,"focusin").pipe(qn(t),(0,mt.U)(o=>o.target));_i(e,"keydown").pipe(qn(t),sr(o=>o.which===mn.Tab),dv(i)).subscribe(([o,u])=>{const[f,m]=bC(e);(u===f||u===e)&&o.shiftKey&&(m.focus(),o.preventDefault()),u===m&&!o.shiftKey&&(f.focus(),o.preventDefault())}),r&&_i(e,"click").pipe(qn(t),dv(i),(0,mt.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Gc(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new g2,m=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,m,r,f,i);let C=!1!==i.backdrop?this._attachBackdrop(o):void 0,S=this._attachWindowComponent(o,v.nodes),F=new Qj(S,v,C,i.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(S),F.hidden.pipe(Mr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=B=>{F.close(B)},f.dismiss=B=>{F.dismiss(B)},this._applyWindowOptions(S.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,i),C.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(Jj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(Xj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Gc(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Gc(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o,u){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,o):zf(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,u):new ep([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(o),new ep([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ep([[r]])}_createFromComponent(t,r,i,o,u){const f=l.zs3.create({providers:[{provide:g2,useValue:o}],parent:t}),m=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=m.location.nativeElement;return u.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new ep([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ye),l.LFG(eH),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rH=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(tH),l.LFG(nH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rH]}),n})();const cH=({classList:n})=>(n.remove("show"),()=>n.remove("active")),uH=(n,e)=>{e&&xd(n),n.classList.add("show")};let rM=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),v2=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(qn(this.nav.destroy$),_l(this._activePane?.item||null),Al(),function G1(n){return sr((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Qr(this._ngZone,this._activePane.elRef.nativeElement,cH,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Qr(this._ngZone,this._activePane.elRef.nativeElement,uH,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(rM,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:hS,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,RD,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[rM,mr,_r,ui],encapsulation:2,changeDetection:0}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v2]}),n})(),dH=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),D2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),C2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),I2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),E2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),T2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),A2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),S2=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=Gf(t,this.pageCount,1),this.page!==r&&or(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),or(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dH))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,w2,5),l.Suo(i,D2,5),l.Suo(i,C2,5),l.Suo(i,I2,5),l.Suo(i,E2,5),l.Suo(i,T2,5),l.Suo(i,A2,5)),2&t){let o;l.iGM(o=l.CRH())&&(r.tplEllipsis=o.first),l.iGM(o=l.CRH())&&(r.tplFirst=o.first),l.iGM(o=l.CRH())&&(r.tplLast=o.first),l.iGM(o=l.CRH())&&(r.tplNext=o.first),l.iGM(o=l.CRH())&&(r.tplNumber=o.first),l.iGM(o=l.CRH())&&(r.tplPrevious=o.first),l.iGM(o=l.CRH())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,o,u,f,m;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,u=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,m=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,kv,2,0,"ng-template",null,0,l.W1O),l.YNc(2,Hf,2,0,"ng-template",null,1,l.W1O),l.YNc(4,pS,2,0,"ng-template",null,2,l.W1O),l.YNc(6,Fv,2,0,"ng-template",null,3,l.W1O),l.YNc(8,gS,1,0,"ng-template",null,4,l.W1O),l.YNc(10,mS,2,2,"ng-template",null,5,l.W1O),l.YNc(12,Fk,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,BD,3,9,"li",7),l.YNc(16,VD,3,8,"li",7),l.YNc(17,Uv,0,0,"ng-template",8),l.YNc(18,bS,3,9,"li",7),l.YNc(19,wS,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,DS,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[_r,mr,ui],encapsulation:2,changeDetection:0}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[S2]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_H=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yH=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!or(t)||t<=0?100:t}get max(){return this._max}getValue(){return Gf(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_H))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:xl,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,ES,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[_r,ch],encapsulation:2,changeDetection:0}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yH]}),n})(),vH=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bH=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,r){return`${t} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case mn.ArrowDown:case mn.ArrowLeft:this.update(this.rate-1);break;case mn.ArrowUp:case mn.ArrowRight:this.update(this.rate+1);break;case mn.Home:this.update(0);break;case mn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=Gf(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*Gf(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vH),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let o;l.iGM(o=l.CRH())&&(r.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(o){return r.handleKeyDown(o)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,$D,1,1,"ng-template",null,0,l.W1O),l.YNc(2,TS,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[mr,ui],encapsulation:2,changeDetection:0}),n})(),R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bH]}),n})();class P2{constructor(e,t,r){this.hour=Vr(e),this.minute=Vr(t),this.second=Vr(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=or(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){or(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){or(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return or(this.hour)&&or(this.minute)&&(!e||or(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let wH=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function DH(){return new CH}()},providedIn:"root"}),n})(),CH=(()=>{class n extends k2{fromModel(t){return t&&ar(t.hour)&&ar(t.minute)?{hour:t.hour,minute:t.minute,second:ar(t.second)?t.second:null}:null}toModel(t){return t&&ar(t.hour)&&ar(t.minute)?{hour:t.hour,minute:t.minute,second:ar(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function IH(n){return new EH(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),EH=(()=>{class n extends F2{constructor(t){super(),this._periods=Ie(t,yt.Standalone,Qe.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const TH=/[^0-9]/g;let AH=(()=>{class n{constructor(t,r,i,o){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=o,this.onChange=u=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=ar(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=ar(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=ar(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new P2(r.hour,r.minute,r.second):new P2,!this.seconds&&(!r||!or(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=Vr(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Vr(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Vr(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(TH,"")}formatHour(t){return or(t)?Wf(this.meridian?t%12==0?12:t%12:t%24):Wf(NaN)}formatMinSec(t){return Wf(or(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!or(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wH),l.Y36(k2),l.Y36(l.sBO),l.Y36(F2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,o,u,f,m,v,C,S,F,B,J;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,u=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,m=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,C=$localize`:@@ngb.timepicker.seconds:Seconds`,S=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,F=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,B=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,J=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],u,f,m,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",C,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],S,F,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],B,J]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,AS,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(o){return r.updateHour(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeHour(r.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeHour(-r.hourStep),o.preventDefault()}),l.qZA(),l.YNc(5,HD,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,SS,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(o){return r.updateMinute(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeMinute(r.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeMinute(-r.minuteStep),o.preventDefault()}),l.qZA(),l.YNc(11,GD,4,7,"button",3),l.qZA(),l.YNc(12,zD,2,0,"div",8),l.YNc(13,MS,4,9,"div",9),l.YNc(14,NS,1,0,"div",8),l.YNc(15,Uk,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[_r],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),L2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AH]}),n})();const SH=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),xd(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},MH=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let NH=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),OH=(()=>{class n{constructor(t,r,i,o){this.ariaLive=t,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Mr(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Qr(this._zone,this._element.nativeElement,MH,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Qr(this._zone,this._element.nativeElement,SH,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(NH),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,xH,7,l.Rgc),2&t){let o;l.iGM(o=l.CRH())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:xl,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,$k,2,1,"ng-template",null,0,l.W1O),l.YNc(2,Hk,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[_r,ui],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[OH]}),n})(),V2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),RH=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=$v(this.result),i=Array.isArray(this.term)?this.term:[this.term],o=v=>this.accentSensitive?v:PS(v),u=i.map(v=>function RS(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o($v(v)))).filter(v=>v),f=this.accentSensitive?r:PS(r),m=u.length?f.split(new RegExp(`(${u.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let v=0;this.parts=m.map(C=>r.substring(v,v+=C.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,Wk,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[_r,mr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function PH(){return 100}});let U2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RH]}),n})(),$2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const kH=[Ta,aC,Mm,Qv,d2,p2,m2,b2,$2,M2,x2,O2,R2,L2,B2,V2,U2];let FH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kH,Ta,aC,Mm,Qv,d2,p2,m2,b2,$2,M2,x2,O2,R2,L2,B2,V2,U2]}),n})(),LH=(()=>{class n{constructor(){this.title="simulacroParcial",this.database=[{id:"1",nombre:"Scarface",tipo:"drama",fechaDeEstreno:"09/02/1984",cantidadDePublico:"456",foto:"scarface.png"},{id:"2",nombre:"Moana",tipo:"infantil",fechaDeEstreno:"23/11/2016",cantidadDePublico:"126",foto:"moana.png"},{id:"3",nombre:"Cisne Negro",tipo:"suspenso",fechaDeEstreno:"17/02/2011",cantidadDePublico:"765",foto:"cisneNegro.png"},{id:"4",nombre:"Kill Bill",tipo:"accion",fechaDeEstreno:"27/11/2003",cantidadDePublico:"465",foto:"killbill.png"}],this.strPeliculas=JSON.stringify(this.database),this.result=localStorage.setItem("peliculas",this.strPeliculas)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:31,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","check2","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["id","circle-half","viewBox","0 0 16 16"],["d","M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"],["id","moon-stars-fill","viewBox","0 0 16 16"],["d","M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"],["d","M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"],["id","sun-fill","viewBox","0 0 16 16"],["d","M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","bienvenido",1,"nav-link"],["routerLink","busqueda",1,"nav-link"],["routerLink","actor/alta",1,"nav-link"],[1,"container"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l.O4$(),l.TgZ(1,"svg",0)(2,"symbol",1),l._UZ(3,"path",2),l.qZA(),l.TgZ(4,"symbol",3),l._UZ(5,"path",4),l.qZA(),l.TgZ(6,"symbol",5),l._UZ(7,"path",6)(8,"path",7),l.qZA(),l.TgZ(9,"symbol",8),l._UZ(10,"path",9),l.qZA()(),l.kcU(),l.TgZ(11,"nav",10)(12,"div",11)(13,"a",12),l._uU(14,"Simulacro Parcial - Joaqu\xedn P\xe9rez"),l.qZA(),l.TgZ(15,"button",13),l._UZ(16,"span",14),l.qZA(),l.TgZ(17,"div",15)(18,"ul",16)(19,"li",17)(20,"a",18),l._uU(21,"Bienvenido"),l.qZA()(),l.TgZ(22,"li",17)(23,"a",19),l._uU(24,"Busqueda"),l.qZA()(),l.TgZ(25,"li",17)(26,"a",20),l._uU(27,"Alta Actores"),l.qZA()()()()()(),l.TgZ(28,"main",21),l._UZ(29,"router-outlet"),l.qZA()(),l._UZ(30,"br"))},dependencies:[hd,Mf,nM],styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}"]}),n})();var BH=$(5226),j2=$.n(BH),bn=$(6881);(0,bn.registerVersion)("firebase","9.21.0","app");var X=$(5861),Mt=$(2090),Aa=$(4859),Sa=$(1877);const $H=(n,e)=>e.some(t=>n instanceof t);let H2,G2;const z2=new WeakMap,iM=new WeakMap,W2=new WeakMap,sM=new WeakMap,oM=new WeakMap;let aM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return iM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||W2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fd(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ZH(n){return"function"==typeof n?function qH(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function HH(){return G2||(G2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lM(this),e),Fd(z2.get(this))}:function(...e){return Fd(n.apply(lM(this),e))}:function(e,...t){const r=n.call(lM(this),e,...t);return W2.set(r,e.sort?e.sort():[e]),Fd(r)}}(n):(n instanceof IDBTransaction&&function zH(n){if(iM.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});iM.set(n,e)}(n),$H(n,function jH(){return H2||(H2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,aM):n)}function Fd(n){if(n instanceof IDBRequest)return function GH(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Fd(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&z2.set(t,n)}).catch(()=>{}),oM.set(e,n),e}(n);if(sM.has(n))return sM.get(n);const e=ZH(n);return e!==n&&(sM.set(n,e),oM.set(e,n)),e}const lM=n=>oM.get(n),YH=["get","getKey","getAll","getAllKeys","count"],JH=["put","add","delete","clear"],cM=new Map;function q2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(cM.get(e))return cM.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YH.includes(t))return;const o=function(){var u=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return u.apply(this,arguments)}}();return cM.set(e,o),o}!function WH(n){aM=n(aM)}(n=>({...n,get:(e,t,r)=>q2(e,t)||n.get(e,t,r),has:(e,t)=>!!q2(e,t)||n.has(e,t)}));const Z2="@firebase/installations",uM="0.6.4",K2=1e4,Y2=`w:${uM}`,J2="FIS_v2",QH="https://firebaseinstallations.googleapis.com/v1",XH=36e5,Yc=new Mt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Q2(n){return n instanceof Mt.ZR&&n.code.includes("request-failed")}function dM({projectId:n}){return`${QH}/projects/${n}/installations`}function X2(n){return{token:n.token,requestStatus:2,expiresIn:r3(n.expiresIn),creationTime:Date.now()}}function hM(n,e){return fM.apply(this,arguments)}function fM(){return(fM=(0,X.Z)(function*(n,e){const r=(yield e.json()).error;return Yc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function eF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pM(n){return gM.apply(this,arguments)}function gM(){return(gM=(0,X.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function r3(n){return Number(n.replace("s","000"))}function mM(){return(mM=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=dM(n),i=eF(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:J2,appId:n.appId,sdkVersion:Y2})},m=yield pM(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:X2(v.authToken)}}throw yield hM("Create Installation",m)})).apply(this,arguments)}function nF(n){return new Promise(e=>{setTimeout(e,n)})}const a3=/^[cdef][\w-]{21}$/,_M="";function l3(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function c3(n){return function o3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return a3.test(t)?t:_M}catch{return _M}}function Fm(n){return`${n.appName}!${n.appId}`}const Lm=new Map;function rF(n,e){const t=Fm(n);iF(t,e),function h3(n,e){const t=function sF(){return!tp&&"BroadcastChannel"in self&&(tp=new BroadcastChannel("[Firebase] FID Change"),tp.onmessage=n=>{iF(n.data.key,n.data.fid)}),tp}();t&&t.postMessage({key:n,fid:e}),function oF(){0===Lm.size&&tp&&(tp.close(),tp=null)}()}(t,e)}function iF(n,e){const t=Lm.get(n);if(t)for(const r of t)r(e)}let tp=null;const f3="firebase-installations-database",p3=1,np="firebase-installations-store";let yM=null;function vM(){return yM||(yM=function KH(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),f=Fd(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Fd(u.result),m.oldVersion,m.newVersion,Fd(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(f3,p3,{upgrade:(n,e)=>{0===e&&n.createObjectStore(np)}})),yM}function PC(n,e){return bM.apply(this,arguments)}function bM(){return(bM=(0,X.Z)(function*(n,e){const t=Fm(n),i=(yield vM()).transaction(np,"readwrite"),o=i.objectStore(np),u=yield o.get(t);return yield o.put(e,t),yield i.done,(!u||u.fid!==e.fid)&&rF(n,e.fid),e})).apply(this,arguments)}function wM(n){return DM.apply(this,arguments)}function DM(){return(DM=(0,X.Z)(function*(n){const e=Fm(n),r=(yield vM()).transaction(np,"readwrite");yield r.objectStore(np).delete(e),yield r.done})).apply(this,arguments)}function h0(n,e){return CM.apply(this,arguments)}function CM(){return(CM=(0,X.Z)(function*(n,e){const t=Fm(n),i=(yield vM()).transaction(np,"readwrite"),o=i.objectStore(np),u=yield o.get(t),f=e(u);return void 0===f?yield o.delete(t):yield o.put(f,t),yield i.done,f&&(!u||u.fid!==f.fid)&&rF(n,f.fid),f})).apply(this,arguments)}function IM(n){return EM.apply(this,arguments)}function EM(){return EM=(0,X.Z)(function*(n){let e;const t=yield h0(n.appConfig,r=>{const i=function g3(n){return lF(n||{fid:l3(),registrationStatus:0})}(r),o=function m3(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yc.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _3(n,e){return TM.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:y3(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===_M?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),EM.apply(this,arguments)}function TM(){return TM=(0,X.Z)(function*(n,e){try{const t=yield function s3(n,e){return mM.apply(this,arguments)}(n,e);return PC(n.appConfig,t)}catch(t){throw Q2(t)&&409===t.customData.serverCode?yield wM(n.appConfig):yield PC(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),TM.apply(this,arguments)}function y3(n){return AM.apply(this,arguments)}function AM(){return(AM=(0,X.Z)(function*(n){let e=yield aF(n.appConfig);for(;1===e.registrationStatus;)yield nF(100),e=yield aF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield IM(n);return r||t}return e})).apply(this,arguments)}function aF(n){return h0(n,e=>{if(!e)throw Yc.create("installation-not-found");return lF(e)})}function lF(n){return function v3(n){return 1===n.registrationStatus&&n.registrationTime+K2<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function SM(){return(SM=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function w3(n,{fid:e}){return`${dM(n)}/${e}/authTokens:generate`}(n,t),i=function tF(n,{refreshToken:e}){const t=eF(n);return t.append("Authorization",function i3(n){return`${J2} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Y2,appId:n.appId}})},m=yield pM(()=>fetch(r,f));if(m.ok)return X2(yield m.json());throw yield hM("Generate Auth Token",m)})).apply(this,arguments)}function MM(n){return NM.apply(this,arguments)}function NM(){return NM=(0,X.Z)(function*(n,e=!1){let t;const r=yield h0(n.appConfig,o=>{if(!uF(o))throw Yc.create("not-registered");const u=o.authToken;if(!e&&function I3(n){return 2===n.requestStatus&&!function E3(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+XH}(n)}(u))return o;if(1===u.requestStatus)return t=function D3(n,e){return xM.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Yc.create("app-offline");const f=function T3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function C3(n,e){return OM.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),NM.apply(this,arguments)}function xM(){return(xM=(0,X.Z)(function*(n,e){let t=yield cF(n.appConfig);for(;1===t.authToken.requestStatus;)yield nF(100),t=yield cF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?MM(n,e):r})).apply(this,arguments)}function cF(n){return h0(n,e=>{if(!uF(e))throw Yc.create("not-registered");return function A3(n){return 1===n.requestStatus&&n.requestTime+K2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function OM(){return OM=(0,X.Z)(function*(n,e){try{const t=yield function b3(n,e){return SM.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield PC(n.appConfig,r),t}catch(t){if(!Q2(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield PC(n.appConfig,r)}else yield wM(n.appConfig);throw t}}),OM.apply(this,arguments)}function uF(n){return void 0!==n&&2===n.registrationStatus}function RM(){return(RM=(0,X.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield IM(e);return r?r.catch(console.error):MM(e).catch(console.error),t.fid})).apply(this,arguments)}function PM(){return PM=(0,X.Z)(function*(n,e=!1){const t=n;return yield function N3(n){return kM.apply(this,arguments)}(t),(yield MM(t,e)).token}),PM.apply(this,arguments)}function kM(){return(kM=(0,X.Z)(function*(n){const{registrationPromise:e}=yield IM(n);e&&(yield e)})).apply(this,arguments)}function BM(n){return Yc.create("missing-app-config-values",{valueName:n})}const dF="installations",k3=n=>{const e=n.getProvider("app").getImmediate(),t=function R3(n){if(!n||!n.options)throw BM("App Configuration");if(!n.name)throw BM("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw BM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,bn._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},F3=n=>{const e=n.getProvider("app").getImmediate(),t=(0,bn._getProvider)(e,dF).getImmediate();return{getId:()=>function S3(n){return RM.apply(this,arguments)}(t),getToken:i=>function M3(n){return PM.apply(this,arguments)}(t,i)}};(function L3(){(0,bn._registerComponent)(new Aa.wA(dF,k3,"PUBLIC")),(0,bn._registerComponent)(new Aa.wA("installations-internal",F3,"PRIVATE"))})(),(0,bn.registerVersion)(Z2,uM),(0,bn.registerVersion)(Z2,uM,"esm2017");const VM="@firebase/remote-config",Vs=new Mt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Z3{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&u.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(u),o})()}}function K3(n=navigator){return n.languages&&n.languages[0]||n.language}class Y3{constructor(e,t,r,i,o,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=u}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:K3()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(u,v),S=new Promise((Ee,Ve)=>{e.signal.addEventListener(()=>{const Xe=new Error("The operation was aborted.");Xe.name="AbortError",Ve(Xe)})});let F;try{yield Promise.race([C,S]),F=yield C}catch(Ee){let Ve="fetch-client-network";throw"AbortError"===Ee?.name&&(Ve="fetch-timeout"),Vs.create(Ve,{originalErrorMessage:Ee?.message})}let B=F.status;const J=F.headers.get("ETag")||void 0;let ne,de;if(200===F.status){let Ee;try{Ee=yield F.json()}catch(Ve){throw Vs.create("fetch-client-parse",{originalErrorMessage:Ve?.message})}ne=Ee.entries,de=Ee.state}if("INSTANCE_STATE_UNSPECIFIED"===de?B=500:"NO_CHANGE"===de?B=304:("NO_TEMPLATE"===de||"EMPTY_CONFIG"===de)&&(ne={}),304!==B&&200!==B)throw Vs.create("fetch-status",{httpStatus:B});return{status:B,eTag:J,config:ne}})()}}class X3{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,X.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,X.Z)(function*(){yield function J3(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Vs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Q3(n){if(!(n instanceof Mt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const u={throttleEndTimeMillis:Date.now()+(0,Mt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(u),i.attemptFetch(e,u)}})()}}class n6{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function FC(n,e){const t=n.target.error||void 0;return Vs.create(e,{originalErrorMessage:t&&t?.message})}const rp="app_namespace_store";class o6{constructor(e,t,r,i=function s6(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(FC(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(rp,{keyPath:"compositeKey"})}}catch(t){e(Vs.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([rp],"readonly").objectStore(rp),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{o(FC(C,"storage-get"))},v.onsuccess=C=>{const S=C.target.result;i(S?S.value:void 0)}}catch(v){o(Vs.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,X.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,u)=>{const m=i.transaction([rp],"readwrite").objectStore(rp),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=S=>{u(FC(S,"storage-set"))},C.onsuccess=()=>{o()}}catch(C){u(Vs.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([rp],"readwrite").objectStore(rp),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{o(FC(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){o(Vs.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class a6{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,X.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function c6(){return GM.apply(this,arguments)}function GM(){return(GM=(0,X.Z)(function*(){if(!(0,Mt.hl)())return!1;try{return yield(0,Mt.eu)()}catch{return!1}})).apply(this,arguments)}!function l6(){(0,bn._registerComponent)(new Aa.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vs.create("registration-window");if(!(0,Mt.hl)())throw Vs.create("indexed-db-unavailable");const{projectId:o,apiKey:u,appId:f}=r.options;if(!o)throw Vs.create("registration-project-id");if(!u)throw Vs.create("registration-api-key");if(!f)throw Vs.create("registration-app-id");const m=new o6(f,r.name,t=t||"firebase"),v=new a6(m),C=new Sa.Yd(VM);C.logLevel=Sa.in.ERROR;const S=new Y3(i,bn.SDK_VERSION,t,o,u,f),F=new X3(S,m),B=new Z3(F,m,v,C),J=new n6(r,B,v,m,C);return function z3(n){const e=(0,Mt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(J),J},"PUBLIC").setMultipleInstances(!0)),(0,bn.registerVersion)(VM,"0.4.4"),(0,bn.registerVersion)(VM,"0.4.4","esm2017")}();const u6=(n,e)=>e.some(t=>n instanceof t);let gF,mF;const _F=new WeakMap,zM=new WeakMap,yF=new WeakMap,WM=new WeakMap,qM=new WeakMap;let ZM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return zM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||yF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _6(n){return"function"==typeof n?function m6(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function h6(){return mF||(mF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(KM(this),e),Jc(_F.get(this))}:function(...e){return Jc(n.apply(KM(this),e))}:function(e,...t){const r=n.call(KM(this),e,...t);return yF.set(r,e.sort?e.sort():[e]),Jc(r)}}(n):(n instanceof IDBTransaction&&function p6(n){if(zM.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});zM.set(n,e)}(n),u6(n,function d6(){return gF||(gF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ZM):n)}function Jc(n){if(n instanceof IDBRequest)return function f6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Jc(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&_F.set(t,n)}).catch(()=>{}),qM.set(e,n),e}(n);if(WM.has(n))return WM.get(n);const e=_6(n);return e!==n&&(WM.set(n,e),qM.set(e,n)),e}const KM=n=>qM.get(n);function vF(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),f=Jc(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Jc(u.result),m.oldVersion,m.newVersion,Jc(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function YM(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Jc(t).then(()=>{})}const y6=["get","getKey","getAll","getAllKeys","count"],v6=["put","add","delete","clear"],JM=new Map;function bF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(JM.get(e))return JM.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=v6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y6.includes(t))return;const o=function(){var u=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return u.apply(this,arguments)}}();return JM.set(e,o),o}!function g6(n){ZM=n(ZM)}(n=>({...n,get:(e,t,r)=>bF(e,t)||n.get(e,t,r),has:(e,t)=>!!bF(e,t)||n.has(e,t)}));const b6="/firebase-messaging-sw.js",w6="/firebase-cloud-messaging-push-scope",wF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D6="https://fcmregistrations.googleapis.com/v1",DF="google.c.a.c_id",C6="google.c.a.c_l",I6="google.c.a.ts",E6="google.c.a.e";var Bm=(()=>{return(n=Bm||(Bm={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Bm;var n})();function Qc(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T6(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const QM="fcm_token_details_db",A6=5,CF="fcm_token_object_Store";function XM(){return XM=(0,X.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(QM))return null;let e=null;return(yield vF(QM,A6,{upgrade:(r=(0,X.Z)(function*(i,o,u,f){var m;if(o<2||!i.objectStoreNames.contains(CF))return;const v=f.objectStore(CF),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===o){const S=C;if(!S.auth||!S.p256dh||!S.endpoint)return;e={token:S.fcmToken,createTime:null!==(m=S.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:S.auth,p256dh:S.p256dh,endpoint:S.endpoint,swScope:S.swScope,vapidKey:"string"==typeof S.vapidKey?S.vapidKey:Qc(S.vapidKey)}}}else if(3===o){const S=C;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Qc(S.auth),p256dh:Qc(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Qc(S.vapidKey)}}}else if(4===o){const S=C;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Qc(S.auth),p256dh:Qc(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Qc(S.vapidKey)}}}}),function(o,u,f,m){return r.apply(this,arguments)})})).close(),yield YM(QM),yield YM("fcm_vapid_details_db"),yield YM("undefined"),function M6(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XM.apply(this,arguments)}const N6="firebase-messaging-database",x6=1,ip="firebase-messaging-store";let eN=null;function tN(){return eN||(eN=vF(N6,x6,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ip)}})),eN}function IF(n){return nN.apply(this,arguments)}function nN(){return nN=(0,X.Z)(function*(n){const e=oN(n),r=yield(yield tN()).transaction(ip).objectStore(ip).get(e);if(r)return r;{const i=yield function S6(n){return XM.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield rN(n,i),i}}),nN.apply(this,arguments)}function rN(n,e){return iN.apply(this,arguments)}function iN(){return(iN=(0,X.Z)(function*(n,e){const t=oN(n),i=(yield tN()).transaction(ip,"readwrite");return yield i.objectStore(ip).put(e,t),yield i.done,e})).apply(this,arguments)}function sN(){return(sN=(0,X.Z)(function*(n){const e=oN(n),r=(yield tN()).transaction(ip,"readwrite");yield r.objectStore(ip).delete(e),yield r.done})).apply(this,arguments)}function oN({appConfig:n}){return n.appId}const Hi=new Mt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function P6(n,e){return aN.apply(this,arguments)}function aN(){return(aN=(0,X.Z)(function*(n,e){const t=yield dN(n),r=TF(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(uN(n.appConfig),i)).json()}catch(u){throw Hi.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(o.error)throw Hi.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Hi.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function lN(){return(lN=(0,X.Z)(function*(n,e){const t=yield dN(n),r=TF(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${uN(n.appConfig)}/${e.token}`,i)).json()}catch(u){throw Hi.create("token-update-failed",{errorInfo:u?.toString()})}if(o.error)throw Hi.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Hi.create("token-update-no-token");return o.token})).apply(this,arguments)}function EF(n,e){return cN.apply(this,arguments)}function cN(){return(cN=(0,X.Z)(function*(n,e){const r={method:"DELETE",headers:yield dN(n)};try{const o=yield(yield fetch(`${uN(n.appConfig)}/${e}`,r)).json();if(o.error)throw Hi.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Hi.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uN({projectId:n}){return`${D6}/projects/${n}/registrations`}function dN(n){return hN.apply(this,arguments)}function hN(){return(hN=(0,X.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function TF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==wF&&(i.web.applicationPubKey=r),i}const F6=6048e5;function fN(){return fN=(0,X.Z)(function*(n){const e=yield function V6(n,e){return _N.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Qc(e.getKey("auth")),p256dh:Qc(e.getKey("p256dh"))},r=yield IF(n.firebaseDependencies);if(r){if(function U6(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+F6?function B6(n,e){return gN.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield EF(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return SF(n.firebaseDependencies,t)}return SF(n.firebaseDependencies,t)}),fN.apply(this,arguments)}function pN(){return pN=(0,X.Z)(function*(n){const e=yield IF(n.firebaseDependencies);e&&(yield EF(n.firebaseDependencies,e.token),yield function O6(n){return sN.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),pN.apply(this,arguments)}function gN(){return gN=(0,X.Z)(function*(n,e){try{const t=yield function k6(n,e){return lN.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield rN(n.firebaseDependencies,r),t}catch(t){throw yield function AF(n){return pN.apply(this,arguments)}(n),t}}),gN.apply(this,arguments)}function SF(n,e){return mN.apply(this,arguments)}function mN(){return(mN=(0,X.Z)(function*(n,e){const r={token:yield P6(n,e),createTime:Date.now(),subscriptionOptions:e};return yield rN(n,r),r.token})).apply(this,arguments)}function _N(){return(_N=(0,X.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:T6(e)})})).apply(this,arguments)}function MF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function $6(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function j6(n,e){e.data&&(n.data=e.data)}(e,n),function H6(n,e){var t,r,i,o,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;f&&(n.fcmOptions.link=f);const m=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function NF(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function yN(n){return Hi.create("missing-app-config-values",{valueName:n})}NF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class W6{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function z6(n){if(!n||!n.options)throw yN("App Configuration Object");if(!n.name)throw yN("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw yN(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xF(n){return vN.apply(this,arguments)}function vN(){return(vN=(0,X.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(b6,{scope:w6}),n.swRegistration.update().catch(()=>{})}catch(e){throw Hi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function bN(){return(bN=(0,X.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield xF(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Hi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function wN(){return(wN=(0,X.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=wF)})).apply(this,arguments)}function DN(){return DN=(0,X.Z)(function*(n,e){if(!navigator)throw Hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hi.create("permission-blocked");return yield function Z6(n,e){return wN.apply(this,arguments)}(n,e?.vapidKey),yield function q6(n,e){return bN.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function L6(n){return fN.apply(this,arguments)}(n)}),DN.apply(this,arguments)}function CN(){return(CN=(0,X.Z)(function*(n,e,t){const r=function Y6(n){switch(n){case Bm.NOTIFICATION_CLICKED:return"notification_open";case Bm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[DF],message_name:t[C6],message_time:t[I6],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IN(){return IN=(0,X.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Bm.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(MF(t)):n.onMessageHandler.next(MF(t)));const r=t.data;(function G6(n){return"object"==typeof n&&!!n&&DF in n})(r)&&"1"===r[E6]&&(yield function K6(n,e,t){return CN.apply(this,arguments)}(n,t.messageType,r))}),IN.apply(this,arguments)}const RF="@firebase/messaging",Q6=n=>{const e=new W6(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function J6(n,e){return IN.apply(this,arguments)}(e,t)),e},X6=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function OF(n,e){return DN.apply(this,arguments)}(e,r)}};function kF(){return EN.apply(this,arguments)}function EN(){return(EN=(0,X.Z)(function*(){try{yield(0,Mt.eu)()}catch{return!1}return typeof window<"u"&&(0,Mt.hl)()&&(0,Mt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function eG(){(0,bn._registerComponent)(new Aa.wA("messaging",Q6,"PUBLIC")),(0,bn._registerComponent)(new Aa.wA("messaging-internal",X6,"PRIVATE")),(0,bn.registerVersion)(RF,"0.12.4"),(0,bn.registerVersion)(RF,"0.12.4","esm2017")}();const LC="analytics",rG="firebase_id",iG="origin",sG=6e4,oG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SN="https://www.googletagmanager.com/gtag/js",xi=new Sa.Yd("@firebase/analytics"),vs=new Mt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lG(n){if(!n.startsWith(SN)){const e=vs.create("invalid-gtag-resource",{gtagURL:n});return xi.warn(e.message),""}return n}function FF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function MN(){return(MN=(0,X.Z)(function*(n,e,t,r,i,o){const u=r[i];try{if(u)yield e[u];else{const m=(yield FF(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){xi.error(f)}n("config",i,o)})).apply(this,arguments)}function NN(){return(NN=(0,X.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const f=yield FF(t);for(const m of u){const v=f.find(S=>S.measurementId===m),C=v&&e[v.appId];if(!C){o=[];break}o.push(C)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){xi.error(o)}})).apply(this,arguments)}const _G=30,LF=new class vG{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bG(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function xN(){return(xN=(0,X.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:bG(r)},o=oG.replace("{app-id}",t),u=yield fetch(o,i);if(200!==u.status&&304!==u.status){let f="";try{const m=yield u.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw vs.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()})).apply(this,arguments)}function ON(){return(ON=(0,X.Z)(function*(n,e=LF,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw vs.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vs.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new EG;return setTimeout((0,X.Z)(function*(){f.abort()}),void 0!==t?t:sG),BF({appId:r,apiKey:i,measurementId:o},u,f,e)})).apply(this,arguments)}function BF(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,X.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=LF){var o;const{appId:u,measurementId:f}=n;try{yield function CG(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(vs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=yield function wG(n){return xN.apply(this,arguments)}(n);return i.deleteThrottleMetadata(u),m}catch(m){const v=m;if(!function IG(n){if(!(n instanceof Mt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(u),f)return xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:u,measurementId:f};throw m}const C=503===Number(null===(o=v?.customData)||void 0===o?void 0:o.httpStatus)?(0,Mt.$s)(t,i.intervalMillis,_G):(0,Mt.$s)(t,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(u,S),xi.debug(`Calling attemptFetch again in ${C} millis`),BF(n,S,r,i)}}),RN.apply(this,arguments)}class EG{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let PN,$N;function kN(){return(kN=(0,X.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function jN(){return(jN=(0,X.Z)(function*(){if(!(0,Mt.hl)())return xi.warn(vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Mt.eu)()}catch(n){return xi.warn(vs.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function HN(){return HN=(0,X.Z)(function*(n,e,t,r,i,o,u){var f;const m=function DG(n){return ON.apply(this,arguments)}(n);m.then(B=>{t[B.measurementId]=B.appId,n.options.measurementId&&B.measurementId!==n.options.measurementId&&xi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>xi.error(B)),e.push(m);const v=function OG(){return jN.apply(this,arguments)}().then(B=>{if(B)return r.getId()}),[C,S]=yield Promise.all([m,v]);(function mG(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(SN)&&t.src.includes(n))return t;return null})(o)||function uG(n,e){const t=function cG(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:lG}),r=document.createElement("script"),i=`${SN}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,C.measurementId),$N&&(i("consent","default",$N),function VF(n){$N=n}(void 0)),i("js",new Date);const F=null!==(f=u?.config)&&void 0!==f?f:{};return F[iG]="firebase",F.update=!0,null!=S&&(F[rG]=S),i("config",C.measurementId,F),PN&&(i("set",PN),function UF(n){PN=n}(void 0)),C.measurementId}),HN.apply(this,arguments)}class PG{constructor(e){this.app=e}_delete(){return delete Rl[this.app.options.appId],Promise.resolve()}}let Rl={},$F=[];const jF={};let GF,Pl,BC="dataLayer",HF="gtag",GN=!1;function FG(n,e,t){!function kG(){const n=[];if((0,Mt.ru)()&&n.push("This is a browser extension environment."),(0,Mt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=vs.create("invalid-analytics-context",{errorInfo:e});xi.warn(t.message)}}();const r=n.options.appId;if(!r)throw vs.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw vs.create("no-api-key");xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rl[r])throw vs.create("already-exists",{id:r});if(!GN){!function dG(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(BC);const{wrappedGtag:o,gtagCore:u}=function gG(n,e,t,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function pG(n,e,t,r){function o(){return o=(0,X.Z)(function*(u,...f){try{if("event"===u){const[m,v]=f;yield function fG(n,e,t,r,i){return NN.apply(this,arguments)}(n,e,t,m,v)}else if("config"===u){const[m,v]=f;yield function hG(n,e,t,r,i,o){return MN.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===u){const[m]=f;n("consent","update",m)}else if("get"===u){const[m,v,C]=f;n("get",m,v,C)}else if("set"===u){const[m]=f;n("set",m)}else n(u,...f)}catch(m){xi.error(m)}}),o.apply(this,arguments)}return function i(u){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Rl,$F,jF,BC,HF);Pl=o,GF=u,GN=!0}return Rl[r]=function RG(n,e,t,r,i,o,u){return HN.apply(this,arguments)}(n,$F,jF,e,GF,BC,t),new PG(n)}function BG(){return zN.apply(this,arguments)}function zN(){return(zN=(0,X.Z)(function*(){if((0,Mt.ru)()||!(0,Mt.zI)()||!(0,Mt.hl)())return!1;try{return yield(0,Mt.eu)()}catch{return!1}})).apply(this,arguments)}const zF="@firebase/analytics";!function UG(){(0,bn._registerComponent)(new Aa.wA(LC,(e,{options:t})=>FG(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,bn._registerComponent)(new Aa.wA("analytics-internal",function n(e){try{const t=e.getProvider(LC).getImmediate();return{logEvent:(r,i,o)=>function VG(n,e,t,r){n=(0,Mt.m9)(n),function TG(n,e,t,r,i){return kN.apply(this,arguments)}(Pl,Rl[n.app.options.appId],e,t,r).catch(i=>xi.error(i))}(t,r,i,o)}}catch(t){throw vs.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,bn.registerVersion)(zF,"0.10.0"),(0,bn.registerVersion)(zF,"0.10.0","esm2017")}();const HG=new class jG extends lv{}(class $G extends av{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var f0=$(9468),Vm=$(5363);const VC=new l.GfV("7.5.0"),qN="__angularfire_symbol__analyticsIsSupportedValue",ZN="__angularfire_symbol__analyticsIsSupported",KN="__angularfire_symbol__remoteConfigIsSupportedValue",YN="__angularfire_symbol__remoteConfigIsSupported",JN="__angularfire_symbol__messagingIsSupportedValue",QN="__angularfire_symbol__messagingIsSupported";function ex(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(u=>u.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[ZN]||(globalThis[ZN]=BG().then(n=>globalThis[qN]=n).catch(()=>globalThis[qN]=!1)),globalThis[QN]||(globalThis[QN]=kF().then(n=>globalThis[JN]=n).catch(()=>globalThis[JN]=!1)),globalThis[YN]||(globalThis[YN]=c6().then(n=>globalThis[KN]=n).catch(()=>globalThis[KN]=!1));const tx=(n,e)=>{const t=e?[e]:(0,bn.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function Um(){}class qF{constructor(e,t=HG){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(u){i.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class GG{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Um,{},Um,Um)),t.pipe(Yr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let p0=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qF(Zone.current)),this.insideAngular=t.run(()=>new qF(Zone.current,xf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function op(n){return sp().ngZone.run(()=>n())}function lo(n){return sp(),function WG(n){return function(t){return(t=t.lift(new GG(n.ngZone))).pipe((0,f0.R)(n.outsideAngular),(0,Vm.Q)(n.insideAngular))}}(sp())(n)}const qG=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),op(()=>n.apply(void 0,r))},nx=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=op(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Um,{},Um,Um)))),r[o]=qG(r[o],t));const i=function zG(n){return sp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Jn.y){const o=sp();return i.pipe((0,f0.R)(o.outsideAngular),(0,Vm.Q)(o.insideAngular))}return op(()=>i)}return i instanceof Jn.y?i.pipe(lo):i instanceof Promise?op(()=>new Promise((o,u)=>i.then(f=>op(()=>o(f)),f=>op(()=>u(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:op(()=>i)};function rx(){return(0,Lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Vn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var ft,Ma=$(2011),ZG=($(9568),$(3942)),KG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Na={},ix=ix||{},ln=KG||self;function UC(){}function $C(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function g0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sx="closure_uid_"+(1e9*Math.random()>>>0),JG=0;function QG(n,e,t){return n.call.apply(n.bind,arguments)}function XG(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function is(n,e,t){return(is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QG:XG).apply(null,arguments)}function jC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Oi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Ld(){this.s=this.s,this.o=this.o}Ld.prototype.s=!1,Ld.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function YG(n){Object.prototype.hasOwnProperty.call(n,sx)&&n[sx]||(n[sx]=++JG)}(this)},Ld.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ox(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function KF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($C(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let u=0;u<o;u++)n[i+u]=r[u]}else n.push(r)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var t4=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",UC,e),ln.removeEventListener("test",UC,e)}catch{}return n}();function HC(n){return/^[\s\xa0]*$/.test(n)}var YF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ax(n,e){return n<e?-1:n>e?1:0}function GC(){var n=ln.navigator;return n&&(n=n.userAgent)?n:""}function kl(n){return-1!=GC().indexOf(n)}function lx(n){return lx[" "](n),n}function JF(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}lx[" "]=UC;var zC,n,n4=kl("Opera"),$m=kl("Trident")||kl("MSIE"),QF=kl("Edge"),cx=QF||$m,XF=kl("Gecko")&&!(-1!=GC().toLowerCase().indexOf("webkit")&&!kl("Edge"))&&!(kl("Trident")||kl("MSIE"))&&!kl("Edge"),r4=-1!=GC().toLowerCase().indexOf("webkit")&&!kl("Edge");function eL(){var n=ln.document;return n?n.documentMode:void 0}e:{var ux="",dx=(n=GC(),XF?/rv:([^\);]+)(\)|;)/.exec(n):QF?/Edge\/([\d\.]+)/.exec(n):$m?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):r4?/WebKit\/(\S+)/.exec(n):n4?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dx&&(ux=dx?dx[1]:""),$m){var hx=eL();if(null!=hx&&hx>parseFloat(ux)){zC=String(hx);break e}}zC=ux}var i4={},o4=ln.document&&$m&&(eL()||parseInt(zC,10))||void 0;function m0(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XF){e:{try{lx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:a4[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&m0.$.h.call(this)}}Oi(m0,ss);var a4={2:"touch",3:"pen",4:"mouse"};m0.prototype.h=function(){m0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _0="closure_listenable_"+(1e6*Math.random()|0),l4=0;function c4(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++l4,this.fa=this.ia=!1}function WC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function px(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nL(n){const e={};for(const t in n)e[t]=n[t];return e}const rL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<rL.length;o++)t=rL[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qC(n){this.src=n,this.g={},this.h=0}function gx(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=ZF(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(WC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mx(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}qC.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=mx(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new c4(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var _x="closure_lm_"+(1e6*Math.random()|0),yx={};function sL(n,e,t,r,i){if(r&&r.once)return aL(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)sL(n,e[o],t,r,i);return null}return t=Dx(t),n&&n[_0]?n.O(e,t,g0(r)?!!r.capture:!!r,i):oL(n,e,t,!1,r,i)}function oL(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var u=g0(i)?!!i.capture:!!i,f=bx(n);if(f||(n[_x]=f=new qC(n)),(t=f.add(e,t,r,u,o)).proxy)return t;if(r=function u4(){const e=d4;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)t4||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(cL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function aL(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)aL(n,e[o],t,r,i);return null}return t=Dx(t),n&&n[_0]?n.P(e,t,g0(r)?!!r.capture:!!r,i):oL(n,e,t,!0,r,i)}function lL(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)lL(n,e[o],t,r,i);else r=g0(r)?!!r.capture:!!r,t=Dx(t),n&&n[_0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mx(o=n.g[e],t,r,i))&&(WC(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=bx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mx(e,t,r,i)),(t=-1<n?e[n]:null)&&vx(t))}function vx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[_0])gx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bx(e))?(gx(t,n),0==t.h&&(t.src=null,e[_x]=null)):WC(n)}}}function cL(n){return n in yx?yx[n]:yx[n]="on"+n}function d4(n,e){if(n.fa)n=!0;else{e=new m0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&vx(n),n=t.call(r,e)}return n}function bx(n){return(n=n[_x])instanceof qC?n:null}var wx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dx(n){return"function"==typeof n?n:(n[wx]||(n[wx]=function(e){return n.handleEvent(e)}),n[wx])}function Ri(){Ld.call(this),this.i=new qC(this),this.S=this,this.J=null}function Gi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var i=e;iL(e=new ss(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];i=ZC(u,r,!0,e)&&i}if(i=ZC(u=e.g=n,r,!0,e)&&i,i=ZC(u,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ZC(u=e.g=t[o],r,!1,e)&&i}function ZC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var f=u.listener,m=u.la||u.src;u.ia&&gx(n.i,u),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Oi(Ri,Ld),Ri.prototype[_0]=!0,Ri.prototype.removeEventListener=function(n,e,t,r){lL(this,n,e,t,r)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)WC(t[r]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ri.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Cx=ln.JSON.stringify;function h4(){var n=hL;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ix,uL=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new p4,n=>n.reset());class p4{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function g4(n){ln.setTimeout(()=>{throw n},0)}function dL(n,e){Ix||function m4(){var n=ln.Promise.resolve(void 0);Ix=function(){n.then(_4)}}(),Ex||(Ix(),Ex=!0),hL.add(n,e)}var Ex=!1,hL=new class f4{constructor(){this.h=this.g=null}add(e,t){const r=uL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function _4(){for(var n;n=h4();){try{n.h.call(n.g)}catch(t){g4(t)}var e=uL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ex=!1}function KC(n,e){Ri.call(this),this.h=n||1,this.g=e||ln,this.j=is(this.qb,this),this.l=Date.now()}function Tx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ax(n,e,t){if("function"==typeof n)t&&(n=is(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=is(n.handleEvent,n)}return 2147483647<Number(e)?-1:ln.setTimeout(n,e||0)}function fL(n){n.g=Ax(()=>{n.g=null,n.i&&(n.i=!1,fL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Oi(KC,Ri),(ft=KC.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gi(this,"tick"),this.ga&&(Tx(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){KC.$.N.call(this),Tx(this),delete this.g};class y4 extends Ld{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fL(this)}N(){super.N(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function y0(n){Ld.call(this),this.h=n,this.g={}}Oi(y0,Ld);var pL=[];function gL(n,e,t,r){Array.isArray(t)||(t&&(pL[0]=t.toString()),t=pL);for(var i=0;i<t.length;i++){var o=sL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function mL(n){px(n.g,function(e,t){this.g.hasOwnProperty(t)&&vx(e)},n),n.g={}}function YC(){this.g=!0}function jm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function D4(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return Cx(t)}catch{return e}}(n,t)+(r?" "+r:"")})}y0.prototype.N=function(){y0.$.N.call(this),mL(this)},y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},YC.prototype.Ea=function(){this.g=!1},YC.prototype.info=function(){};var ap={},_L=null;function JC(){return _L=_L||new Ri}function yL(n){ss.call(this,ap.Ta,n)}function v0(n){const e=JC();Gi(e,new yL(e))}function vL(n,e){ss.call(this,ap.STAT_EVENT,n),this.stat=e}function bs(n){const e=JC();Gi(e,new vL(e,n))}function bL(n,e){ss.call(this,ap.Ua,n),this.size=e}function b0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},e)}ap.Ta="serverreachability",Oi(yL,ss),ap.STAT_EVENT="statevent",Oi(vL,ss),ap.Ua="timingevent",Oi(bL,ss);var QC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sx(){}function CL(){}Sx.prototype.h=null;var xx,w0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mx(){ss.call(this,"d")}function Nx(){ss.call(this,"c")}function XC(){}function D0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new y0(this),this.P=C4,this.V=new KC(n=cx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new IL}function IL(){this.i=null,this.g="",this.h=!1}Oi(Mx,ss),Oi(Nx,ss),Oi(XC,Sx),XC.prototype.g=function(){return new XMLHttpRequest},XC.prototype.i=function(){return{}},xx=new XC;var C4=45e3,Ox={},eI={};function Rx(n,e,t){n.L=1,n.v=iI(Xc(e)),n.s=t,n.S=!0,EL(n,null)}function EL(n,e){n.G=Date.now(),C0(n),n.A=Xc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),kL(t.i,"t",r),n.C=0,t=n.l.I,n.h=new IL,n.g=sB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new y4(is(n.Pa,n,n.g),n.O)),gL(n.U,n.g,"readystatechange",n.nb),e=n.I?nL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),v0(),function v4(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var u="",f=o.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var S=C.split("_");u=2<=S.length&&"type"==S[1]?u+(C+"=")+v+"&":u+(C+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function TL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function AL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=I4(n,t),i==eI){4==e&&(n.o=4,bs(14),r=!1),jm(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ox){n.o=4,bs(15),jm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jm(n.j,n.m,i,null),Px(n,i)}TL(n)&&i!=eI&&i!=Ox&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,bs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),jx(e),e.L=!0,bs(11))):(jm(n.j,n.m,t,"[Invalid Chunked Response]"),lp(n),I0(n))}function I4(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?eI:(t=Number(e.substring(t,r)),isNaN(t)?Ox:(r+=1)+t>e.length?eI:(e=e.substr(r,t),n.C=r+t,e))}function C0(n){n.Y=Date.now()+n.P,SL(n,n.P)}function SL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=b0(is(n.lb,n),e)}function tI(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function I0(n){0==n.l.H||n.J||tB(n.l,n)}function lp(n){tI(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Tx(n.V),mL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Px(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||kx(t.h,n)))if(!n.K&&kx(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uI(t),lI(t)}$x(t),bs(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=b0(is(t.ib,t),6e3));if(1>=BL(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else up(t,11)}else if((n.K||t.g==n)&&uI(t),!HC(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.J=v[1],t.oa=v[2];const C=v[3];null!=C&&(t.qa=C,t.j.info("VER="+t.qa));const S=v[4];null!=S&&(t.Ga=S,t.j.info("SVER="+t.Ga));const F=v[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const J=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var o=r.h;o.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Fx(o,o.h),o.h=null))}if(r.F){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.Da=ne,yr(r.G,r.F,ne))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=iB(r,r.I?r.oa:null,r.Y),u.K){VL(r.h,u);var f=u,m=r.K;m&&f.setTimeout(m),f.B&&(tI(f),C0(f)),r.g=u}else XL(r);0<t.i.length&&cI(t)}else"stop"!=v[0]&&"close"!=v[0]||up(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?up(t,7):Ux(t):"noop"!=v[0]&&t.l&&t.l.Aa(v),t.A=0)}v0()}catch{}}function ML(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($C(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function T4(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($C(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function E4(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($C(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(ft=D0.prototype).setTimeout=function(n){this.P=n},ft.nb=function(n){n=n.target;const e=this.M;e&&3==eu(n)?e.l():this.Pa(n)},ft.Pa=function(n){try{if(n==this.g)e:{const C=eu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||cx||this.g&&(this.h.h||this.g.ja()||qL(this.g)))){this.J||4!=C||7==e||v0(),tI(this);var t=this.g.da();this.aa=t;t:if(TL(this)){var r=qL(this.g);n="";var i=r.length,o=4==eu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lp(this),I0(this);var u="";break t}this.h.i=new ln.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function b4(n,e,t,r,i,o,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!HC(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,bs(12),lp(this),I0(this);break e}jm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Px(this,t)}this.S?(AL(this,C,u),cx&&this.i&&3==C&&(gL(this.U,this.V,"tick",this.mb),this.V.start())):(jm(this.j,this.m,u,null),Px(this,u)),4==C&&lp(this),this.i&&!this.J&&(4==C?tB(this.l,this):(this.i=!1,C0(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),lp(this),I0(this)}}}catch{}},ft.mb=function(){if(this.g){var n=eu(this.g),e=this.g.ja();this.C<e.length&&(tI(this),AL(this,n,e),this.i&&4!=n&&C0(this))}},ft.cancel=function(){this.J=!0,lp(this)},ft.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function w4(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(v0(),bs(17)),lp(this),this.o=2,I0(this)):SL(this,this.Y-n)};var NL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cp(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cp){this.h=void 0!==e?e:n.h,nI(this,n.j),this.s=n.s,this.g=n.g,rI(this,n.m),this.l=n.l,e=n.i;var t=new A0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xL(this,t),this.o=n.o}else n&&(t=String(n).match(NL))?(this.h=!!e,nI(this,t[1]||"",!0),this.s=E0(t[2]||""),this.g=E0(t[3]||"",!0),rI(this,t[4]),this.l=E0(t[5]||"",!0),xL(this,t[6]||"",!0),this.o=E0(t[7]||"")):(this.h=!!e,this.i=new A0(null,this.h))}function Xc(n){return new cp(n)}function nI(n,e,t){n.j=t?E0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xL(n,e,t){e instanceof A0?(n.i=e,function R4(n,e){e&&!n.j&&(Bd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(RL(this,r),kL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=T0(e,x4)),n.i=new A0(e,n.h))}function yr(n,e,t){n.i.set(e,t)}function iI(n){return yr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function E0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function T0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,S4),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function S4(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(T0(e,OL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(T0(e,OL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(T0(t,"/"==t.charAt(0)?N4:M4,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",T0(t,O4)),n.join("")};var OL=/[#\/\?@]/g,M4=/[#\?:]/g,N4=/[#\?]/g,x4=/[#\?@]/g,O4=/#/g;function A0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bd(n){n.g||(n.g=new Map,n.h=0,n.i&&function A4(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RL(n,e){Bd(n),e=Hm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function PL(n,e){return Bd(n),e=Hm(n,e),n.g.has(e)}function kL(n,e,t){RL(n,e),0<t.length&&(n.i=null,n.g.set(Hm(n,e),ox(t)),n.h+=t.length)}function Hm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FL(n){this.l=n||k4,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ka&&ln.g.Ka()&&ln.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=A0.prototype).add=function(n,e){Bd(this),this.i=null,n=Hm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){Bd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ft.sa=function(){Bd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},ft.Z=function(n){Bd(this);let e=[];if("string"==typeof n)PL(this,n)&&(e=e.concat(this.g.get(Hm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return Bd(this),this.i=null,PL(this,n=Hm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=o;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var k4=10;function LL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BL(n){return n.h?1:n.g?n.g.size:0}function kx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fx(n,e){n.g?n.g.add(e):n.h=e}function VL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ox(n.i)}function Lx(){}function F4(){this.g=new Lx}function L4(n,e,t){const r=t||"";try{ML(n,function(i,o){let u=i;g0(i)&&(u=Cx(i)),e.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function S0(n){this.l=n.fc||null,this.j=n.ob||!1}function oI(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Bx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FL.prototype.cancel=function(){if(this.i=UL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Lx.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},Lx.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},Oi(S0,Sx),S0.prototype.g=function(){return new oI(this.l,this.j)},S0.prototype.i=function(n){return function(){return n}}({}),Oi(oI,Ri);var Bx=0;function $L(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function M0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,N0(n)}function N0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=oI.prototype).open=function(n,e){if(this.readyState!=Bx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,N0(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ln).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,M0(this)),this.readyState=Bx},ft.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,N0(this)),this.g&&(this.readyState=3,N0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$L(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?M0(this):N0(this),3==this.readyState&&$L(this)}},ft.Za=function(n){this.g&&(this.response=this.responseText=n,M0(this))},ft.Ya=function(n){this.g&&(this.response=n,M0(this))},ft.ka=function(){this.g&&M0(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(oI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var V4=ln.JSON.parse;function jr(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jL,this.L=this.M=!1}Oi(jr,Ri);var jL="",U4=/^https?$/i,$4=["POST","PUT"];function HL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GL(n),aI(n)}function GL(n){n.F||(n.F=!0,Gi(n,"complete"),Gi(n,"error"))}function zL(n){if(n.h&&typeof ix<"u"&&(!n.C[1]||4!=eu(n)||2!=n.da()))if(n.v&&4==eu(n))Ax(n.La,0,n);else if(Gi(n,"readystatechange"),4==eu(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(NL)[1]||null;if(!i&&ln.self&&ln.self.location){var o=ln.self.location.protocol;i=o.substr(0,o.length-1)}r=!U4.test(i?i.toLowerCase():"")}t=r}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var u=2<eu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",GL(n)}}finally{aI(n)}}}function aI(n,e){if(n.g){WL(n);const t=n.g,r=n.C[0]?UC:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function WL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function eu(n){return n.g?n.g.readyState:0}function qL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case jL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZL(n){let e="";return px(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Vx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ZL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yr(n,e,t))}function x0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KL(n){this.Ga=0,this.i=[],this.j=new YC,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=x0("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=x0("baseRetryDelayMs",5e3,n),this.hb=x0("retryDelaySeedMs",1e4,n),this.eb=x0("forwardChannelMaxRetries",2,n),this.xa=x0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new FL(n&&n.concurrentRequestLimit),this.Ja=new F4,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Ux(n){if(YL(n),3==n.H){var e=n.W++,t=Xc(n.G);yr(t,"SID",n.J),yr(t,"RID",e),yr(t,"TYPE","terminate"),O0(n,t),(e=new D0(n,n.j,e,void 0)).L=2,e.v=iI(Xc(t)),t=!1,ln.navigator&&ln.navigator.sendBeacon&&(t=ln.navigator.sendBeacon(e.v.toString(),"")),!t&&ln.Image&&((new Image).src=e.v,t=!0),t||(e.g=sB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),C0(e)}rB(n)}function lI(n){n.g&&(jx(n),n.g.cancel(),n.g=null)}function YL(n){lI(n),n.u&&(ln.clearTimeout(n.u),n.u=null),uI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function cI(n){LL(n.h)||n.m||(n.m=!0,dL(n.Na,n),n.C=0)}function JL(n,e){var t;t=e?e.m:n.W++;const r=Xc(n.G);yr(r,"SID",n.J),yr(r,"RID",t),yr(r,"AID",n.V),O0(n,r),n.o&&n.s&&Vx(r,n.o,n.s),t=new D0(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=QL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Fx(n.h,t),Rx(t,r,e)}function O0(n,e){n.ma&&px(n.ma,function(t,r){yr(e,r,t)}),n.l&&ML({},function(t,r){yr(e,r,t)})}function QL(n,e,t){t=Math.min(n.i.length,t);var r=n.l?is(n.l.Va,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const C=i[m].g;if(v-=o,0>v)o=Math.max(0,i[m].h-100),f=!1;else try{L4(C,u,"req"+v+"_")}catch{r&&r(C)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function XL(n){n.g||n.u||(n.ba=1,dL(n.Ma,n),n.A=0)}function $x(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=b0(is(n.Ma,n),nB(n,n.A)),n.A++,0))}function jx(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function eB(n){n.g=new D0(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Xc(n.wa);yr(e,"RID","rpc"),yr(e,"SID",n.J),yr(e,"CI",n.M?"0":"1"),yr(e,"AID",n.V),yr(e,"TYPE","xmlhttp"),O0(n,e),n.o&&n.s&&Vx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=iI(Xc(e)),t.s=null,t.S=!0,EL(t,n)}function uI(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function tB(n,e){var t=null;if(n.g==e){uI(n),jx(n),n.g=null;var r=2}else{if(!kx(n.h,e))return;t=e.F,VL(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Gi(r=JC(),new bL(r,t)),cI(n)}else XL(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function H4(n,e){return!(BL(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=b0(is(n.Na,n,e),nB(n,n.C)),n.C++,0)))}(n,e)||2==r&&$x(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:up(n,5);break;case 4:up(n,10);break;case 3:up(n,6);break;default:up(n,2)}}function nB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function up(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=is(n.pb,n);t||(t=new cp("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||nI(t,"https"),iI(t)),function B4(n,e){const t=new YC;if(ln.Image){const r=new Image;r.onload=jC(sI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jC(sI,t,r,"TestLoadImage: error",!1,e),r.onabort=jC(sI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jC(sI,t,r,"TestLoadImage: timeout",!1,e),ln.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else bs(2);n.H=0,n.l&&n.l.za(e),rB(n),YL(n)}function rB(n){if(n.H=0,n.pa=[],n.l){const e=UL(n.h);(0!=e.length||0!=n.i.length)&&(KF(n.pa,e),KF(n.pa,n.i),n.h.i.length=0,ox(n.i),n.i.length=0),n.l.ya()}}function iB(n,e,t){var r=t instanceof cp?Xc(t):new cp(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),rI(r,r.m);else{var i=ln.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new cp(null,void 0);r&&nI(o,r),e&&(o.g=e),i&&rI(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&yr(r,t,e),yr(r,"VER",n.qa),O0(n,r),r}function sB(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Ha&&!n.va?new S0({ob:!0}):n.va)).Oa(n.I),e}function oB(){}function dI(){if($m&&!(10<=Number(o4)))throw Error("Environmental error: no available transport.")}function co(n,e){Ri.call(this),this.g=new KL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!HC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!HC(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gm(this)}function aB(n){Mx.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lB(){Nx.call(this),this.status=1}function Gm(n){this.g=n}function xa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hx(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;u=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=o+((u=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Un(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(ft=jr.prototype).Oa=function(n){this.M=n},ft.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xx.g(),this.C=function DL(n){return n.h||(n.h=n.i())}(this.u?this.u:xx),this.g.onreadystatechange=is(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void HL(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=ln.FormData&&n instanceof ln.FormData,!(0<=ZF($4,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WL(this),0<this.B&&((this.L=function j4(n){return $m&&function s4(){return JF(i4,9,function(){let n=0;const e=YF(String(zC)).split("."),t=YF("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",o=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=ax(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||ax(0==i[2].length,0==o[2].length)||ax(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=is(this.ua,this)):this.A=Ax(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){HL(this,o)}},ft.ua=function(){typeof ix<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),aI(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),aI(this,!0)),jr.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?zL(this):this.kb())},ft.kb=function(){zL(this)},ft.da=function(){try{return 2<eu(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),V4(e)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=KL.prototype).qa=8,ft.H=1,ft.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new D0(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=nL(o),iL(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QL(this,i,e),yr(t=Xc(this.G),"RID",n),yr(t,"CVER",22),this.F&&yr(t,"X-HTTP-Session-Id",this.F),O0(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(ZL(o)))+"&"+e:this.o&&Vx(t,this.o,o)),Fx(this.h,i),this.bb&&yr(t,"TYPE","init"),this.P?(yr(t,"$req",e),yr(t,"SID","null"),i.ba=!0,Rx(i,t,null)):Rx(i,t,e),this.H=2}}else 3==this.H&&(n?JL(this,n):0==this.i.length||LL(this.h)||JL(this))},ft.Ma=function(){if(this.u=null,eB(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=b0(is(this.jb,this),n)}},ft.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,bs(10),lI(this),eB(this))},ft.ib=function(){null!=this.v&&(this.v=null,lI(this),$x(this),bs(19))},ft.pb=function(n){n?(this.j.info("Successfully pinged google.com"),bs(2)):(this.j.info("Failed to ping google.com"),bs(1))},(ft=oB.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.Va=function(){},dI.prototype.g=function(n,e){return new co(n,e)},Oi(co,Ri),co.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;bs(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=iB(n,null,n.Y),cI(n)},co.prototype.close=function(){Ux(this.g)},co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Cx(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&cI(e)},co.prototype.N=function(){this.g.l=null,delete this.j,Ux(this.g),delete this.g,co.$.N.call(this)},Oi(aB,Mx),Oi(lB,Nx),Oi(Gm,oB),Gm.prototype.Ba=function(){Gi(this.g,"a")},Gm.prototype.Aa=function(n){Gi(this.g,new aB(n))},Gm.prototype.za=function(n){Gi(this.g,new lB)},Gm.prototype.ya=function(){Gi(this.g,"b")},Oi(xa,function G4(){this.blockSize=-1}),xa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Hx(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Hx(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Hx(this,r),i=0;break}}this.h=i,this.i+=e},xa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var z4={};function Gx(n){return-128<=n&&128>n?JF(z4,n,function(e){return new Un([0|e],0>e?-1:0)}):new Un([0|n],0>n?-1:0)}function Fl(n){if(isNaN(n)||!isFinite(n))return zm;if(0>n)return zi(Fl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zx;return new Un(e,0)}var zx=4294967296,zm=Gx(0),Wx=Gx(1),uB=Gx(16777216);function tu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function zo(n){return-1==n.h}function zi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Un(t,~n.h).add(Wx)}function hI(n,e){return n.add(zi(e))}function fI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function R0(n,e){this.g=n,this.h=e}function pI(n,e){if(tu(e))throw Error("division by zero");if(tu(n))return new R0(zm,zm);if(zo(n))return e=pI(zi(n),e),new R0(zi(e.g),zi(e.h));if(zo(e))return e=pI(n,zi(e)),new R0(zi(e.g),e.h);if(30<n.g.length){if(zo(n)||zo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Wx,r=e;0>=r.X(n);)t=dB(t),r=dB(r);var i=Wm(t,1),o=Wm(r,1);for(r=Wm(r,2),t=Wm(t,2);!tu(r);){var u=o.add(r);0>=u.X(n)&&(i=i.add(t),o=u),r=Wm(r,1),t=Wm(t,1)}return e=hI(n,i.R(e)),new R0(i,e)}for(i=zm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(o=Fl(t)).R(e);zo(u)||0<u.X(n);)u=(o=Fl(t-=r)).R(e);tu(o)&&(o=Wx),i=i.add(o),n=hI(n,u)}return new R0(i,n)}function dB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Un(t,n.h)}function Wm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Un(i,n.h)}(ft=Un.prototype).ea=function(){if(zo(this))return-zi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zx+r)*e,e*=zx}return n},ft.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(tu(this))return"0";if(zo(this))return"-"+zi(this).toString(n);for(var e=Fl(Math.pow(n,6)),t=this,r="";;){var i=pI(t,e).g,o=((0<(t=hI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(tu(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ft.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ft.X=function(n){return zo(n=hI(this,n))?-1:tu(n)?0:1},ft.abs=function(){return zo(this)?zi(this):this},ft.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),u=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(o&=65535)}return new Un(t,-2147483648&t[t.length-1]?-1:0)},ft.R=function(n){if(tu(this)||tu(n))return zm;if(zo(this))return zo(n)?zi(this).R(zi(n)):zi(zi(this).R(n));if(zo(n))return zi(this.R(zi(n)));if(0>this.X(uB)&&0>n.X(uB))return Fl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,u=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=u*m,fI(t,2*r+2*i),t[2*r+2*i+1]+=o*m,fI(t,2*r+2*i+1),t[2*r+2*i+1]+=u*f,fI(t,2*r+2*i+1),t[2*r+2*i+2]+=o*f,fI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Un(t,0)},ft.gb=function(n){return pI(this,n).h},ft.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Un(t,this.h&n.h)},ft.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Un(t,this.h|n.h)},ft.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Un(t,this.h^n.h)},dI.prototype.createWebChannel=dI.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,QC.NO_ERROR=0,QC.TIMEOUT=8,QC.HTTP_ERROR=6,wL.COMPLETE="complete",CL.EventType=w0,w0.OPEN="a",w0.CLOSE="b",w0.ERROR="c",w0.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,jr.prototype.listenOnce=jr.prototype.P,jr.prototype.getLastError=jr.prototype.Sa,jr.prototype.getLastErrorCode=jr.prototype.Ia,jr.prototype.getStatus=jr.prototype.da,jr.prototype.getResponseJson=jr.prototype.Wa,jr.prototype.getResponseText=jr.prototype.ja,jr.prototype.send=jr.prototype.ha,jr.prototype.setWithCredentials=jr.prototype.Oa,xa.prototype.digest=xa.prototype.l,xa.prototype.reset=xa.prototype.reset,xa.prototype.update=xa.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=Fl,Un.fromString=function cB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return zi(cB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fl(Math.pow(e,8)),r=zm,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+o),e);8>o?(o=Fl(Math.pow(e,o)),r=r.R(o).add(Fl(u))):r=(r=r.R(t)).add(Fl(u))}return r};var W4=Na.createWebChannelTransport=function(){return new dI},q4=Na.getStatEventTarget=function(){return JC()},qx=Na.ErrorCode=QC,Z4=Na.EventType=wL,K4=Na.Event=ap,hB=Na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y4=Na.FetchXmlHttpFactory=S0,gI=Na.WebChannel=CL,J4=Na.XhrIo=jr,Q4=Na.Md5=xa,qm=Na.Integer=Un;const fB="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Zm="9.21.0";const Vd=new Sa.Yd("@firebase/firestore");function Zx(){return Vd.logLevel}function Ue(n,...e){if(Vd.logLevel<=Sa.in.DEBUG){const t=e.map(Kx);Vd.debug(`Firestore (${Zm}): ${n}`,...t)}}function Xr(n,...e){if(Vd.logLevel<=Sa.in.ERROR){const t=e.map(Kx);Vd.error(`Firestore (${Zm}): ${n}`,...t)}}function Wo(n,...e){if(Vd.logLevel<=Sa.in.WARN){const t=e.map(Kx);Vd.warn(`Firestore (${Zm}): ${n}`,...t)}}function Kx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Zm}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function St(n,e){n||_t()}function lt(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class n5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r5{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,X.Z)(function*(){yield v.promise,yield o(r.currentUser)}))},m=v=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new pB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Pi(e)}}class i5{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class s5{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new i5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.T=t.token,new gB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function a5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mB{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function Km(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function _B(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new vr(0,0))}static max(){return new Nt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P0{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===P0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof P0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),u=t.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends P0{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const l5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends P0{construct(e,t,r){return new Hr(e,t,r)}static isValidIdentifier(e){return l5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(o(),i++)}if(o(),u)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hr(t)}static emptyPath(){return new Hr([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(Tn.fromString(e))}static fromName(e){return new st(Tn.fromString(e).popFirst(5))}static empty(){return new st(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Tn(e.slice()))}}class mI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Yx(n){return n.fields.find(e=>2===e.kind)}function dp(n){return n.fields.filter(e=>2!==e.kind)}mI.UNKNOWN_ID=-1;class _I{constructor(e,t){this.fieldPath=e,this.kind=t}}class k0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new k0(0,uo.min())}}function yB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new uo(i,st.empty(),e)}function vB(n){return new uo(n.readTime,n.key,-1)}class uo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new uo(Nt.min(),st.empty(),-1)}static max(){return new uo(Nt.max(),st.empty(),-1)}}function Jx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:rn(n.largestBatchId,e.largestBatchId))}const bB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ud(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,X.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==bB)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Qx.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,o=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++o,u&&o===i&&t()},m=>r(m))}),u=!0,o===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const o=e.length,u=new Array(o);let f=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next(C=>{u[v]=C,++f,f===o&&r(u)},C=>i(C))}})}static doWhile(e,t){return new ae((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class yI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new vi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new F0(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=Xx(r.target.error);this.R.reject(new F0(e,i))}}static open(e,t,r,i){try{return new yI(t,e.transaction(i,r))}catch(o){throw new F0(t,o)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new h5(t)}}class Oa{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Oa.S((0,Mt.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),hp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Mt.hl)())return!1;if(Oa.C())return!0;const e=(0,Mt.z$)(),t=Oa.S(e),r=0<t&&t<10,i=Oa.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{r(u.target.result)},o.onblocked=()=>{i(new F0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new F0(e,f))},o.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,X.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.O(e);const m=yI.open(o.db,e,u?"readonly":"readwrite",r),v=i(m).next(C=>(m.P(),C)).catch(C=>(m.abort(C),ae.reject(C))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,C="FirebaseError"!==v.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),o.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class d5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return hp(this.L.delete())}}class F0 extends Re{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $d(n){return"IndexedDbTransactionError"===n.name}class h5{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hp(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),hp(this.store.add(e))}get(e){return hp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),hp(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),hp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(u,f)=>{o.push(f)}).next(()=>o)}{const i=this.store.getAll(r.range);return new ae((o,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{o(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,u,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=o=>{const u=Xx(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}W(e,t){const r=[];return new ae((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const m=new d5(f),v=t(f.primaryKey,f.value,m);if(v instanceof ae){const C=v.catch(S=>(m.done(),ae.reject(S)));r.push(C)}m.isDone?i():null===m.K?f.continue():f.continue(m.K)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hp(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Xx(r.target.error);t(i)}})}let DB=!1;function Xx(n){const e=Oa.S((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DB||(DB=!0,setTimeout(()=>{throw r},0)),r}}return n}class f5{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){$d(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ud(r)}yield t.et(6e4)}))}}class p5{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return ae.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Ue("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(f=>{i-=f,r.add(u)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,o)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=vB(o);Jx(u,r)>0&&(r=u)}),new uo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ho=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function L0(n){return null==n}function B0(n){return 0===n&&1/n==-1/0}function CB(n){return"number"==typeof n&&Number.isInteger(n)&&!B0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function os(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IB(e)),e=g5(n.get(t),e);return IB(e)}function g5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function IB(n){return n+"\x01\x01"}function Ll(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&_t(),n.charAt(u+1)){case"\x01":const f=n.substring(o,u);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(o,u),i+="\0";break;case"\x11":i+=n.substring(o,u+1);break;default:_t()}o=u+2}return new Tn(r)}const EB=["userId","batchId"];function vI(n,e){return[n,os(e)]}function TB(n,e,t){return[n,os(e),t]}const m5={},_5=["prefixPath","collectionGroup","readTime","documentId"],y5=["prefixPath","collectionGroup","documentId"],v5=["collectionGroup","readTime","prefixPath","documentId"],b5=["canonicalId","targetId"],w5=["targetId","path"],D5=["path","targetId"],C5=["collectionId","parent"],I5=["indexId","uid"],E5=["uid","sequenceNumber"],T5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],A5=["indexId","uid","orderedDocumentKey"],S5=["userId","collectionPath","documentId"],M5=["userId","collectionPath","largestBatchId"],N5=["userId","collectionGroup","largestBatchId"],AB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x5=[...AB,"documentOverlays"],SB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MB=SB,O5=[...MB,"indexConfiguration","indexState","indexEntries"];class eO extends wB{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ki(n,e){const t=lt(n);return Oa.M(t.at,e)}function NB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class lr{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bI(this.root,e,this.comparator,!1)}getReverseIterator(){return new bI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bI(this.root,e,this.comparator,!0)}}class bI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=o??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Wi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ur{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OB(this.data.getIterator())}getIteratorFrom(e){return new OB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ur(this.comparator);return t.data=e,t}}class OB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ym(n){return n.hasNext()?n.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(Hr.comparator)}static empty(){return new Us([])}unionWith(e){let t=new ur(Hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Km(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class RB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RB("Invalid base64 string: "+i):i}}(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const P5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(St(!!n),"string"==typeof n){let e=0;const t=P5.exec(n);if(St(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nu(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function wI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DI(n){const e=n.mapValue.fields.__previous_value__;return wI(e)?DI(e):e}function V0(n){const e=Hd(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class k5{constructor(e,t,r,i,o,u,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class Gd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gd&&e.projectId===this.projectId&&e.database===this.database}}const zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CI={nullValue:"NULL_VALUE"};function Wd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wI(n)?4:LB(n)?9007199254740991:10:_t()}function Bl(n,e){if(n===e)return!0;const t=Wd(n);if(t!==Wd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return V0(n).isEqual(V0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Hd(r.timestampValue),u=Hd(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,nu(n.bytesValue).isEqual(nu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Gr(r.geoPointValue.latitude)===Gr(i.geoPointValue.latitude)&&Gr(r.geoPointValue.longitude)===Gr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gr(r.integerValue)===Gr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Gr(r.doubleValue),u=Gr(i.doubleValue);return o===u?B0(o)===B0(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Km(n.arrayValue.values||[],e.arrayValue.values||[],Bl);case 10:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(NB(o)!==NB(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===u[f]||!Bl(o[f],u[f])))return!1;return!0}(n,e);default:return _t()}var i}function U0(n,e){return void 0!==(n.values||[]).find(t=>Bl(t,e))}function qd(n,e){if(n===e)return 0;const t=Wd(n),r=Wd(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Gr(i.integerValue||i.doubleValue),f=Gr(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return PB(n.timestampValue,e.timestampValue);case 4:return PB(V0(n),V0(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(i,o){const u=nu(i),f=nu(o);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),f=o.split("/");for(let m=0;m<u.length&&m<f.length;m++){const v=rn(u[m],f[m]);if(0!==v)return v}return rn(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const u=rn(Gr(i.latitude),Gr(o.latitude));return 0!==u?u:rn(Gr(i.longitude),Gr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const u=i.values||[],f=o.values||[];for(let m=0;m<u.length&&m<f.length;++m){const v=qd(u[m],f[m]);if(v)return v}return rn(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===zd.mapValue&&o===zd.mapValue)return 0;if(i===zd.mapValue)return 1;if(o===zd.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),m=o.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const S=rn(f[C],v[C]);if(0!==S)return S;const F=qd(u[f[C]],m[v[C]]);if(0!==F)return F}return rn(f.length,v.length)}(n.mapValue,e.mapValue);default:throw _t()}}function PB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rn(n,e);const t=Hd(n),r=Hd(e),i=rn(t.seconds,r.seconds);return 0!==i?i:rn(t.nanos,r.nanos)}function Jm(n){return tO(n)}function tO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nu(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=tO(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${tO(r.fields[f])}`;return o+"}"}(n.mapValue):_t();var e}function fp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nO(n){return!!n&&"integerValue"in n}function $0(n){return!!n&&"arrayValue"in n}function kB(n){return!!n&&"nullValue"in n}function FB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EI(n){return!!n&&"mapValue"in n}function j0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=j0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=j0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function F5(n){return"nullValue"in n?CI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fp(Gd.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function L5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fp(Gd.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zd:_t()}function BB(n,e){const t=qd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function VB(n,e){const t=qd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!EI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=j0(t)}setAll(e){let t=Hr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=j0(u):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());EI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];EI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jd(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qi(j0(this.value))}}function UB(n){const e=[];return jd(n.fields,(t,r)=>{const i=new Hr([t]);if(EI(r)){const o=UB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Us(e)}class dr{constructor(e,t,r,i,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new dr(e,0,Nt.min(),Nt.min(),Nt.min(),qi.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Nt.min(),Nt.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Nt.min(),Nt.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function $B(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(r=o.field.isKeyField()?st.comparator(st.fromName(u.referenceValue),t.key):qd(u,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function jB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bl(n.position[t],e.position[t]))return!1;return!0}class Qm{constructor(e,t="asc"){this.field=e,this.dir=t}}function B5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class HB{}class Dn extends HB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new V5(e,t,r):"array-contains"===t?new j5(e,r):"in"===t?new KB(e,r):"not-in"===t?new H5(e,r):"array-contains-any"===t?new G5(e,r):new Dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new U5(e,r):new $5(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qd(t,this.value)):null!==t&&Wd(this.value)===Wd(t)&&this.matchesComparison(qd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends HB{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new $n(e,t)}matches(e){return Xm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xm(n){return"and"===n.op}function rO(n){return"or"===n.op}function iO(n){return GB(n)&&Xm(n)}function GB(n){for(const e of n.filters)if(e instanceof $n)return!1;return!0}function sO(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+Jm(n.value);if(iO(n))return n.filters.map(e=>sO(e)).join(",");{const e=n.filters.map(t=>sO(t)).join(",");return`${n.op}(${e})`}}function zB(n,e){return n instanceof Dn?(t=n,(r=e)instanceof Dn&&t.op===r.op&&t.field.isEqual(r.field)&&Bl(t.value,r.value)):n instanceof $n?function(t,r){return r instanceof $n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,u)=>i&&zB(o,r.filters[u]),!0)}(n,e):void _t();var t,r}function WB(n,e){const t=n.filters.concat(e);return $n.create(t,n.op)}function qB(n){return n instanceof Dn?`${(e=n).field.canonicalString()} ${e.op} ${Jm(e.value)}`:n instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(qB).join(" ,")+"}"}(n):"Filter";var e}class V5 extends Dn{constructor(e,t,r){super(e,t,r),this.key=st.fromName(r.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.matchesComparison(t)}}class U5 extends Dn{constructor(e,t){super(e,"in",t),this.keys=ZB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $5 extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=ZB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>st.fromName(r.referenceValue))}class j5 extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $0(t)&&U0(t.arrayValue,this.value)}}class KB extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&U0(this.value.arrayValue,t)}}class H5 extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(U0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!U0(this.value.arrayValue,t)}}class G5 extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>U0(this.value.arrayValue,r))}}class z5{constructor(e,t=null,r=[],i=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=f,this.ft=null}}function oO(n,e=null,t=[],r=[],i=null,o=null,u=null){return new z5(n,e,t,r,i,o,u)}function pp(n){const e=lt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sO(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),L0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Jm(r)).join(",")),e.ft=t}return e.ft}function H0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jB(n.startAt,e.startAt)&&jB(n.endAt,e.endAt)}function TI(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function AI(n,e){return n.filters.filter(t=>t instanceof Dn&&t.field.isEqual(e))}function YB(n,e,t){let r=CI,i=!0;for(const o of AI(n,e)){let u=CI,f=!0;switch(o.op){case"<":case"<=":u=F5(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,f=!1;break;case"!=":case"not-in":u=CI}BB({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];BB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function JB(n,e,t){let r=zd,i=!0;for(const o of AI(n,e)){let u=zd,f=!0;switch(o.op){case">=":case">":u=L5(o.value),f=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,f=!1;break;case"!=":case"not-in":u=zd}VB({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];VB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ru{constructor(e,t=null,r=[],i=[],o=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=m,this.dt=null,this._t=null}}function QB(n,e,t,r,i,o,u,f){return new ru(n,e,t,r,i,o,u,f)}function e_(n){return new ru(n)}function XB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function aO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function SI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function lO(n){return null!==n.collectionGroup}function gp(n){const e=lt(n);if(null===e.dt){e.dt=[];const t=SI(e),r=aO(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Qm(t)),e.dt.push(new Qm(Hr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Qm(Hr.keyField(),o))}}}return e.dt}function ws(n){const e=lt(n);if(!e._t)if("F"===e.limitType)e._t=oO(e.path,e.collectionGroup,gp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of gp(e))t.push(new Qm(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;e._t=oO(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function cO(n,e){e.getFirstInequalityField(),SI(n);const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function MI(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function G0(n,e){return H0(ws(n),ws(e))&&n.limitType===e.limitType}function eV(n){return`${pp(ws(n))}|lt:${n.limitType}`}function uO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>qB(r)).join(", ")}]`),L0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Jm(r)).join(",")),`Target(${t})`}(ws(n))}; limitType=${n.limitType})`}function z0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):st.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of gp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,u){const f=$B(i,o,u);return i.inclusive?f<=0:f<0}(t.startAt,gp(t),r)||t.endAt&&!function(i,o,u){const f=$B(i,o,u);return i.inclusive?f>=0:f>0}(t.endAt,gp(t),r)));var t,r}function tV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nV(n){return(e,t)=>{let r=!1;for(const i of gp(n)){const o=W5(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function W5(n,e,t){const r=n.field.isKeyField()?st.comparator(e.key,t.key):function(i,o,u){const f=o.data.field(i),m=u.data.field(i);return null!==f&&null!==m?qd(f,m):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jd(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xB(this.inner)}size(){return this.innerSize}}const q5=new lr(st.comparator);function $s(){return q5}const rV=new lr(st.comparator);function W0(...n){let e=rV;for(const t of n)e=e.insert(t.key,t);return e}function iV(n){let e=rV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vl(){return q0()}function sV(){return q0()}function q0(){return new iu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z5=new lr(st.comparator),K5=new ur(st.comparator);function dn(...n){let e=K5;for(const t of n)e=e.add(t);return e}const Y5=new ur(rn);function dO(){return Y5}function oV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function aV(n){return{integerValue:""+n}}function lV(n,e){return CB(e)?aV(e):oV(n,e)}class NI{constructor(){this._=void 0}}function J5(n,e,t){return n instanceof t_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wI(i)&&(i=DI(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof mp?uV(n,e):n instanceof _p?dV(n,e):function(r,i){const o=cV(r,i),u=hV(o)+hV(r.wt);return nO(o)&&nO(r.wt)?aV(u):oV(r.serializer,u)}(n,e)}function Q5(n,e,t){return n instanceof mp?uV(n,e):n instanceof _p?dV(n,e):t}function cV(n,e){return n instanceof n_?nO(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class t_ extends NI{}class mp extends NI{constructor(e){super(),this.elements=e}}function uV(n,e){const t=fV(e);for(const r of n.elements)t.some(i=>Bl(i,r))||t.push(r);return{arrayValue:{values:t}}}class _p extends NI{constructor(e){super(),this.elements=e}}function dV(n,e){let t=fV(e);for(const r of n.elements)t=t.filter(i=>!Bl(i,r));return{arrayValue:{values:t}}}class n_ extends NI{constructor(e,t){super(),this.serializer=e,this.wt=t}}function hV(n){return Gr(n.integerValue||n.doubleValue)}function fV(n){return $0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Z0{constructor(e,t){this.field=e,this.transform=t}}class ez{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OI{}function pV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new i_(n.key,br.none()):new r_(n.key,n.data,br.none());{const t=n.data,r=qi.empty();let i=new ur(Hr.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?r.delete(o):r.set(o,u),i=i.add(o)}return new su(n.key,r,new Us(i.toArray()),br.none())}}function tz(n,e,t){n instanceof r_?function(r,i,o){const u=r.value.clone(),f=_V(r.fieldTransforms,i,o.transformResults);u.setAll(f),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof su?function(r,i,o){if(!xI(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=_V(r.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(mV(r)),f.setAll(u),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function K0(n,e,t,r){return n instanceof r_?function(i,o,u,f){if(!xI(i.precondition,o))return u;const m=i.value.clone(),v=yV(i.fieldTransforms,f,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof su?function(i,o,u,f){if(!xI(i.precondition,o))return u;const m=yV(i.fieldTransforms,f,o),v=o.data;return v.setAll(mV(i)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(u=t,xI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function nz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=cV(r.transform,i||null);null!=o&&(null===t&&(t=qi.empty()),t.set(r.field,o))}return t||null}function gV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Km(t,r,(i,o)=>function X5(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mp&&r instanceof mp||t instanceof _p&&r instanceof _p?Km(t.elements,r.elements,Bl):t instanceof n_&&r instanceof n_?Bl(t.wt,r.wt):t instanceof t_&&r instanceof t_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class r_ extends OI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class su extends OI{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _V(n,e,t){const r=new Map;St(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,f=e.data.field(o.field);r.set(o.field,Q5(u,f,t[i]))}return r}function yV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,J5(o,u,e))}return r}class i_ extends OI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends OI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tz(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sV();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(i.key)?null:f;const m=pV(u,f);null!==m&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&Km(this.mutations,e.mutations,(t,r)=>gV(t,r))&&Km(this.baseMutations,e.baseMutations,(t,r)=>gV(t,r))}}class pO{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){St(e.mutations.length===r.length);let i=Z5;const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new pO(e,t,r,i)}}class gO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class iz{constructor(e,t){this.count=e,this.unchangedNames=t}}var ai,An;function vV(n){switch(n){default:return _t();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function bV(n){if(void 0===n)return Xr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ai.OK:return fe.OK;case ai.CANCELLED:return fe.CANCELLED;case ai.UNKNOWN:return fe.UNKNOWN;case ai.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ai.INTERNAL:return fe.INTERNAL;case ai.UNAVAILABLE:return fe.UNAVAILABLE;case ai.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ai.NOT_FOUND:return fe.NOT_FOUND;case ai.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ai.ABORTED:return fe.ABORTED;case ai.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ai.DATA_LOSS:return fe.DATA_LOSS;default:return _t()}}(An=ai||(ai={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class mO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return RI}static getOrCreateInstance(){return null===RI&&(RI=new mO),RI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let RI=null;function wV(){return new TextEncoder}const sz=new qm([4294967295,4294967295],0);function DV(n){const e=wV().encode(n),t=new Q4;return t.update(e),new Uint8Array(t.digest())}function CV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qm([t,r],0),new qm([i,o],0)]}class _O{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Y0(`Invalid padding: ${t}`);if(r<0)throw new Y0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Y0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Y0(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=qm.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(qm.fromNumber(r)));return 1===i.compare(sz)&&(i=new qm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=DV(e),[r,i]=CV(t);for(let o=0;o<this.hashCount;o++){const u=this.Tt(r,i,o);if(!this.Et(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new _O(o,i,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(0===this.yt)return;const t=DV(e),[r,i]=CV(t);for(let o=0;o<this.hashCount;o++){const u=this.Tt(r,i,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Y0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class J0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Q0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new J0(Nt.min(),i,new lr(rn),$s(),dn())}}class Q0{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Q0(r,t,dn(),dn(),dn())}}class PI{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class IV{constructor(e,t){this.targetId=e,this.bt=t}}class EV{constructor(e,t,r=bi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TV{constructor(){this.Vt=0,this.St=SV(),this.Dt=bi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=dn(),t=dn(),r=dn();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new Q0(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=SV()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class oz{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=$s(),this.jt=AV(),this.zt=new lr(rn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const u=o.target;if(TI(u))if(0===i){const f=new st(u.path);this.Jt(r,f,dr.newNoDocument(f,Nt.min()))}else St(1===i);else{const f=this.se(r);if(f!==i){const m=this.ie(e,f);0!==m&&(this.te(r),this.zt=this.zt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,S){var F,B,J,ne,de,Ee;const Ve={localCacheCount:C,existenceFilterCount:S.count},Xe=S.unchangedNames;return Xe&&(Ve.bloomFilter={applied:0===v,hashCount:null!==(F=Xe?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ne=null===(J=null===(B=Xe?.bits)||void 0===B?void 0:B.bitmap)||void 0===J?void 0:J.length)&&void 0!==ne?ne:0,padding:null!==(Ee=null===(de=Xe?.bits)||void 0===de?void 0:de.padding)&&void 0!==Ee?Ee:0}),Ve}(m,f,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,v;try{m=nu(o).toUint8Array()}catch(C){if(C instanceof RB)return Wo("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new _O(m,u,f)}catch(C){return Wo(C instanceof Y0?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.yt?1:i!==t-this.re(e.targetId,v)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const u=this.Kt.oe(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.At(f)||(this.Jt(e,o,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((o,u)=>{const f=this.ne(u);if(f){if(o.current&&TI(f.target)){const m=new st(f.target.path);null!==this.Qt.get(m)||this.ce(u,m)||this.Jt(u,m,dr.newNoDocument(m,e))}o.kt&&(t.set(u,o.Ot()),o.$t())}});let r=dn();this.jt.forEach((o,u)=>{let f=!0;u.forEachWhile(m=>{const v=this.ne(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(o))}),this.Qt.forEach((o,u)=>u.setReadTime(e));const i=new J0(e,t,this.zt,this.Qt,r);return this.Qt=$s(),this.jt=AV(),this.zt=new lr(rn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new TV,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ur(rn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new TV),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function AV(){return new lr(st.comparator)}function SV(){return new lr(st.comparator)}const az={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cz={and:"AND",or:"OR"};class uz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yO(n,e){return n.useProto3Json||L0(e)?e:{value:e}}function s_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dz(n,e){return s_(n,e.toTimestamp())}function ei(n){return St(!!n),Nt.fromTimestamp(function(e){const t=Hd(e);return new vr(t.seconds,t.nanos)}(n))}function vO(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function NV(n){const e=Tn.fromString(n);return St(VV(e)),e}function X0(n,e){return vO(n.databaseId,e.path)}function Ul(n,e){const t=NV(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(OV(t))}function bO(n,e){return vO(n.databaseId,e)}function xV(n){const e=NV(n);return 4===e.length?Tn.emptyPath():OV(e)}function eb(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OV(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RV(n,e,t){return{name:X0(n,e),fields:t.value.mapValue.fields}}function PV(n,e,t){const r=Ul(n,e.name),i=ei(e.updateTime),o=e.createTime?ei(e.createTime):Nt.min(),u=new qi({mapValue:{fields:e.fields}}),f=dr.newFoundDocument(r,i,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function tb(n,e){let t;if(e instanceof r_)t={update:RV(n,e.key,e.value)};else if(e instanceof i_)t={delete:X0(n,e.key)};else if(e instanceof su)t={update:RV(n,e.key,e.data),updateMask:vz(e.fieldMask)};else{if(!(e instanceof hO))return _t();t={verify:X0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof t_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _p)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof n_)return{fieldPath:o.field.canonicalString(),increment:u.wt};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function wO(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?br.updateTime(ei(i.updateTime)):void 0!==i.exists?br.exists(i.exists):br.none():br.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,u){let f=null;"setToServerValue"in u?(St("REQUEST_TIME"===u.setToServerValue),f=new t_):"appendMissingElements"in u?f=new mp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new _p(u.removeAllFromArray.values||[]):"increment"in u?f=new n_(o,u.increment):_t();const m=Hr.fromServerFormat(u.fieldPath);return new Z0(m,f)}(n,i)):[];var i;if(e.update){const i=Ul(n,e.update.name),o=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Us((e.updateMask.fieldPaths||[]).map(v=>Hr.fromServerFormat(v)));return new su(i,o,u,t,r)}return new r_(i,o,t,r)}if(e.delete){const i=Ul(n,e.delete);return new i_(i,t)}if(e.verify){const i=Ul(n,e.verify);return new hO(i,t)}return _t()}function kV(n,e){return{documents:[bO(n,e.path)]}}function DO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return BV($n.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:Kd((C=v).field),direction:mz(C.dir)};var C})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=yO(n,e.limit);var f,m;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function FV(n){let e=xV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){St(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let o=[];t.where&&(o=function(C){const S=LV(C);return S instanceof $n&&iO(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new Qm(o_((S=C).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(C){let S;return S="object"==typeof C?C.value:C,L0(S)?null:S}(t.limit));let m=null;var C;t.startAt&&(m=new Zd((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Zd(C.values||[],!C.before)}(t.endAt)),QB(e,i,u,o,f,"F",m,v)}function LV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=o_(e.unaryFilter.field);return Dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=o_(e.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=o_(e.unaryFilter.field);return Dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=o_(e.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?Dn.create(o_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $n.create(e.compositeFilter.filters.map(t=>LV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(n):_t();var e}function mz(n){return az[n]}function _z(n){return lz[n]}function yz(n){return cz[n]}function Kd(n){return{fieldPath:n.canonicalString()}}function o_(n){return Hr.fromServerFormat(n.fieldPath)}function BV(n){return n instanceof Dn?function(e){if("=="===e.op){if(FB(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NAN"}};if(kB(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(FB(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NAN"}};if(kB(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(e.field),op:_z(e.op),value:e.value}}}(n):n instanceof $n?function(e){const t=e.getFilters().map(r=>BV(r));return 1===t.length?t[0]:{compositeFilter:{op:yz(e.op),filters:t}}}(n):_t()}function vz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ou{constructor(e,t,r,i,o=Nt.min(),u=Nt.min(),f=bi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UV{constructor(e){this.le=e}}function $V(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:X0(i=n.le,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:s_(i,o.version.toTimestamp()),createTime:s_(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:yp(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:yp(e.version)}}var i,o;return r}function kI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vp(n){const e=new vr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function bp(n,e){const t=(e.baseMutations||[]).map(o=>wO(n.le,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>wO(n.le,o)),i=vr.fromMillis(e.localWriteTimeMs);return new fO(e.batchId,i,t,r)}function nb(n){const e=vp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vp(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(St(1===(i=n.query).documents.length),r=ws(e_(xV(i.documents[0])))):r=ws(FV(n.query)),new ou(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,bi.fromBase64String(n.resumeToken))}function jV(n,e){const t=yp(e.snapshotVersion),r=yp(e.lastLimboFreeSnapshotVersion);let i;i=TI(e.target)?kV(n.le,e.target):DO(n.le,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function CO(n){const e=FV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MI(e,e.limit,"L"):e}function IO(n,e){return new gO(e.largestBatchId,wO(n.le,e.overlayMutation))}function HV(n,e){const t=e.path.lastSegment();return[n,os(e.path.popLast()),t]}function GV(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:yp(r.readTime),documentKey:os(r.documentKey.path),largestBatchId:r.largestBatchId}}class wz{getBundleMetadata(e,t){return zV(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:vp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return zV(e).put({bundleId:(r=t).id,createTime:yp(ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return WV(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:CO(i.bundledQuery),readTime:vp(i.readTime)};var i})}saveNamedQuery(e,t){return WV(e).put({name:(r=t).name,readTime:yp(ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zV(n){return ki(n,"bundles")}function WV(n){return ki(n,"namedQueries")}class FI{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new FI(e,t.uid||"")}getOverlay(e,t){return rb(e).get(HV(this.userId,t)).next(r=>r?IO(this.serializer,r):null)}getOverlays(e,t){const r=Vl();return ae.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const f=new gO(t,u);i.push(this.de(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(os(u.getCollectionPath())));const o=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(rb(e).J("collectionPathOverlayIndex",f))}),ae.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Vl(),o=os(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return rb(e).j("collectionPathOverlayIndex",u).next(f=>{for(const m of f){const v=IO(this.serializer,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Vl();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rb(e).X({index:"collectionGroupOverlayIndex",range:f},(m,v,C)=>{const S=IO(this.serializer,v);o.size()<i||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):C.done()}).next(()=>o)}de(e,t){return rb(e).put(function(r,i,o){const[u,f,m]=HV(i,o.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:tb(r.le,o.mutation)}}(this.serializer,this.userId,t))}}function rb(n){return ki(n,"documentOverlays")}class wp{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Gr(e.integerValue));else if("doubleValue"in e){const r=Gr(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),B0(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(nu(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?LB(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):_t()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),st.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Dz(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function qV(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=Dz(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}wp.be=new wp;class Cz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=qV(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=qV(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Iz{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class Ez{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class ib{constructor(){this.Qe=new Cz,this.je=new Iz(this.Qe),this.ze=new Ez(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Dp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Dp(this.indexId,this.documentKey,this.arrayValue,r)}}function Yd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ZV(n.arrayValue,e.arrayValue),0!==t?t:(t=ZV(n.directionalValue,e.directionalValue),0!==t?t:st.comparator(n.documentKey,e.documentKey)))}function ZV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Tz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){St(e.collectionGroup===this.collectionId);const t=Yx(e);if(void 0!==t&&!this.tn(t))return!1;const r=dp(e);let i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const u=r[i];if(!this.en(this.Xe,u)||!this.nn(this.Je[o++],u))return!1;++i}for(;i<r.length;++i)if(o>=this.Je.length||!this.nn(this.Je[o++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function KV(n){var e,t;if(St(n instanceof Dn||n instanceof $n),n instanceof Dn){if(n instanceof KB){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Dn.create(n.field,"==",o)))||[];return $n.create(i,"or")}return n}const r=n.filters.map(i=>KV(i));return $n.create(r,n.op)}function Az(n){if(0===n.getFilters().length)return[];const e=AO(KV(n));return St(YV(e)),EO(e)||TO(e)?[e]:e.getFilters()}function EO(n){return n instanceof Dn}function TO(n){return n instanceof $n&&iO(n)}function YV(n){return EO(n)||TO(n)||function(e){if(e instanceof $n&&rO(e)){for(const t of e.getFilters())if(!EO(t)&&!TO(t))return!1;return!0}return!1}(n)}function AO(n){if(St(n instanceof Dn||n instanceof $n),n instanceof Dn)return n;if(1===n.filters.length)return AO(n.filters[0]);const e=n.filters.map(r=>AO(r));let t=$n.create(e,n.op);return t=LI(t),YV(t)?t:(St(t instanceof $n),St(Xm(t)),St(t.filters.length>1),t.filters.reduce((r,i)=>SO(r,i)))}function SO(n,e){let t;return St(n instanceof Dn||n instanceof $n),St(e instanceof Dn||e instanceof $n),t=n instanceof Dn?e instanceof Dn?$n.create([n,e],"and"):JV(n,e):e instanceof Dn?JV(e,n):function(r,i){if(St(r.filters.length>0&&i.filters.length>0),Xm(r)&&Xm(i))return WB(r,i.getFilters());const o=rO(r)?r:i,u=rO(r)?i:r,f=o.filters.map(m=>SO(m,u));return $n.create(f,"or")}(n,e),LI(t)}function JV(n,e){if(Xm(e))return WB(e,n.getFilters());{const t=e.filters.map(r=>SO(n,r));return $n.create(t,"or")}}function LI(n){if(St(n instanceof Dn||n instanceof $n),n instanceof Dn)return n;const e=n.getFilters();if(1===e.length)return LI(e[0]);if(GB(n))return n;const t=e.map(i=>LI(i)),r=[];return t.forEach(i=>{i instanceof Dn?r.push(i):i instanceof $n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:$n.create(r,n.op)}class Sz{constructor(){this.sn=new MO}addToCollectionParentIndex(e,t){return this.sn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(uo.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class MO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ur(Tn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ur(Tn.comparator)).toArray()}}const BI=new Uint8Array(0);class Mz{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new MO,this.on=new iu(r=>pp(r),(r,i)=>H0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const o={collectionId:r,parent:os(i)};return QV(e).put(o)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[_B(t),""],!1,!0);return QV(e).j(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Ll(u.parent))}return r})}addFieldIndex(e,t){const r=VI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const o=r.add(i);if(t.indexState){const u=ob(e);return o.next(f=>{u.put(GV(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=VI(e),i=ob(e),o=sb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=sb(e);let i=!0;const o=new Map;return ae.forEach(this.un(t),u=>this.cn(e,u).next(f=>{i&&(i=!!f),o.set(u,f)})).next(()=>{if(i){let u=dn();const f=[];return ae.forEach(o,(m,v)=>{var C;Ue("IndexedDbIndexManager",`Using index ${C=m,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${pp(t)}`);const S=function(Xe,ot){const ct=Yx(ot);if(void 0===ct)return null;for(const wt of AI(Xe,ct.fieldPath))switch(wt.op){case"array-contains-any":return wt.value.arrayValue.values||[];case"array-contains":return[wt.value]}return null}(v,m),F=function(Xe,ot){const ct=new Map;for(const wt of dp(ot))for(const hn of AI(Xe,wt.fieldPath))switch(hn.op){case"==":case"in":ct.set(wt.fieldPath.canonicalString(),hn.value);break;case"not-in":case"!=":return ct.set(wt.fieldPath.canonicalString(),hn.value),Array.from(ct.values())}return null}(v,m),B=function(Xe,ot){const ct=[];let wt=!0;for(const hn of dp(ot)){const wn=0===hn.kind?YB(Xe,hn.fieldPath,Xe.startAt):JB(Xe,hn.fieldPath,Xe.startAt);ct.push(wn.value),wt&&(wt=wn.inclusive)}return new Zd(ct,wt)}(v,m),J=function(Xe,ot){const ct=[];let wt=!0;for(const hn of dp(ot)){const wn=0===hn.kind?JB(Xe,hn.fieldPath,Xe.endAt):YB(Xe,hn.fieldPath,Xe.endAt);ct.push(wn.value),wt&&(wt=wn.inclusive)}return new Zd(ct,wt)}(v,m),ne=this.an(m,v,B),de=this.an(m,v,J),Ee=this.hn(m,v,F),Ve=this.ln(m.indexId,S,ne,B.inclusive,de,J.inclusive,Ee);return ae.forEach(Ve,Xe=>r.H(Xe,t.limit).next(ot=>{ot.forEach(ct=>{const wt=st.fromSegments(ct.documentKey);u.has(wt)||(u=u.add(wt),f.push(wt))})}))}).next(()=>f)}return ae.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Az($n.create(e.filters,"and")).map(r=>oO(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,o,u,f){const m=(null!=t?t.length:1)*Math.max(r.length,o.length),v=m/(null!=t?t.length:1),C=[];for(let S=0;S<m;++S){const F=t?this.fn(t[S/v]):BI,B=this.dn(e,F,r[S%v],i),J=this._n(e,F,o[S%v],u),ne=f.map(de=>this.dn(e,F,de,!0));C.push(...this.createRange(B,J,ne))}return C}dn(e,t,r,i){const o=new Dp(e,st.empty(),t,r);return i?o:o.He()}_n(e,t,r,i){const o=new Dp(e,st.empty(),t,r);return i?o.He():o}cn(e,t){const r=new Tz(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const f of o)r.Ze(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.un(t);return ae.forEach(i,o=>this.cn(e,o).next(u=>{u?0!==r&&u.fields.length<function(f){let m=new ur(Hr.comparator),v=!1;for(const C of f.filters)for(const S of C.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field));for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new ib;for(const i of dp(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const u=r.We(i.kind);wp.be._e(o,u)}return r.Ge()}fn(e){const t=new ib;return wp.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new ib;return wp.be._e(fp(this.databaseId,t),r.We(function(i){const o=dp(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new ib);let o=0;for(const u of dp(e)){const f=r[o++];for(const m of i)if(this.gn(t,u.fieldPath)&&$0(f))i=this.yn(i,u,f);else{const v=m.We(u.kind);wp.be._e(f,v)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const f of i){const m=new ib;m.seed(f.Ge()),wp.be._e(u,m.We(t.kind)),o.push(m)}return o}gn(e,t){return!!e.filters.find(r=>r instanceof Dn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=VI(e),i=ob(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const u=[];return ae.forEach(o,f=>i.get([f.indexId,this.uid]).next(m=>{u.push(function(v,C){const S=C?new k0(C.sequenceNumber,new uo(vp(C.readTime),new st(Ll(C.documentKey)),C.largestBatchId)):k0.empty(),F=v.fields.map(([B,J])=>new _I(Hr.fromServerFormat(B),J));return new mI(v.indexId,v.collectionGroup,F,S)}(f,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:rn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=VI(e),o=ob(e);return this.In(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,m=>o.put(GV(m.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,m=>this.Tn(e,i,m).next(v=>{const C=this.En(o,m);return v.isEqual(C)?ae.resolve():this.An(e,o,m,v,C)}))))})}Rn(e,t,r,i){return sb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return sb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=sb(e);let o=new ur(Yd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(u,f)=>{o=o.add(new Dp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}En(e,t){let r=new ur(Yd);const i=this.wn(t,e);if(null==i)return r;const o=Yx(t);if(null!=o){const u=e.data.field(o.fieldPath);if($0(u))for(const f of u.arrayValue.values||[])r=r.add(new Dp(t.indexId,e.key,this.fn(f),i))}else r=r.add(new Dp(t.indexId,e.key,BI,i));return r}An(e,t,r,i,o){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,m,v,C,S){const F=f.getIterator(),B=m.getIterator();let J=Ym(F),ne=Ym(B);for(;J||ne;){let de=!1,Ee=!1;if(J&&ne){const Ve=v(J,ne);Ve<0?Ee=!0:Ve>0&&(de=!0)}else null!=J?Ee=!0:de=!0;de?(C(ne),ne=Ym(B)):Ee?(S(J),J=Ym(F)):(J=Ym(F),ne=Ym(B))}}(i,o,Yd,f=>{u.push(this.Rn(e,t,r,f))},f=>{u.push(this.vn(e,t,r,f))}),ae.waitFor(u)}In(e){let t=1;return ob(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Yd(u,f)).filter((u,f,m)=>!f||0!==Yd(u,m[f-1]));const i=[];i.push(e);for(const u of r){const f=Yd(u,e),m=Yd(u,t);if(0===f)i[0]=e.He();else if(f>0&&m<0)i.push(u),i.push(u.He());else if(m>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Pn(i[u],i[u+1]))return[];o.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,BI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,BI,[]]))}return o}Pn(e,t){return Yd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XV)}getMinOffset(e,t){return ae.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||_t())).next(XV)}}function QV(n){return ki(n,"collectionParents")}function sb(n){return ki(n,"indexEntries")}function VI(n){return ki(n,"indexConfiguration")}function ob(n){return ki(n,"indexState")}function XV(n){St(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Jx(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const eU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class as{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let f=0;const m=r.X({range:u},(C,S,F)=>(f++,F.delete()));o.push(m.next(()=>{St(1===f)}));const v=[];for(const C of t.mutations){const S=TB(e,C.key.path,t.batchId);o.push(i.delete(S)),v.push(C.key)}return ae.waitFor(o).next(()=>v)}function UI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class $I{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){St(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new $I(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).X({index:"userMutationsIndex",range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=a_(e),u=Jd(e);return u.add({}).next(f=>{St("number"==typeof f);const m=new fO(f,t,r,i),v=function(F,B,J){const ne=J.baseMutations.map(Ee=>tb(F.le,Ee)),de=J.mutations.map(Ee=>tb(F.le,Ee));return{userId:B,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:ne,mutations:de}}(this.serializer,this.userId,m),C=[];let S=new ur((F,B)=>rn(F.canonicalString(),B.canonicalString()));for(const F of i){const B=TB(this.userId,F.key.path,f);S=S.add(F.key.path.popLast()),C.push(u.put(v)),C.push(o.put(B,m5))}return S.forEach(F=>{C.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[f]=m.keys()}),ae.waitFor(C).next(()=>m)})}lookupMutationBatch(e,t){return Jd(e).get(t).next(r=>r?(St(r.userId===this.userId),bp(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?ae.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Jd(e).X({index:"userMutationsIndex",range:i},(u,f,m)=>{f.userId===this.userId&&(St(f.batchId>=r),o=bp(this.serializer,f)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Jd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).j("userMutationsIndex",t).next(r=>r.map(i=>bp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return a_(e).X({range:i},(u,f,m)=>{const[v,C,S]=u,F=Ll(C);if(v===this.userId&&t.path.isEqual(F))return Jd(e).get(S).next(B=>{if(!B)throw _t();St(B.userId===this.userId),o.push(bp(this.serializer,B))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ur(rn);const i=[];return t.forEach(o=>{const u=vI(this.userId,o.path),f=IDBKeyRange.lowerBound(u),m=a_(e).X({range:f},(v,C,S)=>{const[F,B,J]=v,ne=Ll(B);F===this.userId&&o.path.isEqual(ne)?r=r.add(J):S.done()});i.push(m)}),ae.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=vI(this.userId,r),u=IDBKeyRange.lowerBound(o);let f=new ur(rn);return a_(e).X({range:u},(m,v,C)=>{const[S,F,B]=m,J=Ll(F);S===this.userId&&r.isPrefixOf(J)?J.length===i&&(f=f.add(B)):C.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Jd(e).get(o).next(u=>{if(null===u)throw _t();St(u.userId===this.userId),r.push(bp(this.serializer,u))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return tU(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return a_(e).X({range:r},(o,u,f)=>{if(o[0]===this.userId){const m=Ll(o[1]);i.push(m)}else f.done()}).next(()=>{St(0===i.length)})})}containsKey(e,t){return nU(e,this.userId,t)}Cn(e){return rU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nU(n,e,t){const r=vI(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return a_(n).X({range:o,Y:!0},(f,m,v)=>{const[C,S,F]=f;C===e&&S===i&&(u=!0),v.done()}).next(()=>u)}function Jd(n){return ki(n,"mutations")}function a_(n){return ki(n,"documentMutations")}function rU(n){return ki(n,"mutationQueues")}class Cp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Cp(0)}static kn(){return new Cp(-1)}}class Nz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Cp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Nt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>l_(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return l_(e).X((u,f)=>{const m=nb(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,o.push(this.removeTargetData(e,m)))}).next(()=>ae.waitFor(o)).next(()=>i)}forEachTarget(e,t){return l_(e).X((r,i)=>{const o=nb(i);t(o)})}Mn(e){return iU(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}On(e,t){return iU(e).put("targetGlobalKey",t)}$n(e,t){return l_(e).put(jV(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=pp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return l_(e).X({range:i,index:"queryTargetsIndex"},(u,f,m)=>{const v=nb(f);H0(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Qd(e);return t.forEach(u=>{const f=os(u.path);i.push(o.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qd(e);return ae.forEach(t,o=>{const u=os(o.path);return ae.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Qd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qd(e);let o=dn();return i.X({range:r,Y:!0},(u,f,m)=>{const v=Ll(u[1]),C=new st(v);o=o.add(C)}).next(()=>o)}containsKey(e,t){const r=os(t.path),i=IDBKeyRange.bound([r],[_B(r)],!1,!0);let o=0;return Qd(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,f],m,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}he(e,t){return l_(e).get(t).next(r=>r?nb(r):null)}}function l_(n){return ki(n,"targets")}function iU(n){return ki(n,"targetGlobal")}function Qd(n){return ki(n,"targetDocuments")}function sU([n,e],[t,r]){const i=rn(n,t);return 0===i?rn(e,r):i}class xz{constructor(e){this.Bn=e,this.buffer=new ur(sU),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();sU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){$d(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ud(r)}yield t.Gn(3e5)}))}}class Oz{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(ho.ct);const r=new xz(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(eU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eU):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,o,u,f,m,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,u=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(o=S,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(v=Date.now(),Zx()<=Sa.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${o} targets in `+(m-f)+`ms\n\tRemoved ${S} documents in `+(v-m)+`ms\nTotal Duration: ${v-C}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:S})))}}class Rz{constructor(e,t){this.db=e,this.garbageCollector=function aU(n,e){return new Oz(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return jI(e,r)}removeReference(e,t,r){return jI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jI(e,t)}Yn(e,t){return function(r,i){let o=!1;return rU(r).Z(u=>nU(r,u,i).next(f=>(f&&(o=!0),ae.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Jn(e,(u,f)=>{if(f<=t){const m=this.Yn(e,u).next(v=>{if(!v)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Nt.min()),Qd(e).delete([0,os(u.path)])))});i.push(m)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jI(e,t)}Jn(e,t){const r=Qd(e);let i,o=ho.ct;return r.X({index:"documentTargetsIndex"},([u,f],{path:m,sequenceNumber:v})=>{0===u?(o!==ho.ct&&t(new st(Ll(i)),o),o=v,i=m):o=ho.ct}).next(()=>{o!==ho.ct&&t(new st(Ll(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jI(n,e){return Qd(n).put((r=n.currentSequenceNumber,{targetId:0,path:os(e.path),sequenceNumber:r}));var r}class lU{constructor(){this.changes=new iu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ip(e).put(r)}removeEntry(e,t,r){return Ip(e).delete(function(i,o){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],kI(o),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Ip(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(i,o)=>{r=this.Zn(t,o)}).next(()=>r)}ts(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Ip(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(i,o)=>{r={document:this.Zn(t,o),size:UI(o)}}).next(()=>r)}getEntries(e,t){let r=$s();return this.es(e,t,(i,o)=>{const u=this.Zn(i,o);r=r.insert(i,u)}).next(()=>r)}ns(e,t){let r=$s(),i=new lr(st.comparator);return this.es(e,t,(o,u)=>{const f=this.Zn(o,u);r=r.insert(o,f),i=i.insert(o,UI(u))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return ae.resolve();let i=new ur(hU);t.forEach(m=>i=i.add(m));const o=IDBKeyRange.bound(ab(i.first()),ab(i.last())),u=i.getIterator();let f=u.getNext();return Ip(e).X({index:"documentKeyIndex",range:o},(m,v,C)=>{const S=st.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&hU(f,S)<0;)r(f,null),f=u.getNext();f&&f.isEqual(S)&&(r(f,v),f=u.hasNext()?u.getNext():null),f?C.G(ab(f)):C.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),kI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ip(e).j(IDBKeyRange.bound(u,f,!0)).next(m=>{let v=$s();for(const C of m){const S=this.Zn(st.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);S.isFoundDocument()&&(z0(t,S)||i.has(S.key))&&(v=v.insert(S.key,S))}return v})}getAllFromCollectionGroup(e,t,r,i){let o=$s();const u=dU(t,r),f=dU(t,uo.max());return Ip(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(m,v,C)=>{const S=this.Zn(st.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===i&&C.done()}).next(()=>o)}newChangeBuffer(e){return new kz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uU(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Xn(e,t){return uU(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function bz(n,e){let t;if(e.document)t=PV(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=st.fromSegments(e.noDocument.path),i=vp(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=st.fromSegments(e.unknownDocument.path),i=vp(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new vr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return dr.newInvalidDocument(e)}}function cU(n){return new Pz(n)}class kz extends lU{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new iu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ur((o,u)=>rn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.os.get(o);if(t.push(this.rs.removeEntry(e,o,f.readTime)),u.isValidDocument()){const m=$V(this.rs.serializer,u);i=i.add(o.path.popLast());const v=UI(m);r+=v-f.size,t.push(this.rs.addEntry(e,o,m))}else if(r-=f.size,this.trackRemovals){const m=$V(this.rs.serializer,u.convertToNoDocument(Nt.min()));t.push(this.rs.addEntry(e,o,m))}}),i.forEach(o=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.rs.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((o,u)=>{this.os.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function uU(n){return ki(n,"remoteDocumentGlobal")}function Ip(n){return ki(n,"remoteDocumentsV14")}function ab(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dU(n,e){const t=e.documentKey.path.toArray();return[n,kI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=rn(t[o],r[o]),i)return i;return i=rn(t.length,r.length),i||(i=rn(t[t.length-2],r[r.length-2]),i||rn(t[t.length-1],r[r.length-1]))}class Fz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&K0(r.mutation,i,Us.empty(),vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dn()){const i=Vl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=W0();return o.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let o=$s();const u=q0(),f=q0();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof su)?o=o.insert(v.key,v):void 0!==C?(u.set(v.key,C.mutation.getFieldMask()),K0(C.mutation,v,C.mutation.getFieldMask(),vr.now())):u.set(v.key,Us.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((v,C)=>u.set(v,C)),t.forEach((v,C)=>{var S;return f.set(v,new Fz(C,null!==(S=u.get(v))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=q0();let i=new lr((u,f)=>u-f),o=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||Us.empty();C=f.applyToLocalView(v,C),r.set(m,C);const S=(i.get(f.batchId)||dn()).add(m);i=i.insert(f.batchId,S)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,S=sV();C.forEach(F=>{if(!o.has(F)){const B=pV(t.get(F),r.get(F));null!==B&&S.set(F,B),o=o.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ae.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return st.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ae.resolve(Vl());let f=-1,m=o;return u.next(v=>ae.forEach(v,(C,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),o.get(C)?ae.resolve():this.remoteDocumentCache.getEntry(e,C).next(F=>{m=m.insert(C,F)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,m,v,dn())).next(C=>({batchId:f,changes:iV(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(r=>{let i=W0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=W0();return this.indexManager.getCollectionParents(e,i).next(u=>ae.forEach(u,f=>{const m=(v=t,C=f.child(i),new ru(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,S)=>{o=o.insert(C,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((f,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,dr.newInvalidDocument(v)))});let u=W0();return o.forEach((f,m)=>{const v=i.get(f);void 0!==v&&K0(v.mutation,m,Us.empty(),vr.now()),z0(t,m)&&(u=u.insert(f,m))}),u})}}class Lz{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ae.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:ei(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:CO(r.bundledQuery),readTime:ei(r.readTime)}),ae.resolve();var r}}class Bz{constructor(){this.overlays=new lr(st.comparator),this.hs=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vl();return ae.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.de(e,t,o)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Vl(),o=t.length+1,u=new st(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new lr((v,C)=>v-C);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=o.get(v.largestBatchId);null===C&&(C=Vl(),o=o.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=Vl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return ae.resolve(f)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new gO(t,r));let o=this.hs.get(t);void 0===o&&(o=dn(),this.hs.set(t,o)),this.hs.set(t,o.add(r.key))}}class NO{constructor(){this.ls=new ur(Fi.fs),this.ds=new ur(Fi._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Fi(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Fi(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new st(new Tn([])),r=new Fi(t,e),i=new Fi(t,e+1),o=[];return this.ds.forEachInRange([r,i],u=>{this.gs(u),o.push(u.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new st(new Tn([])),r=new Fi(t,e),i=new Fi(t,e+1);let o=dn();return this.ds.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Fi(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return st.comparator(e.key,t.key)||rn(e.Es,t.Es)}static _s(e,t){return rn(e.Es,t.Es)||st.comparator(e.key,t.key)}}class Vz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ur(Fi.fs)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.As;this.As++;const u=new fO(o,t,r,i);this.mutationQueue.push(u);for(const f of i)this.Rs=this.Rs.add(new Fi(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),o=i<0?0:i;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fi(t,0),i=new Fi(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],u=>{const f=this.vs(u.Es);o.push(f)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ur(rn);return t.forEach(i=>{const o=new Fi(i,0),u=new Fi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],f=>{r=r.add(f.Es)})}),ae.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;st.isDocumentKey(o)||(o=o.child(""));const u=new Fi(new st(o),0);let f=new ur(rn);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.Es)),!0)},u),ae.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){St(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const o=new Fi(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Fi(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uz{constructor(e){this.Ss=e,this.docs=new lr(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=$s();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$s();const u=t.path,f=new st(u.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||Jx(vB(C),r)<=0||(i.has(C.key)||z0(t,C))&&(o=o.insert(C.key,C.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,r,i){_t()}Ds(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $z(this)}getSize(e){return ae.resolve(this.size)}}class $z extends lU{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class jz{constructor(e){this.persistence=e,this.Cs=new iu(t=>pp(t),H0),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new NO,this.targetCount=0,this.ks=Cp.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),ae.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Cp(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.$n(t),ae.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Cs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Cs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(o).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ns.containsKey(t))}}class xO{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ho(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new jz(this),this.indexManager=new Sz,this.remoteDocumentCache=new Uz(r=>this.referenceDelegate.Bs(r)),this.serializer=new UV(t),this.Ls=new Lz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new Vz(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new Hz(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,t){return ae.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class Hz extends wB{constructor(e){super(),this.currentSequenceNumber=e}}class HI{constructor(e){this.persistence=e,this.Gs=new NO,this.Qs=null}static js(e){return new HI(e)}get zs(){if(this.Qs)return this.Qs;throw _t()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.zs,r=>{const i=st.fromPath(r);return this.Ws(e,i).next(o=>{o||t.removeEntry(i,Nt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ae.or([()=>ae.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Gz{constructor(e){this.serializer=e}$(e,t,r,i){const o=new yI("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EB,{unique:!0}),f.createObjectStore("documentMutations"),pU(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),pU(e)),u=u.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EB,{unique:!0});const C=m.store("mutations"),S=v.map(F=>C.put(F));return ae.waitFor(S)})}(e,o))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Js(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(o)))),r<7&&i>=7&&(u=u.next(()=>this.Xs(o))),r<8&&i>=8&&(u=u.next(()=>this.Zs(e,o))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ti(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:S5});m.createIndex("collectionPathOverlayIndex",M5,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",N5,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:_5});m.createIndex("documentKeyIndex",y5),m.createIndex("collectionGroupIndex",v5)}(e)).next(()=>this.ei(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.ni(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:I5}).createIndex("sequenceNumberIndex",E5,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:T5}).createIndex("documentKeyIndex",A5,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=UI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ae.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(f=>ae.forEach(f,m=>{St(m.userId===o.userId);const v=bp(this.serializer,m);return tU(e,o.userId,v).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((u,f)=>{const m=new Tn(u),v=[0,os(m)];o.push(t.get(v).next(C=>C?ae.resolve():t.put({targetId:0,path:os(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:C5});const r=t.store("collectionParents"),i=new MO,o=u=>{if(i.add(u)){const f=u.lastSegment(),m=u.popLast();return r.put({collectionId:f,parent:os(m)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const m=new Tn(u);return o(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,m],v)=>{const C=Ll(f);return o(C.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const o=nb(i),u=jV(this.serializer,o);return t.put(u)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,u)=>{const f=t.store("remoteDocumentsV14"),m=(v=u,v.document?new st(Tn.fromString(v.document.name).popFirst(5)):v.noDocument?st.fromSegments(v.noDocument.path):v.unknownDocument?st.fromSegments(v.unknownDocument.path):_t()).path.toArray();var v;const C={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(C))}).next(()=>ae.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=cU(this.serializer),o=new xO(HI.js,this.serializer.le);return r.j().next(u=>{const f=new Map;return u.forEach(m=>{var v;let C=null!==(v=f.get(m.userId))&&void 0!==v?v:dn();bp(this.serializer,m).keys().forEach(S=>C=C.add(S)),f.set(m.userId,C)}),ae.forEach(f,(m,v)=>{const C=new Pi(v),S=FI.fe(this.serializer,C),F=o.getIndexManager(C),B=$I.fe(C,this.serializer,F,o.referenceDelegate);return new fU(i,B,S,F).recalculateAndSaveOverlaysForDocumentKeys(new eO(t,ho.ct),m).next()})})}}function pU(n){n.createObjectStore("targetDocuments",{keyPath:w5}).createIndex("documentTargetsIndex",D5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",b5,{unique:!0}),n.createObjectStore("targetGlobal")}const OO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RO{constructor(e,t,r,i,o,u,f,m,v,C,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=o,this.window=u,this.document=f,this.ii=v,this.ri=C,this.oi=S,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!RO.D())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rz(this,i),this.fi=t+"main",this.serializer=new UV(m),this.di=new Oa(this.fi,this.oi,new Gz(this.serializer)),this.Fs=new Nz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cU(this.serializer),this.Ls=new wz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,OO);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ho(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,X.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,X.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if($d(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return lb(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}vi(e){return zI(e).delete(this.clientId)}Pi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ki(r,"clientMetadata");return i.j().next(o=>{const u=e.Vi(o,18e5),f=o.filter(m=>-1===u.indexOf(m));return ae.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ae.resolve(!0):lb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,OO);return!1}}return!(!this.networkEnabled||!this.inForeground)||zI(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new eO(t,ho.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>zI(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return $I.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mz(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return FI.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(u=this.oi)?O5:14===u?MB:13===u?SB:12===u?x5:11===u?AB:void _t();var u;let f;return this.di.runTransaction(e,i,o,m=>(f=new eO(m,this.Os?this.Os.next():ho.ct),"readwrite-primary"===t?this.Ii(f).next(v=>!!v||this.Ti(f)).next(v=>{if(!v)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Re(fe.FAILED_PRECONDITION,bB);return r(f)}).next(v=>this.Ai(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return lb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,OO)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lb(e).put("owner",t)}static D(){return Oa.D()}Ei(e){const t=lb(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Mt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lb(n){return ki(n,"owner")}function zI(n){return ki(n,"clientMetadata")}function PO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=dn(),i=dn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kO(e,t.fromCache,r,i)}}class gU{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(o=>o||this.Ki(e,t,i,r)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(XB(t))return ae.resolve(null);let r=ws(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=MI(t,null,"F"),r=ws(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dn(...o);return this.qi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Qi(t,f);return this.ji(t,v,u,m.readTime)?this.Ui(e,MI(t,null,"F")):this.zi(e,v,t,m)}))})))}Ki(e,t,r,i){return XB(t)||i.isEqual(Nt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(o=>{const u=this.Qi(t,o);return this.ji(t,u,r,i)?this.Gi(e,t):(Zx()<=Sa.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uO(t)),this.zi(e,u,t,yB(i,-1)))})}Qi(e,t){let r=new ur(nV(e));return t.forEach((i,o)=>{z0(e,o)&&(r=r.add(o))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,t){return Zx()<=Sa.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",uO(t)),this.qi.getDocumentsMatchingQuery(e,t,uo.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class zz{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new lr(rn),this.Ji=new iu(o=>pp(o),H0),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fU(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function mU(n,e,t,r){return new zz(n,e,t,r)}function _U(n,e){return FO.apply(this,arguments)}function FO(){return FO=(0,X.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let m=dn();for(const v of i){u.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of o){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({tr:v,removedBatchIds:u,addedBatchIds:f}))})})}),FO.apply(this,arguments)}function yU(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function vU(n,e,t){let r=dn(),i=dn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=$s();return t.forEach((f,m)=>{const v=o.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Nt.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{er:u,nr:i}})}function Zz(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c_(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(o=>o?(i=o,ae.resolve(i)):t.Fs.allocateTargetId(r).next(u=>(i=new ou(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function u_(n,e,t){return LO.apply(this,arguments)}function LO(){return LO=(0,X.Z)(function*(n,e,t){const r=lt(n),i=r.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!$d(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),LO.apply(this,arguments)}function WI(n,e,t){const r=lt(n);let i=Nt.min(),o=dn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,m,v){const C=lt(f),S=C.Ji.get(v);return void 0!==S?ae.resolve(C.Hi.get(S)):C.Fs.getTargetData(m,v)}(r,u,ws(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(u,f.targetId).next(m=>{o=m})}).next(()=>r.Wi.getDocumentsMatchingQuery(u,e,t?i:Nt.min(),t?o:dn())).next(f=>(DU(r,tV(e),f),{documents:f,sr:o})))}function bU(n,e){const t=lt(n),r=lt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.he(o,e).next(u=>u?u.target:null))}function wU(n,e){const t=lt(n),r=t.Yi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,yB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(DU(t,e,i),i))}function DU(n,e,t){let r=n.Yi.get(e)||Nt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Yi.set(e,r)}function BO(){return BO=(0,X.Z)(function*(n,e,t,r){const i=lt(n);let o=dn(),u=$s();for(const v of t){const C=e.ir(v.metadata.name);v.document&&(o=o.add(C));const S=e.rr(v);S.setReadTime(e.ur(v.metadata.readTime)),u=u.insert(C,S)}const f=i.Xi.newChangeBuffer({trackRemovals:!0}),m=yield c_(i,(v=r,ws(e_(Tn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>vU(v,f,u).next(C=>(f.apply(v),C)).next(C=>i.Fs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Fs.addMatchingKeys(v,o,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,C.er,C.nr)).next(()=>C.er)))}),BO.apply(this,arguments)}function Yz(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,X.Z)(function*(n,e,t=dn()){const r=yield c_(n,ws(CO(e.bundledQuery))),i=lt(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=ei(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ls.saveNamedQuery(o,e);const f=r.withResumeToken(bi.EMPTY_BYTE_STRING,u);return i.Hi=i.Hi.insert(f.targetId,f),i.Fs.updateTargetData(o,f).next(()=>i.Fs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Fs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(o,e))})}),VO.apply(this,arguments)}function CU(n,e){return`firestore_clients_${n}_${e}`}function IU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function UO(n,e){return`firestore_targets_${n}_${e}`}class qI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let o,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(o=new Re(i.error.code,i.error.message))),u?new qI(e,t,i.state,o):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Re(r.error.code,r.error.message))),o?new cb(e,r.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=dO();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=CB(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new ZI(e,o):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $O{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $O(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jO{constructor(){this.activeTargetIds=dO()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HO{constructor(e,t,r,i,o){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new lr(rn),this.started=!1,this.gr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=CU(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new jO),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const o=e.getItem(CU(e.persistenceKey,i));if(o){const u=ZI.cr(i,o);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(UO(this.persistenceKey,e));if(r){const i=cb.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UO(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(o){let u=ho.ct;if(null!=o)try{const f=JSON.parse(o);St("number"==typeof f),u=f}catch(f){Xr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==ho.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Gr(o)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new qI(this.currentUser,e,t,r),o=IU(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ar())}Dr(e){const t=IU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=UO(this.persistenceKey,e),o=new cb(e,t,r);this.setItem(i,o.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return ZI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return qI.cr(new Pi(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return cb.cr(i,t)}Pr(e){return $O.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),o=this.Vr(r),u=[],f=[];return o.forEach(m=>{i.has(m)||u.push(m)}),i.forEach(m=>{o.has(m)||f.push(m)}),this.syncEngine.zr(u,f).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=dO();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class EU{constructor(){this.Wr=new jO,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new jO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jz{Jr(e){}shutdown(){}}class TU{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let KI=null;function GO(){return null===KI?KI=268435456+Math.round(2147483648*Math.random()):KI++,"0x"+KI.toString(16)}const Qz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xz{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ls="WebChannelConnection";class e8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,o){const u=GO(),f=this.Io(e,t);Ue("RestConnection",`Sending RPC '${e}' ${u}:`,f,r);const m={};return this.To(m,i,o),this.Eo(e,f,m,r).then(v=>(Ue("RestConnection",`Received RPC '${e}' ${u}: `,v),v),v=>{throw Wo("RestConnection",`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",r),v})}Ao(e,t,r,i,o,u){return this.po(e,t,r,i,o)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,t){return`${this.wo}/v1/${t}:${Qz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const o=GO();return new Promise((u,f)=>{const m=new J4;m.setWithCredentials(!0),m.listenOnce(Z4.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case qx.NO_ERROR:const C=m.getResponseJson();Ue(ls,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(C)),u(C);break;case qx.TIMEOUT:Ue(ls,`RPC '${e}' ${o} timed out`),f(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case qx.HTTP_ERROR:const S=m.getStatus();if(Ue(ls,`RPC '${e}' ${o} failed with status:`,S,"response text:",m.getResponseText()),S>0){let F=m.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const J=function(ne){const de=ne.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(de)>=0?de:fe.UNKNOWN}(B.status);f(new Re(J,B.message))}else f(new Re(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ue(ls,`RPC '${e}' ${o} completed.`)}});const v=JSON.stringify(i);Ue(ls,`RPC '${e}' ${o} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=GO(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=W4(),f=q4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Y4({})),this.To(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=o.join("");Ue(ls,`Creating RPC '${e}' stream ${i}: ${v}`,m);const C=u.createWebChannel(v,m);let S=!1,F=!1;const B=new Xz({io:ne=>{F?Ue(ls,`Not sending because RPC '${e}' stream ${i} is closed:`,ne):(S||(Ue(ls,`Opening RPC '${e}' stream ${i} transport.`),C.open(),S=!0),Ue(ls,`RPC '${e}' stream ${i} sending:`,ne),C.send(ne))},ro:()=>C.close()}),J=(ne,de,Ee)=>{ne.listen(de,Ve=>{try{Ee(Ve)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return J(C,gI.EventType.OPEN,()=>{F||Ue(ls,`RPC '${e}' stream ${i} transport opened.`)}),J(C,gI.EventType.CLOSE,()=>{F||(F=!0,Ue(ls,`RPC '${e}' stream ${i} transport closed`),B.fo())}),J(C,gI.EventType.ERROR,ne=>{F||(F=!0,Wo(ls,`RPC '${e}' stream ${i} transport errored:`,ne),B.fo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),J(C,gI.EventType.MESSAGE,ne=>{var de;if(!F){const Ee=ne.data[0];St(!!Ee);const Xe=Ee.error||(null===(de=Ee[0])||void 0===de?void 0:de.error);if(Xe){Ue(ls,`RPC '${e}' stream ${i} received error:`,Xe);const ot=Xe.status;let ct=function(hn){const wn=ai[hn];if(void 0!==wn)return bV(wn)}(ot),wt=Xe.message;void 0===ct&&(ct=fe.INTERNAL,wt="Unknown error status: "+ot+" with message "+Xe.message),F=!0,B.fo(new Re(ct,wt)),C.close()}else Ue(ls,`RPC '${e}' stream ${i} received:`,Ee),B._o(Ee)}}),J(f,K4.STAT_EVENT,ne=>{ne.stat===hB.PROXY?Ue(ls,`RPC '${e}' stream ${i} detected buffering proxy`):ne.stat===hB.NOPROXY&&Ue(ls,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function AU(){return typeof window<"u"?window:null}function YI(){return typeof document<"u"?document:null}function ub(n){return new uz(n,!0)}class zO{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class SU{constructor(e,t,r,i,o,u,f,m){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new zO(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,X.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,X.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,X.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,X.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t8 extends SU{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function fz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:_t(),i=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(St(void 0===v||"string"==typeof v),bi.fromBase64String(v||"")):(St(void 0===v||v instanceof Uint8Array),bi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=void 0===m.code?fe.UNKNOWN:bV(m.code);return new Re(v,m.message||"")}(u);t=new EV(r,i,o,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ul(n,r.document.name),o=ei(r.document.updateTime),u=r.document.createTime?ei(r.document.createTime):Nt.min(),f=new qi({mapValue:{fields:r.document.fields}}),m=dr.newFoundDocument(i,o,u,f);t=new PI(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Ul(n,r.document),o=r.readTime?ei(r.readTime):Nt.min(),u=dr.newNoDocument(i,o);t=new PI([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Ul(n,r.document);t=new PI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,{count:i=0,unchangedNames:o}=r,u=new iz(i,o);t=new IV(r.targetId,u)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?ei(o.readTime):Nt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=eb(this.serializer),t.addTarget=function(i,o){let u;const f=o.target;if(u=TI(f)?{documents:kV(i,f)}:{query:DO(i,f)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=MV(i,o.resumeToken);const m=yO(i,o.expectedCount);null!==m&&(u.expectedCount=m)}else if(o.snapshotVersion.compareTo(Nt.min())>0){u.readTime=s_(i,o.snapshotVersion.toTimestamp());const m=yO(i,o.expectedCount);null!==m&&(u.expectedCount=m)}return u}(this.serializer,e);const r=function gz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=eb(this.serializer),t.removeTarget=e,this.zo(t)}}class n8 extends SU{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function pz(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,i){let o=ei(r.updateTime?r.updateTime:i);return o.isEqual(Nt.min())&&(o=ei(i)),new ez(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.uu(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=eb(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tb(this.serializer,r))};this.zo(t)}}class r8 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(fe.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ao(e,t,r,o,u,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(fe.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class s8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Xr(t),this.wu=!1):Ue("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class o8{constructor(e,t,r,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(f=>{r.enqueueAndForget((0,X.Z)(function*(){var m;Xd(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,X.Z)(function*(v){const C=lt(v);C.Au.add(4),yield d_(C),C.Pu.set("Unknown"),C.Au.delete(4),yield db(C)}),function(v){return m.apply(this,arguments)})(u))}))}),this.Pu=new s8(r,i)}}function db(n){return qO.apply(this,arguments)}function qO(){return qO=(0,X.Z)(function*(n){if(Xd(n))for(const e of n.Ru)yield e(!0)}),qO.apply(this,arguments)}function d_(n){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,X.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ZO.apply(this,arguments)}function JI(n,e){const t=lt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),JO(t)?YO(t):f_(t).Uo()&&KO(t,e))}function hb(n,e){const t=lt(n),r=f_(t);t.Eu.delete(e),r.Uo()&&MU(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():Xd(t)&&t.Pu.set("Unknown"))}function KO(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}f_(n).nu(e)}function MU(n,e){n.bu.Lt(e),f_(n).su(e)}function YO(n){n.bu=new oz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),f_(n).start(),n.Pu.mu()}function JO(n){return Xd(n)&&!f_(n).qo()&&n.Eu.size>0}function Xd(n){return 0===lt(n).Au.size}function NU(n){n.bu=void 0}function a8(n){return QO.apply(this,arguments)}function QO(){return QO=(0,X.Z)(function*(n){n.Eu.forEach((e,t)=>{KO(n,e)})}),QO.apply(this,arguments)}function l8(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,X.Z)(function*(n,e){NU(n),JO(n)?(n.Pu.pu(e),YO(n)):n.Pu.set("Unknown")}),XO.apply(this,arguments)}function c8(n,e,t){return eR.apply(this,arguments)}function eR(){return eR=(0,X.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof EV&&2===e.state&&e.cause)try{yield(r=(0,X.Z)(function*(i,o){const u=o.cause;for(const f of o.targetIds)i.Eu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Eu.delete(f),i.bu.removeTarget(f))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield QI(n,r)}else if(e instanceof PI?n.bu.Wt(e):e instanceof IV?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Nt.min()))try{const r=yield yU(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const u=i.bu.ue(o);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Eu.get(m);v&&i.Eu.set(m,v.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach((f,m)=>{const v=i.Eu.get(f);if(!v)return;i.Eu.set(f,v.withResumeToken(bi.EMPTY_BYTE_STRING,v.snapshotVersion)),MU(i,f);const C=new ou(v.target,f,m,v.sequenceNumber);KO(i,C)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield QI(n,r)}var r}),eR.apply(this,arguments)}function QI(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,X.Z)(function*(n,e,t){if(!$d(e))throw e;n.Au.add(1),yield d_(n),n.Pu.set("Offline"),t||(t=()=>yU(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield db(n)}))}),tR.apply(this,arguments)}function xU(n,e){return e().catch(t=>QI(n,t,e))}function h_(n){return nR.apply(this,arguments)}function nR(){return nR=(0,X.Z)(function*(n){const e=lt(n),t=eh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;u8(e);)try{const i=yield Zz(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,d8(e,i)}catch(i){yield QI(e,i)}OU(e)&&RU(e)}),nR.apply(this,arguments)}function u8(n){return Xd(n)&&n.Tu.length<10}function d8(n,e){n.Tu.push(e);const t=eh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function OU(n){return Xd(n)&&!eh(n).qo()&&n.Tu.length>0}function RU(n){eh(n).start()}function h8(n){return rR.apply(this,arguments)}function rR(){return rR=(0,X.Z)(function*(n){eh(n).au()}),rR.apply(this,arguments)}function f8(n){return iR.apply(this,arguments)}function iR(){return iR=(0,X.Z)(function*(n){const e=eh(n);for(const t of n.Tu)e.ou(t.mutations)}),iR.apply(this,arguments)}function p8(n,e,t){return sR.apply(this,arguments)}function sR(){return sR=(0,X.Z)(function*(n,e,t){const r=n.Tu.shift(),i=pO.from(r,e,t);yield xU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield h_(n)}),sR.apply(this,arguments)}function g8(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,X.Z)(function*(n,e){var t;e&&eh(n).ru&&(yield(t=(0,X.Z)(function*(r,i){if(vV(o=i.code)&&o!==fe.ABORTED){const u=r.Tu.shift();eh(r).Go(),yield xU(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield h_(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),OU(n)&&RU(n)}),oR.apply(this,arguments)}function PU(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,X.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Xd(t);t.Au.add(3),yield d_(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield db(t)}),aR.apply(this,arguments)}function lR(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,X.Z)(function*(n,e){const t=lt(n);e?(t.Au.delete(2),yield db(t)):e||(t.Au.add(2),yield d_(t),t.Pu.set("Unknown"))}),cR.apply(this,arguments)}function f_(n){return n.Vu||(n.Vu=function(e,t,r){const i=lt(e);return i.lu(),new t8(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:a8.bind(null,n),co:l8.bind(null,n),eu:c8.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Vu.Go(),JO(n)?YO(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),NU(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function eh(n){return n.Su||(n.Su=function(e,t,r){const i=lt(e);return i.lu(),new n8(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:h8.bind(null,n),co:g8.bind(null,n),cu:f8.bind(null,n),uu:p8.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Su.Go(),yield h_(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class uR{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,f=new uR(e,t,u,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),$d(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class g_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||st.comparator(t.key,r.key):(t,r)=>st.comparator(t.key,r.key),this.keyedMap=W0(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new g_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof g_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new g_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kU{constructor(){this.Du=new lr(st.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):_t():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class m_{constructor(e,t,r,i,o,u,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new m_(e,t,g_.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class m8{constructor(){this.xu=void 0,this.listeners=[]}}class _8{constructor(){this.queries=new iu(e=>eV(e),G0),this.onlineState="Unknown",this.Nu=new Set}}function dR(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,X.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new m8),i)try{o.xu=yield t.onListen(r)}catch(u){const f=p_(u,`Initialization of query '${uO(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&gR(t)}),hR.apply(this,arguments)}function fR(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,X.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pR.apply(this,arguments)}function y8(n,e){const t=lt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Mu(i)&&(r=!0);u.xu=i}}r&&gR(t)}function v8(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function gR(n){n.Nu.forEach(e=>{e.next()})}class mR{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new m_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=m_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class b8{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class FU{constructor(e){this.serializer=e}ir(e){return Ul(this.serializer,e)}rr(e){return e.metadata.exists?PV(this.serializer,e.document,!1):dr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return ei(e)}}class w8{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LU(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=Tn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new FU(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ir(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||dn()).add(o);t.set(u,f)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function Kz(n,e,t,r){return BO.apply(this,arguments)}(e.localStore,new FU(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield Yz(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function LU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BU{constructor(e){this.key=e}}class VU{constructor(e){this.key=e}}class UU{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=dn(),this.mutatedKeys=dn(),this.Zu=nV(e),this.tc=new g_(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new kU,i=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,S)=>{const F=i.get(C),B=z0(this.query,S)?S:null,J=!!F&&this.mutatedKeys.has(F.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let de=!1;F&&B?F.data.isEqual(B.data)?J!==ne&&(r.track({type:3,doc:B}),de=!0):this.ic(F,B)||(r.track({type:2,doc:B}),de=!0,(m&&this.Zu(B,m)>0||v&&this.Zu(B,v)<0)&&(f=!0)):!F&&B?(r.track({type:0,doc:B}),de=!0):F&&!B&&(r.track({type:1,doc:F}),de=!0,(m||v)&&(f=!0)),de&&(B?(u=u.add(B),o=ne?o.add(C):o.delete(C)):(u=u.delete(C),o=o.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),o=o.delete(C.key),r.track({type:1,doc:C})}return{tc:u,sc:r,ji:f,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((v,C)=>function(S,F){const B=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return B(S)-B(F)}(v.type,C.type)||this.Zu(v.doc,C.doc)),this.rc(r);const u=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,m=f!==this.Yu;return this.Yu=f,0!==o.length||m?{snapshot:new m_(this.query,e.tc,i,o,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new kU,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=dn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new VU(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new BU(r))}),t}ac(e){this.Ju=e.sr,this.Xu=dn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return m_.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class D8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class C8{constructor(e){this.key=e,this.lc=!1}}class I8{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new iu(f=>eV(f),G0),this._c=new Map,this.wc=new Set,this.mc=new lr(st.comparator),this.gc=new Map,this.yc=new NO,this.Ic={},this.Tc=new Map,this.Ec=Cp.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function E8(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,X.Z)(function*(n,e){const t=UR(n);let r,i;const o=t.dc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const u=yield c_(t.localStore,ws(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield yR(t,e,r,"current"===f,u.resumeToken),t.isPrimaryClient&&JI(t.remoteStore,u)}return i}),_R.apply(this,arguments)}function yR(n,e,t,r,i){return vR.apply(this,arguments)}function vR(){return vR=(0,X.Z)(function*(n,e,t,r,i){n.Rc=(S,F,B)=>{return(J=(0,X.Z)(function*(ne,de,Ee,Ve){let Xe=de.view.nc(Ee);Xe.ji&&(Xe=yield WI(ne.localStore,de.query,!1).then(({documents:wt})=>de.view.nc(wt,Xe)));const ot=Ve&&Ve.targetChanges.get(de.targetId),ct=de.view.applyChanges(Xe,ne.isPrimaryClient,ot);return MR(ne,de.targetId,ct.uc),ct.snapshot}),function(ne,de,Ee,Ve){return J.apply(this,arguments)})(n,S,F,B);var J};const o=yield WI(n.localStore,e,!0),u=new UU(e,o.sr),f=u.nc(o.documents),m=Q0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=u.applyChanges(f,n.isPrimaryClient,m);MR(n,t,v.uc);const C=new D8(e,t,u);return n.dc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),vR.apply(this,arguments)}function T8(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,X.Z)(function*(n,e){const t=lt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!G0(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield u_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),hb(t.remoteStore,r.targetId),__(t,r.targetId)}).catch(Ud))):(__(t,r.targetId),yield u_(t.localStore,r.targetId,!0))}),bR.apply(this,arguments)}function wR(){return wR=(0,X.Z)(function*(n,e,t){const r=$R(n);try{const i=yield function(o,u){const f=lt(o),m=vr.now(),v=u.reduce((F,B)=>F.add(B.key),dn());let C,S;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=$s(),J=dn();return f.Xi.getEntries(F,v).next(ne=>{B=ne,B.forEach((de,Ee)=>{Ee.isValidDocument()||(J=J.add(de))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(ne=>{C=ne;const de=[];for(const Ee of u){const Ve=nz(Ee,C.get(Ee.key).overlayedDocument);null!=Ve&&de.push(new su(Ee.key,Ve,UB(Ve.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(F,m,de,u)}).next(ne=>{S=ne;const de=ne.applyToLocalDocumentSet(C,J);return f.documentOverlayCache.saveOverlays(F,ne.batchId,de)})}).then(()=>({batchId:S.batchId,changes:iV(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,f){let m=o.Ic[o.currentUser.toKey()];m||(m=new lr(rn)),m=m.insert(u,f),o.Ic[o.currentUser.toKey()]=m}(r,i.batchId,t),yield au(r,i.changes),yield h_(r.remoteStore)}catch(i){const o=p_(i,"Failed to persist write");t.reject(o)}}),wR.apply(this,arguments)}function $U(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,X.Z)(function*(n,e){const t=lt(n);try{const r=yield function qz(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const f=[];e.targetChanges.forEach((C,S)=>{const F=i.get(S);if(!F)return;f.push(t.Fs.removeMatchingKeys(o,C.removedDocuments,S).next(()=>t.Fs.addMatchingKeys(o,C.addedDocuments,S)));let B=F.withSequenceNumber(o.currentSequenceNumber);var J,ne,de;null!==e.targetMismatches.get(S)?B=B.withResumeToken(bi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,r)),i=i.insert(S,B),ne=B,de=C,(0===(J=F).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(o,B))});let m=$s(),v=dn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,C))}),f.push(vU(o,u,e.documentUpdates).next(C=>{m=C.er,v=C.nr})),!r.isEqual(Nt.min())){const C=t.Fs.getLastRemoteSnapshotVersion(o).next(S=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(C)}return ae.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(t.Hi=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.gc.get(o);u&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.lc=!0:i.modifiedDocuments.size>0?St(u.lc):i.removedDocuments.size>0&&(St(u.lc),u.lc=!1))}),yield au(t,r,e)}catch(r){yield Ud(r)}}),DR.apply(this,arguments)}function jU(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((o,u)=>{const f=u.view.ku(e);f.snapshot&&i.push(f.snapshot)}),function(o,u){const f=lt(o);f.onlineState=u;let m=!1;f.queries.forEach((v,C)=>{for(const S of C.listeners)S.ku(u)&&(m=!0)}),m&&gR(f)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function S8(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=(0,X.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),o=i&&i.key;if(o){let u=new lr(st.comparator);u=u.insert(o,dr.newNoDocument(o,Nt.min()));const f=dn().add(o),m=new J0(Nt.min(),new Map,new lr(rn),u,f);yield $U(r,m),r.mc=r.mc.remove(o),r.gc.delete(e),NR(r)}else yield u_(r.localStore,e,!1).then(()=>__(r,e,t)).catch(Ud)}),CR.apply(this,arguments)}function M8(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,X.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const i=yield function Wz(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,f,m,v){const C=m.batch,S=C.keys();let F=ae.resolve();return S.forEach(B=>{F=F.next(()=>v.getEntry(f,B)).next(J=>{const ne=m.docVersions.get(B);St(null!==ne),J.version.compareTo(ne)<0&&(C.applyToRemoteDocument(J,m),J.isValidDocument()&&(J.setReadTime(m.commitVersion),v.addEntry(J)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=dn();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);SR(t,r,null),AR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield au(t,i)}catch(i){yield Ud(i)}}),IR.apply(this,arguments)}function N8(n,e,t){return ER.apply(this,arguments)}function ER(){return ER=(0,X.Z)(function*(n,e,t){const r=lt(n);try{const i=yield function(o,u){const f=lt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,u).next(C=>(St(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);SR(r,e,t),AR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield au(r,i)}catch(i){yield Ud(i)}}),ER.apply(this,arguments)}function TR(){return TR=(0,X.Z)(function*(n,e){const t=lt(n);Xd(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const u=lt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=p_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),TR.apply(this,arguments)}function AR(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function SR(n,e,t){const r=lt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function __(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||HU(n,r)})}function HU(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(hb(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),NR(n))}function MR(n,e,t){for(const r of t)r instanceof BU?(n.yc.addReference(r.key,e),O8(n,r)):r instanceof VU?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||HU(n,r.key)):_t()}function O8(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.wc.add(r),NR(n))}function NR(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new st(Tn.fromString(e)),r=n.Ec.next();n.gc.set(r,new C8(t)),n.mc=n.mc.insert(t,r),JI(n.remoteStore,new ou(ws(e_(t.path)),r,"TargetPurposeLimboResolution",ho.ct))}}function au(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=(0,X.Z)(function*(n,e,t){const r=lt(n),i=[],o=[],u=[];var f;r.dc.isEmpty()||(r.dc.forEach((f,m)=>{u.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=kO.Bi(m.targetId,v);o.push(C)}}))}),yield Promise.all(u),r.fc.eu(i),yield(f=(0,X.Z)(function*(m,v){const C=lt(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(v,F=>ae.forEach(F.$i,B=>C.persistence.referenceDelegate.addReference(S,F.targetId,B)).next(()=>ae.forEach(F.Fi,B=>C.persistence.referenceDelegate.removeReference(S,F.targetId,B)))))}catch(S){if(!$d(S))throw S;Ue("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const F=S.targetId;if(!S.fromCache){const B=C.Hi.get(F),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Hi=C.Hi.insert(F,ne)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,o))}),xR.apply(this,arguments)}function R8(n,e){return OR.apply(this,arguments)}function OR(){return OR=(0,X.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield _U(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(u=>{u.forEach(f=>{f.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield au(t,r.tr)}var i}),OR.apply(this,arguments)}function P8(n,e){const t=lt(n),r=t.gc.get(e);if(r&&r.lc)return dn().add(r.key);{let i=dn();const o=t._c.get(e);if(!o)return i;for(const u of o){const f=t.dc.get(u);i=i.unionWith(f.view.ec)}return i}}function k8(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,X.Z)(function*(n,e){const t=lt(n),r=yield WI(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&MR(t,e.targetId,i.uc),i}),RR.apply(this,arguments)}function F8(n,e){return PR.apply(this,arguments)}function PR(){return PR=(0,X.Z)(function*(n,e){const t=lt(n);return wU(t.localStore,e).then(r=>au(t,r))}),PR.apply(this,arguments)}function L8(n,e,t,r){return kR.apply(this,arguments)}function kR(){return kR=(0,X.Z)(function*(n,e,t,r){const i=lt(n),o=yield function(u,f){const m=lt(u),v=lt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Vn(C,f).next(S=>S?m.localDocuments.getDocuments(C,S):ae.resolve(null)))}(i.localStore,e);var f;null!==o?("pending"===t?yield h_(i.remoteStore):"acknowledged"===t||"rejected"===t?(SR(i,e,r||null),AR(i,e),f=e,lt(lt(i.localStore).mutationQueue).Dn(f)):_t(),yield au(i,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),kR.apply(this,arguments)}function FR(){return FR=(0,X.Z)(function*(n,e){const t=lt(n);if(UR(t),$R(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield GU(t,r.toArray());t.Ac=!0,yield lR(t.remoteStore,!0);for(const o of i)JI(t.remoteStore,o)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(__(t,u),u_(t.localStore,u,!0))),hb(t.remoteStore,u)}),yield i,yield GU(t,r),function(o){const u=lt(o);u.gc.forEach((f,m)=>{hb(u.remoteStore,m)}),u.yc.Is(),u.gc=new Map,u.mc=new lr(st.comparator)}(t),t.Ac=!1,yield lR(t.remoteStore,!1)}}),FR.apply(this,arguments)}function GU(n,e,t){return LR.apply(this,arguments)}function LR(){return LR=(0,X.Z)(function*(n,e,t){const r=lt(n),i=[],o=[];for(const u of e){let f;const m=r._c.get(u);if(m&&0!==m.length){f=yield c_(r.localStore,ws(m[0]));for(const v of m){const C=r.dc.get(v),S=yield k8(r,C);S.snapshot&&o.push(S.snapshot)}}else{const v=yield bU(r.localStore,u);f=yield c_(r.localStore,v),yield yR(r,zU(v),u,!1,f.resumeToken)}i.push(f)}return r.fc.eu(o),i}),LR.apply(this,arguments)}function zU(n){return QB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function V8(n){const e=lt(n);return lt(lt(e.localStore).persistence).Mi()}function U8(n,e,t,r){return BR.apply(this,arguments)}function BR(){return BR=(0,X.Z)(function*(n,e,t,r){const i=lt(n);if(i.Ac)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield wU(i.localStore,tV(o[0])),f=J0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bi.EMPTY_BYTE_STRING);yield au(i,u,f);break}case"rejected":yield u_(i.localStore,e,!0),__(i,e,r);break;default:_t()}}),BR.apply(this,arguments)}function $8(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,X.Z)(function*(n,e,t){const r=UR(n);if(r.Ac){for(const i of e){if(r._c.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const o=yield bU(r.localStore,i),u=yield c_(r.localStore,o);yield yR(r,zU(o),u.targetId,!1,u.resumeToken),JI(r.remoteStore,u)}for(const i of t)r._c.has(i)&&(yield u_(r.localStore,i,!1).then(()=>{hb(r.remoteStore,i),__(r,i)}).catch(Ud))}}),VR.apply(this,arguments)}function UR(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$U.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S8.bind(null,e),e.fc.eu=y8.bind(null,e.eventManager),e.fc.vc=v8.bind(null,e.eventManager),e}function $R(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N8.bind(null,e),e}class fb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=ub(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mU(this.persistence,new gU,e.initialUser,this.serializer)}createPersistence(e){return new xO(HI.js,this.serializer)}createSharedClientState(e){return new EU}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jR extends fb{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield $R(r.bc.syncEngine),yield h_(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return mU(this.persistence,new gU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new oU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new p5(t,this.persistence);return new f5(e.asyncQueue,r)}createPersistence(e){const t=PO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new RO(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AU(),YI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new EU}}class WU extends jR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof HO&&(r.sharedClientState.syncEngine={Qr:L8.bind(null,i),jr:U8.bind(null,i),zr:$8.bind(null,i),Mi:V8.bind(null,i),Gr:F8.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var o=(0,X.Z)(function*(u){yield function B8(n,e){return FR.apply(this,arguments)}(r.bc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=AU();if(!HO.D(t))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=PO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new HO(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class y_{initialize(e,t){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=R8.bind(null,r.syncEngine),yield lR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _8}createDatastore(e){const t=ub(e.databaseInfo.databaseId),r=new e8(e.databaseInfo);return new r8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=f=>jU(this.syncEngine,f,0),u=TU.D()?new TU:new Jz,new o8(t,r,i,o,u);var t,r,i,o,u}createSyncEngine(e,t){return function(r,i,o,u,f,m,v){const C=new I8(r,i,o,u,f,m);return v&&(C.Ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const r=lt(t);Ue("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield d_(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qU(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class XI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class G8{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new vi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const o=yield e.Mc(i);return new b8(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,X.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,X.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class z8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,X.Z)(function*(o,u){const f=lt(o),m=eb(f.serializer)+"/documents",v={documents:u.map(B=>X0(f.serializer,B))},C=yield f.Ao("BatchGetDocuments",m,v,u.length),S=new Map;C.forEach(B=>{const J=function hz(n,e){return"found"in e?function(t,r){St(!!r.found);const i=Ul(t,r.found.name),o=ei(r.found.updateTime),u=r.found.createTime?ei(r.found.createTime):Nt.min(),f=new qi({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(i,o,u,f)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const i=Ul(t,r.missing),o=ei(r.readTime);return dr.newNoDocument(i,o)}(n,e):_t()}(f.serializer,B);S.set(J.key.toString(),J)});const F=[];return u.forEach(B=>{const J=S.get(B.toString());St(!!J),F.push(J)}),F}),function(o,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new i_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=st.fromPath(i);e.mutations.push(new hO(o,e.precondition(o)))}),yield(r=(0,X.Z)(function*(i,o){const u=lt(i),f=eb(u.serializer)+"/documents",m={writes:o.map(v=>tb(u.serializer,v))};yield u.po("Commit",f,m)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class W8{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Fc=r.maxAttempts,this.Lo=new zO(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,X.Z)(function*(){const t=new z8(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.qc(o)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!L0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vV(t)}return!1}}class q8{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=mB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,X.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=p_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eE(n,e){return HR.apply(this,arguments)}function HR(){return HR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,X.Z)(function*(o){r.isEqual(o)||(yield _U(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),HR.apply(this,arguments)}function GR(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WR(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>PU(e.remoteStore,o)),n._onlineComponents=e}),zR.apply(this,arguments)}function ZU(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function WR(n){return qR.apply(this,arguments)}function qR(){return qR=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ZU(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),yield eE(n,new fb)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield eE(n,new fb);return n._offlineComponents}),qR.apply(this,arguments)}function tE(n){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield GR(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield GR(n,new y_))),n._onlineComponents}),ZR.apply(this,arguments)}function KU(n){return WR(n).then(e=>e.persistence)}function nE(n){return WR(n).then(e=>e.localStore)}function YU(n){return tE(n).then(e=>e.remoteStore)}function KR(n){return tE(n).then(e=>e.syncEngine)}function v_(n){return YR.apply(this,arguments)}function YR(){return YR=(0,X.Z)(function*(n){const e=yield tE(n),t=e.eventManager;return t.onListen=E8.bind(null,e.syncEngine),t.onUnlisten=T8.bind(null,e.syncEngine),t}),YR.apply(this,arguments)}function QU(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,o,u,f,m){const v=new XI({next:S=>{o.enqueueAndForget(()=>fR(i,C));const F=S.docs.has(u);!F&&S.fromCache?m.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&f&&"server"===f.source?m.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),C=new mR(e_(u.path),v,{includeMetadataChanges:!0,Uu:!0});return dR(i,C)}(yield v_(n),n.asyncQueue,e,t,r)})),r.promise}function XU(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,o,u,f,m){const v=new XI({next:S=>{o.enqueueAndForget(()=>fR(i,C)),S.fromCache&&"server"===f.source?m.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),C=new mR(u,v,{includeMetadataChanges:!0,Uu:!0});return dR(i,C)}(yield v_(n),n.asyncQueue,e,t,r)})),r.promise}const e$=new Map;function JR(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t$(n,e,t,r){if(!0===e&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n$(n){if(!st.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r$(n){if(st.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rE(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function i$(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class s${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new t5;switch(t.type){case"firstParty":return new s5(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=e$.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),e$.delete(e),t.terminate())}(this),Promise.resolve()}}function o$(n,e,t,r={}){var i;const o=(n=Cn(n,pb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Wo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Pi.MOCK_USER;else{u=(0,Mt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pi(m)}n._authCredentials=new n5(new pB(u,f))}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class $l extends Zi{constructor(e,t,r){super(e,t,e_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new st(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function a$(n,e,...t){if(n=(0,Mt.m9)(n),JR("collection","path",e),n instanceof pb){const r=Tn.fromString(e,...t);return r$(r),new $l(n,null,r)}{if(!(n instanceof hr||n instanceof $l))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return r$(r),new $l(n.firestore,null,r)}}function iE(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=mB.A()),JR("doc","path",e),n instanceof pb){const r=Tn.fromString(e,...t);return n$(r),new hr(n,null,new st(r))}{if(!(n instanceof hr||n instanceof $l))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return n$(r),new hr(n.firestore,n instanceof $l?n.converter:null,new st(r))}}function l$(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof hr||n instanceof $l)&&(e instanceof hr||e instanceof $l)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QR(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&G0(n._query,e._query)&&n.converter===e.converter}class r7{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new zO(this,"async_queue_retry"),this.Yc=()=>{const t=YI();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=YI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=YI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new vi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,X.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!$d(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=uR.createAndSchedule(this,e,t,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&_t()}verifyOperationInProgress(){}na(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function XR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class i7{constructor(){this._progressObserver={},this._taskCompletionResolver=new vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends pb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new r7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c$(this),this._firestoreClient.terminate()}}function o7(n,e){const t="object"==typeof n?n:(0,bn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,bn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,Mt.P0)("firestore");o&&o$(i,...o)}return i}function ti(n){return n._firestoreClient||c$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function c$(n){var e,t,r;const i=n._freezeSettings(),o=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new k5(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var f,v;n._firestoreClient=new q8(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function u$(n,e,t){const r=new vi;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield eE(n,t),yield GR(n,e),r.resolve()}catch(i){const o=i;if(!ZU(o))throw o;Wo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function d$(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(bi.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._methodName=e}}class sE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const m7=/^__.*__$/;class _7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new su(e,this.data,this.fieldMask,t,this.fieldTransforms):new r_(e,this.data,t,this.fieldTransforms)}}class h${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new su(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class oE{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new oE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return cE(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(f$(this.ua)&&m7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class y7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ub(e)}ga(e,t,r,i=!1){return new oE({ua:e,methodName:t,ma:r,path:Hr.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tp(n){const e=n._freezeSettings(),t=ub(n._databaseId);return new y7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aE(n,e,t,r,i,o={}){const u=n.ga(o.merge||o.mergeFields?2:0,e,t,i);rP("Data must be an object, but it was:",u,r);const f=m$(r,u);let m,v;if(o.merge)m=new Us(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const C=[];for(const S of o.mergeFields){const F=_b(e,S,t);if(!u.contains(F))throw new Re(fe.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);y$(C,F)||C.push(F)}m=new Us(C),v=u.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,v=u.fieldTransforms;return new _7(new qi(f),m,v)}class mb extends Ep{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mb}}function p$(n,e,t){return new oE({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eP extends Ep{_toFieldTransform(e){return new Z0(e.path,new t_)}isEqual(e){return e instanceof eP}}class v7 extends Ep{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=p$(this,e,!0),r=this.ya.map(o=>Ap(o,t)),i=new mp(r);return new Z0(e.path,i)}isEqual(e){return this===e}}class b7 extends Ep{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=p$(this,e,!0),r=this.ya.map(o=>Ap(o,t)),i=new _p(r);return new Z0(e.path,i)}isEqual(e){return this===e}}class w7 extends Ep{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new n_(e.serializer,lV(e.serializer,this.pa));return new Z0(e.path,t)}isEqual(e){return this===e}}function tP(n,e,t,r){const i=n.ga(1,e,t);rP("Data must be an object, but it was:",i,r);const o=[],u=qi.empty();jd(r,(m,v)=>{const C=lE(e,m,t);v=(0,Mt.m9)(v);const S=i.fa(C);if(v instanceof mb)o.push(C);else{const F=Ap(v,S);null!=F&&(o.push(C),u.set(C,F))}});const f=new Us(o);return new h$(u,f,i.fieldTransforms)}function nP(n,e,t,r,i,o){const u=n.ga(1,e,t),f=[_b(e,r,t)],m=[i];if(o.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)f.push(_b(e,o[F])),m.push(o[F+1]);const v=[],C=qi.empty();for(let F=f.length-1;F>=0;--F)if(!y$(v,f[F])){const B=f[F];let J=m[F];J=(0,Mt.m9)(J);const ne=u.fa(B);if(J instanceof mb)v.push(B);else{const de=Ap(J,ne);null!=de&&(v.push(B),C.set(B,de))}}const S=new Us(v);return new h$(C,S,u.fieldTransforms)}function g$(n,e,t,r=!1){return Ap(t,n.ga(r?4:3,e))}function Ap(n,e){if(_$(n=(0,Mt.m9)(n)))return rP("Unsupported field value:",e,n),m$(n,e);if(n instanceof Ep)return function(t,r){if(!f$(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const u of t){let f=Ap(u,r.da(o));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lV(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=vr.fromDate(t);return{timestampValue:s_(r.serializer,i)}}if(t instanceof vr){const i=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:s_(r.serializer,i)}}if(t instanceof sE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:MV(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vO(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${rE(t)}`)}(n,e)}function m$(n,e){const t={};return xB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jd(n,(r,i)=>{const o=Ap(i,e.aa(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function _$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof sE||n instanceof jl||n instanceof hr||n instanceof Ep)}function rP(n,e,t){if(!_$(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function _b(n,e,t){if((e=(0,Mt.m9)(e))instanceof lu)return e._internalPath;if("string"==typeof e)return lE(n,e);throw cE("Field path arguments must be of type string or ",n,!1,void 0,t)}const D7=new RegExp("[~\\*/\\[\\]]");function lE(n,e,t){if(e.search(D7)>=0)throw cE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lu(...e.split("."))._internalPath}catch{throw cE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cE(n,e,t,r,i){const o=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Re(fe.INVALID_ARGUMENT,f+n+m)}function y$(n,e){return n.some(t=>t.isEqual(e))}class yb{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new C7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class C7 extends yb{data(){return super.data()}}function uE(n,e){return"string"==typeof e?lE(n,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function v$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iP{}class vb extends iP{}function th(n,e,...t){let r=[];e instanceof iP&&r.push(e),r=r.concat(t),function(i){const o=i.filter(f=>f instanceof b_).length,u=i.filter(f=>f instanceof bb).length;if(o>1||o>0&&u>0)throw new Re(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class bb extends vb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bb(e,t,r)}_apply(e){const t=this._parse(e);return C$(e._query,t),new Zi(e.firestore,e.converter,cO(e._query,t))}_parse(e){const t=Tp(e.firestore);return function(i,o,u,f,m,v,C){let S;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){D$(C,v);const F=[];for(const B of C)F.push(w$(f,i,B));S={arrayValue:{values:F}}}else S=w$(f,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||D$(C,v),S=g$(u,"where",C,"in"===v||"not-in"===v);return Dn.create(m,v,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class b_ extends iP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const u=i.getFlattenedFilters();for(const f of u)C$(o,f),o=cO(o,f)}(e._query,t),new Zi(e.firestore,e.converter,cO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sP extends vb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sP(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Qm(i,o);return function(f,m){if(null===aO(f)){const v=SI(f);null!==v&&I$(0,v,m.field)}}(r,u),u}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new ru(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class dE extends vb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dE(e,t,r)}_apply(e){return new Zi(e.firestore,e.converter,MI(e._query,this._limit,this._limitType))}}class hE extends vb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hE(e,t,r)}_apply(e){const t=b$(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(i=t,new ru((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class fE extends vb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fE(e,t,r)}_apply(e){const t=b$(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(i=t,new ru((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function b$(n,e,t,r){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof yb)return function(i,o,u,f,m){if(!f)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const C of gp(i))if(C.field.isKeyField())v.push(fp(o,f.key));else{const S=f.data.field(C.field);if(wI(S))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const F=C.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}v.push(S)}return new Zd(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Tp(n.firestore);return function(o,u,f,m,v,C){const S=o.explicitOrderBy;if(v.length>S.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<v.length;B++){const J=v[B];if(S[B].field.isKeyField()){if("string"!=typeof J)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof J}`);if(!lO(o)&&-1!==J.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${J}' contains a slash.`);const ne=o.path.child(Tn.fromString(J));if(!st.isDocumentKey(ne))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const de=new st(ne);F.push(fp(u,de))}else{const ne=g$(f,m,J);F.push(ne)}}return new Zd(F,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function w$(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lO(e)&&-1!==t.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!st.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fp(n,new st(r))}if(t instanceof hr)return fp(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rE(t)}.`)}function D$(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C$(n,e){if(e.isInequality()){const r=SI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=aO(n);null!==o&&I$(0,i,o)}const t=function(r,i){for(const o of r)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function I$(n,e,t){if(!t.isEqual(e))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oP{convertValue(e,t="none"){switch(Wd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return jd(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new sE(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(V0(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);St(VV(r));const i=new Gd(r.get(1),r.get(3)),o=new st(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function pE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class O7 extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cu extends yb{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wb extends cu{data(e={}){return super.data(e)}}class nh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wb(this._firestore,this._userDataWriter,r.key,r,new Sp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new wb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new wb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:P7(u.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function T$(n,e){return n instanceof cu&&e instanceof cu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nh&&e instanceof nh&&n._firestore===e._firestore&&QR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class rh extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function A$(n,e,t){n=Cn(n,hr);const r=Cn(n.firestore,fr),i=pE(n.converter,e,t);return w_(r,[aE(Tp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,br.none())])}function S$(n,e,t,...r){n=Cn(n,hr);const i=Cn(n.firestore,fr),o=Tp(i);let u;return u="string"==typeof(e=(0,Mt.m9)(e))||e instanceof lu?nP(o,"updateDoc",n._key,e,t,r):tP(o,"updateDoc",n._key,e),w_(i,[u.toMutation(n._key,br.exists(!0))])}function M$(n,...e){var t,r,i;n=(0,Mt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||XR(e[u])||(o=e[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges};if(XR(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let m,v,C;if(n instanceof hr)v=Cn(n.firestore,fr),C=e_(n._key.path),m={next:S=>{e[u]&&e[u](aP(v,n,S))},error:e[u+1],complete:e[u+2]};else{const S=Cn(n,Zi);v=Cn(S.firestore,fr),C=S._query;const F=new rh(v);m={next:B=>{e[u]&&e[u](new nh(v,F,S,B))},error:e[u+1],complete:e[u+2]},v$(n._query)}return function(S,F,B,J){const ne=new XI(J),de=new mR(F,ne,B);return S.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return dR(yield v_(S),de)})),()=>{ne.Sc(),S.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return fR(yield v_(S),de)}))}}(ti(v),C,f,m)}function w_(n,e){return function(t,r){const i=new vi;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function A8(n,e,t){return wR.apply(this,arguments)}(yield KR(t),r,i)})),i.promise}(ti(n),e)}function aP(n,e,t){const r=t.docs.get(e._key),i=new rh(n);return new cu(n,i,e._key,r,new Sp(t.hasPendingWrites,t.fromCache),e.converter)}const Q7={maxAttempts:5};class N${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tp(e)}set(e,t,r){this._verifyNotCommitted();const i=ih(e,this._firestore),o=pE(i.converter,t,r),u=aE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,br.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=ih(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof lu?nP(this._dataReader,"WriteBatch.update",o._key,t,r,i):tP(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ih(e,this._firestore);return this._mutations=this._mutations.concat(new i_(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ih(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class X7 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tp(e)}get(e){const t=ih(e,this._firestore),r=new O7(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const o=i[0];if(o.isFoundDocument())return new yb(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new yb(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=ih(e,this._firestore),o=pE(i.converter,t,r),u=aE(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=ih(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof lu?nP(this._dataReader,"Transaction.update",o._key,t,r,i):tP(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ih(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ih(e,this._firestore),r=new rh(this._firestore);return super.get(e).then(i=>new cu(this._firestore,r,t._key,i._document,new Sp(!1,!1),t.converter))}}!function(n,e=!0){Zm=bn.SDK_VERSION,(0,bn._registerComponent)(new Aa.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),u=new fr(new r5(t.getProvider("auth-internal")),new o5(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gd(f.options.projectId,m)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,bn.registerVersion)(fB,"3.11.0",n),(0,bn.registerVersion)(fB,"3.11.0","esm2017")}();function lP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function O$(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function R$(){if(!function R5(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Db{constructor(e){this._delegate=e}static fromBase64String(e){return R$(),new Db(jl.fromBase64String(e))}static fromUint8Array(e){return O$(),new Db(jl.fromUint8Array(e))}toBase64(){return R$(),this._delegate.toBase64()}toUint8Array(){return O$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cP(n){return function lW(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class cW{enableIndexedDbPersistence(e,t){return function a7(n,e){d$(n=Cn(n,fr));const t=ti(n);if(t._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Wo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new y_;return u$(t,i,new jR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function l7(n){d$(n=Cn(n,fr));const e=ti(n);if(e._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Wo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new y_;return u$(e,r,new WU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function c7(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!Oa.D())return Promise.resolve();const i=r+"main";yield Oa.delete(i)}),function(r){return t.apply(this,arguments)})(PO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class P${constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){o$(this._delegate,e,t,r)}enableNetwork(){return function d7(n){return function Z8(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield KU(n),t=yield YU(n);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i.Au.delete(0),db(i)}(t)}))}(ti(n=Cn(n,fr)))}(this._delegate)}disableNetwork(){return function h7(n){return function K8(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield KU(n),t=yield YU(n);return e.setNetworkEnabled(!1),(r=(0,X.Z)(function*(i){const o=lt(i);o.Au.add(0),yield d_(o),o.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ti(n=Cn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,t$("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function u7(n){return function(e){const t=new vi;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function x8(n,e){return TR.apply(this,arguments)}(yield KR(e),t)})),t.promise}(ti(n=Cn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function H7(n,e){return function Q8(n,e){const t=new XI(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield v_(n),i=t,lt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield v_(n),i=t,void lt(r).Nu.delete(i);var r,i}))}}(ti(n=Cn(n,fr)),XR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new D_(this,a$(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new qo(this,iE(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function n7(n,e){if(n=Cn(n,pb),JR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(t=e,new ru(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eW(n,e,t){n=Cn(n,fr);const r=Object.assign(Object.assign({},Q7),t);return function(i){if(i.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,u){const f=new vi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const m=yield function JU(n){return tE(n).then(e=>e.datastore)}(i);new W8(i.asyncQueue,m,u,o,f).run()})),f.promise}(ti(n),i=>e(new X7(n,i)),r)}(this._delegate,t=>e(new k$(this,t)))}batch(){return ti(this._delegate),new F$(new N$(this._delegate,e=>w_(this._delegate,e)))}loadBundle(e){return function f7(n,e){const t=ti(n=Cn(n,fr)),r=new i7;return function X8(n,e,t,r){const i=function(o,u){let f;return f="string"==typeof o?wV().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return qU(m,v);if(m instanceof ArrayBuffer)return qU(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new G8(m,u);var m}(t,ub(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function j8(n,e,t){const r=lt(n);var i;(i=(0,X.Z)(function*(o,u,f){try{const m=yield u.getMetadata();if(yield function(F,B){const J=lt(F),ne=ei(B.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",de=>J.Ls.getBundleMetadata(de,B.id)).then(de=>!!de&&de.createTime.compareTo(ne)>=0)}(o.localStore,m))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=m).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(LU(m));const v=new w8(m,o.localStore,u.serializer);let C=yield u.Pc();for(;C;){const F=yield v.ju(C);F&&f._updateProgress(F),C=yield u.Pc()}const S=yield v.complete();return yield au(o,S.Hu,void 0),yield function(F,B){const J=lt(F);return J.persistence.runTransaction("Save bundle","readwrite",ne=>J.Ls.saveBundleMetadata(ne,B))}(o.localStore,m),f._completeWith(S.progress),Promise.resolve(S.Wu)}catch(m){return Wo("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var F}),function(o,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield KR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function p7(n,e){return function e7(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,r){const i=lt(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ls.getNamedQuery(o,r))}(yield nE(n),e)}))}(ti(n=Cn(n,fr)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class gE extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Db(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qo.forKey(t,this.firestore,null)}}class k${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}get(e){const t=Np(e);return this._delegate.get(t).then(r=>new Cb(this._firestore,new cu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Np(e);return r?(lP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Np(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}}class F${constructor(e){this._delegate=e}set(e,t,r){const i=Np(e);return r?(lP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Np(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Mp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Mp(e,new gE(e),t),i.set(t,o)),o}}Mp.INSTANCES=new WeakMap;class qo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qo(t,new hr(t._delegate,r,new st(e)))}static forKey(e,t,r){return new qo(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new D_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new D_(this.firestore,a$(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof hr&&l$(this._delegate,e)}set(e,t){t=lP("DocumentReference.set",t);try{return t?A$(this._delegate,e,t):A$(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?S$(this._delegate,e):S$(this._delegate,e,t,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function $7(n){return w_(Cn(n.firestore,fr),[new i_(n._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=L$(e),r=B$(e,i=>new Cb(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return M$(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function F7(n){n=Cn(n,hr);const e=Cn(n.firestore,fr),t=ti(e),r=new rh(e);return function Y8(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,o,u){try{const f=yield function(m,v){const C=lt(m);return C.persistence.runTransaction("read document","readonly",S=>C.localDocuments.getDocument(S,v))}(i,o);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=p_(f,`Failed to get document '${o} from cache`);u.reject(m)}}),function(i,o,u){return r.apply(this,arguments)})(yield nE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new cu(e,r,n._key,i,new Sp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function L7(n){n=Cn(n,hr);const e=Cn(n.firestore,fr);return QU(ti(e),n._key,{source:"server"}).then(t=>aP(e,n,t))}(this._delegate):function k7(n){n=Cn(n,hr);const e=Cn(n.firestore,fr);return QU(ti(e),n._key).then(t=>aP(e,n,t))}(this._delegate),t.then(r=>new Cb(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new qo(this.firestore,this._delegate.withConverter(e?Mp.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function L$(n){for(const e of n)if("object"==typeof e&&!cP(e))return e;return{}}function B$(n,e){var t,r;let i;return i=cP(n[0])?n[0]:cP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Cb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return T$(this._delegate,e._delegate)}}class Ib extends Cb{data(e){const t=this._delegate.data(e);return function e5(n,e){n||_t()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}where(e,t,r){try{return new Cs(this.firestore,th(this._delegate,function I7(n,e,t){const r=e,i=uE("where",n);return bb._create(i,r,t)}(e,t,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,th(this._delegate,function E7(n,e="asc"){const t=e,r=uE("orderBy",n);return sP._create(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,th(this._delegate,function T7(n){return i$("limit",n),dE._create("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,th(this._delegate,function A7(n){return i$("limitToLast",n),dE._create("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,th(this._delegate,function S7(...n){return hE._create("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,th(this._delegate,function M7(...n){return hE._create("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,th(this._delegate,function N7(...n){return fE._create("endBefore",n,!1)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,th(this._delegate,function x7(...n){return fE._create("endAt",n,!0)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return QR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function V7(n){n=Cn(n,Zi);const e=Cn(n.firestore,fr),t=ti(e),r=new rh(e);return function J8(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,o,u){try{const f=yield WI(i,o,!0),m=new UU(o,f.sr),v=m.nc(f.documents),C=m.applyChanges(v,!1);u.resolve(C.snapshot)}catch(f){const m=p_(f,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(i,o,u){return r.apply(this,arguments)})(yield nE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new nh(e,r,n,i))}(this._delegate):"server"===e?.source?function U7(n){n=Cn(n,Zi);const e=Cn(n.firestore,fr),t=ti(e),r=new rh(e);return XU(t,n._query,{source:"server"}).then(i=>new nh(e,r,n,i))}(this._delegate):function B7(n){n=Cn(n,Zi);const e=Cn(n.firestore,fr),t=ti(e),r=new rh(e);return v$(n._query),XU(t,n._query).then(i=>new nh(e,r,n,i))}(this._delegate),t.then(r=>new uP(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=L$(e),r=B$(e,i=>new uP(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return M$(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Mp.getInstance(this.firestore,e):null))}}class dW{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ib(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ib(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dW(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ib(this._firestore,r))})}isEqual(e){return T$(this._delegate,e._delegate)}}class D_ extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qo(this.firestore,e):null}doc(e){try{return new qo(this.firestore,void 0===e?iE(this._delegate):iE(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function j7(n,e){const t=Cn(n.firestore,fr),r=iE(n),i=pE(n.converter,e);return w_(t,[aE(Tp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new qo(this.firestore,t))}isEqual(e){return l$(this._delegate,e._delegate)}withConverter(e){return new D_(this.firestore,this._delegate.withConverter(e?Mp.getInstance(this.firestore,e):null))}}function Np(n){return Cn(n,hr)}class dP{constructor(...e){this._delegate=new lu(...e)}static documentId(){return new dP(Hr.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof lu&&this._delegate._internalPath.isEqual(e._internalPath)}}class xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nW(){return new eP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xp(e)}static delete(){const e=function tW(){return new mb("deleteField")}();return e._methodName="FieldValue.delete",new xp(e)}static arrayUnion(...e){const t=function rW(...n){return new v7("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xp(t)}static arrayRemove(...e){const t=function iW(...n){return new b7("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xp(t)}static increment(e){const t=function sW(n){return new w7("increment",n)}(e);return t._methodName="FieldValue.increment",new xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hW={Firestore:P$,GeoPoint:sE,Timestamp:vr,Blob:Db,Transaction:k$,WriteBatch:F$,DocumentReference:qo,DocumentSnapshot:Cb,Query:Cs,QueryDocumentSnapshot:Ib,QuerySnapshot:uP,CollectionReference:D_,FieldPath:dP,FieldValue:xp,setLogLevel:function uW(n){!function X4(n){Vd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function pW(n){(function fW(n,e){n.INTERNAL.registerComponent(new Aa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hW)))})(n,(e,t)=>new P$(e,t,new cW)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(ZG.Z);class gW extends Xn.x{constructor(e=1/0,t=1/0,r=pm){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:u}=this;t||(r.push(e),!i&&r.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let u=0;u<o.length&&!e.closed;u+=r?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const u=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=u;m+=2)f=m;f&&r.splice(0,f+1)}}}var mW=$(3099);function V$(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,mW.B)({connector:()=>new gW(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function U$(n,e){return(0,to.m)(e)?Kr(()=>n,e):Kr(()=>n)}class C_{constructor(e){return e}}class hP{constructor(){return(0,bn.getApps)()}}const fP=new l.OlP("angularfire2._apps"),yW={provide:C_,useFactory:function _W(n){return n&&1===n.length?n[0]:new C_((0,bn.getApp)())},deps:[[new l.FiY,fP]]},vW={provide:hP,deps:[[new l.FiY,fP]]};function bW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new C_(r)}}let wW=(()=>{class n{constructor(t){(0,bn.registerVersion)("angularfire",VC.full,"core"),(0,bn.registerVersion)("angularfire",VC.full,"app"),(0,bn.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yW,vW]}),n})();function DW(n,...e){return{ngModule:wW,providers:[{provide:fP,useFactory:bW(n),multi:!0,deps:[l.R0b,l.zs3,p0,...e]}]}}const CW=nx(bn.initializeApp,!0),pP=new Map,$$={activated:!1,tokenObservers:[]},IW={initialized:!1,enabled:!1};function zr(n){return pP.get(n)||Object.assign({},$$)}function mE(){return IW}const gP="https://content-firebaseappcheck.googleapis.com/v1",SW="exchangeDebugToken",j$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class NW{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function xW(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ki=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yP(){return yP=(0,X.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,o)}catch(S){throw Ki.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Ki.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(S){throw Ki.create("fetch-parse-error",{originalErrorMessage:S?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),yP.apply(this,arguments)}const kW="firebase-app-check-database",FW=1,Eb="firebase-app-check-store";let bE=null;function vP(){return vP=(0,X.Z)(function*(n,e){const r=(yield function z$(){return bE||(bE=new Promise((n,e)=>{try{const t=indexedDB.open(kW,FW);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ki.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Eb,{keyPath:"compositeKey"})}}catch(t){e(Ki.create("storage-open",{originalErrorMessage:t?.message}))}}),bE)}()).transaction(Eb,"readwrite"),o=r.objectStore(Eb).put({compositeKey:n,value:e});return new Promise((u,f)=>{o.onsuccess=m=>{u()},r.onerror=m=>{var v;f(Ki.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),vP.apply(this,arguments)}const Tb=new Sa.Yd("@firebase/app-check");function DP(n,e){return(0,Mt.hl)()?function BW(n,e){return function W$(n,e){return vP.apply(this,arguments)}(function Z$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TP(){return TP=(0,X.Z)(function*(){const n=mE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TP.apply(this,arguments)}const GW={error:"UNKNOWN_ERROR"};function zW(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function wE(n){return AP.apply(this,arguments)}function AP(){return AP=(0,X.Z)(function*(n,e=!1){const t=n.app;!function mP(n){if(!zr(n).activated)throw Ki.create("use-before-activation",{appName:n.name})}(t);const r=zr(t);let o,i=r.token;if(i&&!I_(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(I_(m)?i=m:yield DP(t,void 0))}if(!e&&i&&I_(i))return{token:i.token};let f,u=!1;if(function IP(){return mE().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function vE(n,e){return yP.apply(this,arguments)}(function H$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${gP}/projects/${t}/apps/${r}:${SW}?key=${i}`,body:{debug_token:e}}}(t,yield function EP(){return TP.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const m=yield r.exchangeTokenPromise;return yield DP(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield zr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Tb.warn(m.message):Tb.error(m),o=m}return i?o?f=I_(i)?{token:i.token,internalError:o}:J$(o):(f={token:i.token},r.token=i,yield DP(t,i)):f=J$(o),u&&function Y$(n,e){const t=zr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),AP.apply(this,arguments)}function NP(n,e){const t=zr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function K$(n){const{app:e}=n,t=zr(e);let r=t.tokenRefresher;r||(r=function qW(n){const{app:e}=n;return new NW((0,X.Z)(function*(){let r;if(r=zr(e).token?yield wE(n,!0):yield wE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=zr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},j$.RETRIAL_MIN_WAIT,j$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function I_(n){return n.expireTimeMillis-Date.now()>0}function J$(n){return{token:zW(GW),error:n}}class ZW{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zr(this.app);for(const t of e)NP(this.app,t.next);return Promise.resolve()}}const sj="app-check-internal";!function l9(){(0,bn._registerComponent)(new Aa.wA("app-check",n=>function KW(n,e){return new ZW(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sj).initialize()})),(0,bn._registerComponent)(new Aa.wA(sj,n=>function YW(n){return{getToken:e=>wE(n,e),addTokenListener:e=>function MP(n,e,t,r){const{app:i}=n,o=zr(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&I_(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),K$(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>K$(n))}(n,"INTERNAL",e),removeTokenListener:e=>NP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bn.registerVersion)("@firebase/app-check","0.7.0")}();class Ab{constructor(){return tx("app-check")}}typeof window<"u"&&window,$(9260);const aj=new l.OlP("angularfire2.auth.use-emulator"),lj=new l.OlP("angularfire2.auth.settings"),cj=new l.OlP("angularfire2.auth.tenant-id"),uj=new l.OlP("angularfire2.auth.langugage-code"),dj=new l.OlP("angularfire2.auth.use-device-language"),hj=new l.OlP("angularfire.auth.persistence"),fj=(n,e,t,r,i,o,u,f)=>(0,Ma.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,o&&m.useDeviceLanguage(),u)for(const[v,C]of Object.entries(u))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,o,u,f]);let pj=(()=>{class n{constructor(t,r,i,o,u,f,m,v,C,S,F,B){const J=new Xn.x,ne=Et(void 0).pipe((0,Vm.Q)(u.outsideAngular),Kr(()=>o.runOutsideAngular(()=>Promise.resolve().then($.bind($,9568)))),(0,mt.U)(()=>(0,Ma.on)(t,o,r)),(0,mt.U)(de=>fj(de,o,f,v,C,S,m,F)),V$({bufferSize:1,refCount:!1}));if(bo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Et(null);else{ne.pipe(ro()).subscribe();const Ee=ne.pipe(Kr(ot=>ot.getRedirectResult().then(ct=>ct,()=>null)),lo,V$({bufferSize:1,refCount:!1})),Ve=ne.pipe(Kr(ot=>new Jn.y(ct=>({unsubscribe:o.runOutsideAngular(()=>ot.onAuthStateChanged(wt=>ct.next(wt),wt=>ct.error(wt),()=>ct.complete()))})))),Xe=ne.pipe(Kr(ot=>new Jn.y(ct=>({unsubscribe:o.runOutsideAngular(()=>ot.onIdTokenChanged(wt=>ct.next(wt),wt=>ct.error(wt),()=>ct.complete()))}))));this.authState=Ee.pipe(U$(Ve),(0,f0.R)(u.outsideAngular),(0,Vm.Q)(u.insideAngular)),this.user=Ee.pipe(U$(Xe),(0,f0.R)(u.outsideAngular),(0,Vm.Q)(u.insideAngular)),this.idToken=this.user.pipe(Kr(ot=>ot?(0,Nn.D)(ot.getIdToken()):Et(null))),this.idTokenResult=this.user.pipe(Kr(ot=>ot?(0,Nn.D)(ot.getIdTokenResult()):Et(null))),this.credential=(0,uv.T)(Ee,J,this.authState.pipe(sr(ot=>!ot))).pipe((0,mt.U)(ot=>ot?.user?ot:null),(0,f0.R)(u.outsideAngular),(0,Vm.Q)(u.insideAngular))}return(0,Ma.pX)(this,ne,o,{spy:{apply:(de,Ee,Ve)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&Ve.then(Xe=>J.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ma.Dh),l.LFG(Ma.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(p0),l.LFG(aj,8),l.LFG(lj,8),l.LFG(cj,8),l.LFG(uj,8),l.LFG(dj,8),l.LFG(hj,8),l.LFG(Ab,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gj(n,e){return function p9(n,e=xf){return new Jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function kP(n,e){return gj(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function CE(n,e){return kP(n,e).pipe(_l(void 0),rx(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const m=i.find(C=>C.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),o}))}function mj(n,e,t){return CE(n,t).pipe(Mg((r,i)=>function m9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _9(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),Al(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function FP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function _j(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yj{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_l(void 0),rx(),sr(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),lo)}auditTrail(e){return this.stateChanges(e).pipe(Mg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_j(e);return mj(this.query,t,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return kP(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),lo)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(lo)}add(e){return this.ref.add(e)}doc(e){return new vj(this.ref.doc(e),this.afs)}}class vj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=bj(r,t);return new yj(i,o,this.afs)}snapshotChanges(){return function g9(n,e){return gj(n,e).pipe(_l(void 0),rx(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Nn.D)(this.ref.get(e)).pipe(lo)}}class y9{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),sr(t=>t.length>0),lo):CE(this.query,this.afs.schedulers.outsideAngular).pipe(lo)}auditTrail(e){return this.stateChanges(e).pipe(Mg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_j(e);return mj(this.query,t,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return kP(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),lo)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(lo)}}const v9=new l.OlP("angularfire2.enableFirestorePersistence"),b9=new l.OlP("angularfire2.firestore.persistenceSettings"),w9=new l.OlP("angularfire2.firestore.settings"),D9=new l.OlP("angularfire2.firestore.use-emulator");function bj(n,e=(t=>t)){return{query:e(n),ref:n}}let wj=(()=>{class n{constructor(t,r,i,o,u,f,m,v,C,S,F,B,J,ne,de,Ee,Ve){this.schedulers=m;const Xe=(0,Ma.on)(t,f,r),ot=C;S&&fj(Xe,f,F,J,ne,de,B,Ee),[this.firestore,this.persistenceEnabled$]=(0,Ma.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const ct=f.runOutsideAngular(()=>Xe.firestore());if(o&&ct.settings(o),ot&&ct.useEmulator(...ot),i&&!bo(u)){const wt=()=>{try{return(0,Nn.D)(ct.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(hn){return typeof console<"u"&&console.warn(hn),Et(!1)}};return[ct,f.runOutsideAngular(wt)]}return[ct,Et(!1)]},[o,ot,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=bj(i,r),f=this.schedulers.ngZone.run(()=>o);return new yj(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),o=this.firestore.collectionGroup(t);return new y9(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new vj(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ma.Dh),l.LFG(Ma.xv,8),l.LFG(v9,8),l.LFG(w9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(p0),l.LFG(b9,8),l.LFG(D9,8),l.LFG(pj,8),l.LFG(aj,8),l.LFG(lj,8),l.LFG(cj,8),l.LFG(uj,8),l.LFG(dj,8),l.LFG(hj,8),l.LFG(Ab,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LP=(()=>{class n{constructor(t){this.aFirestore=t}guardar(t){}traer(){this.aFirestore.collection("usuarios").valueChanges().subscribe(r=>{console.log(r)})}traerPeliculas(){this.aFirestore.collection("peliculas").valueChanges().subscribe(r=>(console.log(r),r))}updatePelicula(t){this.aFirestore.doc("peliculas/"+t.id).update(t)}delete(t){this.aFirestore.doc("usuarios/"+t).delete()}guardarActor(t){this.aFirestore.collection("actores");const i=this.aFirestore.doc("actores/"+this.aFirestore.createId());return i.set({id:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,nacionalidad:t.nacionalidad}),!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",3),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.select(o))}),l._UZ(2,"img",4),l._uU(3),l._UZ(4,"hr",5),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.flags.png,l.LSH),l.xp6(1),l.hij(" ",t.name.common," ")}}let I9=(()=>{class n{constructor(t){this.http=t,this.EnviarPais=new l.vpe,this.url="https://restcountries.com/v3.1/all",console.log(this.treaerPaises())}treaerPaises(){this.http.get(this.url).subscribe(t=>{this.paises=t})}setPais(){this.EnviarPais.emit(this.paisMandar),console.log("set")}select(t){this.paisMandar=t,console.log("select"),this.setPais()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-paises"]],outputs:{EnviarPais:"EnviarPais"},decls:3,vars:1,consts:[["id","right-col"],["id","inner-right"],[4,"ngFor","ngForOf"],[2,"padding","5px",3,"click"],[2,"width","50px",3,"src"],[1,"mb-3"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,C9,5,2,"div",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.paises))},dependencies:[mr],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:320px;height:100%;max-height:100%;margin-right:20px;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:300px;max-height:300px;overflow-y:scroll;background:ivory}"]}),n})();function E9(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El nombre es requerido"),l._UZ(2,"br"),l.qZA())}function T9(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El apellido es requerido"),l._UZ(2,"br"),l.qZA())}function A9(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad es requerida"),l._UZ(2,"br"),l.qZA())}let S9=(()=>{class n{constructor(t,r,i){this.http=t,this.fbd=r,this.fb=i,this.paisDis=!1,this.url="https://restcountries.com/v3.1/all",console.log(this.treaerPaises()),this.forma=this.fb.group({nombre:["",hc.required],apellido:["",hc.required],edad:["",[hc.required,hc.max(99)]],pais:new Ac({value:"",disabled:!0},[hc.required])}),console.log(this.forma)}treaerPaises(){this.http.get(this.url).subscribe(t=>{this.paises=t,console.log("bien",t)})}guardar(){console.log({nombre:this.actorNombre,apellido:this.actorApellido,nacionalidad:this.actorPais,edad:this.actorEdad}),this.fbd.guardarActor({nombre:this.actorNombre,apellido:this.actorApellido,nacionalidad:this.actorPais,edad:this.actorEdad})?j2().fire({title:"\xc9xito!",text:"El actor ha sido guardado con \xe9xito",icon:"success",confirmButtonText:"OK!"}):j2().fire({title:"Error!",text:"Ocurri\xf3 un erro guardando el actor",icon:"error",confirmButtonText:"OK!"})}pasarPais(t){this.paisPasado=t,this.actorPais=this.paisPasado.name.common}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cg),l.Y36(LP),l.Y36(XP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-actor-alta"]],decls:37,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"mb-3"],[3,"EnviarPais"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","placeholder","","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["nombre",""],["class","invalid",4,"ngIf"],["for","apellido"],["type","text","placeholder","","formControlName","apellido",1,"form-control",3,"ngModel","ngModelChange"],["apellido",""],["for","pais"],["type","text","placeholder","Seleccione un pa\xeds de la lista ->","formControlName","pais",1,"form-control",3,"ngModel","ngModelChange"],["pais",""],["for","edad"],["type","number","placeholder","","formControlName","edad",1,"form-control",3,"ngModel","ngModelChange"],["edad",""],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4,"Nacionalidad"),l.qZA(),l.TgZ(5,"app-tabla-paises",4),l.NdJ("EnviarPais",function(o){return r.pasarPais(o)}),l.qZA()(),l.TgZ(6,"div",5)(7,"h4",3),l._uU(8,"Subir un actor"),l.qZA(),l.TgZ(9,"form",6),l.NdJ("ngSubmit",function(){return r.guardar()}),l.TgZ(10,"div",1)(11,"div",7)(12,"label",8),l._uU(13,"Nombres"),l.qZA(),l.TgZ(14,"input",9,10),l.NdJ("ngModelChange",function(o){return r.actorNombre=o}),l.qZA(),l.YNc(16,E9,3,0,"small",11),l.qZA(),l.TgZ(17,"div",7)(18,"label",12),l._uU(19,"Apellido"),l.qZA(),l.TgZ(20,"input",13,14),l.NdJ("ngModelChange",function(o){return r.actorApellido=o}),l.qZA(),l.YNc(22,T9,3,0,"small",11),l.qZA()(),l.TgZ(23,"div",3)(24,"label",15),l._uU(25,"Nacionalidad"),l.qZA(),l.TgZ(26,"input",16,17),l.NdJ("ngModelChange",function(o){return r.actorPais=o}),l.qZA()(),l.TgZ(28,"div",3)(29,"label",18),l._uU(30,"Edad"),l.qZA(),l.TgZ(31,"input",19,20),l.NdJ("ngModelChange",function(o){return r.actorEdad=o}),l.qZA(),l.YNc(33,A9,3,0,"small",11),l.qZA(),l._UZ(34,"hr",3),l.TgZ(35,"button",21),l._uU(36," Subir "),l.qZA()()()()()),2&t&&(l.xp6(9),l.Q6J("formGroup",r.forma),l.xp6(5),l.Q6J("ngModel",r.actorNombre),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(4),l.Q6J("ngModel",r.actorApellido),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(4),l.Q6J("ngModel",r.actorPais),l.xp6(5),l.Q6J("ngModel",r.actorEdad),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(2),l.Q6J("disabled",r.forma.invalid||!r.forma.controls.pais.value))},dependencies:[_r,Kh,ll,hg,Gh,Fu,eo,Zb,I9],styles:[".invalid[_ngcontent-%COMP%]{color:red}"]}),n})(),M9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-actor-listado"]],decls:2,vars:0,template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"actor-listado works!"),l.qZA())}}),n})(),N9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bienvenido"]],decls:0,vars:0,template:function(t,r){}}),n})();function x9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",1)(2,"div",2),l._UZ(3,"img",4),l.qZA(),l.TgZ(4,"div",2),l._uU(5),l.qZA(),l.TgZ(6,"div",2),l._uU(7),l.qZA(),l.TgZ(8,"div",2),l._uU(9),l.qZA(),l.TgZ(10,"div",2),l._uU(11),l.qZA(),l.TgZ(12,"div",2)(13,"button",5),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.enviarObjeto(o))}),l._uU(14,"Seleccionar"),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(3),l.s9C("src",t.foto,l.LSH),l.xp6(2),l.hij(" ",t.nombre," "),l.xp6(2),l.hij(" ",t.tipo," "),l.xp6(2),l.hij(" ",t.fechaDeEstreno," "),l.xp6(2),l.hij(" ",t.cantidadDePublico," ")}}let Dj=(()=>{class n{constructor(t,r){this.db=t,this.aFirestore=r,this.EviarADetalle=new l.vpe,this.traerPeli()}enviarObjeto(t){this.EviarADetalle.emit(t)}traerPeli(){var t=this;return(0,X.Z)(function*(){t.aFirestore.collection("peliculas").valueChanges().subscribe(i=>{console.log(i),t.peliculas=i})})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LP),l.Y36(wj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-pelicula"]],outputs:{EviarADetalle:"EviarADetalle"},decls:14,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm"],[4,"ngFor","ngForOf"],[2,"height","100px",3,"src"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._uU(3,"Foto"),l.qZA(),l.TgZ(4,"div",2),l._uU(5,"Nombre"),l.qZA(),l.TgZ(6,"div",2),l._uU(7,"Tipo"),l.qZA(),l.TgZ(8,"div",2),l._uU(9,"Fecha de estreno"),l.qZA(),l.TgZ(10,"div",2),l._uU(11,"Cantidad de publico"),l.qZA(),l._UZ(12,"div",2),l.qZA(),l.YNc(13,x9,15,5,"div",3),l.qZA()),2&t&&(l.xp6(13),l.Q6J("ngForOf",r.peliculas))},dependencies:[mr]}),n})(),O9=(()=>{class n{constructor(t){this.db=t}guardar(){this.db.updatePelicula(this.peliculaDet)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-detalle-pelicula"]],inputs:{peliculaDet:"peliculaDet"},decls:19,vars:5,consts:[[1,"form-group"],["name","nombre","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","tipo","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","publico","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","foto","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"form")(1,"div",0)(2,"label"),l._uU(3,"Nombre"),l.qZA(),l.TgZ(4,"input",1),l.NdJ("ngModelChange",function(o){return r.peliculaDet.nombre=o}),l.qZA(),l.TgZ(5,"label"),l._uU(6,"Tipo"),l.qZA(),l.TgZ(7,"input",2),l.NdJ("ngModelChange",function(o){return r.peliculaDet.tipo=o}),l.qZA(),l.TgZ(8,"label"),l._uU(9,"Fecha de estreno"),l.qZA(),l.TgZ(10,"input",3),l.NdJ("ngModelChange",function(o){return r.peliculaDet.fechaDeEstreno=o}),l.qZA(),l.TgZ(11,"label"),l._uU(12,"Cantidad de publico"),l.qZA(),l.TgZ(13,"input",4),l.NdJ("ngModelChange",function(o){return r.peliculaDet.cantidadDePublico=o}),l.qZA(),l.TgZ(14,"label"),l._uU(15,"Foto"),l.qZA(),l.TgZ(16,"input",5),l.NdJ("ngModelChange",function(o){return r.peliculaDet.foto=o}),l.qZA(),l.TgZ(17,"button",6),l.NdJ("click",function(){return r.guardar()}),l._uU(18,"Guardar"),l.qZA()()()),2&t&&(l.xp6(4),l.Q6J("ngModel",r.peliculaDet.nombre),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.tipo),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.fechaDeEstreno),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.cantidadDePublico),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.foto))},dependencies:[Kh,ll,Gh,Fu,J_,qu]}),n})();const R9=[{path:"actor/alta",component:S9},{path:"actor/listado",component:M9},{path:"bienvenido",component:N9},{path:"busqueda",component:(()=>{class n{constructor(){this.peliculaMostrar=[]}pasarDetalle(t){this.peliculaMostrar=t,console.log(this.peliculaMostrar)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-busqueda"]],decls:30,vars:1,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[3,"EviarADetalle"],[1,"row"],[1,"col-md-4"],["href","#","role","button",1,"btn","btn-secondary"],[3,"peliculaDet"]],template:function(t,r){1&t&&(l.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"app-tabla-pelicula",3),l.NdJ("EviarADetalle",function(o){return r.pasarDetalle(o)}),l.qZA()()(),l.TgZ(4,"div",2)(5,"div",4)(6,"div",5)(7,"h2"),l._uU(8,"Heading"),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "),l.qZA(),l.TgZ(11,"p")(12,"a",6),l._uU(13,"View details \xbb"),l.qZA()()(),l.TgZ(14,"div",5)(15,"h2"),l._uU(16,"Detalle"),l.qZA(),l._UZ(17,"app-detalle-pelicula",7),l.qZA(),l.TgZ(18,"div",5)(19,"h2"),l._uU(20,"Heading"),l.qZA(),l.TgZ(21,"p"),l._uU(22,"Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus."),l.qZA(),l.TgZ(23,"p")(24,"a",6),l._uU(25,"View details \xbb"),l.qZA()()()(),l._UZ(26,"hr"),l.qZA()(),l.TgZ(27,"footer",2)(28,"p"),l._uU(29,"\xa9 Company 2017-2020"),l.qZA()()),2&t&&(l.xp6(17),l.Q6J("peliculaDet",r.peliculaMostrar))},dependencies:[Dj,O9],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),n})()},{path:"pelicula/alta",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pelicula-alta"]],decls:2,vars:0,template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"pelicula-alta works!"),l.qZA())}}),n})()},{path:"actor/listado",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pelicula-listado"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-tabla-pelicula")},dependencies:[Dj]}),n})()}];let P9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ov.forRoot(R9),dh,ov]}),n})();const Cj={firebase:{projectId:"lab42023",appId:"1:34310798645:web:7187542d929aca27da607c",databaseURL:"https://lab42023-default-rtdb.firebaseio.com",storageBucket:"lab42023.appspot.com",apiKey:"AIzaSyCHx-HLgU02Azfj05Zk_cynv3a8nbr_UvQ",authDomain:"lab42023.firebaseapp.com",messagingSenderId:"34310798645",measurementId:"G-949VR2SLEN"}};var k9=$(8502);class BP{constructor(e){return e}}class Ej{constructor(){return tx("auth")}}const VP=new l.OlP("angularfire2.auth-instances");function L9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new BP(r)}}const B9={provide:Ej,deps:[[new l.FiY,VP]]},V9={provide:BP,useFactory:function F9(n,e){const t=ex("auth",n,e);return t&&new BP(t)},deps:[[new l.FiY,VP],C_]};let U9=(()=>{class n{constructor(){(0,bn.registerVersion)("angularfire",VC.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V9,B9]}),n})();function $9(n,...e){return{ngModule:U9,providers:[{provide:VP,useFactory:L9(n),multi:!0,deps:[l.R0b,l.zs3,p0,hP,[new l.FiY,Ab],...e]}]}}const j9=nx(k9.o,!0);class UP{constructor(e){return e}}const Tj="firestore",$P=new l.OlP("angularfire2.firestore-instances");function z9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new UP(r)}}const W9={provide:class H9{constructor(){return tx(Tj)}},deps:[[new l.FiY,$P]]},q9={provide:UP,useFactory:function G9(n,e){const t=ex(Tj,n,e);return t&&new UP(t)},deps:[[new l.FiY,$P],C_]};let Z9=(()=>{class n{constructor(){(0,bn.registerVersion)("angularfire",VC.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[q9,W9]}),n})();function K9(n,...e){return{ngModule:Z9,providers:[{provide:$P,useFactory:z9(n),multi:!0,deps:[l.R0b,l.zs3,p0,hP,[new l.FiY,Ej],[new l.FiY,Ab],...e]}]}}const Y9=nx(o7,!0);let J9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[LH]}),n.\u0275inj=l.cJS({providers:[{provide:Ma.Dh,useValue:Cj.firebase}],imports:[rl,P9,FH,aw,DW(()=>CW(Cj.firebase)),$9(()=>j9()),K9(()=>Y9()),no,lw]}),n})();M_().bootstrapModule(J9).catch(n=>console.error(n))},9751:(Tt,ue,$)=>{"use strict";$.d(ue,{y:()=>Me});var l=$(930),x=$(727),V=$(8822),he=$(9635),Te=$(2416),ye=$(576),Pe=$(2806);let Me=(()=>{class Q{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const rt=new Q;return rt.source=this,rt.operator=Fe,rt}subscribe(Fe,rt,et){const le=function z(Q){return Q&&Q instanceof l.Lv||function W(Q){return Q&&(0,ye.m)(Q.next)&&(0,ye.m)(Q.error)&&(0,ye.m)(Q.complete)}(Q)&&(0,x.Nn)(Q)}(Fe)?Fe:new l.Hp(Fe,rt,et);return(0,Pe.x)(()=>{const{operator:Ne,source:me}=this;le.add(Ne?Ne.call(le,me):me?this._subscribe(le):this._trySubscribe(le))}),le}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(rt){Fe.error(rt)}}forEach(Fe,rt){return new(rt=He(rt))((et,le)=>{const Ne=new l.Hp({next:me=>{try{Fe(me)}catch(Ge){le(Ge),Ne.unsubscribe()}},error:le,complete:et});this.subscribe(Ne)})}_subscribe(Fe){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Fe)}[V.L](){return this}pipe(...Fe){return(0,he.U)(Fe)(this)}toPromise(Fe){return new(Fe=He(Fe))((rt,et)=>{let le;this.subscribe(Ne=>le=Ne,Ne=>et(Ne),()=>rt(le))})}}return Q.create=qe=>new Q(qe),Q})();function He(Q){var qe;return null!==(qe=Q??Te.v.Promise)&&void 0!==qe?qe:Promise}},7579:(Tt,ue,$)=>{"use strict";$.d(ue,{x:()=>Pe});var l=$(9751),x=$(727);const he=(0,$(3888).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=$(8737),ye=$(2806);let Pe=(()=>{class He extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Q=new Me(this,this);return Q.operator=z,Q}_throwIfClosed(){if(this.closed)throw new he}next(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(z)}})}error(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Q}=this;for(;Q.length;)Q.shift().error(z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Q,isStopped:qe,observers:Fe}=this;return Q||qe?x.Lc:(this.currentObservers=null,Fe.push(z),new x.w0(()=>{this.currentObservers=null,(0,Te.P)(Fe,z)}))}_checkFinalizedStatuses(z){const{hasError:Q,thrownError:qe,isStopped:Fe}=this;Q?z.error(qe):Fe&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return He.create=(W,z)=>new Me(W,z),He})();class Me extends Pe{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Q||Q.call(z,W)}error(W){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Q||Q.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,Q;return null!==(Q=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==Q?Q:x.Lc}}},930:(Tt,ue,$)=>{"use strict";$.d(ue,{Hp:()=>et,Lv:()=>Q});var l=$(576),x=$(727),V=$(2416),he=$(7849),Te=$(5032);const ye=He("C",void 0,void 0);function He(Oe,De,xe){return{kind:Oe,value:De,error:xe}}var W=$(3410),z=$(2806);class Q extends x.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,x.Nn)(De)&&De.add(this)):this.destination=Ge}static create(De,xe,Ze){return new et(De,xe,Ze)}next(De){this.isStopped?me(function Me(Oe){return He("N",Oe,void 0)}(De),this):this._next(De)}error(De){this.isStopped?me(function Pe(Oe){return He("E",void 0,Oe)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?me(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Fe(Oe,De){return qe.call(Oe,De)}class rt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:xe}=this;if(xe.next)try{xe.next(De)}catch(Ze){le(Ze)}}error(De){const{partialObserver:xe}=this;if(xe.error)try{xe.error(De)}catch(Ze){le(Ze)}else le(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(xe){le(xe)}}}class et extends Q{constructor(De,xe,Ze){let $e;if(super(),(0,l.m)(De)||!De)$e={next:De??void 0,error:xe??void 0,complete:Ze??void 0};else{let se;this&&V.v.useDeprecatedNextContext?(se=Object.create(De),se.unsubscribe=()=>this.unsubscribe(),$e={next:De.next&&Fe(De.next,se),error:De.error&&Fe(De.error,se),complete:De.complete&&Fe(De.complete,se)}):$e=De}this.destination=new rt($e)}}function le(Oe){V.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Oe):(0,he.h)(Oe)}function me(Oe,De){const{onStoppedNotification:xe}=V.v;xe&&W.z.setTimeout(()=>xe(Oe,De))}const Ge={closed:!0,next:Te.Z,error:function Ne(Oe){throw Oe},complete:Te.Z}},727:(Tt,ue,$)=>{"use strict";$.d(ue,{Lc:()=>ye,w0:()=>Te,Nn:()=>Pe});var l=$(576);const V=(0,$(3888).d)(He=>function(z){He(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Q,qe)=>`${qe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var he=$(8737);class Te{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Fe of z)Fe.remove(this);else z.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Fe){W=Fe instanceof V?Fe.errors:[Fe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Fe of qe)try{Me(Fe)}catch(rt){W=W??[],rt instanceof V?W=[...W,...rt.errors]:W.push(rt)}}if(W)throw new V(W)}}add(W){var z;if(W&&W!==this)if(this.closed)Me(W);else{if(W instanceof Te){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,he.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,he.P)(z,W),W instanceof Te&&W._removeParent(this)}}Te.EMPTY=(()=>{const He=new Te;return He.closed=!0,He})();const ye=Te.EMPTY;function Pe(He){return He instanceof Te||He&&"closed"in He&&(0,l.m)(He.remove)&&(0,l.m)(He.add)&&(0,l.m)(He.unsubscribe)}function Me(He){(0,l.m)(He)?He():He.unsubscribe()}},2416:(Tt,ue,$)=>{"use strict";$.d(ue,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Tt,ue,$)=>{"use strict";$.d(ue,{E:()=>x});const x=new($(9751).y)(Te=>Te.complete())},8996:(Tt,ue,$)=>{"use strict";$.d(ue,{D:()=>De});var l=$(8421),x=$(5363),V=$(9468),ye=$(9751),Me=$(2202),He=$(576),W=$(9672);function Q(xe,Ze){if(!xe)throw new Error("Iterable cannot be null");return new ye.y($e=>{(0,W.f)($e,Ze,()=>{const se=xe[Symbol.asyncIterator]();(0,W.f)($e,Ze,()=>{se.next().then(tt=>{tt.done?$e.complete():$e.next(tt.value)})},0,!0)})})}var qe=$(3670),Fe=$(8239),rt=$(1144),et=$(6495),le=$(2206),Ne=$(4532),me=$(3260);function De(xe,Ze){return Ze?function Oe(xe,Ze){if(null!=xe){if((0,qe.c)(xe))return function he(xe,Ze){return(0,l.Xf)(xe).pipe((0,V.R)(Ze),(0,x.Q)(Ze))}(xe,Ze);if((0,rt.z)(xe))return function Pe(xe,Ze){return new ye.y($e=>{let se=0;return Ze.schedule(function(){se===xe.length?$e.complete():($e.next(xe[se++]),$e.closed||this.schedule())})})}(xe,Ze);if((0,Fe.t)(xe))return function Te(xe,Ze){return(0,l.Xf)(xe).pipe((0,V.R)(Ze),(0,x.Q)(Ze))}(xe,Ze);if((0,le.D)(xe))return Q(xe,Ze);if((0,et.T)(xe))return function z(xe,Ze){return new ye.y($e=>{let se;return(0,W.f)($e,Ze,()=>{se=xe[Me.h](),(0,W.f)($e,Ze,()=>{let tt,yt;try{({value:tt,done:yt}=se.next())}catch(Qe){return void $e.error(Qe)}yt?$e.complete():$e.next(tt)},0,!0)}),()=>(0,He.m)(se?.return)&&se.return()})}(xe,Ze);if((0,me.L)(xe))return function Ge(xe,Ze){return Q((0,me.Q)(xe),Ze)}(xe,Ze)}throw(0,Ne.z)(xe)}(xe,Ze):(0,l.Xf)(xe)}},8421:(Tt,ue,$)=>{"use strict";$.d(ue,{Xf:()=>qe});var l=$(655),x=$(1144),V=$(8239),he=$(9751),Te=$(3670),ye=$(2206),Pe=$(4532),Me=$(6495),He=$(3260),W=$(576),z=$(7849),Q=$(8822);function qe(Oe){if(Oe instanceof he.y)return Oe;if(null!=Oe){if((0,Te.c)(Oe))return function Fe(Oe){return new he.y(De=>{const xe=Oe[Q.L]();if((0,W.m)(xe.subscribe))return xe.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,x.z)(Oe))return function rt(Oe){return new he.y(De=>{for(let xe=0;xe<Oe.length&&!De.closed;xe++)De.next(Oe[xe]);De.complete()})}(Oe);if((0,V.t)(Oe))return function et(Oe){return new he.y(De=>{Oe.then(xe=>{De.closed||(De.next(xe),De.complete())},xe=>De.error(xe)).then(null,z.h)})}(Oe);if((0,ye.D)(Oe))return Ne(Oe);if((0,Me.T)(Oe))return function le(Oe){return new he.y(De=>{for(const xe of Oe)if(De.next(xe),De.closed)return;De.complete()})}(Oe);if((0,He.L)(Oe))return function me(Oe){return Ne((0,He.Q)(Oe))}(Oe)}throw(0,Pe.z)(Oe)}function Ne(Oe){return new he.y(De=>{(function Ge(Oe,De){var xe,Ze,$e,se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(xe=(0,l.KL)(Oe);!(Ze=yield xe.next()).done;)if(De.next(Ze.value),De.closed)return}catch(tt){$e={error:tt}}finally{try{Ze&&!Ze.done&&(se=xe.return)&&(yield se.call(xe))}finally{if($e)throw $e.error}}De.complete()})})(Oe,De).catch(xe=>De.error(xe))})}},6451:(Tt,ue,$)=>{"use strict";$.d(ue,{T:()=>ye});var l=$(8189),x=$(8421),V=$(515),he=$(3269),Te=$(8996);function ye(...Pe){const Me=(0,he.yG)(Pe),He=(0,he._6)(Pe,1/0),W=Pe;return W.length?1===W.length?(0,x.Xf)(W[0]):(0,l.J)(He)((0,Te.D)(W,Me)):V.E}},5403:(Tt,ue,$)=>{"use strict";$.d(ue,{x:()=>x});var l=$(930);function x(he,Te,ye,Pe,Me){return new V(he,Te,ye,Pe,Me)}class V extends l.Lv{constructor(Te,ye,Pe,Me,He,W){super(Te),this.onFinalize=He,this.shouldUnsubscribe=W,this._next=ye?function(z){try{ye(z)}catch(Q){Te.error(Q)}}:super._next,this._error=Me?function(z){try{Me(z)}catch(Q){Te.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(z){Te.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4004:(Tt,ue,$)=>{"use strict";$.d(ue,{U:()=>V});var l=$(4482),x=$(5403);function V(he,Te){return(0,l.e)((ye,Pe)=>{let Me=0;ye.subscribe((0,x.x)(Pe,He=>{Pe.next(he.call(Te,He,Me++))}))})}},8189:(Tt,ue,$)=>{"use strict";$.d(ue,{J:()=>V});var l=$(5577),x=$(4671);function V(he=1/0){return(0,l.z)(x.y,he)}},5577:(Tt,ue,$)=>{"use strict";$.d(ue,{z:()=>Me});var l=$(4004),x=$(8421),V=$(4482),he=$(9672),Te=$(5403),Pe=$(576);function Me(He,W,z=1/0){return(0,Pe.m)(W)?Me((Q,qe)=>(0,l.U)((Fe,rt)=>W(Q,Fe,qe,rt))((0,x.Xf)(He(Q,qe))),z):("number"==typeof W&&(z=W),(0,V.e)((Q,qe)=>function ye(He,W,z,Q,qe,Fe,rt,et){const le=[];let Ne=0,me=0,Ge=!1;const Oe=()=>{Ge&&!le.length&&!Ne&&W.complete()},De=Ze=>Ne<Q?xe(Ze):le.push(Ze),xe=Ze=>{Fe&&W.next(Ze),Ne++;let $e=!1;(0,x.Xf)(z(Ze,me++)).subscribe((0,Te.x)(W,se=>{qe?.(se),Fe?De(se):W.next(se)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ne--;le.length&&Ne<Q;){const se=le.shift();rt?(0,he.f)(W,rt,()=>xe(se)):xe(se)}Oe()}catch(se){W.error(se)}}))};return He.subscribe((0,Te.x)(W,De,()=>{Ge=!0,Oe()})),()=>{et?.()}}(Q,qe,He,z)))}},5363:(Tt,ue,$)=>{"use strict";$.d(ue,{Q:()=>he});var l=$(9672),x=$(4482),V=$(5403);function he(Te,ye=0){return(0,x.e)((Pe,Me)=>{Pe.subscribe((0,V.x)(Me,He=>(0,l.f)(Me,Te,()=>Me.next(He),ye),()=>(0,l.f)(Me,Te,()=>Me.complete(),ye),He=>(0,l.f)(Me,Te,()=>Me.error(He),ye)))})}},3099:(Tt,ue,$)=>{"use strict";$.d(ue,{B:()=>Te});var l=$(8421),x=$(7579),V=$(930),he=$(4482);function Te(Pe={}){const{connector:Me=(()=>new x.x),resetOnError:He=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=Pe;return Q=>{let qe,Fe,rt,et=0,le=!1,Ne=!1;const me=()=>{Fe?.unsubscribe(),Fe=void 0},Ge=()=>{me(),qe=rt=void 0,le=Ne=!1},Oe=()=>{const De=qe;Ge(),De?.unsubscribe()};return(0,he.e)((De,xe)=>{et++,!Ne&&!le&&me();const Ze=rt=rt??Me();xe.add(()=>{et--,0===et&&!Ne&&!le&&(Fe=ye(Oe,z))}),Ze.subscribe(xe),!qe&&et>0&&(qe=new V.Hp({next:$e=>Ze.next($e),error:$e=>{Ne=!0,me(),Fe=ye(Ge,He,$e),Ze.error($e)},complete:()=>{le=!0,me(),Fe=ye(Ge,W),Ze.complete()}}),(0,l.Xf)(De).subscribe(qe))})(Q)}}function ye(Pe,Me,...He){if(!0===Me)return void Pe();if(!1===Me)return;const W=new V.Hp({next:()=>{W.unsubscribe(),Pe()}});return(0,l.Xf)(Me(...He)).subscribe(W)}},9468:(Tt,ue,$)=>{"use strict";$.d(ue,{R:()=>x});var l=$(4482);function x(V,he=0){return(0,l.e)((Te,ye)=>{ye.add(V.schedule(()=>Te.subscribe(ye),he))})}},3410:(Tt,ue,$)=>{"use strict";$.d(ue,{z:()=>l});const l={setTimeout(x,V,...he){const{delegate:Te}=l;return Te?.setTimeout?Te.setTimeout(x,V,...he):setTimeout(x,V,...he)},clearTimeout(x){const{delegate:V}=l;return(V?.clearTimeout||clearTimeout)(x)},delegate:void 0}},2202:(Tt,ue,$)=>{"use strict";$.d(ue,{h:()=>x});const x=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,ue,$)=>{"use strict";$.d(ue,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Tt,ue,$)=>{"use strict";$.d(ue,{_6:()=>ye,jO:()=>he,yG:()=>Te});var l=$(576),x=$(3532);function V(Pe){return Pe[Pe.length-1]}function he(Pe){return(0,l.m)(V(Pe))?Pe.pop():void 0}function Te(Pe){return(0,x.K)(V(Pe))?Pe.pop():void 0}function ye(Pe,Me){return"number"==typeof V(Pe)?Pe.pop():Me}},8737:(Tt,ue,$)=>{"use strict";function l(x,V){if(x){const he=x.indexOf(V);0<=he&&x.splice(he,1)}}$.d(ue,{P:()=>l})},3888:(Tt,ue,$)=>{"use strict";function l(x){const he=x(Te=>{Error.call(Te),Te.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}$.d(ue,{d:()=>l})},2806:(Tt,ue,$)=>{"use strict";$.d(ue,{O:()=>he,x:()=>V});var l=$(2416);let x=null;function V(Te){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!x;if(ye&&(x={errorThrown:!1,error:null}),Te(),ye){const{errorThrown:Pe,error:Me}=x;if(x=null,Pe)throw Me}}else Te()}function he(Te){l.v.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=Te)}},9672:(Tt,ue,$)=>{"use strict";function l(x,V,he,Te=0,ye=!1){const Pe=V.schedule(function(){he(),ye?x.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(x.add(Pe),!ye)return Pe}$.d(ue,{f:()=>l})},4671:(Tt,ue,$)=>{"use strict";function l(x){return x}$.d(ue,{y:()=>l})},1144:(Tt,ue,$)=>{"use strict";$.d(ue,{z:()=>l});const l=x=>x&&"number"==typeof x.length&&"function"!=typeof x},2206:(Tt,ue,$)=>{"use strict";$.d(ue,{D:()=>x});var l=$(576);function x(V){return Symbol.asyncIterator&&(0,l.m)(V?.[Symbol.asyncIterator])}},576:(Tt,ue,$)=>{"use strict";function l(x){return"function"==typeof x}$.d(ue,{m:()=>l})},3670:(Tt,ue,$)=>{"use strict";$.d(ue,{c:()=>V});var l=$(8822),x=$(576);function V(he){return(0,x.m)(he[l.L])}},6495:(Tt,ue,$)=>{"use strict";$.d(ue,{T:()=>V});var l=$(2202),x=$(576);function V(he){return(0,x.m)(he?.[l.h])}},8239:(Tt,ue,$)=>{"use strict";$.d(ue,{t:()=>x});var l=$(576);function x(V){return(0,l.m)(V?.then)}},3260:(Tt,ue,$)=>{"use strict";$.d(ue,{L:()=>he,Q:()=>V});var l=$(655),x=$(576);function V(Te){return(0,l.FC)(this,arguments,function*(){const Pe=Te.getReader();try{for(;;){const{value:Me,done:He}=yield(0,l.qq)(Pe.read());if(He)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Me)}}finally{Pe.releaseLock()}})}function he(Te){return(0,x.m)(Te?.getReader)}},3532:(Tt,ue,$)=>{"use strict";$.d(ue,{K:()=>x});var l=$(576);function x(V){return V&&(0,l.m)(V.schedule)}},4482:(Tt,ue,$)=>{"use strict";$.d(ue,{A:()=>x,e:()=>V});var l=$(576);function x(he){return(0,l.m)(he?.lift)}function V(he){return Te=>{if(x(Te))return Te.lift(function(ye){try{return he(ye,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Tt,ue,$)=>{"use strict";function l(){}$.d(ue,{Z:()=>l})},9635:(Tt,ue,$)=>{"use strict";$.d(ue,{U:()=>V,z:()=>x});var l=$(4671);function x(...he){return V(he)}function V(he){return 0===he.length?l.y:1===he.length?he[0]:function(ye){return he.reduce((Pe,Me)=>Me(Pe),ye)}}},7849:(Tt,ue,$)=>{"use strict";$.d(ue,{h:()=>V});var l=$(2416),x=$(3410);function V(he){x.z.setTimeout(()=>{const{onUnhandledError:Te}=l.v;if(!Te)throw he;Te(he)})}},4532:(Tt,ue,$)=>{"use strict";function l(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ue,{z:()=>l})},5226:function(Tt){Tt.exports=function(){"use strict";var ue={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const l=I=>{const E={};for(const N in I)E[I[N]]="swal2-"+I[N];return E},x=l(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),V=l(["success","warning","info","question","error"]),he="SweetAlert2:",ye=I=>I.charAt(0).toUpperCase()+I.slice(1),Pe=I=>{console.warn(`${he} ${"object"==typeof I?I.join(" "):I}`)},Me=I=>{console.error(`${he} ${I}`)},He=[],z=(I,E)=>{(I=>{He.includes(I)||(He.push(I),Pe(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${E}" instead.`)},Q=I=>"function"==typeof I?I():I,qe=I=>I&&"function"==typeof I.toPromise,Fe=I=>qe(I)?I.toPromise():Promise.resolve(I),rt=I=>I&&Promise.resolve(I)===I,et=()=>document.body.querySelector(`.${x.container}`),le=I=>{const E=et();return E?E.querySelector(I):null},Ne=I=>le(`.${I}`),me=()=>Ne(x.popup),Ge=()=>Ne(x.icon),De=()=>Ne(x.title),xe=()=>Ne(x["html-container"]),Ze=()=>Ne(x.image),$e=()=>Ne(x["progress-steps"]),se=()=>Ne(x["validation-message"]),tt=()=>le(`.${x.actions} .${x.confirm}`),yt=()=>le(`.${x.actions} .${x.cancel}`),Qe=()=>le(`.${x.actions} .${x.deny}`),dt=()=>le(`.${x.loader}`),ge=()=>Ne(x.actions),_e=()=>Ne(x.footer),Ie=()=>Ne(x["timer-progress-bar"]),Se=()=>Ne(x.close),je=()=>{const I=Array.from(me().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((N,j)=>{const be=parseInt(N.getAttribute("tabindex")),At=parseInt(j.getAttribute("tabindex"));return be>At?1:be<At?-1:0}),E=Array.from(me().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(N=>"-1"!==N.getAttribute("tabindex"));return(I=>{const E=[];for(let N=0;N<I.length;N++)-1===E.indexOf(I[N])&&E.push(I[N]);return E})(I.concat(E)).filter(N=>Ye(N))},ht=()=>gt(document.body,x.shown)&&!gt(document.body,x["toast-shown"])&&!gt(document.body,x["no-backdrop"]),ze=()=>me()&&gt(me(),x.toast),vt={previousBodyPadding:null},kt=(I,E)=>{if(I.textContent="",E){const j=(new DOMParser).parseFromString(E,"text/html");Array.from(j.querySelector("head").childNodes).forEach(be=>{I.appendChild(be)}),Array.from(j.querySelector("body").childNodes).forEach(be=>{be instanceof HTMLVideoElement||be instanceof HTMLAudioElement?I.appendChild(be.cloneNode(!0)):I.appendChild(be)})}},gt=(I,E)=>{if(!E)return!1;const N=E.split(/\s+/);for(let j=0;j<N.length;j++)if(!I.classList.contains(N[j]))return!1;return!0},pn=(I,E,N)=>{if(((I,E)=>{Array.from(I.classList).forEach(N=>{!Object.values(x).includes(N)&&!Object.values(V).includes(N)&&!Object.values(E.showClass).includes(N)&&I.classList.remove(N)})})(I,E),E.customClass&&E.customClass[N]){if("string"!=typeof E.customClass[N]&&!E.customClass[N].forEach)return void Pe(`Invalid type of customClass.${N}! Expected string or iterable object, got "${typeof E.customClass[N]}"`);Rt(I,E.customClass[N])}},On=(I,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return I.querySelector(`.${x.popup} > .${x[E]}`);case"checkbox":return I.querySelector(`.${x.popup} > .${x.checkbox} input`);case"radio":return I.querySelector(`.${x.popup} > .${x.radio} input:checked`)||I.querySelector(`.${x.popup} > .${x.radio} input:first-child`);case"range":return I.querySelector(`.${x.popup} > .${x.range} input`);default:return I.querySelector(`.${x.popup} > .${x.input}`)}},wr=I=>{if(I.focus(),"file"!==I.type){const E=I.value;I.value="",I.value=E}},jn=(I,E,N)=>{!I||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(j=>{Array.isArray(I)?I.forEach(be=>{N?be.classList.add(j):be.classList.remove(j)}):N?I.classList.add(j):I.classList.remove(j)}))},Rt=(I,E)=>{jn(I,E,!0)},Fn=(I,E)=>{jn(I,E,!1)},Hn=(I,E)=>{const N=Array.from(I.children);for(let j=0;j<N.length;j++){const be=N[j];if(be instanceof HTMLElement&&gt(be,E))return be}},te=(I,E,N)=>{N===`${parseInt(N)}`&&(N=parseInt(N)),N||0===parseInt(N)?I.style[E]="number"==typeof N?`${N}px`:N:I.style.removeProperty(E)},K=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ie=I=>{I.style.display="none"},re=(I,E,N,j)=>{const be=I.querySelector(E);be&&(be.style[N]=j)},Le=function(I,E){E?K(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ie(I)},Ye=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),zt=I=>I.scrollHeight>I.clientHeight,Ht=I=>{const E=window.getComputedStyle(I),N=parseFloat(E.getPropertyValue("animation-duration")||"0"),j=parseFloat(E.getPropertyValue("transition-duration")||"0");return N>0||j>0},xt=function(I){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const N=Ie();Ye(N)&&(E&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition=`width ${I/1e3}s linear`,N.style.width="0%"},10))},Je={},In=I=>new Promise(E=>{if(!I)return E();const N=window.scrollX,j=window.scrollY;Je.restoreFocusTimeout=setTimeout(()=>{Je.previousActiveElement instanceof HTMLElement?(Je.previousActiveElement.focus(),Je.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(N,j)}),Sn=()=>typeof window>"u"||typeof document>"u",gn=`\n <div aria-labelledby="${x.title}" aria-describedby="${x["html-container"]}" class="${x.popup}" tabindex="-1">\n   <button type="button" class="${x.close}"></button>\n   <ul class="${x["progress-steps"]}"></ul>\n   <div class="${x.icon}"></div>\n   <img class="${x.image}" />\n   <h2 class="${x.title}" id="${x.title}"></h2>\n   <div class="${x["html-container"]}" id="${x["html-container"]}"></div>\n   <input class="${x.input}" />\n   <input type="file" class="${x.file}" />\n   <div class="${x.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${x.select}"></select>\n   <div class="${x.radio}"></div>\n   <label for="${x.checkbox}" class="${x.checkbox}">\n     <input type="checkbox" />\n     <span class="${x.label}"></span>\n   </label>\n   <textarea class="${x.textarea}"></textarea>\n   <div class="${x["validation-message"]}" id="${x["validation-message"]}"></div>\n   <div class="${x.actions}">\n     <div class="${x.loader}"></div>\n     <button type="button" class="${x.confirm}"></button>\n     <button type="button" class="${x.deny}"></button>\n     <button type="button" class="${x.cancel}"></button>\n   </div>\n   <div class="${x.footer}"></div>\n   <div class="${x["timer-progress-bar-container"]}">\n     <div class="${x["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Rn=()=>{Je.currentInstance.resetValidationMessage()},Kt=I=>{const E=(()=>{const I=et();return!!I&&(I.remove(),Fn([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(Sn())return void Me("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=x.container,E&&Rt(N,x["no-transition"]),kt(N,gn);const j=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);j.appendChild(N),(I=>{const E=me();E.setAttribute("role",I.toast?"alert":"dialog"),E.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||E.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Rt(et(),x.rtl)})(j),(()=>{const I=me(),E=Hn(I,x.input),N=Hn(I,x.file),j=I.querySelector(`.${x.range} input`),be=I.querySelector(`.${x.range} output`),At=Hn(I,x.select),En=I.querySelector(`.${x.checkbox} input`),Pr=Hn(I,x.textarea);E.oninput=Rn,N.onchange=Rn,At.onchange=Rn,En.onchange=Rn,Pr.oninput=Rn,j.oninput=()=>{Rn(),be.value=j.value},j.onchange=()=>{Rn(),be.value=j.value}})()},Kn=(I,E)=>{I instanceof HTMLElement?E.appendChild(I):"object"==typeof I?tr(I,E):I&&kt(E,I)},tr=(I,E)=>{I.jquery?Wr(E,I):kt(E,I.toString())},Wr=(I,E)=>{if(I.textContent="",0 in E)for(let N=0;N in E;N++)I.appendChild(E[N].cloneNode(!0));else I.appendChild(E.cloneNode(!0))},Ln=(()=>{if(Sn())return!1;const I=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const N in E)if(Object.prototype.hasOwnProperty.call(E,N)&&typeof I.style[N]<"u")return E[N];return!1})(),Ci=(I,E)=>{const N=ge(),j=dt();E.showConfirmButton||E.showDenyButton||E.showCancelButton?K(N):ie(N),pn(N,E,"actions"),function ci(I,E,N){const j=tt(),be=Qe(),At=yt();H(j,"confirm",N),H(be,"deny",N),H(At,"cancel",N),function G(I,E,N,j){j.buttonsStyling?(Rt([I,E,N],x.styled),j.confirmButtonColor&&(I.style.backgroundColor=j.confirmButtonColor,Rt(I,x["default-outline"])),j.denyButtonColor&&(E.style.backgroundColor=j.denyButtonColor,Rt(E,x["default-outline"])),j.cancelButtonColor&&(N.style.backgroundColor=j.cancelButtonColor,Rt(N,x["default-outline"]))):Fn([I,E,N],x.styled)}(j,be,At,N),N.reverseButtons&&(N.toast?(I.insertBefore(At,j),I.insertBefore(be,j)):(I.insertBefore(At,E),I.insertBefore(be,E),I.insertBefore(j,E)))}(N,j,E),kt(j,E.loaderHtml),pn(j,E,"loader")};function H(I,E,N){Le(I,N[`show${ye(E)}Button`],"inline-block"),kt(I,N[`${E}ButtonText`]),I.setAttribute("aria-label",N[`${E}ButtonAriaLabel`]),I.className=x[E],pn(I,N,`${E}Button`),Rt(I,N[`${E}ButtonClass`])}const L=(I,E)=>{const N=et();N&&(function O(I,E){"string"==typeof E?I.style.background=E:E||Rt([document.documentElement,document.body],x["no-backdrop"])}(N,E.backdrop),function q(I,E){E in x?Rt(I,x[E]):(Pe('The "position" parameter is not valid, defaulting to "center"'),Rt(I,x.center))}(N,E.position),function Ce(I,E){if(E&&"string"==typeof E){const N=`grow-${E}`;N in x&&Rt(I,x[N])}}(N,E.grow),pn(N,E,"container"))};const ut=["input","file","range","select","radio","checkbox","textarea"],Ot=I=>{if(!ee[I.input])return void Me(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const E=Ts(I.input),N=ee[I.input](E,I);K(E),I.inputAutoFocus&&setTimeout(()=>{wr(N)})},Ft=(I,E)=>{const N=On(me(),I);if(N){(I=>{for(let E=0;E<I.attributes.length;E++){const N=I.attributes[E].name;["type","value","style"].includes(N)||I.removeAttribute(N)}})(N);for(const j in E)N.setAttribute(j,E[j])}},Pn=I=>{const E=Ts(I.input);"object"==typeof I.customClass&&Rt(E,I.customClass.input)},jt=(I,E)=>{(!I.placeholder||E.inputPlaceholder)&&(I.placeholder=E.inputPlaceholder)},nr=(I,E,N)=>{if(N.inputLabel){I.id=x.input;const j=document.createElement("label"),be=x["input-label"];j.setAttribute("for",I.id),j.className=be,"object"==typeof N.customClass&&Rt(j,N.customClass.inputLabel),j.innerText=N.inputLabel,E.insertAdjacentElement("beforebegin",j)}},Ts=I=>Hn(me(),x[I]||x.input),pe=(I,E)=>{["string","number"].includes(typeof E)?I.value=`${E}`:rt(E)||Pe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof E}"`)},ee={};ee.text=ee.email=ee.password=ee.number=ee.tel=ee.url=(I,E)=>(pe(I,E.inputValue),nr(I,I,E),jt(I,E),I.type=E.input,I),ee.file=(I,E)=>(nr(I,I,E),jt(I,E),I),ee.range=(I,E)=>{const N=I.querySelector("input"),j=I.querySelector("output");return pe(N,E.inputValue),N.type=E.input,pe(j,E.inputValue),nr(N,I,E),I},ee.select=(I,E)=>{if(I.textContent="",E.inputPlaceholder){const N=document.createElement("option");kt(N,E.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,I.appendChild(N)}return nr(I,I,E),I},ee.radio=I=>(I.textContent="",I),ee.checkbox=(I,E)=>{const N=On(me(),"checkbox");N.value="1",N.id=x.checkbox,N.checked=Boolean(E.inputValue);const j=I.querySelector("span");return kt(j,E.inputPlaceholder),N},ee.textarea=(I,E)=>{pe(I,E.inputValue),jt(I,E),nr(I,I,E);return setTimeout(()=>{if("MutationObserver"in window){const j=parseInt(window.getComputedStyle(me()).width);new MutationObserver(()=>{const At=I.offsetWidth+(j=>parseInt(window.getComputedStyle(j).marginLeft)+parseInt(window.getComputedStyle(j).marginRight))(I);me().style.width=At>j?`${At}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Be=(I,E)=>{const N=xe();pn(N,E,"htmlContainer"),E.html?(Kn(E.html,N),K(N,"block")):E.text?(N.textContent=E.text,K(N,"block")):ie(N),((I,E)=>{const N=me(),j=ue.innerParams.get(I),be=!j||E.input!==j.input;ut.forEach(At=>{const En=Hn(N,x[At]);Ft(At,E.inputAttributes),En.className=x[At],be&&ie(En)}),E.input&&(be&&Ot(E),Pn(E))})(I,E)},nn=(I,E)=>{for(const N in V)E.icon!==N&&Fn(I,V[N]);Rt(I,V[E.icon]),pr(I,E),Ct(),pn(I,E,"icon")},Ct=()=>{const I=me(),E=window.getComputedStyle(I).getPropertyValue("background-color"),N=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let j=0;j<N.length;j++)N[j].style.backgroundColor=E},Dr=(I,E)=>{let j,N=I.innerHTML;E.iconHtml?j=Hl(E.iconHtml):"success"===E.icon?(j='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',N=N.replace(/ style=".*?"/g,"")):j="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Hl({question:"?",warning:"!",info:"i"}[E.icon]),N.trim()!==j.trim()&&kt(I,j)},pr=(I,E)=>{if(E.iconColor){I.style.color=E.iconColor,I.style.borderColor=E.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])re(I,N,"backgroundColor",E.iconColor);re(I,".swal2-success-ring","borderColor",E.iconColor)}},Hl=I=>`<div class="${x["icon-content"]}">${I}</div>`,gr=(I,E)=>{I.className=`${x.popup} ${Ye(I)?E.showClass.popup:""}`,E.toast?(Rt([document.documentElement,document.body],x["toast-shown"]),Rt(I,x.toast)):Rt(I,x.modal),pn(I,E,"popup"),"string"==typeof E.customClass&&Rt(I,E.customClass),E.icon&&Rt(I,x[`icon-${E.icon}`])},Jt=I=>{const E=document.createElement("li");return Rt(E,x["progress-step"]),kt(E,I),E},zn=I=>{const E=document.createElement("li");return Rt(E,x["progress-step-line"]),I.progressStepsDistance&&te(E,"width",I.progressStepsDistance),E},Yi=(I,E)=>{((I,E)=>{const N=et(),j=me();E.toast?(te(N,"width",E.width),j.style.width="100%",j.insertBefore(dt(),Ge())):te(j,"width",E.width),te(j,"padding",E.padding),E.color&&(j.style.color=E.color),E.background&&(j.style.background=E.background),ie(se()),gr(j,E)})(0,E),L(0,E),((I,E)=>{const N=$e();E.progressSteps&&0!==E.progressSteps.length?(K(N),N.textContent="",E.currentProgressStep>=E.progressSteps.length&&Pe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((j,be)=>{const At=Jt(j);if(N.appendChild(At),be===E.currentProgressStep&&Rt(At,x["active-progress-step"]),be!==E.progressSteps.length-1){const En=zn(E);N.appendChild(En)}})):ie(N)})(0,E),((I,E)=>{const N=ue.innerParams.get(I),j=Ge();N&&E.icon===N.icon?(Dr(j,E),nn(j,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(V).indexOf(E.icon)?(Me(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${E.icon}"`),ie(j)):(K(j),Dr(j,E),nn(j,E),Rt(j,E.showClass.icon)):ie(j)})(I,E),((I,E)=>{const N=Ze();E.imageUrl?(K(N,""),N.setAttribute("src",E.imageUrl),N.setAttribute("alt",E.imageAlt),te(N,"width",E.imageWidth),te(N,"height",E.imageHeight),N.className=x.image,pn(N,E,"image")):ie(N)})(0,E),((I,E)=>{const N=De();Le(N,E.title||E.titleText,"block"),E.title&&Kn(E.title,N),E.titleText&&(N.innerText=E.titleText),pn(N,E,"title")})(0,E),((I,E)=>{const N=Se();kt(N,E.closeButtonHtml),pn(N,E,"closeButton"),Le(N,E.showCloseButton),N.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),Be(I,E),Ci(0,E),((I,E)=>{const N=_e();Le(N,E.footer),E.footer&&Kn(E.footer,N),pn(N,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(me())};function Cr(){const I=ue.innerParams.get(this);if(!I)return;const E=ue.domCache.get(this);ie(E.loader),ze()?I.icon&&K(Ge()):mr(E),Fn([E.popup,E.actions],x.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const mr=I=>{const E=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));E.length?K(E[0],"inline-block"):!Ye(tt())&&!Ye(Qe())&&!Ye(yt())&&ie(I.actions)};const _r=()=>tt()&&tt().click(),Ir=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),go=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},cr=(I,E)=>{const N=je();if(N.length)return(I+=E)===N.length?I=0:-1===I&&(I=N.length-1),void N[I].focus();me().focus()},js=["ArrowRight","ArrowDown"],Hs=["ArrowLeft","ArrowUp"],Ii=(I,E,N)=>{const j=ue.innerParams.get(I);j&&(E.isComposing||229===E.keyCode||(j.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Gs(I,E,j):"Tab"===E.key?ui(E):[...js,...Hs].includes(E.key)?Mn(E.key):"Escape"===E.key&&Ei(E,j,N)))},Gs=(I,E,N)=>{if(Q(N.allowEnterKey)&&E.target&&I.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(N.input))return;_r(),E.preventDefault()}},ui=I=>{const E=I.target,N=je();let j=-1;for(let be=0;be<N.length;be++)if(E===N[be]){j=be;break}cr(j,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Mn=I=>{const E=tt(),N=Qe(),j=yt();if(document.activeElement instanceof HTMLElement&&![E,N,j].includes(document.activeElement))return;const At=js.includes(I)?"nextElementSibling":"previousElementSibling";let En=document.activeElement;for(let Pr=0;Pr<ge().children.length;Pr++){if(En=En[At],!En)return;if(En instanceof HTMLButtonElement&&Ye(En))break}En instanceof HTMLButtonElement&&En.focus()},Ei=(I,E,N)=>{Q(E.allowEscapeKey)&&(I.preventDefault(),N(Ir.esc))};var zs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ws=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},Ss=()=>{const I=navigator.userAgent,E=!!I.match(/iPad/i)||!!I.match(/iPhone/i),N=!!I.match(/WebKit/i);E&&N&&!I.match(/CriOS/i)&&me().scrollHeight>window.innerHeight-44&&(et().style.paddingBottom="44px")},Er=()=>{const I=et();let E;I.ontouchstart=N=>{E=Lp(N)},I.ontouchmove=N=>{E&&(N.preventDefault(),N.stopPropagation())}},Lp=I=>{const E=I.target,N=et();return!qr(I)&&!Li(I)&&(E===N||!zt(N)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(zt(xe())&&xe().contains(E)))},qr=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Li=I=>I.touches&&I.touches.length>1,Ko=()=>{if(gt(document.body,x.iosfix)){const I=parseInt(document.body.style.top,10);Fn(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},Yo=()=>{null===vt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(vt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vt.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=x["scrollbar-measure"],document.body.appendChild(I);const E=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),E})()}px`)},_o=()=>{null!==vt.previousBodyPadding&&(document.body.style.paddingRight=`${vt.previousBodyPadding}px`,vt.previousBodyPadding=null)};function Nr(I,E,N,j){ze()?Gl(I,j):(In(N).then(()=>Gl(I,j)),go(Je)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),ht()&&(_o(),Ko(),Ws()),function cs(){Fn([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}()}function Jo(I){I=lh(I);const E=zs.swalPromiseResolve.get(this),N=Ji(this);this.isAwaitingPromise()?I.isDismissed||(yo(this),E(I)):N&&E(I)}const Ji=I=>{const E=me();if(!E)return!1;const N=ue.innerParams.get(I);if(!N||gt(E,N.hideClass.popup))return!1;Fn(E,N.showClass.popup),Rt(E,N.hideClass.popup);const j=et();return Fn(j,N.showClass.backdrop),Rt(j,N.hideClass.backdrop),uu(I,E,N),!0};const yo=I=>{I.isAwaitingPromise()&&(ue.awaitingPromise.delete(I),ue.innerParams.get(I)||I._destroy())},lh=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),uu=(I,E,N)=>{const j=et(),be=Ln&&Ht(E);"function"==typeof N.willClose&&N.willClose(E),be?ch(I,E,j,N.returnFocus,N.didClose):Nr(I,j,N.returnFocus,N.didClose)},ch=(I,E,N,j,be)=>{Je.swalCloseEventFinishedCallback=Nr.bind(null,I,N,j,be),E.addEventListener(Ln,function(At){At.target===E&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback)})},Gl=(I,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(I.params)(),I._destroy()})};function zl(I,E,N){const j=ue.domCache.get(I);E.forEach(be=>{j[be].disabled=N})}function Wl(I,E){if(I)if("radio"===I.type){const j=I.parentNode.parentNode.querySelectorAll("input");for(let be=0;be<j.length;be++)j[be].disabled=E}else I.disabled=E}const qs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ms=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],bo={},Qi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ph=I=>Object.prototype.hasOwnProperty.call(qs,I),ql=I=>-1!==Ms.indexOf(I),La=I=>bo[I],gh=I=>{ph(I)||Pe(`Unknown parameter "${I}"`)},Zs=I=>{Qi.includes(I)&&Pe(`The parameter "${I}" is incompatible with toasts`)},du=I=>{La(I)&&z(I,La(I))};const Xo=I=>{const E={};return Object.keys(I).forEach(N=>{ql(N)?E[N]=I[N]:Pe(`Invalid parameter to update: ${N}`)}),E};const Wn=I=>{Va(I),delete I.params,delete Je.keydownHandler,delete Je.keydownTarget,delete Je.currentInstance},Va=I=>{I.isAwaitingPromise()?(Ua(ue,I),ue.awaitingPromise.set(I,!0)):(Ua(zs,I),Ua(ue,I))},Ua=(I,E)=>{for(const N in I)I[N].delete(E)};var rr=Object.freeze({__proto__:null,_destroy:function ea(){const I=ue.domCache.get(this),E=ue.innerParams.get(this);E?(I.popup&&Je.swalCloseEventFinishedCallback&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),Wn(this)):Va(this)},close:Jo,closeModal:Jo,closePopup:Jo,closeToast:Jo,disableButtons:function Qo(){zl(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function hh(){Wl(this.getInput(),!0)},disableLoading:Cr,enableButtons:function uh(){zl(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function dh(){Wl(this.getInput(),!1)},getInput:function Bn(I){const E=ue.innerParams.get(I||this),N=ue.domCache.get(I||this);return N?On(N.popup,E.input):null},handleAwaitingPromise:yo,hideLoading:Cr,isAwaitingPromise:function ah(){return!!ue.awaitingPromise.get(this)},rejectPromise:function Bp(I){const E=zs.swalPromiseReject.get(this);yo(this),E&&E(I)},resetValidationMessage:function fh(){const I=ue.domCache.get(this);I.validationMessage&&ie(I.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),Fn(E,x.inputerror))},showValidationMessage:function vo(I){const E=ue.domCache.get(this),N=ue.innerParams.get(this);kt(E.validationMessage,I),E.validationMessage.className=x["validation-message"],N.customClass&&N.customClass.validationMessage&&Rt(E.validationMessage,N.customClass.validationMessage),K(E.validationMessage);const j=this.getInput();j&&(j.setAttribute("aria-invalid",!0),j.setAttribute("aria-describedby",x["validation-message"]),wr(j),Rt(j,x.inputerror))},update:function hu(I){const E=me(),N=ue.innerParams.get(this);if(!E||gt(E,N.hideClass.popup))return void Pe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const j=Xo(I),be=Object.assign({},N,j);Yi(this,be),ue.innerParams.set(this,be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const Ti=I=>{let E=me();E||new tc,E=me();const N=dt();ze()?ie(Ge()):ta(E,I),K(N),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},ta=(I,E)=>{const N=ge(),j=dt();!E&&Ye(tt())&&(E=tt()),K(N),E&&(ie(E),j.setAttribute("data-button-to-replace",E.className)),j.parentNode.insertBefore(j,E),Rt([I,N],x.loading)},$a=I=>I.checked?1:0,Ks=I=>I.checked?I.value:null,xr=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,ja=(I,E)=>{const N=me(),j=be=>{fu[E.input](N,Bi(be),E)};qe(E.inputOptions)||rt(E.inputOptions)?(Ti(tt()),Fe(E.inputOptions).then(be=>{I.hideLoading(),j(be)})):"object"==typeof E.inputOptions?j(E.inputOptions):Me("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof E.inputOptions)},wo=(I,E)=>{const N=I.getInput();ie(N),Fe(E.inputValue).then(j=>{N.value="number"===E.input?`${parseFloat(j)||0}`:`${j}`,K(N),N.focus(),I.hideLoading()}).catch(j=>{Me(`Error in inputValue promise: ${j}`),N.value="",K(N),N.focus(),I.hideLoading()})},fu={select:(I,E,N)=>{const j=Hn(I,x.select),be=(At,En,Pr)=>{const kr=document.createElement("option");kr.value=Pr,kt(kr,En),kr.selected=Ha(Pr,N.inputValue),At.appendChild(kr)};E.forEach(At=>{const En=At[0],Pr=At[1];if(Array.isArray(Pr)){const kr=document.createElement("optgroup");kr.label=En,kr.disabled=!1,j.appendChild(kr),Pr.forEach(Ui=>be(kr,Ui[1],Ui[0]))}else be(j,Pr,En)}),j.focus()},radio:(I,E,N)=>{const j=Hn(I,x.radio);E.forEach(At=>{const En=At[0],Pr=At[1],kr=document.createElement("input"),Ui=document.createElement("label");kr.type="radio",kr.name=x.radio,kr.value=En,Ha(En,N.inputValue)&&(kr.checked=!0);const hs=document.createElement("span");kt(hs,Pr),hs.className=x.label,Ui.appendChild(kr),Ui.appendChild(hs),j.appendChild(Ui)});const be=j.querySelectorAll("input");be.length&&be[0].focus()}},Bi=I=>{const E=[];return typeof Map<"u"&&I instanceof Map?I.forEach((N,j)=>{let be=N;"object"==typeof be&&(be=Bi(be)),E.push([j,be])}):Object.keys(I).forEach(N=>{let j=I[N];"object"==typeof j&&(j=Bi(j)),E.push([N,j])}),E},Ha=(I,E)=>E&&E.toString()===I.toString(),_h=(I,E)=>{const N=ue.innerParams.get(I);if(!N.input)return void Me(`The "input" parameter is needed to be set when using returnInputValueOn${ye(E)}`);const j=((I,E)=>{const N=I.getInput();if(!N)return null;switch(E.input){case"checkbox":return $a(N);case"radio":return Ks(N);case"file":return xr(N);default:return E.inputAutoTrim?N.value.trim():N.value}})(I,N);N.inputValidator?Zl(I,j,E):I.getInput().checkValidity()?"deny"===E?za(I,j):qa(I,j):(I.enableButtons(),I.showValidationMessage(N.validationMessage))},Zl=(I,E,N)=>{const j=ue.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Fe(j.inputValidator(E,j.validationMessage))).then(At=>{I.enableButtons(),I.enableInput(),At?I.showValidationMessage(At):"deny"===N?za(I,E):qa(I,E)})},za=(I,E)=>{const N=ue.innerParams.get(I||void 0);N.showLoaderOnDeny&&Ti(Qe()),N.preDeny?(ue.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Fe(N.preDeny(E,N.validationMessage))).then(be=>{!1===be?(I.hideLoading(),yo(I)):I.close({isDenied:!0,value:typeof be>"u"?E:be})}).catch(be=>Kl(I||void 0,be))):I.close({isDenied:!0,value:E})},Wa=(I,E)=>{I.close({isConfirmed:!0,value:E})},Kl=(I,E)=>{I.rejectPromise(E)},qa=(I,E)=>{const N=ue.innerParams.get(I||void 0);N.showLoaderOnConfirm&&Ti(),N.preConfirm?(I.resetValidationMessage(),ue.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Fe(N.preConfirm(E,N.validationMessage))).then(be=>{Ye(se())||!1===be?(I.hideLoading(),yo(I)):Wa(I,typeof be>"u"?E:be)}).catch(be=>Kl(I||void 0,be))):Wa(I,E)},we=(I,E,N)=>{E.popup.onclick=()=>{const j=ue.innerParams.get(I);j&&(cn(j)||j.timer||j.input)||N(Ir.close)}},cn=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let Do=!1;const Yl=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(E){I.container.onmouseup=void 0,E.target===I.container&&(Do=!0)}}},Yn=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(E){I.popup.onmouseup=void 0,(E.target===I.popup||I.popup.contains(E.target))&&(Do=!0)}}},vh=(I,E,N)=>{E.container.onclick=j=>{const be=ue.innerParams.get(I);Do?Do=!1:j.target===E.container&&Q(be.allowOutsideClick)&&N(Ir.backdrop)}},Vi=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const ra=()=>{if(Je.timeout)return(()=>{const I=Ie(),E=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const N=parseInt(window.getComputedStyle(I).width);I.style.width=E/N*100+"%"})(),Je.timeout.stop()},Or=()=>{if(Je.timeout){const I=Je.timeout.start();return xt(I),I}};let us=!1;const Ka={};const Vp=I=>{for(let E=I.target;E&&E!==document;E=E.parentNode)for(const N in Ka){const j=E.getAttribute(N);if(j)return void Ka[N].fire({template:j})}};var Up=Object.freeze({__proto__:null,argsToParams:I=>{const E={};return"object"!=typeof I[0]||Vi(I[0])?["title","html","icon"].forEach((N,j)=>{const be=I[j];"string"==typeof be||Vi(be)?E[N]=be:void 0!==be&&Me(`Unexpected type of ${N}! Expected "string" or "Element", got ${typeof be}`)}):Object.assign(E,I[0]),E},bindClickHandler:function ia(){Ka[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,us||(document.body.addEventListener("click",Vp),us=!0)},clickCancel:()=>yt()&&yt().click(),clickConfirm:_r,clickDeny:()=>Qe()&&Qe().click(),enableLoading:Ti,fire:function pu(){for(var E=arguments.length,N=new Array(E),j=0;j<E;j++)N[j]=arguments[j];return new this(...N)},getActions:ge,getCancelButton:yt,getCloseButton:Se,getConfirmButton:tt,getContainer:et,getDenyButton:Qe,getFocusableElements:je,getFooter:_e,getHtmlContainer:xe,getIcon:Ge,getIconContent:()=>Ne(x["icon-content"]),getImage:Ze,getInputLabel:()=>Ne(x["input-label"]),getLoader:dt,getPopup:me,getProgressSteps:$e,getTimerLeft:()=>Je.timeout&&Je.timeout.getTimerLeft(),getTimerProgressBar:Ie,getTitle:De,getValidationMessage:se,increaseTimer:I=>{if(Je.timeout){const E=Je.timeout.increase(I);return xt(E,!0),E}},isDeprecatedParameter:La,isLoading:()=>me().hasAttribute("data-loading"),isTimerRunning:()=>Je.timeout&&Je.timeout.isRunning(),isUpdatableParameter:ql,isValidParameter:ph,isVisible:()=>Ye(me()),mixin:function gu(I){return class E extends(this){_main(j,be){return super._main(j,Object.assign({},I,be))}}},resumeTimer:Or,showLoading:Ti,stopTimer:ra,toggleTimer:()=>{const I=Je.timeout;return I&&(I.running?ra():Or())}});class sa{constructor(E,N){this.callback=E,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const N=this.running;return N&&this.stop(),this.remaining+=E,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const oa=["swal-title","swal-html","swal-footer"],_u=I=>{const E={};return Array.from(I.querySelectorAll("swal-param")).forEach(j=>{Ns(j,["name","value"]);const be=j.getAttribute("name"),At=j.getAttribute("value");E[be]="boolean"==typeof qs[be]?"false"!==At:"object"==typeof qs[be]?JSON.parse(At):At}),E},yu=I=>{const E={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(j=>{const be=j.getAttribute("name"),At=j.getAttribute("value");E[be]=new Function(`return ${At}`)()}),E},bh=I=>{const E={};return Array.from(I.querySelectorAll("swal-button")).forEach(j=>{Ns(j,["type","color","aria-label"]);const be=j.getAttribute("type");E[`${be}ButtonText`]=j.innerHTML,E[`show${ye(be)}Button`]=!0,j.hasAttribute("color")&&(E[`${be}ButtonColor`]=j.getAttribute("color")),j.hasAttribute("aria-label")&&(E[`${be}ButtonAriaLabel`]=j.getAttribute("aria-label"))}),E},Ya=I=>{const E={},N=I.querySelector("swal-image");return N&&(Ns(N,["src","width","height","alt"]),N.hasAttribute("src")&&(E.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(E.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(E.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(E.imageAlt=N.getAttribute("alt"))),E},wh=I=>{const E={},N=I.querySelector("swal-icon");return N&&(Ns(N,["type","color"]),N.hasAttribute("type")&&(E.icon=N.getAttribute("type")),N.hasAttribute("color")&&(E.iconColor=N.getAttribute("color")),E.iconHtml=N.innerHTML),E},Ql=I=>{const E={},N=I.querySelector("swal-input");N&&(Ns(N,["type","label","placeholder","value"]),E.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(E.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(E.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(E.inputValue=N.getAttribute("value")));const j=Array.from(I.querySelectorAll("swal-input-option"));return j.length&&(E.inputOptions={},j.forEach(be=>{Ns(be,["value"]);const At=be.getAttribute("value");E.inputOptions[At]=be.innerHTML})),E},Dh=(I,E)=>{const N={};for(const j in E){const be=E[j],At=I.querySelector(be);At&&(Ns(At,[]),N[be.replace(/^swal-/,"")]=At.innerHTML.trim())}return N},Xl=I=>{const E=oa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(N=>{const j=N.tagName.toLowerCase();E.includes(j)||Pe(`Unrecognized element <${j}>`)})},Ns=(I,E)=>{Array.from(I.attributes).forEach(N=>{-1===E.indexOf(N.name)&&Pe([`Unrecognized attribute "${N.name}" on <${I.tagName.toLowerCase()}>.`,E.length?`Allowed attributes are: ${E.join(", ")}`:"To set the value, use HTML within the element."])})},$p=I=>{const E=et(),N=me();"function"==typeof I.willOpen&&I.willOpen(N);const be=window.getComputedStyle(document.body).overflowY;Ch(E,N,I),setTimeout(()=>{xs(E,N)},10),ht()&&(kn(E,I.scrollbarPadding,be),Array.from(document.body.children).forEach(E=>{E===et()||E.contains(et())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!ze()&&!Je.previousActiveElement&&(Je.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(N)),Fn(E,x["no-transition"])},Rr=I=>{const E=me();if(I.target!==E)return;const N=et();E.removeEventListener(Ln,Rr),N.style.overflowY="auto"},xs=(I,E)=>{Ln&&Ht(E)?(I.style.overflowY="hidden",E.addEventListener(Ln,Rr)):I.style.overflowY="auto"},kn=(I,E,N)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!gt(document.body,x.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",Rt(document.body,x.iosfix),Er(),Ss()}})(),E&&"hidden"!==N&&Yo(),setTimeout(()=>{I.scrollTop=0})},Ch=(I,E,N)=>{Rt(I,N.showClass.backdrop),E.style.setProperty("opacity","0","important"),K(E,"grid"),setTimeout(()=>{Rt(E,N.showClass.popup),E.style.removeProperty("opacity")},10),Rt([document.documentElement,document.body],x.shown),N.heightAuto&&N.backdrop&&!N.toast&&Rt([document.documentElement,document.body],x["height-auto"])};var Eo={email:(I,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(I,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function Hp(I){(function vu(I){I.inputValidator||Object.keys(Eo).forEach(E=>{I.input===E&&(I.inputValidator=Eo[E])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&Pe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function jp(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(Pe('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Kt(I)}let ds;class Os{constructor(){if(typeof window>"u")return;ds=this;for(var E=arguments.length,N=new Array(E),j=0;j<E;j++)N[j]=arguments[j];const be=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:be,writable:!1,enumerable:!0,configurable:!0}});const At=ds._main(ds.params);ue.promise.set(this,At)}_main(E){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&Pe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in I)gh(E),I.toast&&Zs(E),du(E)})(Object.assign({},N,E)),Je.currentInstance&&(Je.currentInstance._destroy(),ht()&&Ws()),Je.currentInstance=ds;const j=bu(E,N);Hp(j),Object.freeze(j),Je.timeout&&(Je.timeout.stop(),delete Je.timeout),clearTimeout(Je.restoreFocusTimeout);const be=wu(ds);return Yi(ds,j),ue.innerParams.set(ds,j),ec(ds,be,j)}then(E){return ue.promise.get(this).then(E)}finally(E){return ue.promise.get(this).finally(E)}}const ec=(I,E,N)=>new Promise((j,be)=>{const At=En=>{I.close({isDismissed:!0,dismiss:En})};zs.swalPromiseResolve.set(I,j),zs.swalPromiseReject.set(I,be),E.confirmButton.onclick=()=>{(I=>{const E=ue.innerParams.get(I);I.disableButtons(),E.input?_h(I,"confirm"):qa(I,!0)})(I)},E.denyButton.onclick=()=>{(I=>{const E=ue.innerParams.get(I);I.disableButtons(),E.returnInputValueOnDeny?_h(I,"deny"):za(I,!1)})(I)},E.cancelButton.onclick=()=>{((I,E)=>{I.disableButtons(),E(Ir.cancel)})(I,At)},E.closeButton.onclick=()=>{At(Ir.close)},((I,E,N)=>{ue.innerParams.get(I).toast?we(I,E,N):(Yl(E),Yn(E),vh(I,E,N))})(I,E,At),((I,E,N,j)=>{go(E),N.toast||(E.keydownHandler=be=>Ii(I,be,j),E.keydownTarget=N.keydownListenerCapture?window:me(),E.keydownListenerCapture=N.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(I,Je,N,At),((I,E)=>{"select"===E.input||"radio"===E.input?ja(I,E):["text","email","number","tel","textarea"].includes(E.input)&&(qe(E.inputValue)||rt(E.inputValue))&&(Ti(tt()),wo(I,E))})(I,N),$p(N),Qa(Je,N,At),aa(E,N),setTimeout(()=>{E.container.scrollTop=0})}),bu=(I,E)=>{const N=(I=>{const E="string"==typeof I.template?document.querySelector(I.template):I.template;if(!E)return{};const N=E.content;return Xl(N),Object.assign(_u(N),yu(N),bh(N),Ya(N),wh(N),Ql(N),Dh(N,oa))})(I),j=Object.assign({},qs,E,N,I);return j.showClass=Object.assign({},qs.showClass,j.showClass),j.hideClass=Object.assign({},qs.hideClass,j.hideClass),j},wu=I=>{const E={popup:me(),container:et(),actions:ge(),confirmButton:tt(),denyButton:Qe(),cancelButton:yt(),loader:dt(),closeButton:Se(),validationMessage:se(),progressSteps:$e()};return ue.domCache.set(I,E),E},Qa=(I,E,N)=>{const j=Ie();ie(j),E.timer&&(I.timeout=new sa(()=>{N("timer"),delete I.timeout},E.timer),E.timerProgressBar&&(K(j),pn(j,E,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&xt(E.timer)})))},aa=(I,E)=>{if(!E.toast){if(!Q(E.allowEnterKey))return void Js();la(I,E)||cr(-1,1)}},la=(I,E)=>E.focusDeny&&Ye(I.denyButton)?(I.denyButton.focus(),!0):E.focusCancel&&Ye(I.cancelButton)?(I.cancelButton.focus(),!0):!(!E.focusConfirm||!Ye(I.confirmButton)||(I.confirmButton.focus(),0)),Js=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,E=localStorage.getItem("swal-initiation");E?(I.getTime()-Date.parse(E))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const N=document.createElement("audio");N.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",N.loop=!0,document.body.appendChild(N),setTimeout(()=>{N.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(Os.prototype,rr),Object.assign(Os,Up),Object.keys(rr).forEach(I=>{Os[I]=function(){if(ds)return ds[I](...arguments)}}),Os.DismissReason=Ir,Os.version="11.7.3";const tc=Os;return tc.default=tc,tc}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ue,$){var l=ue.createElement("style");if(ue.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=$);else try{l.innerHTML=$}catch{l.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Tt,ue,$)=>{"use strict";function he(ge,_e){var Ie={};for(var Se in ge)Object.prototype.hasOwnProperty.call(ge,Se)&&_e.indexOf(Se)<0&&(Ie[Se]=ge[Se]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Se=Object.getOwnPropertySymbols(ge);Ke<Se.length;Ke++)_e.indexOf(Se[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ge,Se[Ke])&&(Ie[Se[Ke]]=ge[Se[Ke]])}return Ie}function Q(ge,_e,Ie,Se){return new(Ie||(Ie=Promise))(function(je,ht){function ze(kt){try{vt(Se.next(kt))}catch(gt){ht(gt)}}function Bt(kt){try{vt(Se.throw(kt))}catch(gt){ht(gt)}}function vt(kt){kt.done?je(kt.value):function Ke(je){return je instanceof Ie?je:new Ie(function(ht){ht(je)})}(kt.value).then(ze,Bt)}vt((Se=Se.apply(ge,_e||[])).next())})}function Oe(ge){return this instanceof Oe?(this.v=ge,this):new Oe(ge)}function De(ge,_e,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Se=Ie.apply(ge,_e||[]),je=[];return Ke={},ht("next"),ht("throw"),ht("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function ht(qt){Se[qt]&&(Ke[qt]=function(pn){return new Promise(function(On,wr){je.push([qt,pn,On,wr])>1||ze(qt,pn)})})}function ze(qt,pn){try{!function Bt(qt){qt.value instanceof Oe?Promise.resolve(qt.value.v).then(vt,kt):gt(je[0][2],qt)}(Se[qt](pn))}catch(On){gt(je[0][3],On)}}function vt(qt){ze("next",qt)}function kt(qt){ze("throw",qt)}function gt(qt,pn){qt(pn),je.shift(),je.length&&ze(je[0][0],je[0][1])}}function Ze(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,_e=ge[Symbol.asyncIterator];return _e?_e.call(ge):(ge=function et(ge){var _e="function"==typeof Symbol&&Symbol.iterator,Ie=_e&&ge[_e],Se=0;if(Ie)return Ie.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Se>=ge.length&&(ge=void 0),{value:ge&&ge[Se++],done:!ge}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Ie={},Se("next"),Se("throw"),Se("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Se(je){Ie[je]=ge[je]&&function(ht){return new Promise(function(ze,Bt){!function Ke(je,ht,ze,Bt){Promise.resolve(Bt).then(function(vt){je({value:vt,done:ze})},ht)}(ze,Bt,(ht=ge[je](ht)).done,ht.value)})}}}$.d(ue,{FC:()=>De,KL:()=>Ze,_T:()=>he,mG:()=>Q,qq:()=>Oe})},4650:(Tt,ue,$)=>{"use strict";$.d(ue,{$8M:()=>cc,$WT:()=>Dr,$Z:()=>Dy,AFp:()=>$v,ALo:()=>yD,AaK:()=>Me,BQk:()=>tm,CHM:()=>Do,CRH:()=>SD,CZH:()=>Vr,CqO:()=>Vc,D6c:()=>eM,EJc:()=>xd,EpF:()=>t1,F$t:()=>a1,F4k:()=>If,FYo:()=>tT,FiY:()=>da,Gf:()=>TD,GfV:()=>mw,Gpc:()=>z,Hsn:()=>$y,Ikx:()=>sv,JOm:()=>fs,KtG:()=>Yl,LFG:()=>Kt,LMc:()=>a2,LSH:()=>rw,Lbi:()=>Gc,Lck:()=>PA,MAs:()=>e1,MGl:()=>md,MMx:()=>Iv,MR2:()=>gi,MT6:()=>ev,NdJ:()=>Uy,O4$:()=>Ch,OlP:()=>vn,Oqu:()=>Jy,P3R:()=>ly,PXZ:()=>Zf,Q6J:()=>By,QGY:()=>Cf,Qsj:()=>nk,QtT:()=>yv,R0b:()=>ys,RDi:()=>BE,Rgc:()=>xl,SBq:()=>Ig,SDv:()=>_v,Sil:()=>kS,Suo:()=>AD,TTD:()=>ql,TgZ:()=>Qg,Tol:()=>am,Udp:()=>qy,VKq:()=>$A,W1O:()=>OD,WLB:()=>Uf,X6Q:()=>jS,XFs:()=>re,Xpm:()=>jt,Xts:()=>ow,Y36:()=>id,YKP:()=>tD,YNc:()=>Lc,Yjl:()=>nn,Yz7:()=>gt,Z0I:()=>wr,ZZ4:()=>a0,_Bn:()=>Dv,_UZ:()=>Vy,_Vd:()=>ya,_c5:()=>TC,_uU:()=>S1,aQg:()=>l0,c2e:()=>RS,cJS:()=>pn,cg1:()=>dm,dDg:()=>BS,dqk:()=>xt,eFA:()=>uC,eJc:()=>kv,ekj:()=>Zy,eoX:()=>iC,f3M:()=>tr,g9A:()=>ar,h0i:()=>Nl,hGG:()=>AC,hij:()=>Ni,iGM:()=>ED,ifc:()=>L,ip1:()=>xS,jDz:()=>rD,kEZ:()=>hD,kL8:()=>cA,kcU:()=>vu,lG2:()=>Vt,lcZ:()=>vD,lqb:()=>Nc,lri:()=>Kv,n5z:()=>Sh,oAB:()=>ee,oxw:()=>o1,pQV:()=>Hc,q4F:()=>_w,qLn:()=>Xh,qOj:()=>Cl,qZA:()=>Xg,rWj:()=>Yv,s9C:()=>jy,sBO:()=>HS,s_b:()=>Cm,soG:()=>Tm,tb:()=>oC,tp0:()=>So,uIk:()=>ky,vHH:()=>le,vpe:()=>Go,wAp:()=>Ut,xp6:()=>Xu,ynx:()=>em,z2F:()=>Nm,zSh:()=>yg,zW0:()=>qg,zs3:()=>ko});var l=$(7579),x=$(727),V=$(9751),he=$(6451),Te=$(3099);function ye(s){for(let a in s)if(s[a]===ye)return a;throw Error("Could not find renamed property on target object.")}function Pe(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function He(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=ye({__forward_ref__:ye});function z(s){return s.__forward_ref__=z,s.toString=function(){return Me(this())},s}function Q(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}function Fe(s){return s&&!!s.\u0275providers}const et="https://g.co/ng/security#xss";class le extends Error{constructor(a,c){super(Ne(a,c)),this.code=a}}function Ne(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ze(s,a){throw new le(-201,!1)}function ze(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}function gt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function pn(s){return{providers:s.providers||[],imports:s.imports||[]}}function On(s){return jn(s,Hn)||jn(s,K)}function wr(s){return null!==On(s)}function jn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Fn(s){return s&&(s.hasOwnProperty(te)||s.hasOwnProperty(ie))?s[te]:null}const Hn=ye({\u0275prov:ye}),te=ye({\u0275inj:ye}),K=ye({ngInjectableDef:ye}),ie=ye({ngInjectorDef:ye});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Le;function sn(s){const a=Le;return Le=s,a}function zt(s,a,c){const d=On(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&re.Optional?null:void 0!==a?a:void Ze(Me(s))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},In="__NG_DI_FLAG__",Sn="ngTempTokenPath",gn="ngTokenPath",Gn=/\n/gm,Rn="\u0275",Zt="__source";let ri;function on(s){const a=ri;return ri=s,a}function Es(s,a=re.Default){if(void 0===ri)throw new le(-203,!1);return null===ri?zt(s,void 0,a):ri.get(s,a&re.Optional?null:void 0,a)}function Kt(s,a=re.Default){return(function Ye(){return Le}()||Es)(Q(s),a)}function tr(s,a=re.Default){return Kt(s,Wr(a))}function Wr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ln(s){const a=[];for(let c=0;c<s.length;c++){const d=Q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new le(900,!1);let h,g=re.Default;for(let y=0;y<d.length;y++){const D=d[y],T=Ci(D);"number"==typeof T?-1===T?h=D.token:g|=T:h=D}a.push(Kt(h,g))}else a.push(Kt(d))}return a}function li(s,a){return s[In]=a,s.prototype[In]=a,s}function Ci(s){return s[In]}function H(s){return{toString:s}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),L=(()=>{return(s=L||(L={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",L;var s})();const O={},q=[],Ce=ye({\u0275cmp:ye}),ut=ye({\u0275dir:ye}),Pt=ye({\u0275pipe:ye}),Ot=ye({\u0275mod:ye}),Yt=ye({\u0275fac:ye}),Ft=ye({__NG_ELEMENT_ID__:ye});let Pn=0;function jt(s){return H(()=>{const a=Hl(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||L.Emulated,id:"c"+Pn++,styles:s.styles||q,_:null,schemas:s.schemas||null,tView:null};oh(c);const d=s.dependencies;return c.directiveDefs=po(d,!1),c.pipeDefs=po(d,!0),c})}function Ts(s){return Ct(s)||_n(s)}function pe(s){return null!==s}function ee(s){return H(()=>({type:s.type,bootstrap:s.bootstrap||q,declarations:s.declarations||q,imports:s.imports||q,exports:s.exports||q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Dt(s,a){if(null==s)return O;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,a&&(a[h]=g)}return c}function Vt(s){return H(()=>{const a=Hl(s);return oh(a),a})}function nn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ct(s){return s[Ce]||null}function _n(s){return s[ut]||null}function un(s){return s[Pt]||null}function Dr(s){const a=Ct(s)||_n(s)||un(s);return null!==a&&a.standalone}function pr(s,a){const c=s[Ot]||null;if(!c&&!0===a)throw new Error(`Type ${Me(s)} does not have '\u0275mod' property.`);return c}function Hl(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dt(s.inputs,a),outputs:Dt(s.outputs)}}function oh(s){s.features?.forEach(a=>a(s))}function po(s,a){if(!s)return null;const c=a?un:Ts;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(pe)}const gr=0,at=1,Jt=2,zn=3,yn=4,Yi=5,Cr=6,mr=7,Bn=8,Zo=9,_r=10,Qt=11,ka=12,Ir=13,go=14,As=15,cr=16,js=17,Hs=18,Ii=19,Gs=20,ui=21,Mn=22,zs=1,Fa=2,Ws=7,mo=8,Ss=9,Er=10;function qr(s){return Array.isArray(s)&&"object"==typeof s[zs]}function Li(s){return Array.isArray(s)&&!0===s[zs]}function Ko(s){return 0!=(4&s.flags)}function Yo(s){return s.componentOffset>-1}function _o(s){return 1==(1&s.flags)}function Nr(s){return!!s.template}function cs(s){return 0!=(256&s[Jt])}function Qi(s,a){return s.hasOwnProperty(Yt)?s[Yt]:null}class ph{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ql(){return La}function La(s){return s.type.prototype.ngOnChanges&&(s.setInput=Zs),gh}function gh(){const s=Ba(this),a=s?.current;if(a){const c=s.previous;if(c===O)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Zs(s,a,c,d){const h=this.declaredInputs[c],g=Ba(s)||function hu(s,a){return s[du]=a}(s,{previous:O,current:null}),y=g.current||(g.current={}),D=g.previous,T=D[h];y[h]=new ph(T&&T.currentValue,a,D===O),s[d]=a}ql.ngInherit=!0;const du="__ngSimpleChanges__";function Ba(s){return s[du]||null}const Wn=function(s,a,c){},Va="svg";function rr(s){for(;Array.isArray(s);)s=s[gr];return s}function ta(s,a){return rr(a[s])}function Tr(s,a){return rr(a[s.index])}function $a(s,a){return s.data[a]}function Ks(s,a){return s[a]}function xr(s,a){const c=a[s];return qr(c)?c:c[gr]}function wo(s){return 64==(64&s[Jt])}function Bi(s,a){return null==a?null:s[a]}function Ha(s){s[Hs]=0}function na(s,a){s[Yi]+=a;let c=s,d=s[zn];for(;null!==d&&(1===a&&1===c[Yi]||-1===a&&0===c[Yi]);)d[Yi]+=a,c=d,d=d[zn]}const $t={lFrame:Ql(null),bindingsEnabled:!0};function Kl(){return $t.bindingsEnabled}function we(){return $t.lFrame.lView}function cn(){return $t.lFrame.tView}function Do(s){return $t.lFrame.contextLView=s,s[Bn]}function Yl(s){return $t.lFrame.contextLView=null,s}function Yn(){let s=vh();for(;null!==s&&64===s.type;)s=s.parent;return s}function vh(){return $t.lFrame.currentTNode}function Co(){const s=$t.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Vi(s,a){const c=$t.lFrame;c.currentTNode=s,c.isParent=a}function Za(){return $t.lFrame.isParent}function pu(){$t.lFrame.isParent=!1}function Or(){const s=$t.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function di(){return $t.lFrame.bindingIndex}function Ys(){return $t.lFrame.bindingIndex++}function us(s){const a=$t.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function ia(s){$t.lFrame.inI18n=s}function Vp(s,a){const c=$t.lFrame;c.bindingIndex=c.bindingRootIndex=s,sa(a)}function sa(s){$t.lFrame.currentDirectiveIndex=s}function Jl(){return $t.lFrame.currentQueryIndex}function _u(s){$t.lFrame.currentQueryIndex=s}function yu(s){const a=s[at];return 2===a.type?a.declTNode:1===a.type?s[Cr]:null}function bh(s,a,c){if(c&re.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||c&re.Host||(h=yu(g),null===h||(g=g[As],10&h.type))););if(null===h)return!1;a=h,s=g}const d=$t.lFrame=wh();return d.currentTNode=a,d.lView=s,!0}function Ya(s){const a=wh(),c=s[at];$t.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function wh(){const s=$t.lFrame,a=null===s?null:s.child;return null===a?Ql(s):a}function Ql(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Dh(){const s=$t.lFrame;return $t.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xl=Dh;function Ns(){const s=Dh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Rr(){return $t.lFrame.selectedIndex}function xs(s){$t.lFrame.selectedIndex=s}function kn(){const s=$t.lFrame;return $a(s.tView,s.selectedIndex)}function Ch(){$t.lFrame.currentNamespace=Va}function vu(){!function jp(){$t.lFrame.currentNamespace=null}()}function Os(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:R}=g;y&&(s.contentHooks??(s.contentHooks=[])).push(-c,y),D&&((s.contentHooks??(s.contentHooks=[])).push(c,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,D)),T&&(s.viewHooks??(s.viewHooks=[])).push(-c,T),A&&((s.viewHooks??(s.viewHooks=[])).push(c,A),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,A)),null!=R&&(s.destroyHooks??(s.destroyHooks=[])).push(c,R)}}function ec(s,a,c){Qa(s,a,3,c)}function bu(s,a,c,d){(3&s[Jt])===c&&Qa(s,a,c,d)}function wu(s,a){let c=s[Jt];(3&c)===a&&(c&=2047,c+=1,s[Jt]=c)}function Qa(s,a,c,d){const g=d??-1,y=a.length-1;let D=0;for(let T=void 0!==d?65535&s[Hs]:0;T<y;T++)if("number"==typeof a[T+1]){if(D=a[T],null!=d&&D>=d)break}else a[T]<0&&(s[Hs]+=65536),(D<g||-1==g)&&(aa(s,c,a,T),s[Hs]=(4294901760&s[Hs])+T+2),T++}function aa(s,a,c,d){const h=c[d]<0,g=c[d+1],D=s[h?-c[d]:c[d]];if(h){if(s[Jt]>>11<s[Hs]>>16&&(3&s[Jt])===a){s[Jt]+=2048,Wn(4,D,g);try{g.call(D)}finally{Wn(5,D,g)}}}else{Wn(4,D,g);try{g.call(D)}finally{Wn(5,D,g)}}}const la=-1;class Js{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Pr(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],y=c[d++],D=c[d++];s.setAttribute(a,y,D,g)}else{const g=h,y=c[++d];Ui(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),d++}}return d}function kr(s){return 3===s||4===s||6===s}function Ui(s){return 64===s.charCodeAt(0)}function hs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Xa(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function Xa(s,a,c,d,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===a){y=-1;break}if(D>a){y=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function nc(s){return s!==la}function rc(s){return 32767&s}function ic(s,a){let c=function Du(s){return s>>16}(s),d=a;for(;c>0;)d=d[As],c--;return d}let Ih=!0;function sc(s){const a=Ih;return Ih=s,a}const T_=255,Cu=5;let A_=0;const Ai={};function Iu(s,a){const c=Th(s,a);if(-1!==c)return c;const d=a[at];d.firstCreatePass&&(s.injectorIndex=a.length,To(d.data,s),To(a,null),To(d.blueprint,null));const h=ir(s,a),g=s.injectorIndex;if(nc(h)){const y=rc(h),D=ic(h,a),T=D[at].data;for(let A=0;A<8;A++)a[g+A]=D[y+A]|T[y+A]}return a[g+8]=h,g}function To(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Th(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ir(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=lc(h),null===d)return la;if(c++,h=h[As],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return la}function oc(s,a,c){!function Eh(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ft)&&(d=c[Ft]),null==d&&(d=c[Ft]=A_++);const h=d&T_;a.data[s+(h>>Cu)]|=1<<h}(s,a,c)}function Gp(s,a,c){if(c&re.Optional||void 0!==s)return s;Ze()}function ac(s,a,c,d){if(c&re.Optional&&void 0===d&&(d=null),!(c&(re.Self|re.Host))){const h=s[Zo],g=sn(void 0);try{return h?h.get(a,d,c&re.Optional):zt(a,d,c&re.Optional)}finally{sn(g)}}return Gp(d,0,c)}function zp(s,a,c,d=re.Default,h){if(null!==s){if(1024&a[Jt]){const y=function M_(s,a,c,d,h){let g=s,y=a;for(;null!==g&&null!==y&&1024&y[Jt]&&!(256&y[Jt]);){const D=Wp(g,y,c,d|re.Self,Ai);if(D!==Ai)return D;let T=g.parent;if(!T){const A=y[ui];if(A){const R=A.get(c,Ai,d);if(R!==Ai)return R}T=lc(y),y=y[As]}g=T}return h}(s,a,c,d,Ai);if(y!==Ai)return y}const g=Wp(s,a,c,d,Ai);if(g!==Ai)return g}return ac(a,c,d,h)}function Wp(s,a,c,d,h){const g=function S_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ft)?s[Ft]:void 0;return"number"==typeof a?a>=0?a&T_:Ah:a}(c);if("function"==typeof g){if(!bh(a,s,d))return d&re.Host?Gp(h,0,d):ac(a,c,d,h);try{const y=g(d);if(null!=y||d&re.Optional)return y;Ze()}finally{Xl()}}else if("number"==typeof g){let y=null,D=Th(s,a),T=la,A=d&re.Host?a[cr][Cr]:null;for((-1===D||d&re.SkipSelf)&&(T=-1===D?ir(s,a):a[D+8],T!==la&&Tu(d,!1)?(y=a[at],D=rc(T),a=ic(T,a)):D=-1);-1!==D;){const R=a[at];if(ca(g,D,R.data)){const U=qp(D,a,c,y,d,A);if(U!==Ai)return U}T=a[D+8],T!==la&&Tu(d,a[at].data[D+8]===A)&&ca(g,D,a)?(y=R,D=rc(T),a=ic(T,a)):D=-1}}return h}function qp(s,a,c,d,h,g){const y=a[at],D=y.data[s+8],R=el(D,y,c,null==d?Yo(D)&&Ih:d!=y&&0!=(3&D.type),h&re.Host&&g===D);return null!==R?Qs(a,y,R,D):Ai}function el(s,a,c,d,h){const g=s.providerIndexes,y=a.data,D=1048575&g,T=s.directiveStart,R=g>>20,Z=h?D+R:s.directiveEnd;for(let oe=d?D:D+R;oe<Z;oe++){const ve=y[oe];if(oe<T&&c===ve||oe>=T&&ve.type===c)return oe}if(h){const oe=y[T];if(oe&&Nr(oe)&&oe.type===c)return T}return null}function Qs(s,a,c,d){let h=s[c];const g=a.data;if(function tc(s){return s instanceof Js}(h)){const y=h;y.resolving&&function Oe(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new le(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(g[c]));const D=sc(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?sn(y.injectImpl):null;bh(s,d,re.Default);try{h=s[c]=y.factory(void 0,g,s,d),a.firstCreatePass&&c>=d.directiveStart&&function ds(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const y=La(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],a)}finally{null!==T&&sn(T),sc(D),y.resolving=!1,Xl()}}return h}function ca(s,a,c){return!!(c[a+(s>>Cu)]&1<<s)}function Tu(s,a){return!(s&re.Self||s&re.Host&&a)}class tl{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return zp(this._tNode,this._lView,a,Wr(d),c)}}function Ah(){return new tl(Yn(),we())}function Sh(s){return H(()=>{const a=s.prototype.constructor,c=a[Yt]||nl(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Yt]||nl(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function nl(s){return qe(s)?()=>{const a=nl(Q(s));return a&&a()}:Qi(s)}function lc(s){const a=s[at],c=a.type;return 2===c?a.declTNode:1===c?s[Cr]:null}function cc(s){return function Eu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(kr(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(Yn(),s)}const rl="__parameters__";function il(s,a,c){return H(()=>{const d=function Zp(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return D.annotation=y,D;function D(T,A,R){const U=T.hasOwnProperty(rl)?T[rl]:Object.defineProperty(T,rl,{value:[]})[rl];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(y),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class vn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=gt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sl(s,a){s.forEach(c=>Array.isArray(c)?sl(c,a):a(c))}function xh(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Oh(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ol(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function Xi(s,a,c){let d=Jn(s,a);return d>=0?s[1|d]=c:(d=~d,function Rh(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function Nn(s,a){const c=Jn(s,a);if(c>=0)return s[1|c]}function Jn(s,a){return function Mu(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<c];if(a===y)return g<<c;y>a?h=g:d=g+1}return~(h<<c)}(s,a,1)}const da=li(il("Optional"),8),So=li(il("SkipSelf"),4);var fs=(()=>((fs=fs||{})[fs.Important=1]="Important",fs[fs.DashCase=2]="DashCase",fs))();const _c=/^>|^->|<!--|-->|--!>|<!-$/g,sg=/(<|>)/,fi="\u200b$1\u200b";const ku=new Map;let Rb=0;const ag="__ngContext__";function si(s,a){qr(a)?(s[ag]=a[Gs],function Gh(s){ku.set(s[Gs],s)}(a)):s[ag]=a}let fa;function No(s,a){return fa(s,a)}function xo(s){const a=s[zn];return Li(a)?a[zn]:a}function Oo(s){return fl(s[Ir])}function $u(s){return fl(s[yn])}function fl(s){for(;null!==s&&!Li(s);)s=s[yn];return s}function pa(s,a,c,d,h){if(null!=d){let g,y=!1;Li(d)?g=d:qr(d)&&(y=!0,d=d[gr]);const D=rr(d);0===s&&null!==c?null==h?pi(a,c,D):Wt(a,c,D,h||null,!0):1===s&&null!==c?Wt(a,c,D,h||null,!0):2===s?Tc(a,D,y):3===s&&a.destroyNode(D),null!=g&&function WP(s,a,c,d,h){const g=c[Ws];g!==rr(c)&&pa(a,s,d,g,h);for(let D=Er;D<c.length;D++){const T=c[D];Zu(T[at],T,s,a,d,g)}}(a,s,g,c,h)}}function ju(s,a){return s.createText(a)}function Dc(s,a,c){s.setValue(a,c)}function Cc(s,a){return s.createComment(function Xs(s){return s.replace(_c,a=>a.replace(sg,fi))}(a))}function cg(s,a,c){return s.createElement(a,c)}function w(s,a){const c=s[Ss],d=c.indexOf(a),h=a[zn];512&a[Jt]&&(a[Jt]&=-513,na(h,-1)),c.splice(d,1)}function M(s,a){if(s.length<=Er)return;const c=Er+a,d=s[c];if(d){const h=d[js];null!==h&&h!==s&&w(h,d),a>0&&(s[c-1][yn]=d[yn]);const g=Oh(s,Er+a);!function K_(s,a){Zu(s,a,a[Qt],2,null,null),a[gr]=null,a[Cr]=null}(d[at],d);const y=g[Ii];null!==y&&y.detachView(g[at]),d[zn]=null,d[yn]=null,d[Jt]&=-65}return d}function P(s,a){if(!(128&a[Jt])){const c=a[Qt];c.destroyNode&&Zu(s,a,c,3,null,null),function b(s){let a=s[Ir];if(!a)return Y(s[at],s);for(;a;){let c=null;if(qr(a))c=a[Ir];else{const d=a[Er];d&&(c=d)}if(!c){for(;a&&!a[yn]&&a!==s;)qr(a)&&Y(a[at],a),a=a[zn];null===a&&(a=s),qr(a)&&Y(a[at],a),c=a&&a[yn]}a=c}}(a)}}function Y(s,a){if(!(128&a[Jt])){a[Jt]&=-65,a[Jt]|=128,function We(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Js)){const g=c[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const D=h[g[y]],T=g[y+1];Wn(4,D,T);try{T.call(D)}finally{Wn(5,D,T)}}else{Wn(4,h,g);try{g.call(h)}finally{Wn(5,h,g)}}}}}(s,a),function ce(s,a){const c=s.cleanup,d=a[mr];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),g+=2}else{const y=d[h=c[g+1]];c[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[mr]=null}}(s,a),1===a[at].type&&a[Qt].destroy();const c=a[js];if(null!==c&&Li(a[zn])){c!==a[zn]&&w(c,a);const d=a[Ii];null!==d&&d.detachView(s)}!function yc(s){ku.delete(s[Gs])}(a)}}function it(s,a,c){return It(s,a.parent,c)}function It(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[gr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===L.None||g===L.Emulated)return null}return Tr(d,c)}}function Wt(s,a,c,d,h){s.insertBefore(a,c,d,h)}function pi(s,a,c){s.appendChild(a,c)}function ks(s,a,c,d,h){null!==d?Wt(s,a,c,d,h):pi(s,a,c)}function pl(s,a){return s.parentNode(a)}function dg(s,a,c){return Ic(s,a,c)}function Wh(s,a,c){return 40&s.type?Tr(s,c):null}let zu,Y_,Kh,fg,Ic=Wh;function Ec(s,a){Ic=s,zu=a}function ga(s,a,c,d){const h=it(s,d,a),g=a[Qt],D=dg(d.parent||a[Cr],d,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)ks(g,h,c[T],D,!1);else ks(g,h,c,D,!1);void 0!==zu&&zu(g,d,a,c,h)}function Wu(s,a){if(null!==a){const c=a.type;if(3&c)return Tr(a,s);if(4&c)return Zh(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Wu(s,d);{const h=s[a.index];return Li(h)?Zh(-1,h):rr(h)}}if(32&c)return No(a,s)()||rr(s[a.index]);{const d=qh(s,a);return null!==d?Array.isArray(d)?d[0]:Wu(xo(s[cr]),d):Wu(s,a.next)}}return null}function qh(s,a){return null!==a?s[cr][Cr].projection[a.projection]:null}function Zh(s,a){const c=Er+s+1;if(c<a.length){const d=a[c],h=d[at].firstChild;if(null!==h)return Wu(d,h)}return a[Ws]}function Tc(s,a,c){const d=pl(s,a);d&&function Hu(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}function qu(s,a,c,d,h,g,y){for(;null!=c;){const D=d[c.index],T=c.type;if(y&&0===a&&(D&&si(rr(D),d),c.flags|=2),32!=(32&c.flags))if(8&T)qu(s,a,c.child,d,h,g,!1),pa(a,s,h,D,g);else if(32&T){const A=No(c,d);let R;for(;R=A();)pa(a,s,h,R,g);pa(a,s,h,D,g)}else 16&T?Ac(s,a,d,c,h,g):pa(a,s,h,D,g);c=y?c.projectionNext:c.next}}function Zu(s,a,c,d,h,g){qu(c,d,s.firstChild,a,h,g,!1)}function Ac(s,a,c,d,h,g){const y=c[cr],T=y[Cr].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)pa(a,s,h,T[A],g);else qu(s,a,T,y[zn],h,g,!0)}function PE(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function kE(s,a,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&Pr(s,a,d),null!==h&&PE(s,a,h),null!==g&&function Vb(s,a,c){s.setAttribute(a,"style",c)}(s,a,g)}function Ku(s){return function Ub(){if(void 0===Y_&&(Y_=null,xt.trustedTypes))try{Y_=xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Y_}()?.createHTML(s)||s}function BE(s){Kh=s}function X_(s){return function jb(){if(void 0===fg&&(fg=null,xt.trustedTypes))try{fg=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return fg}()?.createScriptURL(s)||s}class Gb{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}function eo(s){return s instanceof Gb?s.changingThisBreaksApplicationSecurity:s}function Yh(s,a){const c=function ty(s){return s instanceof Gb&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${et})`)}return c===a}class Yb{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Ku(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class jE{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Ku(a),c}}const HE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ry(s){return(s=String(s)).match(HE)?s:"unsafe:"+s}function Ro(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function Jh(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const GE=Ro("area,br,col,hr,img,wbr"),pg=Ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jb=Ro("rp,rt"),iy=Jh(GE,Jh(pg,Ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jh(Jb,Ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jh(Jb,pg)),gg=Ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qb=Jh(gg,Ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function rw(s){const a=_g();return a?a.sanitize(Fr.URL,s)||"":Yh(s,"URL")?eo(s):ry(me(s))}function YE(s){const a=_g();if(a)return X_(a.sanitize(Fr.RESOURCE_URL,s)||"");if(Yh(s,"ResourceURL"))return X_(eo(s));throw new le(904,!1)}function ly(s,a,c){return function QP(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?YE:rw}(a,c)(s)}function _g(){const s=we();return s&&s[ka]}const ow=new vn("ENVIRONMENT_INITIALIZER"),aw=new vn("INJECTOR",-1),lw=new vn("INJECTOR_DEF_TYPES");class Et{get(a,c=xn){if(c===xn){const d=new Error(`NullInjectorError: No provider for ${Me(a)}!`);throw d.name="NullInjectorError",d}return c}}function gi(s){return{\u0275providers:s}}function to(...s){return{\u0275providers:ma(0,s),\u0275fromNgModule:!0}}function ma(s,...a){const c=[],d=new Set;let h;return sl(a,g=>{const y=g;sr(y,c,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&Lr(h,c),c}function Lr(s,a){for(let c=0;c<s.length;c++){const{providers:h}=s[c];Qh(h,g=>{a.push(g)})}}function sr(s,a,c,d){if(!(s=Q(s)))return!1;let h=null,g=Fn(s);const y=!g&&Ct(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Fn(T),!g)return!1;h=T}const D=d.has(h);if(y){if(D)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of T)sr(A,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let A;d.add(h);try{sl(g.imports,R=>{sr(R,a,c,d)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&Lr(A,a)}if(!D){const A=Qi(h)||(()=>new h);a.push({provide:h,useFactory:A,deps:q},{provide:lw,useValue:h,multi:!0},{provide:ow,useValue:()=>Kt(h),multi:!0})}const T=g.providers;null==T||D||Qh(T,R=>{a.push(R)})}}return h!==s&&void 0!==s.providers}function Qh(s,a){for(let c of s)Fe(c)&&(c=c.\u0275providers),Array.isArray(c)?Qh(c,a):a(c)}const _a=ye({provide:String,useValue:ye});function cw(s){return null!==s&&"object"==typeof s&&_a in s}function Sc(s){return"function"==typeof s}const yg=new vn("Set Injector scope."),Mc={},gl={};let hw;function vg(){return void 0===hw&&(hw=new Et),hw}class Nc{}class uy extends Nc{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dg(a,y=>this.processProvider(y)),this.records.set(aw,Qn(void 0,this)),h.has("environment")&&this.records.set(Nc,Qn(void 0,this));const g=this.records.get(yg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(lw.multi,q,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=on(this),d=sn(void 0);try{return a()}finally{on(c),sn(d)}}get(a,c=xn,d=re.Default){this.assertNotDestroyed(),d=Wr(d);const h=on(this),g=sn(void 0);try{if(!(d&re.SkipSelf)){let D=this.records.get(a);if(void 0===D){const T=function wg(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(a)&&On(a);D=T&&this.injectableDefInScope(T)?Qn(bg(a),Mc):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(d&re.Self?vg():this.parent).get(a,c=d&re.Optional&&c===xn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Sn]=y[Sn]||[]).unshift(Me(a)),h)throw y;return function ci(s,a,c,d){const h=s[Sn];throw a[Zt]&&h.unshift(a[Zt]),s.message=function G(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Rn?s.slice(2):s;let h=Me(a);if(Array.isArray(a))h=a.map(Me).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let D=a[y];g.push(y+":"+("string"==typeof D?JSON.stringify(D):Me(D)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Gn,"\n  ")}`}("\n"+s.message,h,c,d),s[gn]=h,s[Sn]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{sn(g),on(h)}}resolveInjectorInitializers(){const a=on(this),c=sn(void 0);try{const d=this.get(ow.multi,q,re.Self);for(const h of d)h()}finally{on(a),sn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Me(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(a){let c=Sc(a=Q(a))?a:Q(a&&a.provide);const d=function QE(s){return cw(s)?Qn(void 0,s.useValue):Qn(Ju(s),Mc)}(a);if(Sc(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Qn(void 0,Mc,!0),h.factory=()=>Ln(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Mc&&(c.value=gl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function hy(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function bg(s){const a=On(s),c=null!==a?a.factory:Qi(s);if(null!==c)return c;if(s instanceof vn)throw new le(204,!1);if(s instanceof Function)return function fw(s){const a=s.length;if(a>0)throw ol(a,"?"),new le(204,!1);const c=function Rt(s){return s&&(s[Hn]||s[K])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new le(204,!1)}function Ju(s,a,c){let d;if(Sc(s)){const h=Q(s);return Qi(h)||bg(h)}if(cw(s))d=()=>Q(s.useValue);else if(function dw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ln(s.deps||[]));else if(function uw(s){return!(!s||!s.useExisting)}(s))d=()=>Kt(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function dy(s){return!!s.deps}(s))return Qi(h)||bg(h);d=()=>new h(...Ln(s.deps))}return d}function Qn(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Dg(s,a){for(const c of s)Array.isArray(c)?Dg(c,a):c&&Fe(c)?Dg(c.\u0275providers,a):a(c)}class fy{}class Cg{}class XE{resolveComponentFactory(a){throw function pw(s){const a=Error(`No component factory found for ${Me(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let ya=(()=>{class s{}return s.NULL=new XE,s})();function eT(){return xc(Yn(),we())}function xc(s,a){return new Ig(Tr(s,a))}let Ig=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=eT,s})();function tk(s){return s instanceof Ig?s.nativeElement:s}class tT{}let nk=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function rk(){const s=we(),c=xr(Yn().index,s);return(qr(c)?c:s)[Qt]}(),s})(),ik=(()=>{class s{}return s.\u0275prov=gt({token:s,providedIn:"root",factory:()=>null}),s})();class mw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const _w=new mw("15.2.8"),Eg={},py="ngOriginalError";function gy(s){return s[py]}class Xh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&gy(a);for(;c&&gy(c);)c=gy(c);return c||null}}function va(s){return s instanceof Function?s():s}function Dw(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const oT="ng-template";function lk(s,a,c){let d=0,h=!0;for(;d<s.length;){let g=s[d++];if("string"==typeof g&&h){const y=s[d++];if(c&&"class"===g&&-1!==Dw(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<s.length&&"string"==typeof(g=s[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function aT(s){return 4===s.type&&s.value!==oT}function ck(s,a,c){return a===(4!==s.type||c?s.value:oT)}function uk(s,a,c){let d=4;const h=s.attrs||[],g=function oi(s){for(let a=0;a<s.length;a++)if(kr(s[a]))return a;return s.length}(h);let y=!1;for(let D=0;D<a.length;D++){const T=a[D];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!ck(s,T,c)||""===T&&1===a.length){if(no(d))return!1;y=!0}}else{const A=8&d?T:a[++D];if(8&d&&null!==s.attrs){if(!lk(s.attrs,A,c)){if(no(d))return!1;y=!0}continue}const U=dk(8&d?"class":T,h,aT(s),c);if(-1===U){if(no(d))return!1;y=!0;continue}if(""!==A){let Z;Z=U>g?"":h[U+1].toLowerCase();const oe=8&d?Z:null;if(oe&&-1!==Dw(oe,A,0)||2&d&&A!==Z){if(no(d))return!1;y=!0}}}}else{if(!y&&!no(d)&&!no(T))return!1;if(y&&no(T))continue;y=!1,d=T|1&d}}return no(d)||y}function no(s){return 0==(1&s)}function dk(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let D=a[++h];for(;"string"==typeof D;)D=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function cT(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function lT(s,a,c=!1){for(let d=0;d<a.length;d++)if(uk(s,a[d],c))return!0;return!1}function Tg(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function ml(s,a){return s?":not("+a.trim()+")":a}function uT(s){let a=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const D=s[++c];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!no(y)&&(a+=ml(g,h),h=""),d=y,g=g||!no(d);c++}return""!==h&&(a+=ml(g,h)),a}const Xt={};function Xu(s){Cw(cn(),we(),Rr()+s,!1)}function Cw(s,a,c,d){if(!d)if(3==(3&a[Jt])){const g=s.preOrderCheckHooks;null!==g&&ec(a,g,c)}else{const g=s.preOrderHooks;null!==g&&bu(a,g,0,c)}xs(c)}function Mr(s,a=null,c=null,d){const h=_l(s,a,c,d);return h.resolveInjectorInitializers(),h}function _l(s,a=null,c=null,d,h=new Set){const g=[c||q,to(s)];return d=d||("object"==typeof s?void 0:Me(s)),new uy(g,a||vg(),d||null,h)}let ko=(()=>{class s{static create(c,d){if(Array.isArray(c))return Mr({name:""},d,c,"");{const h=c.name??"";return Mr({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=xn,s.NULL=new Et,s.\u0275prov=gt({token:s,providedIn:"any",factory:()=>Kt(aw)}),s.__NG_ELEMENT_ID__=-1,s})();function id(s,a=re.Default){const c=we();return null===c?Kt(s,a):zp(Yn(),c,Q(s),a)}function Dy(){throw new Error("invalid")}function nf(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const y=s.data[g];_u(c[d]),y.contentQueries(2,a[g],g)}}}function bl(s,a,c,d,h,g,y,D,T,A,R){const U=a.blueprint.slice();return U[gr]=h,U[Jt]=76|d,(null!==R||s&&1024&s[Jt])&&(U[Jt]|=1024),Ha(U),U[zn]=U[As]=s,U[Bn]=c,U[_r]=y||s&&s[_r],U[Qt]=D||s&&s[Qt],U[ka]=T||s&&s[ka]||null,U[Zo]=A||s&&s[Zo]||null,U[Cr]=g,U[Gs]=function Pb(){return Rb++}(),U[ui]=R,U[cr]=2==a.type?s[cr]:U,U}function sd(s,a,c,d,h){let g=s.data[a];if(null===g)g=wa(s,a,c,d,h),function Ka(){return $t.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const y=Co();g.injectorIndex=null===y?-1:y.injectorIndex}return Vi(g,!0),g}function wa(s,a,c,d,h){const g=vh(),y=Za(),T=s.data[a]=function Pw(s,a,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(y?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}function rf(s,a,c,d){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Rc(s,a,c){Ya(a);try{const d=s.viewQuery;null!==d&&Fs(1,d,c);const h=s.template;null!==h&&Rw(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&nf(s,a),s.staticViewQueries&&Fs(2,s.viewQuery,c);const g=s.components;null!==g&&function fn(s,a){for(let c=0;c<a.length;c++)ET(s,a[c])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Jt]&=-5,Ns()}}function od(s,a,c,d){const h=a[Jt];if(128!=(128&h)){Ya(a);try{Ha(a),function Io(s){return $t.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Rw(s,a,c,2,d);const y=3==(3&h);if(y){const A=s.preOrderCheckHooks;null!==A&&ec(a,A,null)}else{const A=s.preOrderHooks;null!==A&&bu(a,A,0,null),wu(a,0)}if(function IT(s){for(let a=Oo(s);null!==a;a=$u(a)){if(!a[Fa])continue;const c=a[Ss];for(let d=0;d<c.length;d++){const h=c[d];512&h[Jt]||na(h[zn],1),h[Jt]|=512}}}(a),function Uw(s){for(let a=Oo(s);null!==a;a=$u(a))for(let c=Er;c<a.length;c++){const d=a[c],h=d[at];wo(d)&&od(h,d,h.template,d[Bn])}}(a),null!==s.contentQueries&&nf(s,a),y){const A=s.contentCheckHooks;null!==A&&ec(a,A)}else{const A=s.contentHooks;null!==A&&bu(a,A,1),wu(a,1)}!function Ow(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)xs(~h);else{const g=h,y=c[++d],D=c[++d];Vp(y,g),D(2,a[g])}}}finally{xs(-1)}}(s,a);const D=s.components;null!==D&&function vl(s,a){for(let c=0;c<a.length;c++)Ay(s,a[c])}(a,D);const T=s.viewQuery;if(null!==T&&Fs(2,T,d),y){const A=s.viewCheckHooks;null!==A&&ec(a,A)}else{const A=s.viewHooks;null!==A&&bu(a,A,2),wu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Jt]&=-41,512&a[Jt]&&(a[Jt]&=-513,na(a[zn],-1))}finally{Ns()}}}function Rw(s,a,c,d,h){const g=Rr(),y=2&d;try{xs(-1),y&&a.length>Mn&&Cw(s,a,Mn,!1),Wn(y?2:0,h),c(d,h)}finally{xs(g),Wn(y?3:1,h)}}function ad(s,a,c){if(Ko(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}function Pc(s,a,c){Kl()&&(function kc(s,a,c,d){const h=c.directiveStart,g=c.directiveEnd;Yo(c)&&function Bw(s,a,c){const d=Tr(a,s),h=sf(c),g=s[_r],y=Ug(s,bl(s,h,null,c.onPush?32:16,d,a,g,g.createRenderer(d,c),null,null,null));s[a.index]=y}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||Iu(c,a),si(d,a);const y=c.initialInputs;for(let D=h;D<g;D++){const T=s.data[D],A=Qs(a,s,D,c);si(A,a),null!==y&&cd(0,D-h,A,T,0,y),Nr(T)&&(xr(c.index,a)[Bn]=Qs(a,s,D,c))}}(s,a,c,Tr(c,a)),64==(64&c.flags)&&Lg(s,a,c))}function Og(s,a,c=Tr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],D=-1===y?c(a,s):s[y];s[h++]=D}}}function sf(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Cy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Cy(s,a,c,d,h,g,y,D,T,A){const R=Mn+d,U=R+h,Z=function Iy(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:Xt);return c}(R,U),oe="function"==typeof A?A():A;return Z[at]={type:s,blueprint:Z,template:c,queries:null,viewQuery:D,declTNode:a,data:Z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:oe,incompleteFirstPass:!1}}function Ey(s,a,c,d){const h=Dl(a);null===c?h.push(d):(h.push(c),s.firstCreatePass&&df(s).push(d,h.length-1))}function kw(s,a,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const g=s[h];null===d?Fw(c,a,h,g):d.hasOwnProperty(h)&&Fw(c,a,d[h],g)}return c}function Fw(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function ps(s,a,c,d,h,g,y,D){const T=Tr(a,c);let R,A=a.inputs;!D&&null!=A&&(R=A[d])?(My(s,c,R,d,h),Yo(a)&&function vT(s,a){const c=xr(a,s);16&c[Jt]||(c[Jt]|=32)}(c,a.index)):3&a.type&&(d=function Pg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,g.setProperty(T,d,h))}function Ty(s,a,c,d){if(Kl()){const h=null===d?null:{"":-1},g=function Lw(s,a){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const y=c[g];if(lT(a,y.selectors,!1))if(d||(d=[]),Nr(y))if(null!==y.findHostDirectiveDefs){const D=[];h=h||new Map,y.findHostDirectiveDefs(y,D,h),d.unshift(...D,y),Bg(s,a,D.length)}else d.unshift(y),Bg(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,c);let y,D;null===g?y=D=null:[y,D]=g,null!==y&&kg(s,a,c,y,h,D),h&&function DT(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new le(-301,!1);d.push(a[h],g)}}}(c,d,h)}c.mergedAttrs=hs(c.mergedAttrs,c.attrs)}function kg(s,a,c,d,h,g){for(let A=0;A<d.length;A++)oc(Iu(c,a),s,d[A].type);!function lf(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let A=0;A<d.length;A++){const R=d[A];R.providersResolver&&R.providersResolver(R)}let y=!1,D=!1,T=rf(s,a,d.length,null);for(let A=0;A<d.length;A++){const R=d[A];c.mergedAttrs=hs(c.mergedAttrs,R.hostAttrs),ld(s,c,a,T,R),af(T,R,h),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const U=R.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),y=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),D=!0),T++}!function yT(s,a,c){const h=a.directiveEnd,g=s.data,y=a.attrs,D=[];let T=null,A=null;for(let R=a.directiveStart;R<h;R++){const U=g[R],Z=c?c.get(U):null,ve=Z?Z.outputs:null;T=kw(U.inputs,R,T,Z?Z.inputs:null),A=kw(U.outputs,R,A,ve);const Ae=null===T||null===y||aT(a)?null:CT(T,R,y);D.push(Ae)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=D,a.inputs=T,a.outputs=A}(s,c,g)}function Lg(s,a,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,y=function Up(){return $t.lFrame.currentDirectiveIndex}();try{xs(g);for(let D=d;D<h;D++){const T=s.data[D],A=a[D];sa(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&gk(T,A)}}finally{xs(-1),sa(y)}}function gk(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Bg(s,a,c){a.componentOffset=c,(s.components??(s.components=[])).push(a.index)}function af(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;Nr(a)&&(c[""]=s)}}function ld(s,a,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Qi(h.type)),y=new Js(g,Nr(h),id);s.blueprint[d]=y,c[d]=y,function Fg(s,a,c,d,h){const g=h.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~a.index;(function wT(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=D&&y.push(D),y.push(c,d,g)}}(s,a,d,rf(s,c,h.hostVars,Xt),h)}function Vg(s,a,c,d,h,g,y){if(null==g)s.removeAttribute(a,h,c);else{const D=null==y?me(g):y(g,d||"",h);s.setAttribute(a,h,D,c)}}function cd(s,a,c,d,h,g){const y=g[a];if(null!==y){const D=d.setInput;for(let T=0;T<y.length;){const A=y[T++],R=y[T++],U=y[T++];null!==D?d.setInput(c,U,A,R):c[R]=U}}}function CT(s,a,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const y=s[g];for(let D=0;D<y.length;D+=2)if(y[D]===a){d.push(g,y[D+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Vw(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null]}function Ay(s,a){const c=xr(a,s);if(wo(c)){const d=c[at];48&c[Jt]?od(d,c,d.template,c[Bn]):c[Yi]>0&&wl(c)}}function wl(s){for(let d=Oo(s);null!==d;d=$u(d))for(let h=Er;h<d.length;h++){const g=d[h];if(wo(g))if(512&g[Jt]){const y=g[at];od(y,g,y.template,g[Bn])}else g[Yi]>0&&wl(g)}const c=s[at].components;if(null!==c)for(let d=0;d<c.length;d++){const h=xr(c[d],s);wo(h)&&h[Yi]>0&&wl(h)}}function ET(s,a){const c=xr(a,s),d=c[at];(function Sy(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),Rc(d,c,c[Bn])}function Ug(s,a){return s[Ir]?s[go][yn]=a:s[Ir]=a,s[go]=a,a}function cf(s){for(;s;){s[Jt]|=32;const a=xo(s);if(cs(s)&&!a)return s;s=a}return null}function uf(s,a,c,d=!0){const h=a[_r];h.begin&&h.begin();try{od(s,a,s.template,c)}catch(y){throw d&&jg(a,y),y}finally{h.end&&h.end()}}function Fs(s,a,c){_u(0),a(s,c)}function Dl(s){return s[mr]||(s[mr]=[])}function df(s){return s.cleanup||(s.cleanup=[])}function jg(s,a){const c=s[Zo],d=c?c.get(Xh,null):null;d&&d.handleError(a)}function My(s,a,c,d,h){for(let g=0;g<c.length;){const y=c[g++],D=c[g++],T=a[y],A=s.data[y];null!==A.setInput?A.setInput(T,h,d,D):T[D]=h}}function Hg(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const D=a[y];"number"==typeof D?g=D:1==g?h=He(h,D):2==g&&(d=He(d,D+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function Gg(s,a,c,d,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(rr(g)),Li(g))for(let D=Er;D<g.length;D++){const T=g[D],A=T[at].firstChild;null!==A&&Gg(T[at],T,A,d)}const y=c.type;if(8&y)Gg(s,a,c.child,d);else if(32&y){const D=No(c,a);let T;for(;T=D();)d.push(T)}else if(16&y){const D=qh(a,c);if(Array.isArray(D))d.push(...D);else{const T=xo(a[cr]);Gg(T[at],T,D,d,!0)}}c=h?c.projectionNext:c.next}return d}class ff{get rootNodes(){const a=this._lView,c=a[at];return Gg(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(a){this._lView[Bn]=a}get destroyed(){return 128==(128&this._lView[Jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[zn];if(Li(a)){const c=a[mo],d=c?c.indexOf(this):-1;d>-1&&(M(a,d),Oh(c,d))}this._attachedToViewContainer=!1}P(this._lView[at],this._lView)}onDestroy(a){Ey(this._lView[at],this._lView,null,a)}markForCheck(){cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jt]&=-65}reattach(){this._lView[Jt]|=64}detectChanges(){uf(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fb(s,a){Zu(s,a,a[Qt],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=a}}class TT extends ff{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;uf(a[at],a,a[Bn],!1)}checkNoChanges(){}get context(){return null}}class jw extends ya{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Ct(a);return new pf(c,this.ngModule)}}function Hw(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class ST{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Wr(d);const h=this.injector.get(a,Eg,d);return h!==Eg||c===Eg?h:this.parentInjector.get(a,c,d)}}class pf extends Cg{get inputs(){return Hw(this.componentDef.inputs)}get outputs(){return Hw(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Ag(s){return s.map(uT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let g=(h=h||this.ngModule)instanceof Nc?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new ST(a,g):a,D=y.get(tT,null);if(null===D)throw new le(407,!1);const T=y.get(ik,null),A=D.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=d?function Rg(s,a,c){return s.selectRootElement(a,c===L.ShadowDom)}(A,d,this.componentDef.encapsulation):cg(A,R,function AT(s){const a=s.toLowerCase();return"svg"===a?Va:"math"===a?"math":null}(R)),Z=this.componentDef.onPush?288:272,oe=Cy(0,null,null,1,0,null,null,null,null,null),ve=bl(null,oe,null,Z,null,null,D,A,T,y,null);let Ae,nt;Ya(ve);try{const bt=this.componentDef;let Lt,ke=null;bt.findHostDirectiveDefs?(Lt=[],ke=new Map,bt.findHostDirectiveDefs(bt,Lt,ke),Lt.push(bt)):Lt=[bt];const en=function MT(s,a){const c=s[at],d=Mn;return s[d]=a,sd(c,d,2,"#host",null)}(ve,U),Zn=function NT(s,a,c,d,h,g,y,D){const T=h[at];!function xT(s,a,c,d){for(const h of s)a.mergedAttrs=hs(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Hg(a,a.mergedAttrs,!0),null!==c&&kE(d,c,a))}(d,s,a,y);const A=g.createRenderer(a,c),R=bl(h,sf(c),null,c.onPush?32:16,h[s.index],s,g,A,D||null,null,null);return T.firstCreatePass&&Bg(T,s,d.length-1),Ug(h,R),h[s.index]=R}(en,U,bt,Lt,ve,D,A);nt=$a(oe,Mn),U&&function zw(s,a,c,d){if(d)Pr(s,c,["ng-version",_w.full]);else{const{attrs:h,classes:g}=function dT(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++d]):8===h&&c.push(g);else{if(!no(h))break;h=g}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&Pr(s,c,h),g&&g.length>0&&PE(s,c,g.join(" "))}}(A,bt,U,d),void 0!==c&&function Ny(s,a,c){const d=s.projection=[];for(let h=0;h<a.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(nt,this.ngContentSelectors,c),Ae=function OT(s,a,c,d,h,g){const y=Yn(),D=h[at],T=Tr(y,h);kg(D,h,y,c,null,d);for(let R=0;R<c.length;R++)si(Qs(h,D,y.directiveStart+R,y),h);Lg(D,h,y),T&&si(T,h);const A=Qs(h,D,y.directiveStart+y.componentOffset,y);if(s[Bn]=h[Bn]=A,null!==g)for(const R of g)R(A,a);return ad(D,y,s),A}(Zn,bt,Lt,ke,ve,[xy]),Rc(oe,ve,null)}finally{Ns()}return new Gw(this.componentType,Ae,xc(nt,ve),ve,nt)}}class Gw extends fy{constructor(a,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new TT(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;My(g[at],g,h,a,c),cf(xr(this._tNode.index,g))}}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function xy(){const s=Yn();Os(we()[at],s)}function Cl(s){let a=function Lo(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(Nr(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new le(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=zg(s.inputs),y.declaredInputs=zg(s.declaredInputs),y.outputs=zg(s.outputs);const D=h.hostBindings;D&&qw(s,D);const T=h.viewQuery,A=h.contentQueries;if(T&&RT(s,T),A&&ud(s,A),Pe(s.inputs,h.inputs),Pe(s.declaredInputs,h.declaredInputs),Pe(s.outputs,h.outputs),Nr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const D=g[y];D&&D.ngInherit&&D(s),D===Cl&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Ww(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=hs(h.hostAttrs,c=hs(c,h.hostAttrs))}}(d)}function zg(s){return s===O?{}:s===q?[]:s}function RT(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function ud(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{a(d,h,g),c(d,h,g)}:a}function qw(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function qg(s){return a=>{a.findHostDirectiveDefs=Oy,a.hostDirectives=(Array.isArray(s)?s:s()).map(c=>"function"==typeof c?{directive:Q(c),inputs:O,outputs:O}:{directive:Q(c.directive),inputs:Zg(c.inputs),outputs:Zg(c.outputs)})}}function Oy(s,a,c){if(null!==s.hostDirectives)for(const d of s.hostDirectives){const h=_n(d.directive);Ry(h.declaredInputs,d.inputs),Oy(h,a,c),c.set(h,d),a.push(h)}}function Zg(s){if(void 0===s||0===s.length)return O;const a={};for(let c=0;c<s.length;c+=2)a[s[c]]=s[c+1];return a}function Ry(s,a){for(const c in a)a.hasOwnProperty(c)&&(s[a[c]]=s[c])}function Kg(s){return!!Yg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Yg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function so(s,a,c){return s[a]=c}function Br(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Bo(s,a,c,d){const h=Br(s,a,c);return Br(s,a+1,d)||h}function ky(s,a,c,d){const h=we();return Br(h,Ys(),a)&&(cn(),function io(s,a,c,d,h,g){const y=Tr(s,a);Vg(a[Qt],y,g,s.value,c,d,h)}(kn(),h,s,a,c,d)),ky}function Fc(s,a,c,d){return Br(s,Ys(),c)?a+me(c)+d:Xt}function Lc(s,a,c,d,h,g,y,D){const T=we(),A=cn(),R=s+Mn,U=A.firstCreatePass?function FT(s,a,c,d,h,g,y,D,T){const A=a.consts,R=sd(a,s,4,y||null,Bi(A,D));Ty(a,c,R,Bi(A,T)),Os(a,R);const U=R.tView=Cy(2,R,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,R),U.queries=a.queries.embeddedTView(R)),R}(R,A,T,a,c,d,h,g,y):A.data[R];Vi(U,!1);const Z=T[Qt].createComment("");ga(A,T,Z,U),si(Z,T),Ug(T,T[R]=Vw(Z,T,Z,U)),_o(U)&&Pc(A,T,U),null!=y&&Og(T,U,D)}function e1(s){return Ks(function gu(){return $t.lFrame.contextLView}(),Mn+s)}function By(s,a,c){const d=we();return Br(d,Ys(),a)&&ps(cn(),kn(),d,s,a,d[Qt],c,!1),By}function Bc(s,a,c,d,h){const y=h?"class":"style";My(s,c,a.inputs[y],y,d)}function Qg(s,a,c,d){const h=we(),g=cn(),y=Mn+s,D=h[Qt],T=g.firstCreatePass?function Df(s,a,c,d,h,g){const y=a.consts,T=sd(a,s,2,d,Bi(y,h));return Ty(a,c,T,Bi(y,g)),null!==T.attrs&&Hg(T,T.attrs,!1),null!==T.mergedAttrs&&Hg(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,g,h,a,c,d):g.data[y],A=h[y]=cg(D,a,function Hp(){return $t.lFrame.currentNamespace}()),R=_o(T);return Vi(T,!0),kE(D,A,T),32!=(32&T.flags)&&ga(g,h,A,T),0===function Zl(){return $t.lFrame.elementDepthCount}()&&si(A,h),function za(){$t.lFrame.elementDepthCount++}(),R&&(Pc(g,h,T),ad(g,T,h)),null!==d&&Og(h,T),Qg}function Xg(){let s=Yn();Za()?pu():(s=s.parent,Vi(s,!1));const a=s;!function Wa(){$t.lFrame.elementDepthCount--}();const c=cn();return c.firstCreatePass&&(Os(c,s),Ko(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function j(s){return 0!=(8&s.flags)}(a)&&Bc(c,a,we(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function be(s){return 0!=(16&s.flags)}(a)&&Bc(c,a,we(),a.stylesWithoutHost,!1),Xg}function Vy(s,a,c,d){return Qg(s,a,c,d),Xg(),Vy}function em(s,a,c){const d=we(),h=cn(),g=s+Mn,y=h.firstCreatePass?function LT(s,a,c,d,h){const g=a.consts,y=Bi(g,d),D=sd(a,s,8,"ng-container",y);return null!==y&&Hg(D,y,!0),Ty(a,c,D,Bi(g,h)),null!==a.queries&&a.queries.elementStart(a,D),D}(g,h,d,a,c):h.data[g];Vi(y,!0);const D=d[g]=d[Qt].createComment("");return ga(h,d,D,y),si(D,d),_o(y)&&(Pc(h,d,y),ad(h,y,d)),null!=c&&Og(d,y),em}function tm(){let s=Yn();const a=cn();return Za()?pu():(s=s.parent,Vi(s,!1)),a.firstCreatePass&&(Os(a,s),Ko(s)&&a.queries.elementEnd(s)),tm}function t1(){return we()}function Cf(s){return!!s&&"function"==typeof s.then}function If(s){return!!s&&"function"==typeof s.subscribe}const Vc=If;function Uy(s,a,c,d){const h=we(),g=cn(),y=Yn();return function r1(s,a,c,d,h,g,y){const D=_o(d),A=s.firstCreatePass&&df(s),R=a[Bn],U=Dl(a);let Z=!0;if(3&d.type||y){const Ae=Tr(d,a),nt=y?y(Ae):Ae,bt=U.length,Lt=y?en=>y(rr(en[d.index])):d.index;let ke=null;if(!y&&D&&(ke=function VT(s,a,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===c&&h[g+1]===d){const D=a[mr],T=h[g+2];return D.length>T?D[T]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,d.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=g,ke.__ngLastListenerFn__=g,Z=!1;else{g=s1(d,a,R,g,!1);const en=c.listen(nt,h,g);U.push(g,en),A&&A.push(h,Lt,bt,bt+1)}}else g=s1(d,a,R,g,!1);const oe=d.outputs;let ve;if(Z&&null!==oe&&(ve=oe[h])){const Ae=ve.length;if(Ae)for(let nt=0;nt<Ae;nt+=2){const Zn=a[ve[nt]][ve[nt+1]].subscribe(g),$r=U.length;U.push(g,Zn),A&&A.push(h,d.index,$r,-($r+1))}}}(g,h,h[Qt],y,s,a,d),Uy}function i1(s,a,c,d){try{return Wn(6,a,c),!1!==c(d)}catch(h){return jg(s,h),!1}finally{Wn(7,a,c)}}function s1(s,a,c,d,h){return function g(y){if(y===Function)return d;cf(s.componentOffset>-1?xr(s.index,a):a);let T=i1(a,c,d,y),A=g.__ngNextListenerFn__;for(;A;)T=i1(a,c,A,y)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function o1(s=1){return function Ja(s){return($t.lFrame.contextLView=function $p(s,a){for(;s>0;)a=a[As],s--;return a}(s,$t.lFrame.contextLView))[Bn]}(s)}function UT(s,a){let c=null;const d=function Xn(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?lT(s,g,!0):Tg(d,g))return h}else c=h}return c}function a1(s){const a=we()[cr][Cr];if(!a.projection){const d=a.projection=ol(s?s.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const y=s?UT(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:d[y]=g,h[y]=g),g=g.next}}}function $y(s,a=0,c){const d=we(),h=cn(),g=sd(h,Mn+s,16,null,c||null);null===g.projection&&(g.projection=a),pu(),32!=(32&g.flags)&&function Bb(s,a,c){Ac(a[Qt],0,a,c,it(s,c,a),dg(c.parent||a[Cr],c,a))}(h,d,g)}function jy(s,a,c){return md(s,"",a,"",c),jy}function md(s,a,c,d,h){const g=we(),y=Fc(g,a,c,d);return y!==Xt&&ps(cn(),kn(),g,s,y,g[Qt],h,!1),md}function Af(s,a){return s<<17|a<<2}function Ca(s){return s>>17&32767}function sm(s){return 2|s}function oo(s){return(131068&s)>>2}function om(s,a){return-131069&s|a<<2}function Gy(s){return 1|s}function f1(s,a,c,d,h){const g=s[c+1],y=null===a;let D=d?Ca(g):oo(g),T=!1;for(;0!==D&&(!1===T||y);){const R=s[D+1];HT(s[D],a)&&(T=!0,s[D+1]=d?Gy(R):sm(R)),D=d?Ca(R):oo(R)}T&&(s[c+1]=d?sm(g):Gy(g))}function HT(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Jn(s,a)>=0}const Jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p1(s){return s.substring(Jr.key,Jr.keyEnd)}function g1(s,a){const c=Jr.textEnd;return c===a?-1:(a=Jr.keyEnd=function wk(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,Jr.key=a,c),Uc(s,a,c))}function Uc(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function qy(s,a,c){return Mi(s,a,c,!1),qy}function Zy(s,a){return Mi(s,a,null,!0),Zy}function am(s){ms(ZT,ao,s,!0)}function ao(s,a){for(let c=function zT(s){return function zy(s){Jr.key=0,Jr.keyEnd=0,Jr.value=0,Jr.valueEnd=0,Jr.textEnd=s.length}(s),g1(s,Uc(s,0,Jr.textEnd))}(a);c>=0;c=g1(a,c))Xi(s,p1(a),!0)}function Mi(s,a,c,d){const h=we(),g=cn(),y=us(2);g.firstUpdatePass&&Ky(g,s,y,d),a!==Xt&&Br(h,y,a)&&E1(g,g.data[Rr()],h,h[Qt],s,h[y+1]=function KT(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Me(eo(s)))),s}(a,c),d,y)}function ms(s,a,c,d){const h=cn(),g=us(2);h.firstUpdatePass&&Ky(h,null,g,d);const y=we();if(c!==Xt&&Br(y,g,c)){const D=h.data[Rr()];if(A1(D,d)&&!w1(h,g)){let T=d?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(c=He(T,c||"")),Bc(h,D,y,c,d)}else!function um(s,a,c,d,h,g,y,D){h===Xt&&(h=q);let T=0,A=0,R=0<h.length?h[0]:null,U=0<g.length?g[0]:null;for(;null!==R||null!==U;){const Z=T<h.length?h[T+1]:void 0,oe=A<g.length?g[A+1]:void 0;let Ae,ve=null;R===U?(T+=2,A+=2,Z!==oe&&(ve=U,Ae=oe)):null===U||null!==R&&R<U?(T+=2,ve=R):(A+=2,ve=U,Ae=oe),null!==ve&&E1(s,a,c,d,ve,Ae,y,D),R=T<h.length?h[T]:null,U=A<g.length?g[A]:null}}(h,D,y,y[Qt],y[g+1],y[g+1]=function qT(s,a,c){if(null==c||""===c)return q;const d=[],h=eo(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(s,a,c),d,g)}}function w1(s,a){return a>=s.expandoStartIndex}function Ky(s,a,c,d){const h=s.data;if(null===h[c+1]){const g=h[Rr()],y=w1(s,c);A1(g,d)&&null===a&&!y&&(a=!1),a=function lm(s,a,c,d){const h=function oa(s){const a=$t.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Sf(c=Yy(null,s,a,c,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=Yy(h,s,a,c,d),null===g){let T=function cm(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==oo(d))return s[Ca(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=Yy(null,s,a,T[1],d),T=Sf(T,a.attrs,d),function D1(s,a,c,d){s[Ca(c?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else g=function C1(s,a,c){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=Sf(d,s[g].hostAttrs,c);return Sf(d,a.attrs,c)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,d),function jT(s,a,c,d,h,g){let y=g?a.classBindings:a.styleBindings,D=Ca(y),T=oo(y);s[d]=c;let R,A=!1;if(Array.isArray(c)?(R=c[1],(null===R||Jn(c,R)>0)&&(A=!0)):R=c,h)if(0!==T){const Z=Ca(s[D+1]);s[d+1]=Af(Z,D),0!==Z&&(s[Z+1]=om(s[Z+1],d)),s[D+1]=function im(s,a){return 131071&s|a<<17}(s[D+1],d)}else s[d+1]=Af(D,0),0!==D&&(s[D+1]=om(s[D+1],d)),D=d;else s[d+1]=Af(T,0),0===D?D=d:s[T+1]=om(s[T+1],d),T=d;A&&(s[d+1]=sm(s[d+1])),f1(s,R,d,!0),f1(s,R,d,!1),function h1(s,a,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&Jn(g,a)>=0&&(c[d+1]=Gy(c[d+1]))}(a,R,s,d,g),y=Af(D,T),g?a.classBindings=y:a.styleBindings=y}(h,g,a,c,y,d)}}function Yy(s,a,c,d,h){let g=null;const y=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<y&&(g=a[D],d=Sf(d,g.hostAttrs,h),g!==s);)D++;return null!==s&&(c.directiveStylingLast=D),d}function Sf(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xi(s,y,!!c||a[++g]))}return void 0===s?null:s}function ZT(s,a,c){const d=String(a);""!==d&&!d.includes(" ")&&Xi(s,d,c)}function E1(s,a,c,d,h,g,y,D){if(!(3&a.type))return;const T=s.data,A=T[D+1],R=function $T(s){return 1==(1&s)}(A)?T1(T,a,c,h,oo(A),y):void 0;_d(R)||(_d(g)||function rm(s){return 2==(2&s)}(A)&&(g=T1(T,null,c,h,D,y)),function RE(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:fs.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=fs.Important),s.setStyle(c,d,h,g))}}(d,y,ta(Rr(),c),h,g))}function T1(s,a,c,d,h,g){const y=null===a;let D;for(;h>0;){const T=s[h],A=Array.isArray(T),R=A?T[1]:T,U=null===R;let Z=c[h+1];Z===Xt&&(Z=U?q:void 0);let oe=U?Nn(Z,d):R===d?Z:void 0;if(A&&!_d(oe)&&(oe=Nn(T,d)),_d(oe)&&(D=oe,y))return D;const ve=s[h+1];h=y?Ca(ve):oo(ve)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(D=Nn(T,d))}return D}function _d(s){return void 0!==s}function A1(s,a){return 0!=(s.flags&(a?8:16))}function S1(s,a=""){const c=we(),d=cn(),h=s+Mn,g=d.firstCreatePass?sd(d,h,1,a,null):d.data[h],y=c[h]=ju(c[Qt],a);ga(d,c,y,g),Vi(g,!1)}function Jy(s){return Ni("",s,""),Jy}function Ni(s,a,c){const d=we(),h=Fc(d,s,a,c);return h!==Xt&&function Da(s,a,c){const d=ta(a,s);Dc(s[Qt],d,c)}(d,Rr(),h),Ni}function ev(s,a,c,d,h){ms(Xi,ao,function mf(s,a,c,d,h,g){const D=Bo(s,di(),c,h);return us(2),D?a+me(c)+d+me(h)+g:Xt}(we(),s,a,c,d,h),!0)}function sv(s,a,c){const d=we();return Br(d,Ys(),a)&&ps(cn(),kn(),d,s,a,d[Qt],c,!0),sv}const $c=void 0;var lA=["en",[["a","p"],["AM","PM"],$c],[["AM","PM"],$c,$c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$c,"{1} 'at' {0}",$c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aA(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let bd={};function dm(s){const a=function uA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=B1(a);if(c)return c;const d=a.split("-")[0];if(c=B1(d),c)return c;if("en"===d)return lA;throw new le(701,!1)}function cA(s){return dm(s)[Ut.PluralCase]}function B1(s){return s in bd||(bd[s]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[s]),bd[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const _i=["zero","one","two","few","many"],wd="en-US",hm={marker:"element"},fm={marker:"ICU"};var er=(()=>((er=er||{})[er.SHIFT=2]="SHIFT",er[er.APPEND_EAGERLY=1]="APPEND_EAGERLY",er[er.COMMENT=2]="COMMENT",er))();let av=wd;function pm(s){(function ht(s,a){null==s&&ze(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(av=s.toLowerCase().replace(/_/g,"-"))}function lv(s,a,c){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Wh(s,0,c):rr(c[h])}function xf(s,a,c,d,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let y=d,D=null;if(3&a.type||(D=y,y=h),null!==y&&-1===a.componentOffset)for(let T=1;T<g.length;T++)Wt(s,y,c[g[T]],D,!1)}}function U1(s,a){if(s.push(a),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];$1(d)||hA(d,a)&&null===cv(d)&&fA(d,a.index)}}function $1(s){return!(64&s.type)}function hA(s,a){return $1(a)||s.index>a.index}function cv(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function fA(s,a){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=a:(Ec(lv,xf),s.insertBeforeIndex=a)}function Dd(s,a){const c=s.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function gm(s,a,c){const d=wa(s,c,64,null,null);return U1(a,d),d}function Of(s,a){const c=a[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function gA(s){return s>>>17}function Rf(s){return(131070&s)>>>1}let qn=0,Al=0;function hv(s,a,c,d){const h=c[Qt];let y,g=null;for(let D=0;D<a.length;D++){const T=a[D];if("string"==typeof T){const A=a[++D];null===c[A]&&(c[A]=ju(h,T))}else if("number"==typeof T)switch(1&T){case 0:const A=gA(T);let R,U;if(null===g&&(g=A,y=pl(h,d)),A===g?(R=d,U=y):(R=null,U=rr(c[A])),null!==U){const Ae=Rf(T);Wt(h,U,c[Ae],R,!1);const bt=Dd(s,Ae);if(null!==bt&&"object"==typeof bt){const Lt=Of(bt,c);null!==Lt&&hv(s,bt.create[Lt],c,c[bt.anchorIdx])}}break;case 1:const oe=a[++D],ve=a[++D];Vg(h,ta(T>>>1,c),null,null,oe,ve,null)}else switch(T){case fm:const A=a[++D],R=a[++D];null===c[R]&&si(c[R]=Cc(h,A),c);break;case hm:const U=a[++D],Z=a[++D];null===c[Z]&&si(c[Z]=cg(h,U,null),c)}}}function H1(s,a,c,d,h){for(let g=0;g<c.length;g++){const y=c[g],D=c[++g];if(y&h){let T="";for(let A=g+1;A<=g+D;A++){const R=c[A];if("string"==typeof R)T+=R;else if("number"==typeof R)if(R<0)T+=me(a[d-R]);else{const U=R>>>2;switch(3&R){case 1:const Z=c[++A],oe=c[++A],ve=s.data[U];"string"==typeof ve?Vg(a[Qt],a[U],null,ve,Z,T,oe):ps(s,ve,a,Z,T,a[Qt],oe,!1);break;case 0:const Ae=a[U];null!==Ae&&Dc(a[Qt],Ae,T);break;case 2:vA(s,Dd(s,U),a,T);break;case 3:G1(s,Dd(s,U),d,a)}}}}else{const T=c[g+1];if(T>0&&3==(3&T)){const R=Dd(s,T>>>2);a[R.currentCaseLViewIndex]<0&&G1(s,R,d,a)}}g+=D}}function G1(s,a,c,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let g=qn;h<0&&(h=d[a.currentCaseLViewIndex]=~h,g=-1),H1(s,d,a.update[h],c,g)}}function vA(s,a,c,d){const h=function Uo(s,a){let c=s.cases.indexOf(a);if(-1===c)switch(s.type){case 1:{const d=function V1(s,a){const c=cA(a)(parseInt(s,10)),d=_i[c];return void 0!==d?d:"other"}(a,function Nf(){return av}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(a,d);if(Of(a,c)!==h&&(Pf(s,a,c),c[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=c[a.anchorIdx];y&&hv(s,a.create[h],c,y)}}function Pf(s,a,c){let d=Of(a,c);if(null!==d){const h=a.remove[d];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const D=ta(y,c);null!==D&&Tc(c[Qt],D)}else Pf(s,Dd(s,~y),c)}}}function bA(){const s=[];let c,d,a=-1;function g(D,T){a=0;const A=Of(D,T);d=null!==A?D.remove[A]:q}function y(){if(a<d.length){const D=d[a++];return D>0?c[D]:(s.push(a,d),g(c[at].data[~D],c),y())}return 0===s.length?null:(d=s.pop(),a=s.pop(),y())}return function h(D,T){for(c=T;s.length;)s.pop();return g(D.value,T),y}}const Cd=/\ufffd(\d+):?\d*\ufffd/gi,Id=/\ufffd(\d+)\ufffd/,Ed=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ff="\ufffd",z1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Lf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,DA=/\uE500/g;function q1(s,a,c,d,h,g,y){const D=rf(s,d,1,null);let T=D<<er.SHIFT,A=Co();a===A&&(A=null),null===A&&(T|=er.APPEND_EAGERLY),y&&(T|=er.COMMENT,function hl(s){void 0===fa&&(fa=s())}(bA)),h.push(T,null===g?"":g);const R=wa(s,D,y?32:1,null===g?"":g,null);U1(c,R);const U=R.index;return Vi(R,!1),null!==A&&a!==A&&function pA(s,a){let c=s.insertBeforeIndex;null===c?(Ec(lv,xf),c=s.insertBeforeIndex=[null,a]):(function Qe(s,a,c){s!=a&&ze(c,s,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(A,U),R}function EA(s,a,c,d,h,g,y){const D=y.match(Cd),T=q1(s,a,c,g,d,D?null:y,!1);D&&Bf(h,y,T.index,null,0,null)}function Bf(s,a,c,d,h,g){const y=s.length,D=y+1;s.push(null,null);const T=y+2,A=a.split(Cd);let R=0;for(let U=0;U<A.length;U++){const Z=A[U];if(1&U){const oe=h+parseInt(Z,10);s.push(-1-oe),R|=Z1(oe)}else""!==Z&&s.push(Z)}return s.push(c<<2|(d?1:0)),d&&s.push(d,g),s[y]=R,s[D]=s.length-T,R}function Z1(s){return 1<<Math.min(s,31)}function K1(s){let a,g,c="",d=0,h=!1;for(;null!==(a=z1.exec(s));)h?a[0]===`${Ff}/*${g}${Ff}`&&(d=a.index,h=!1):(c+=s.substring(d,a.index+a[0].length),g=a[1],h=!0);return c+=s.slice(d),c}function ns(s,a,c,d,h,g){let y=0;const D={type:h.type,currentCaseLViewIndex:rf(s,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function Td(s,a,c){s.push(Z1(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,h,g),function j1(s,a,c){const d=s.data[a];null===d?s.data[a]=c:d.value=c}(s,g,D);const T=h.values;for(let A=0;A<T.length;A++){const R=T[A],U=[];for(let Z=0;Z<R.length;Z++){const oe=R[Z];if("string"!=typeof oe){const ve=U.push(oe)-1;R[Z]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}y=fv(s,D,a,c,d,h.cases[A],R.join(""),U)|y}y&&function pv(s,a,c){s.push(a,1,c<<2|3)}(c,y,g)}function jc(s){const a=[],c=[];let d=1,h=0;const g=rs(s=s.replace(Ed,function(y,D,T){return d="select"===T?0:1,h=parseInt(D.slice(1),10),""}));for(let y=0;y<g.length;){let D=g[y++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const T=rs(g[y++]);a.length>c.length&&c.push(T)}return{type:d,mainBinding:h,cases:a,values:c}}function rs(s){if(!s)return[];let a=0;const c=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const D=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const T=s.substring(a,D);Ed.test(T)?d.push(jc(T)):d.push(T),a=D+1}}else{if(0==c.length){const T=s.substring(a,D);d.push(T),a=D+1}c.push("{")}}const y=s.substring(a);return d.push(y),d}function fv(s,a,c,d,h,g,y,D){const T=[],A=[],R=[];a.cases.push(g),a.create.push(T),a.remove.push(A),a.update.push(R);const Z=function Kb(s){const a=new jE(s);return function ny(){try{return!!(new window.DOMParser).parseFromString(Ku(""),"text/html")}catch{return!1}}()?new Yb(a):a}(function hg(){return void 0!==Kh?Kh:typeof document<"u"?document:void 0}()).getInertBodyElement(y),oe=function ay(s){return"content"in s&&function tw(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Z)||Z;return oe?Ia(s,a,c,d,T,A,R,oe,h,D,0):0}function Ia(s,a,c,d,h,g,y,D,T,A,R){let U=0,Z=D.firstChild;for(;Z;){const oe=rf(s,c,1,null);switch(Z.nodeType){case Node.ELEMENT_NODE:const ve=Z,Ae=ve.tagName.toLowerCase();if(iy.hasOwnProperty(Ae)){_m(h,hm,Ae,T,oe),s.data[oe]=Ae;const ke=ve.attributes;for(let en=0;en<ke.length;en++){const Zn=ke.item(en),$r=Zn.name.toLowerCase();Zn.value.match(Cd)?Qb.hasOwnProperty($r)&&Bf(y,Zn.value,oe,Zn.name,0,gg[$r]?ry:null):Ad(h,oe,Zn)}U=Ia(s,a,c,d,h,g,y,Z,oe,A,R+1)|U,Sl(g,oe,R)}break;case Node.TEXT_NODE:const nt=Z.textContent||"",bt=nt.match(Cd);_m(h,null,bt?"":nt,T,oe),Sl(g,oe,R),bt&&(U=Bf(y,nt,oe,null,0,null)|U);break;case Node.COMMENT_NODE:const Lt=Id.exec(Z.textContent||"");if(Lt){const en=A[parseInt(Lt[1],10)];_m(h,fm,"",T,oe),ns(s,c,d,T,en,oe),mm(g,oe,R)}}Z=Z.nextSibling}return U}function Sl(s,a,c){0===c&&s.push(a)}function mm(s,a,c){0===c&&(s.push(~a),s.push(a))}function _m(s,a,c,d,h){null!==a&&s.push(a),s.push(c,h,function mA(s,a,c){return s|a<<17|c<<1}(0,d,h))}function Ad(s,a,c){s.push(a<<1|1,c.name,c.value)}function Sd(s,a,c=-1){const d=cn(),h=we(),g=Mn+s,y=Bi(d.consts,a),D=Co();d.firstCreatePass&&function IA(s,a,c,d,h,g){const y=Co(),D=[],T=[],A=[[]];h=function MA(s,a){if(function SA(s){return-1===s}(a))return K1(s);{const c=s.indexOf(`:${a}${Ff}`)+2+a.toString().length,d=s.search(new RegExp(`${Ff}\\/\\*\\d+:${a}${Ff}`));return K1(s.substring(c,d))}}(h,g);const R=function W1(s){return s.replace(DA," ")}(h).split(Lf);for(let U=0;U<R.length;U++){let Z=R[U];if(1&U){const oe=47===Z.charCodeAt(0),Ae=(Z.charCodeAt(oe?1:0),Mn+Number.parseInt(Z.substring(oe?2:1)));if(oe)A.shift(),Vi(Co(),!1);else{const nt=gm(s,A[0],Ae);A.unshift([]),Vi(nt,!0)}}else{const oe=rs(Z);for(let ve=0;ve<oe.length;ve++){let Ae=oe[ve];if(1&ve){const nt=Ae;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ns(s,c,T,a,nt,q1(s,y,A[0],c,D,"",!0).index)}else""!==Ae&&EA(s,y,A[0],D,T,c,Ae)}}}s.data[d]={create:D,update:T}}(d,null===D?0:D.index,h,g,y,c);const T=d.data[g],R=It(d,D===h[Cr]?null:D,h);(function yA(s,a,c,d){const h=s[Qt];for(let g=0;g<a.length;g++){const y=a[g++],D=a[g],A=(y&er.APPEND_EAGERLY)===er.APPEND_EAGERLY,R=y>>>er.SHIFT;let U=s[R];null===U&&(U=s[R]=(y&er.COMMENT)===er.COMMENT?h.createComment(D):ju(h,D)),A&&null!==c&&Wt(h,c,U,d,!1)}})(h,T.create,R,D&&8&D.type?h[D.index]:null),ia(!0)}function _v(s,a,c){Sd(s,a,c),function J1(){ia(!1)}()}function Hc(s){return function _A(s){s&&(qn|=1<<Math.min(Al,31)),Al++}(Br(we(),Ys(),s)),Hc}function yv(s){!function dv(s,a,c){if(Al>0){const d=s.data[c];H1(s,a,Array.isArray(d)?d:d.update,di()-Al-1,qn)}qn=0,Al=0}(cn(),we(),s+Mn)}function bm(s,a,c,d,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)bm(s[g],a,c,d,h);else{const g=cn(),y=we();let D=Sc(s)?s:Q(s.provide),T=Ju(s);const A=Yn(),R=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(Sc(s)||!s.multi){const oe=new Js(T,h,id),ve=Ml(D,a,h?R:R+Z,U);-1===ve?(oc(Iu(A,y),g,D),bv(g,s,a.length),a.push(D),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(oe),y.push(oe)):(c[ve]=oe,y[ve]=oe)}else{const oe=Ml(D,a,R+Z,U),ve=Ml(D,a,R,R+Z),nt=ve>=0&&c[ve];if(h&&!nt||!h&&!(oe>=0&&c[oe])){oc(Iu(A,y),g,D);const bt=function eD(s,a,c,d,h){const g=new Js(s,c,id);return g.multi=[],g.index=a,g.componentProviders=0,Q1(g,h,d&&!c),g}(h?X1:wv,c.length,h,d,T);!h&&nt&&(c[ve].providerFactory=bt),bv(g,s,a.length,0),a.push(D),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(bt),y.push(bt)}else bv(g,s,oe>-1?oe:ve,Q1(c[h?ve:oe],T,!h&&d));!h&&d&&nt&&c[ve].componentProviders++}}}function bv(s,a,c,d){const h=Sc(a),g=function JE(s){return!!s.useClass}(a);if(h||g){const T=(g?Q(a.useClass):a).prototype.ngOnDestroy;if(T){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const R=A.indexOf(c);-1===R?A.push(c,[d,T]):A[R+1].push(d,T)}else A.push(c,T)}}}function Q1(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Ml(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function wv(s,a,c,d){return wm(this.multi,[])}function X1(s,a,c,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=Qs(c,c[at],this.providerFactory.index,d);g=D.slice(0,y),wm(h,g);for(let T=y;T<D.length;T++)g.push(D[T])}else g=[],wm(h,g);return g}function wm(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Dv(s,a=[]){return c=>{c.providersResolver=(d,h)=>function RA(s,a,c){const d=cn();if(d.firstCreatePass){const h=Nr(s);bm(c,d.data,d.blueprint,h,!0),bm(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Nl{}class tD{}function PA(s,a){return new nD(s,a??null)}class nD extends Nl{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jw(this);const d=pr(a);this._bootstrapComponents=va(d.bootstrap),this._r3Injector=_l(a,c,[{provide:Nl,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],Me(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Cv extends tD{constructor(a){super(),this.moduleType=a}create(a){return new nD(this.moduleType,a)}}class Vf extends Nl{constructor(a,c,d){super(),this.componentFactoryResolver=new jw(this),this.instance=null;const h=new uy([...a,{provide:Nl,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],c||vg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Iv(s,a,c=null){return new Vf(s,a,c).injector}let Ev=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=ma(0,c.type),h=d.length>0?Iv([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=gt({token:s,providedIn:"environment",factory:()=>new s(Kt(Nc))}),s})();function rD(s){s.getStandaloneInjector=a=>a.get(Ev).getOrCreateStandaloneInjector(s)}function $A(s,a,c,d){return pD(we(),Or(),s,a,c,d)}function Uf(s,a,c,d,h){return function gD(s,a,c,d,h,g,y){const D=a+c;return Bo(s,D,h,g)?so(s,D+2,y?d.call(y,h,g):d(h,g)):$f(s,D+2)}(we(),Or(),s,a,c,d,h)}function hD(s,a,c,d,h,g){return function mD(s,a,c,d,h,g,y,D){const T=a+c;return function hd(s,a,c,d,h){const g=Bo(s,a,c,d);return Br(s,a+2,h)||g}(s,T,h,g,y)?so(s,T+3,D?d.call(D,h,g,y):d(h,g,y)):$f(s,T+3)}(we(),Or(),s,a,c,d,h,g)}function $f(s,a){const c=s[a];return c===Xt?void 0:c}function pD(s,a,c,d,h,g){const y=a+c;return Br(s,y,h)?so(s,y+1,g?d.call(g,h):d(h)):$f(s,y+1)}function yD(s,a){const c=cn();let d;const h=s+Mn;c.firstCreatePass?(d=function ZA(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=Qi(d.type)),y=sn(id);try{const D=sc(!1),T=g();return sc(D),function wf(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,we(),h,T),T}finally{sn(y)}}function vD(s,a,c){const d=s+Mn,h=we(),g=Ks(h,d);return function jf(s,a){return s[at].data[a].pure}(h,d)?pD(h,Or(),a,g.transform,c,g):g.transform(c)}function Av(s){return a=>{setTimeout(s,void 0,a)}}const Go=class XA extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,g=c||(()=>null),y=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),g=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(g=Av(g),h&&(h=Av(h)),y&&(y=Av(y)));const D=super.subscribe({next:h,error:g,complete:y});return a instanceof x.w0&&a.add(D),D}};function eS(){return this._results[Symbol.iterator]()}class Sv{get changes(){return this._changes||(this._changes=new Go)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Sv.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=eS)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function $i(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function R_(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=a[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xl=(()=>{class s{}return s.__NG_ELEMENT_ID__=rS,s})();const tS=xl,nS=class extends tS{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tView,h=bl(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);h[js]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Ii];return null!==y&&(h[Ii]=y.createEmbeddedView(d)),Rc(d,h,a),new ff(h)}};function rS(){return Dm(Yn(),we())}function Dm(s,a){return 4&s.type?new nS(a,s,xc(s,a)):null}let Cm=(()=>{class s{}return s.__NG_ELEMENT_ID__=iS,s})();function iS(){return DD(Yn(),we())}const sS=Cm,bD=class extends sS{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return xc(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const a=ir(this._hostTNode,this._hostLView);if(nc(a)){const c=ic(a,this._hostLView),d=rc(a);return new tl(c[at].data[d+8],c)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=wD(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(a,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=a.createEmbeddedView(c||{},g);return this.insert(y,h),y}createComponent(a,c,d,h,g){const y=a&&!function Su(s){return"function"==typeof s}(a);let D;if(y)D=c;else{const U=c||{};D=U.index,d=U.injector,h=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const T=y?a:new pf(Ct(a)),A=d||this.parentInjector;if(!g&&null==T.ngModule){const Z=(y?A:this.parentInjector).get(Nc,null);Z&&(g=Z)}const R=T.create(A,h,void 0,g);return this.insert(R.hostView,D),R}insert(a,c){const d=a._lView,h=d[at];if(function fu(s){return Li(s[zn])}(d)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const U=d[zn],Z=new bD(U,U[Cr],U[zn]);Z.detach(Z.indexOf(a))}}const g=this._adjustIndex(c),y=this._lContainer;!function p(s,a,c,d){const h=Er+d,g=c.length;d>0&&(c[h-1][yn]=a),d<g-Er?(a[yn]=c[h],xh(c,Er+d,a)):(c.push(a),a[yn]=null),a[zn]=c;const y=a[js];null!==y&&c!==y&&function _(s,a){const c=s[Ss];a[cr]!==a[zn][zn][cr]&&(s[Fa]=!0),null===c?s[Ss]=[a]:c.push(a)}(y,a);const D=a[Ii];null!==D&&D.insertView(s),a[Jt]|=64}(h,d,y,g);const D=Zh(g,y),T=d[Qt],A=pl(T,y[Ws]);return null!==A&&function ug(s,a,c,d,h,g){d[gr]=h,d[Cr]=a,Zu(s,d,c,1,h,g)}(h,y[Cr],T,d,A,D),a.attachToViewContainerRef(),xh(Mv(y),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=wD(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=M(this._lContainer,c);d&&(Oh(Mv(this._lContainer),c),P(d[at],d))}detach(a){const c=this._adjustIndex(a,-1),d=M(this._lContainer,c);return d&&null!=Oh(Mv(this._lContainer),c)?new ff(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function wD(s){return s[mo]}function Mv(s){return s[mo]||(s[mo]=[])}function DD(s,a){let c;const d=a[s.index];if(Li(d))c=d;else{let h;if(8&s.type)h=rr(d);else{const g=a[Qt];h=g.createComment("");const y=Tr(s,a);Wt(g,pl(g,y),h,function Gu(s,a){return s.nextSibling(a)}(g,y),!1)}a[s.index]=c=Vw(d,a,h,s),Ug(a,c)}return new bD(c,s,a)}class Nv{constructor(a){this.queryList=a,this.matches=null}clone(){return new Nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class xv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const y=c.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new xv(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==xD(a,c).matches&&this.queries[c].setDirty()}}class CD{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Ov{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Ov(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Rv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Rv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,c,oS(c,g)),this.matchTNodeWithReadOption(a,c,el(c,a,g,!1,!1))}else d===xl?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,el(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ig||h===Cm||h===xl&&4&c.type)this.addMatch(c.index,-2);else{const g=el(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function oS(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function lS(s,a,c,d){return-1===c?function aS(s,a){return 11&s.type?xc(s,a):4&s.type?Dm(s,a):null}(a,s):-2===c?function cS(s,a,c){return c===Ig?xc(a,s):c===xl?Dm(a,s):c===Cm?DD(a,s):void 0}(s,a,d):Qs(s,s[at],c,a)}function ID(s,a,c,d){const h=a[Ii].queries[d];if(null===h.matches){const g=s.data,y=c.matches,D=[];for(let T=0;T<y.length;T+=2){const A=y[T];D.push(A<0?null:lS(a,g[A],y[T+1],c.metadata.read))}h.matches=D}return h.matches}function Pv(s,a,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const y=ID(s,a,h,c);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)d.push(y[D/2]);else{const A=g[D+1],R=a[-T];for(let U=Er;U<R.length;U++){const Z=R[U];Z[js]===Z[zn]&&Pv(Z[at],Z,A,d)}if(null!==R[Ss]){const U=R[Ss];for(let Z=0;Z<U.length;Z++){const oe=U[Z];Pv(oe[at],oe,A,d)}}}}}return d}function ED(s){const a=we(),c=cn(),d=Jl();_u(d+1);const h=xD(c,d);if(s.dirty&&function ja(s){return 4==(4&s[Jt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Pv(c,a,d,[]):ID(c,a,h,d);s.reset(g,tk),s.notifyOnChanges()}return!0}return!1}function TD(s,a,c){const d=cn();d.firstCreatePass&&(ND(d,new CD(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),MD(d,we(),a)}function AD(s,a,c,d){const h=cn();if(h.firstCreatePass){const g=Yn();ND(h,new CD(a,c,d),g.index),function dS(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}MD(h,we(),c)}function SD(){return function uS(s,a){return s[Ii].queries[a].queryList}(we(),Jl())}function MD(s,a,c){const d=new Sv(4==(4&c));Ey(s,a,d,d.destroy),null===a[Ii]&&(a[Ii]=new xv),a[Ii].queries.push(new Nv(d))}function ND(s,a,c){null===s.queries&&(s.queries=new Ov),s.queries.track(new Rv(a,c))}function xD(s,a){return s.queries.getByIndex(a)}function OD(s,a){return Dm(s,a)}function kv(s){return!!pr(s)}function Em(...s){}const xS=new vn("Application Initializer");let Vr=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Em,this.reject=Em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Cf(g))c.push(g);else if(Vc(g)){const y=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Kt(xS,8))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $v=new vn("AppId",{providedIn:"root",factory:function Gf(){return`${or()}${or()}${or()}`}});function or(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ar=new vn("Platform Initializer"),Gc=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let RS=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Tm=new vn("LocaleId",{providedIn:"root",factory:()=>tr(Tm,re.Optional|re.SkipSelf)||function KD(){return typeof $localize<"u"&&$localize.locale||wd}()}),xd=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YD{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let kS=(()=>{class s{compileModuleSync(c){return new Cv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=va(pr(c).declarations).reduce((y,D)=>{const T=Ct(D);return T&&y.push(new pf(T)),y},[]);return new YD(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const eC=(()=>Promise.resolve(0))();function jv(s){typeof Zone>"u"?eC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ys{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Hv(){let s=xt.requestAnimationFrame,a=xt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Wv(s){const a=()=>{!function tC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qv(s),s.isCheckStableRunning=!0,zv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,y,D)=>{try{return Zv(s),c.invokeTask(h,g,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),nC(s)}},onInvoke:(c,d,h,g,y,D,T)=>{try{return Zv(s),c.invoke(h,g,y,D,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),nC(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,qv(s),zv(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new le(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,Gv,Em,Em);try{return g.runTask(y,c,d)}finally{g.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Gv={};function zv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Zv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function nC(s){s._nesting--,zv(s)}class rC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const Kv=new vn(""),Yv=new vn("");let qf,BS=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qf||(function zc(s){qf=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Kt(ys),Kt(iC),Kt(Yv))},s.\u0275prov=gt({token:s,factory:s.\u0275fac}),s})(),iC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return qf?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ol=!1;let Ta=null;const sC=new vn("AllowMultipleToken"),Jv=new vn("PlatformDestroyListeners"),oC=new vn("appBootstrapListener");class Zf{constructor(a,c){this.name=a,this.token=c}}function uC(s,a,c=[]){const d=`Platform: ${a}`,h=new vn(d);return(g=[])=>{let y=Mm();if(!y||y.injector.get(sC,!1)){const D=[...c,...g,{provide:h,useValue:!0}];s?s(D):function Sm(s){if(Ta&&!Ta.get(sC,!1))throw new le(400,!1);Ta=s;const a=s.get(Qv);(function cC(s){const a=s.get(ar,null);a&&a.forEach(c=>c())})(s)}(function dC(s=[],a){return ko.create({name:a,providers:[{provide:yg,useValue:"platform"},{provide:Jv,useValue:new Set([()=>Ta=null])},...s]})}(D,d))}return function US(s){const a=Mm();if(!a)throw new le(401,!1);return a}()}}function Mm(){return Ta?.get(Qv)??null}let Qv=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function qc(s,a){let c;return c="noop"===s?new rC:("zone.js"===s?void 0:s)||new ys(a),c}(d?.ngZone,function Ur(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ys,useValue:h}];return h.run(()=>{const y=ko.create({providers:g,parent:this.injector,name:c.moduleType.name}),D=c.create(y),T=D.injector.get(Xh,null);if(!T)throw new le(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:R=>{T.handleError(R)}});D.onDestroy(()=>{Zc(this._modules,D),A.unsubscribe()})}),function Xv(s,a,c){try{const d=c();return Cf(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const A=D.injector.get(Vr);return A.runInitializers(),A.donePromise.then(()=>(pm(D.injector.get(Tm,wd)||wd),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const h=hC({},d);return function aC(s,a,c){const d=new Cv(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Nm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new le(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Jv,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Kt(ko))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function hC(s,a){return Array.isArray(a)?a.reduce(hC,s):{...s,...a}}let Nm=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new V.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ys.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,he.T)(g,y.pipe((0,Te.B)()))}bootstrap(c,d){const h=c instanceof Cg;if(!this._injector.get(Vr).done){!h&&Dr(c);throw new le(405,Ol)}let y;y=h?c:this._injector.get(ya).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const D=function lC(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Nl),A=y.create(ko.NULL,[],d||y.selector,D),R=A.location.nativeElement,U=A.injector.get(Kv,null);return U?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),Zc(this.components,A),U?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Zc(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(oC,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Zc(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Kt(ys),Kt(Nc),Kt(Xh))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Zc(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}function jS(){return!1}let HS=(()=>{class s{}return s.__NG_ELEMENT_ID__=pC,s})();function pC(s){return function Om(s,a,c){if(Yo(s)&&!c){const d=xr(s.index,a);return new ff(d,d)}return 47&s.type?new ff(a[cr],a):null}(Yn(),we(),16==(16&s))}class _C{constructor(){}supports(a){return Kg(a)}create(a){return new yC(a)}}const ZS=(s,a)=>a;class yC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ZS}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const y=!d||c&&c.currentIndex<wC(d,h,g)?c:d,D=wC(y,h,g),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{g||(g=[]);const A=D-h,R=T-h;if(A!=R){for(let Z=0;Z<A;Z++){const oe=Z<g.length?g[Z]:g[Z]=0,ve=oe+Z;R<=ve&&ve<A&&(g[Z]=oe+1)}g[y.previousIndex]=R-A}}D!==T&&a(y,D,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Kg(a))throw new le(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)g=a[D],y=this._trackByFn(D,g),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,g,y,D)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,D),d=!0),c=c._next}else h=0,function Kw(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,D=>{y=this._trackByFn(h,D),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,D,y,h)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new vC(c,d),g,h),a}_verifyReinsertion(a,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new o0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class vC{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bC{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class o0{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new bC,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wC(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class DC{constructor(){}supports(a){return a instanceof Map||Yg(a)}create(){return new KS}}class KS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Yg(a)))throw new le(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new YS(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class YS{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CC(){return new a0([new _C])}let a0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||CC()),deps:[[s,new So,new da]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new le(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:CC}),s})();function IC(){return new l0([new DC])}let l0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||IC()),deps:[[s,new So,new da]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new le(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:IC}),s})();const TC=uC(null,"core",[]);let AC=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Kt(Nm))},s.\u0275mod=ee({type:s}),s.\u0275inj=pn({}),s})();function eM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function a2(s,a){const c=Ct(s),d=a.elementInjector||vg();return new pf(c).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},1321:()=>{"use strict";const Tt=":";class ht extends Error{constructor(K){super(`No translation found for ${qt(K)}.`),this.parsedMessage=K,this.type="MissingTranslationError"}}const Rt=function(te,...K){if(Rt.translate){const re=Rt.translate(te,K);te=re[0],K=re[1]}let ie=Hn(te[0],te.raw[0]);for(let re=1;re<te.length;re++)ie+=K[re-1]+Hn(te[re],te.raw[re]);return ie},Fn=":";function Hn(te,K){return K.charAt(0)===Fn?te.substring(function je(te,K){for(let ie=1,re=1;ie<te.length;ie++,re++)if("\\"===K[re])re++;else if(te[ie]===Tt)return ie;throw new Error(`Unterminated $localize metadata block in "${K}".`)}(te,K)+1):te}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Rt},3942:(Tt,ue,$)=>{"use strict";$.d(ue,{Z:()=>rt});var l=$(2090),x=$(4859),V=$(6881),he=$(1877);class Te{constructor(le,Ne){this._delegate=le,this.firebase=Ne,(0,V._addComponent)(le,new x.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(le,Ne=V._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(le);return!Ge.isInitialized()&&"EXPLICIT"===(null===(me=Ge.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ne})}_removeServiceInstance(le,Ne=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Ne)}_addComponent(le){(0,V._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,V._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function He(){const et=function Me(et){const le={},Ne={__esModule:!0,initializeApp:function Oe($e,se={}){const tt=V.initializeApp($e,se);if((0,l.r3)(le,tt.name))return le[tt.name];const yt=new et(tt,Ne);return le[tt.name]=yt,yt},app:Ge,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function xe($e){const se=$e.name,tt=se.replace("-compat","");if(V._registerComponent($e)&&"PUBLIC"===$e.type){const yt=(Qe=Ge())=>{if("function"!=typeof Qe[tt])throw Pe.create("invalid-app-argument",{appName:se});return Qe[tt]()};void 0!==$e.serviceProps&&(0,l.ZB)(yt,$e.serviceProps),Ne[tt]=yt,et.prototype[tt]=function(...Qe){return this._getService.bind(this,se).apply(this,$e.multipleInstances?Qe:[])}}return"PUBLIC"===$e.type?Ne[tt]:null},removeApp:function me($e){delete le[$e]},useAsService:function Ze($e,se){return"serverAuth"===se?null:se},modularAPIs:V}};function Ge($e){if(!(0,l.r3)(le,$e=$e||V._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:$e});return le[$e]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function De(){return Object.keys(le).map($e=>le[$e])}}),Ge.App=et,Ne}(Te);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function le(Ne){(0,l.ZB)(et,Ne)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),et}(),z=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=W;!function Fe(et){(0,V.registerVersion)("@firebase/app-compat","0.2.9",et)}()},6881:(Tt,ue,$)=>{"use strict";$.r(ue),$.d(ue,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Je,_apps:()=>xt,_clearComponents:()=>gn,_components:()=>Gt,_getProvider:()=>In,_registerComponent:()=>xn,_removeServiceInstance:()=>Sn,deleteApp:()=>Kn,getApp:()=>Es,getApps:()=>Kt,initializeApp:()=>on,onLog:()=>Ln,registerVersion:()=>Wr,setLogLevel:()=>li});var l=$(5861),x=$(4859),V=$(1877),he=$(2090);const Te=(pe,ee)=>ee.some(Be=>pe instanceof Be);let ye,Pe;const W=new WeakMap,z=new WeakMap,Q=new WeakMap,qe=new WeakMap,Fe=new WeakMap;let le={get(pe,ee,Be){if(pe instanceof IDBTransaction){if("done"===ee)return z.get(pe);if("objectStoreNames"===ee)return pe.objectStoreNames||Q.get(pe);if("store"===ee)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Oe(pe[ee])},set:(pe,ee,Be)=>(pe[ee]=Be,!0),has:(pe,ee)=>pe instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in pe};function Ge(pe){return"function"==typeof pe?function me(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...ee){return pe.apply(De(this),ee),Oe(W.get(this))}:function(...ee){return Oe(pe.apply(De(this),ee))}:function(ee,...Be){const Dt=pe.call(De(this),ee,...Be);return Q.set(Dt,ee.sort?ee.sort():[ee]),Oe(Dt)}}(pe):(pe instanceof IDBTransaction&&function et(pe){if(z.has(pe))return;const ee=new Promise((Be,Dt)=>{const Vt=()=>{pe.removeEventListener("complete",nn),pe.removeEventListener("error",Ct),pe.removeEventListener("abort",Ct)},nn=()=>{Be(),Vt()},Ct=()=>{Dt(pe.error||new DOMException("AbortError","AbortError")),Vt()};pe.addEventListener("complete",nn),pe.addEventListener("error",Ct),pe.addEventListener("abort",Ct)});z.set(pe,ee)}(pe),Te(pe,function Me(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,le):pe)}function Oe(pe){if(pe instanceof IDBRequest)return function rt(pe){const ee=new Promise((Be,Dt)=>{const Vt=()=>{pe.removeEventListener("success",nn),pe.removeEventListener("error",Ct)},nn=()=>{Be(Oe(pe.result)),Vt()},Ct=()=>{Dt(pe.error),Vt()};pe.addEventListener("success",nn),pe.addEventListener("error",Ct)});return ee.then(Be=>{Be instanceof IDBCursor&&W.set(Be,pe)}).catch(()=>{}),Fe.set(ee,pe),ee}(pe);if(qe.has(pe))return qe.get(pe);const ee=Ge(pe);return ee!==pe&&(qe.set(pe,ee),Fe.set(ee,pe)),ee}const De=pe=>Fe.get(pe),$e=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],tt=new Map;function yt(pe,ee){if(!(pe instanceof IDBDatabase)||ee in pe||"string"!=typeof ee)return;if(tt.get(ee))return tt.get(ee);const Be=ee.replace(/FromIndex$/,""),Dt=ee!==Be,Vt=se.includes(Be);if(!(Be in(Dt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!$e.includes(Be))return;const nn=function(){var Ct=(0,l.Z)(function*(_n,...un){const Dr=this.transaction(_n,Vt?"readwrite":"readonly");let pr=Dr.store;return Dt&&(pr=pr.index(un.shift())),(yield Promise.all([pr[Be](...un),Vt&&Dr.done]))[0]});return function(un){return Ct.apply(this,arguments)}}();return tt.set(ee,nn),nn}!function Ne(pe){le=pe(le)}(pe=>({...pe,get:(ee,Be,Dt)=>yt(ee,Be)||pe.get(ee,Be,Dt),has:(ee,Be)=>!!yt(ee,Be)||pe.has(ee,Be)}));class Qe{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function tn(pe){return"VERSION"===pe.getComponent()?.type}(Be)){const Dt=Be.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(Be=>Be).join(" ")}}const dt="@firebase/app",_e=new V.Yd("@firebase/app"),zt="[DEFAULT]",Ht={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xt=new Map,Gt=new Map;function pt(pe,ee){try{pe.container.addComponent(ee)}catch(Be){_e.debug(`Component ${ee.name} failed to register with FirebaseApp ${pe.name}`,Be)}}function Je(pe,ee){pe.container.addOrOverwriteComponent(ee)}function xn(pe){const ee=pe.name;if(Gt.has(ee))return _e.debug(`There were multiple attempts to register component ${ee}.`),!1;Gt.set(ee,pe);for(const Be of xt.values())pt(Be,pe);return!0}function In(pe,ee){const Be=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),pe.container.getProvider(ee)}function Sn(pe,ee,Be=zt){In(pe,ee).clearInstance(Be)}function gn(){Gt.clear()}const Rn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zt{constructor(ee,Be,Dt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const ri="9.21.0";function on(pe,ee={}){let Be=pe;"object"!=typeof ee&&(ee={name:ee});const Dt=Object.assign({name:zt,automaticDataCollectionEnabled:!1},ee),Vt=Dt.name;if("string"!=typeof Vt||!Vt)throw Rn.create("bad-app-name",{appName:String(Vt)});if(Be||(Be=(0,he.aH)()),!Be)throw Rn.create("no-options");const nn=xt.get(Vt);if(nn){if((0,he.vZ)(Be,nn.options)&&(0,he.vZ)(Dt,nn.config))return nn;throw Rn.create("duplicate-app",{appName:Vt})}const Ct=new x.H0(Vt);for(const un of Gt.values())Ct.addComponent(un);const _n=new Zt(Be,Dt,Ct);return xt.set(Vt,_n),_n}function Es(pe=zt){const ee=xt.get(pe);if(!ee&&pe===zt)return on();if(!ee)throw Rn.create("no-app",{appName:pe});return ee}function Kt(){return Array.from(xt.values())}function Kn(pe){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(pe){const ee=pe.name;xt.has(ee)&&(xt.delete(ee),yield Promise.all(pe.container.getProviders().map(Be=>Be.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Wr(pe,ee,Be){var Dt;let Vt=null!==(Dt=Ht[pe])&&void 0!==Dt?Dt:pe;Be&&(Vt+=`-${Be}`);const nn=Vt.match(/\s|\//),Ct=ee.match(/\s|\//);if(nn||Ct){const _n=[`Unable to register library "${Vt}" with version "${ee}":`];return nn&&_n.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),nn&&Ct&&_n.push("and"),Ct&&_n.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void _e.warn(_n.join(" "))}xn(new x.wA(`${Vt}-version`,()=>({library:Vt,version:ee}),"VERSION"))}function Ln(pe,ee){if(null!==pe&&"function"!=typeof pe)throw Rn.create("invalid-log-argument");(0,V.Am)(pe,ee)}function li(pe){(0,V.Ub)(pe)}const Ci="firebase-heartbeat-database",ci=1,G="firebase-heartbeat-store";let H=null;function k(){return H||(H=function xe(pe,ee,{blocked:Be,upgrade:Dt,blocking:Vt,terminated:nn}={}){const Ct=indexedDB.open(pe,ee),_n=Oe(Ct);return Dt&&Ct.addEventListener("upgradeneeded",un=>{Dt(Oe(Ct.result),un.oldVersion,un.newVersion,Oe(Ct.transaction),un)}),Be&&Ct.addEventListener("blocked",un=>Be(un.oldVersion,un.newVersion,un)),_n.then(un=>{nn&&un.addEventListener("close",()=>nn()),Vt&&un.addEventListener("versionchange",Dr=>Vt(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),_n}(Ci,ci,{upgrade:(pe,ee)=>{0===ee&&pe.createObjectStore(G)}}).catch(pe=>{throw Rn.create("idb-open",{originalErrorMessage:pe.message})})),H}function O(){return(O=(0,l.Z)(function*(pe){try{return(yield k()).transaction(G).objectStore(G).get(ut(pe))}catch(ee){if(ee instanceof he.ZR)_e.warn(ee.message);else{const Be=Rn.create("idb-get",{originalErrorMessage:ee?.message});_e.warn(Be.message)}}})).apply(this,arguments)}function q(pe,ee){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(pe,ee){try{const Dt=(yield k()).transaction(G,"readwrite");return yield Dt.objectStore(G).put(ee,ut(pe)),Dt.done}catch(Be){if(Be instanceof he.ZR)_e.warn(Be.message);else{const Dt=Rn.create("idb-set",{originalErrorMessage:Be?.message});_e.warn(Dt.message)}}})).apply(this,arguments)}function ut(pe){return`${pe.name}!${pe.options.appId}`}class Yt{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new jt(Be),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var ee=this;return(0,l.Z)(function*(){const Dt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Ft();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!ee._heartbeatsCache.heartbeats.some(nn=>nn.date===Vt))return ee._heartbeatsCache.heartbeats.push({date:Vt,agent:Dt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(nn=>{const Ct=new Date(nn.date).valueOf();return Date.now()-Ct<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,l.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Be=Ft(),{heartbeatsToSend:Dt,unsentEntries:Vt}=function Pn(pe,ee=1024){const Be=[];let Dt=pe.slice();for(const Vt of pe){const nn=Be.find(Ct=>Ct.agent===Vt.agent);if(nn){if(nn.dates.push(Vt.date),nr(Be)>ee){nn.dates.pop();break}}else if(Be.push({agent:Vt.agent,dates:[Vt.date]}),nr(Be)>ee){Be.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:Dt}}(ee._heartbeatsCache.heartbeats),nn=(0,he.L)(JSON.stringify({version:2,heartbeats:Dt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Be,Vt.length>0?(ee._heartbeatsCache.heartbeats=Vt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),nn})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,l.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function L(pe){return O.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Be=this;return(0,l.Z)(function*(){var Dt;if(yield Be._canUseIndexedDBPromise){const nn=yield Be.read();return q(Be.app,{lastSentHeartbeatDate:null!==(Dt=ee.lastSentHeartbeatDate)&&void 0!==Dt?Dt:nn.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Be=this;return(0,l.Z)(function*(){var Dt;if(yield Be._canUseIndexedDBPromise){const nn=yield Be.read();return q(Be.app,{lastSentHeartbeatDate:null!==(Dt=ee.lastSentHeartbeatDate)&&void 0!==Dt?Dt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...ee.heartbeats]})}})()}}function nr(pe){return(0,he.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function Ts(pe){xn(new x.wA("platform-logger",ee=>new Qe(ee),"PRIVATE")),xn(new x.wA("heartbeat",ee=>new Yt(ee),"PRIVATE")),Wr(dt,"0.9.9",pe),Wr(dt,"0.9.9","esm2017"),Wr("fire-js","")}("")},4859:(Tt,ue,$)=>{"use strict";$.d(ue,{H0:()=>Me,wA:()=>V});var l=$(5861),x=$(2090);class V{constructor(W,z,Q){this.name=W,this.instanceFactory=z,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const he="[DEFAULT]";class Te{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const Q=new x.BH;if(this.instancesDeferred.set(z,Q),this.isInitialized(z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:z});qe&&Q.resolve(qe)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const Q=this.normalizeInstanceIdentifier(W?.identifier),qe=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Fe){if(qe)return null;throw Fe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Pe(He){return"EAGER"===He.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[z,Q]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(z);try{const Fe=this.getOrInitializeService({instanceIdentifier:qe});Q.resolve(Fe)}catch{}}}}clearInstance(W=he){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...z.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=he){return this.instances.has(W)}getOptions(W=he){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Q,options:z});for(const[Fe,rt]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Fe)&&rt.resolve(qe);return qe}onInit(W,z){var Q;const qe=this.normalizeInstanceIdentifier(z),Fe=null!==(Q=this.onInitCallbacks.get(qe))&&void 0!==Q?Q:new Set;Fe.add(W),this.onInitCallbacks.set(qe,Fe);const rt=this.instances.get(qe);return rt&&W(rt,qe),()=>{Fe.delete(W)}}invokeOnInitCallbacks(W,z){const Q=this.onInitCallbacks.get(z);if(Q)for(const qe of Q)try{qe(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(He=W,He===he?void 0:He),options:z}),this.instances.set(W,Q),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var He;return Q||null}normalizeInstanceIdentifier(W=he){return this.component?this.component.multipleInstances?W:he:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new Te(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(Tt,ue,$)=>{"use strict";$.d(ue,{Am:()=>He,Ub:()=>Me,Yd:()=>Pe,in:()=>x});const l=[];var x=(()=>{return(W=x||(x={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",x;var W})();const V={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},he=x.INFO,Te={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},ye=(W,z,...Q)=>{if(z<W.logLevel)return;const qe=(new Date).toISOString(),Fe=Te[z];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Fe](`[${qe}]  ${W.name}:`,...Q)};class Pe{constructor(z){this.name=z,this._logLevel=he,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in x))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?V[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...z),this._logHandler(this,x.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...z),this._logHandler(this,x.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,x.INFO,...z),this._logHandler(this,x.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,x.WARN,...z),this._logHandler(this,x.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...z),this._logHandler(this,x.ERROR,...z)}}function Me(W){l.forEach(z=>{z.setLogLevel(W)})}function He(W,z){for(const Q of l){let qe=null;z&&z.level&&(qe=V[z.level]),Q.userLogHandler=null===W?null:(Fe,rt,...et)=>{const le=et.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");rt>=(qe??Fe.logLevel)&&W({level:x[rt].toLowerCase(),message:le,args:et,type:Fe.name})}}}},9260:(Tt,ue,$)=>{"use strict";$.d(ue,{Z:()=>l.Z});var l=$(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(Tt,ue,$)=>{"use strict";$.r(ue);var l=$(5861),x=$(3942),V=$(8502),he=$(2090),Pe=($(6881),$(1877),$(4859));function Me(){return window}const He=2e3;function z(){return z=(0,l.Z)(function*(k,L,O){var q;const{BuildInfo:Ce}=Me();(0,V.as)(L.sessionId,"AuthEvent did not contain a session ID");const ut=yield function Ne(k){return me.apply(this,arguments)}(L.sessionId),Pt={};return(0,V.at)()?Pt.ibi=Ce.packageName:(0,V.au)()?Pt.apn=Ce.packageName:(0,V.av)(k,"operation-not-supported-in-this-environment"),Ce.displayName&&(Pt.appDisplayName=Ce.displayName),Pt.sessionId=ut,(0,V.aw)(k,O,L.type,void 0,null!==(q=L.eventId)&&void 0!==q?q:void 0,Pt)}),z.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(k){const{BuildInfo:L}=Me(),O={};(0,V.at)()?O.iosBundleId=L.packageName:(0,V.au)()?O.androidPackageName=L.packageName:(0,V.av)(k,"operation-not-supported-in-this-environment"),yield(0,V.ax)(k,O)})).apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(k,L,O){const{cordova:q}=Me();let Ce=()=>{};try{yield new Promise((ut,Pt)=>{let Ot=null;function Yt(){var jt;ut();const nr=null===(jt=q.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof nr&&nr(),"function"==typeof O?.close&&O.close()}function Ft(){Ot||(Ot=window.setTimeout(()=>{Pt((0,V.az)(k,"redirect-cancelled-by-user"))},He))}function Pn(){"visible"===document?.visibilityState&&Ft()}L.addPassiveListener(Yt),document.addEventListener("resume",Ft,!1),(0,V.au)()&&document.addEventListener("visibilitychange",Pn,!1),Ce=()=>{L.removePassiveListener(Yt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Pn,!1),Ot&&window.clearTimeout(Ot)}})}finally{Ce()}})).apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(k){const L=function Ge(k){if((0,V.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const L=new ArrayBuffer(k.length),O=new Uint8Array(L);for(let q=0;q<k.length;q++)O[q]=k.charCodeAt(q);return O}(k),O=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(O)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Oe=20;class De extends V.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function $e(k){return se.apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(k){const L=yield Qe()._get(tn(k));return L&&(yield Qe()._remove(tn(k))),L})).apply(this,arguments)}function yt(){const k=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Oe;O++){const q=Math.floor(Math.random()*L.length);k.push(L.charAt(q))}return k.join("")}function Qe(){return(0,V.aC)(V.b)}function tn(k){return(0,V.aD)("authEvent",k.config.apiKey,k.name)}function _e(k){if(!k?.includes("?"))return{};const[L,...O]=k.split("?");return(0,he.zd)(O.join("?"))}const Ke=class Se{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(L){var O=this;return(0,l.Z)(function*(){const q=L._key();let Ce=O.eventManagers.get(q);return Ce||(Ce=new De(L),O.eventManagers.set(q,Ce),O.attachCallbackListeners(L,Ce)),Ce})()}_openPopup(L){(0,V.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,O,q,Ce){var ut=this;return(0,l.Z)(function*(){!function le(k){var L,O,q,Ce,ut,Pt,Ot,Yt,Ft,Pn;const jt=Me();(0,V.aA)("function"==typeof(null===(L=jt?.universalLinks)||void 0===L?void 0:L.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aA)(typeof(null===(O=jt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aA)("function"==typeof(null===(ut=null===(Ce=null===(q=jt?.cordova)||void 0===q?void 0:q.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===ut?void 0:ut.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(Yt=null===(Ot=null===(Pt=jt?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===Yt?void 0:Yt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(Pn=null===(Ft=jt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Pn?void 0:Pn.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Pt=yield ut._initialize(L);yield Pt.initialized(),Pt.resetRedirect(),(0,V.aG)(),yield ut._originValidation(L);const Ot=function xe(k,L,O=null){return{type:L,eventId:O,urlResponse:null,sessionId:yt(),postBody:null,tenantId:k.tenantId,error:(0,V.az)(k,"no-auth-event")}}(L,q,Ce);yield function Ze(k,L){return Qe()._set(tn(k),L)}(L,Ot);const Yt=yield function W(k,L,O){return z.apply(this,arguments)}(L,Ot,O),Ft=yield function Fe(k){const{cordova:L}=Me();return new Promise(O=>{L.plugins.browsertab.isAvailable(q=>{let Ce=null;q?L.plugins.browsertab.openUrl(k):Ce=L.InAppBrowser.open(k,(0,V.ay)()?"_blank":"_system","location=yes"),O(Ce)})})}(Yt);return function rt(k,L,O){return et.apply(this,arguments)}(L,Pt,Ft)})()}_isIframeWebStorageSupported(L,O){throw new Error("Method not implemented.")}_originValidation(L){const O=L._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Q(k){return qe.apply(this,arguments)}(L)),this.originValidationPromises[O]}attachCallbackListeners(L,O){const{universalLinks:q,handleOpenURL:Ce,BuildInfo:ut}=Me(),Pt=setTimeout((0,l.Z)(function*(){yield $e(L),O.onEvent(je())}),500),Ot=function(){var Pn=(0,l.Z)(function*(jt){clearTimeout(Pt);const nr=yield $e(L);let Ts=null;nr&&jt?.url&&(Ts=function tt(k,L){var O,q;const Ce=function ge(k){const L=_e(k),O=L.link?decodeURIComponent(L.link):void 0,q=_e(O).link,Ce=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return _e(Ce).link||Ce||q||O||k}(L);if(Ce.includes("/__/auth/callback")){const ut=_e(Ce),Pt=ut.firebaseError?function dt(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,Ot=null===(q=null===(O=Pt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===q?void 0:q[1],Yt=Ot?(0,V.az)(Ot):null;return Yt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:Ce,postBody:null}}return null}(nr,jt.url)),O.onEvent(Ts||je())});return function(nr){return Pn.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,Ot);const Yt=Ce,Ft=`${ut.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var Pn=(0,l.Z)(function*(jt){if(jt.toLowerCase().startsWith(Ft)&&Ot({url:jt}),"function"==typeof Yt)try{Yt(jt)}catch(nr){console.error(nr)}});return function(jt){return Pn.apply(this,arguments)}}()}};function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.az)("no-auth-event")}}const vt=1e3;function kt(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function qt(k=(0,he.z$)()){return!("file:"!==kt()&&"ionic:"!==kt()&&"capacitor:"!==kt()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rt(){try{const k=self.localStorage,L=V.aL();if(k)return k.setItem(L,"1"),k.removeItem(L),!function jn(k=(0,he.z$)()){return function On(){return(0,he.w1)()&&11===document?.documentMode}()||function wr(k=(0,he.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,he.hl)()}catch{return Fn()&&(0,he.hl)()}return!1}function Fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hn(){return(function gt(){return"http:"===kt()||"https:"===kt()}()||(0,he.ru)()||qt())&&!function pn(){return(0,he.b$)()||(0,he.UG)()}()&&Rt()&&!Fn()}function te(){return qt()&&typeof document<"u"}function ie(){return(ie=(0,l.Z)(function*(){return!!te()&&new Promise(k=>{const L=setTimeout(()=>{k(!1)},vt);document.addEventListener("deviceready",()=>{clearTimeout(L),k(!0)})})})).apply(this,arguments)}const Le={LOCAL:"local",NONE:"none",SESSION:"session"},Ye=V.aA,sn="persistence";function Ht(k){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(k){yield k._initializationPromise;const L=pt(),O=V.aD(sn,k.config.apiKey,k.name);L&&L.setItem(O,k._getPersistence())})).apply(this,arguments)}function pt(){var k;try{return(null===(k=function re(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Je=V.aA;class xn{constructor(){this.browserResolver=V.aC(V.k),this.cordovaResolver=V.aC(Ke),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(L){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,O,q,Ce){var ut=this;return(0,l.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(L,O,q,Ce)})()}_openRedirect(L,O,q,Ce){var ut=this;return(0,l.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(L,O,q,Ce)})()}_isIframeWebStorageSupported(L,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,O)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return te()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const O=yield function K(){return ie.apply(this,arguments)}();L.underlyingResolver=O?L.cordovaResolver:L.browserResolver})()}}function In(k){return k.unwrap()}function gn(k){return Rn(k)}function Rn(k){const{_tokenResponse:L}=k instanceof he.ZR?k.customData:k;if(!L)return null;if(!(k instanceof he.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return V.P.credentialFromResult(k);const O=L.providerId;if(!O||O===V.p.PASSWORD)return null;let q;switch(O){case V.p.GOOGLE:q=V.V;break;case V.p.FACEBOOK:q=V.U;break;case V.p.GITHUB:q=V.W;break;case V.p.TWITTER:q=V.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:ut,oauthTokenSecret:Pt,pendingToken:Ot,nonce:Yt}=L;return ut||Pt||Ce||Ot?Ot?O.startsWith("saml.")?V.aO._create(O,Ot):V.L._fromParams({providerId:O,signInMethod:O,pendingToken:Ot,idToken:Ce,accessToken:ut}):new V.X(O).credential({idToken:Ce,accessToken:ut,rawNonce:Yt}):null}return k instanceof he.ZR?q.credentialFromError(k):q.credentialFromResult(k)}function Zt(k,L){return L.catch(O=>{throw O instanceof he.ZR&&function Gn(k,L){var O;const q=null===(O=L.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Es(k,V.aq(k,L));else if(q){const Ce=Rn(L),ut=L;Ce&&(ut.credential=Ce,ut.tenantId=q.tenantId||void 0,ut.email=q.email||void 0,ut.phoneNumber=q.phoneNumber||void 0)}}(k,O),O}).then(O=>{const Ce=O.user;return{operationType:O.operationType,credential:gn(O),additionalUserInfo:V.ao(O),user:Kt.getOrCreate(Ce)}})}function ri(k,L){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(k,L){const O=yield L;return{verificationId:O.verificationId,confirm:q=>Zt(k,O.confirm(q))}})).apply(this,arguments)}class Es{constructor(L,O){this.resolver=O,this.auth=function Sn(k){return k.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Zt(In(this.auth),this.resolver.resolveSignIn(L))}}class Kt{constructor(L){this._delegate=L,this.multiFactor=V.ar(L)}static getOrCreate(L){return Kt.USER_MAP.has(L)||Kt.USER_MAP.set(L,new Kt(L)),Kt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var O=this;return(0,l.Z)(function*(){return Zt(O.auth,V.a0(O._delegate,L))})()}linkWithPhoneNumber(L,O){var q=this;return(0,l.Z)(function*(){return ri(q.auth,V.l(q._delegate,L,O))})()}linkWithPopup(L){var O=this;return(0,l.Z)(function*(){return Zt(O.auth,V.d(O._delegate,L,xn))})()}linkWithRedirect(L){var O=this;return(0,l.Z)(function*(){return yield Ht(V.aH(O.auth)),V.g(O._delegate,L,xn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var O=this;return(0,l.Z)(function*(){return Zt(O.auth,V.a1(O._delegate,L))})()}reauthenticateWithPhoneNumber(L,O){return ri(this.auth,V.r(this._delegate,L,O))}reauthenticateWithPopup(L){return Zt(this.auth,V.e(this._delegate,L,xn))}reauthenticateWithRedirect(L){var O=this;return(0,l.Z)(function*(){return yield Ht(V.aH(O.auth)),V.h(O._delegate,L,xn)})()}sendEmailVerification(L){return V.ae(this._delegate,L)}unlink(L){var O=this;return(0,l.Z)(function*(){return yield V.an(O._delegate,L),O})()}updateEmail(L){return V.aj(this._delegate,L)}updatePassword(L){return V.ak(this._delegate,L)}updatePhoneNumber(L){return V.u(this._delegate,L)}updateProfile(L){return V.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,O){return V.af(this._delegate,L,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kt.USER_MAP=new WeakMap;const Kn=V.aA;let tr=(()=>{class k{constructor(O,q){if(this.app=O,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=O.options;Kn(Ce,"invalid-api-key",{appName:O.name}),Kn(Ce,"invalid-api-key",{appName:O.name});const ut=typeof window<"u"?xn:void 0;this._delegate=q.initialize({options:{persistence:Ln(Ce,O.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(V.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,q){V.I(this._delegate,O,q)}applyActionCode(O){return V.a5(this._delegate,O)}checkActionCode(O){return V.a6(this._delegate,O)}confirmPasswordReset(O,q){return V.a4(this._delegate,O,q)}createUserWithEmailAndPassword(O,q){var Ce=this;return(0,l.Z)(function*(){return Zt(Ce._delegate,V.a8(Ce._delegate,O,q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return V.ad(this._delegate,O)}isSignInWithEmailLink(O){return V.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){Kn(Hn(),O._delegate,"operation-not-supported-in-this-environment");const q=yield V.j(O._delegate,xn);return q?Zt(O._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ht(k,L){(0,V.aH)(k)._logFramework(L)}(this._delegate,O)}onAuthStateChanged(O,q,Ce){const{next:ut,error:Pt,complete:Ot}=Wr(O,q,Ce);return this._delegate.onAuthStateChanged(ut,Pt,Ot)}onIdTokenChanged(O,q,Ce){const{next:ut,error:Pt,complete:Ot}=Wr(O,q,Ce);return this._delegate.onIdTokenChanged(ut,Pt,Ot)}sendSignInLinkToEmail(O,q){return V.aa(this._delegate,O,q)}sendPasswordResetEmail(O,q){return V.a3(this._delegate,O,q||void 0)}setPersistence(O){var q=this;return(0,l.Z)(function*(){let Ce;switch(function zt(k,L){Ye(Object.values(Le).includes(L),k,"invalid-persistence-type"),(0,he.b$)()?Ye(L!==Le.SESSION,k,"unsupported-persistence-type"):(0,he.UG)()?Ye(L===Le.NONE,k,"unsupported-persistence-type"):Fn()?Ye(L===Le.NONE||L===Le.LOCAL&&(0,he.hl)(),k,"unsupported-persistence-type"):Ye(L===Le.NONE||Rt(),k,"unsupported-persistence-type")}(q._delegate,O),O){case Le.SESSION:Ce=V.a;break;case Le.LOCAL:Ce=(yield V.aC(V.i)._isAvailable())?V.i:V.b;break;case Le.NONE:Ce=V.N;break;default:return V.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Zt(this._delegate,V._(this._delegate))}signInWithCredential(O){return Zt(this._delegate,V.$(this._delegate,O))}signInWithCustomToken(O){return Zt(this._delegate,V.a2(this._delegate,O))}signInWithEmailAndPassword(O,q){return Zt(this._delegate,V.a9(this._delegate,O,q))}signInWithEmailLink(O,q){return Zt(this._delegate,V.ac(this._delegate,O,q))}signInWithPhoneNumber(O,q){return ri(this._delegate,V.s(this._delegate,O,q))}signInWithPopup(O){var q=this;return(0,l.Z)(function*(){return Kn(Hn(),q._delegate,"operation-not-supported-in-this-environment"),Zt(q._delegate,V.c(q._delegate,O,xn))})()}signInWithRedirect(O){var q=this;return(0,l.Z)(function*(){return Kn(Hn(),q._delegate,"operation-not-supported-in-this-environment"),yield Ht(q._delegate),V.f(q._delegate,O,xn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return V.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Le,k})();function Wr(k,L,O){let q=k;"function"!=typeof k&&({next:q,error:L,complete:O}=k);const Ce=q;return{next:Pt=>Ce(Pt&&Kt.getOrCreate(Pt)),error:L,complete:O}}function Ln(k,L){const O=function Gt(k,L){const O=pt();if(!O)return[];const q=V.aD(sn,k,L);switch(O.getItem(q)){case Le.NONE:return[V.N];case Le.LOCAL:return[V.i,V.a];case Le.SESSION:return[V.a];default:return[]}}(k,L);if(typeof self<"u"&&!O.includes(V.i)&&O.push(V.i),typeof window<"u")for(const q of[V.b,V.a])O.includes(q)||O.push(q);return O.includes(V.N)||O.push(V.N),O}class li{constructor(){this.providerId="phone",this._delegate=new V.P(In(x.Z.auth()))}static credential(L,O){return V.P.credential(L,O)}verifyPhoneNumber(L,O){return this._delegate.verifyPhoneNumber(L,O)}unwrap(){return this._delegate}}li.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,li.PROVIDER_ID=V.P.PROVIDER_ID;const Ci=V.aA;class ci{constructor(L,O,q=x.Z.app()){var Ce;Ci(null===(Ce=q.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new V.R(L,O,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(k){k.INTERNAL.registerComponent(new Pe.wA("auth-compat",L=>{const O=L.getProvider("app-compat").getImmediate(),q=L.getProvider("auth");return new tr(O,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.Q,FacebookAuthProvider:V.U,GithubAuthProvider:V.W,GoogleAuthProvider:V.V,OAuthProvider:V.X,SAMLAuthProvider:V.Y,PhoneAuthProvider:li,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:ci,TwitterAuthProvider:V.Z,Auth:tr,AuthCredential:V.J,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.1")}(x.Z)},5861:(Tt,ue,$)=>{"use strict";function l(V,he,Te,ye,Pe,Me,He){try{var W=V[Me](He),z=W.value}catch(Q){return void Te(Q)}W.done?he(z):Promise.resolve(z).then(ye,Pe)}function x(V){return function(){var he=this,Te=arguments;return new Promise(function(ye,Pe){var Me=V.apply(he,Te);function He(z){l(Me,ye,Pe,He,W,"next",z)}function W(z){l(Me,ye,Pe,He,W,"throw",z)}He(void 0)})}}$.d(ue,{Z:()=>x})}},Tt=>{var ue=l=>Tt(Tt.s=l);ue(1321),ue(4932)}]);